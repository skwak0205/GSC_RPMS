define("DS/MPFLabHideFromCommunityComponent/LabHideFromCommunityComponent",["DS/MPFView/MPFView","DS/UIKIT/Input/Toggle","DS/MPFShopModel/ShopServiceModel","DS/MPFServices/ObjectService","i18n!DS/MPFLabHideFromCommunityComponent/assets/nls/LabHideFromCommunityComponent"],function(e,i,t,o,s){"use strict";return e.extend({className:"mpf-hide-from-commmunity",domEvents:{change:"onChange"},setup:function(e){o.requiredOfPrototype(e.shopServiceModel,t,"LabHideFromCommunityComponent: options.shopServiceModel must be a ShopServiceModel"),this.shopServiceModel=e.shopServiceModel,this.readOnly=e.readOnly||!1,this.labelText=s.get("hideFromCommunity"),this.checked="EMP"===this.shopServiceModel.get("visibility"),this.toggle=new i({type:"switch",className:"mpf-toggle primary",label:this.labelText,disabled:this.readOnly,required:this.required,checked:this.checked})},render:function(){return this.checked="EMP"===this.shopServiceModel.get("visibility"),this.toggle.setCheck(this.checked),this.container.setContent(this.toggle),this},destroy:function(){this.toggle=null,this.shopServiceModel=null,this._parent(),this.container=null},onChange:function(){this.save()},save:function(){this.shopServiceModel.savePromise("visibility",this.getVisibilityValue(),{patch:!0}).catch(this.render.bind(this))},getVisibilityValue:function(){return this.isChecked()?"EMP":"Community"},isChecked:function(){return this.toggle.isChecked()}})});
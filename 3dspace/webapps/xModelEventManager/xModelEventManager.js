define("DS/xModelEventManager/xModelEventManager",["UWA/Class"],function(t){"use strict";return t.extend({init:function(){if(void 0===this._id){this._id="evtmgr_"+Math.random().toString().split(".")[1],this._subscriptions={},this._channelMap=[];for(var t=0,i=arguments.length;t<i;t++){var n="chnl_"+Math.random().toString().split(".")[1];this._subscriptions[n]=[],arguments[t][this._id]=n,this._channelMap.push(arguments[t])}}},subscribe:function(t,i,n){var s=t[this._id];if((s=s&&this._subscriptions[s]?s:void 0)&&void 0!==i&&"function"==typeof n){var e="string"==typeof i?{event:i}:i;this._subscriptions[s].push(t.subscribe(e,n))}},cleanup:function(){try{if(this._channelMap&&this._channelMap.length>0){for(var t=0,i=this._channelMap.length;t<i;t++){var n=this._channelMap[t][this._id];if(n&&this._subscriptions[n]&&this._subscriptions[n].length>0){var s=this._subscriptions[n],e=arguments&&arguments.length>0?"For: "+arguments[0]:"";console.log("[xModelEventManager: cleanup] "+e+" ChannelId: "+n+" subcriptions token count: "+s.length);for(var h=0,a=s.length;h<a;h++)this._channelMap[t].unsubscribe(s[h]);delete this._channelMap[t][this._id],delete this._subscriptions[n]}else n&&this._subscriptions[n]&&this._subscriptions[n].length<=0&&(delete this._channelMap[t][this._id],delete this._subscriptions[n])}this._channelMap=[]}}catch(t){console.log("[xModelEventManager: cleanup] Exception occured!!!")}},getEvtMgrId:function(){return this._id},getChannelMap:function(){return this._channelMap},getSubscriptionsMap:function(){return this._subscriptions}})});
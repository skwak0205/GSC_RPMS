<?xml version="1.0" encoding="utf-8"?> 
<!-- Copyright 2014 , Dassault Systemes. All rights reserved. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/"> 
	<head>
    	<title></title>
		<link rel="icon" type="image/png" href="assets/icons/16/ENOVIA_WIDGET_Favicon.png"/>
		<!-- Application Metas -->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="author" content="A2N" />
	    <meta name="description" content="widget" />
	     <meta name="autoRefresh" content="0" />
	    
 		<script type="text/javascript" src="./DesignMode/mock.js"></script>

	    <!-- The DS AMD loader -->
		<script type="text/javascript" src="../AmdLoader/AmdLoader.js"></script>
		<script type="text/javascript" src="../WebappsUtils/WebappsUtils.js"></script>
		
		<!-- The UWA Env -->
		<link rel="stylesheet" type="text/css" href="http://uwa.netvibes.com/lib/c/UWA/assets/css/standalone.css" />
		<link rel="stylesheet" type="text/css" href="./LifecycleWidgetDesign.css" />
	    <script type="text/javascript" src="http://uwa.netvibes.com/lib/c/UWA/js/UWA_Standalone_Alone.js"></script>
	            
		<link rel="stylesheet" type="text/css" href="../UIKIT/UIKIT.css" /> 	
	    <script type="text/javascript" src="../UIKIT/UIKIT.js"></script> 
	            
		
		<link href="../egraph/egraph.css" type="text/css" rel="stylesheet"/> 
		<script type="text/javascript" src="../egraph/egraph.js"></script>
		
		<link href="../etree/etree.css" type="text/css" rel="stylesheet"/> 
		<script type="text/javascript" src="../etree/etree.js"></script>
				
		<script type="text/javascript" src="../WebVisualization/WebVisualization.js"></script>
	    <script type="text/javascript" src="../WebUX/WebUX.js"></script>
	    
		<!--override style in HistoryExplorer.css so we get scrollbars  -->
		<body style="overflow:scroll"></body>
		
	    <script type="text/javascript">
	    'use strict';
	    
	    var dependencies = dependencies || [];
	    
		require(
			[
			 'DS/LifecycleWidget/LifecycleWidget',
			 'DS/LifecycleWidget/DesignMode/setup',
		
			  'DS/MessageBus/MessageBus',
			  'DS/UWPClientCode/PublicAPI'
			],
			
			function(LifecycleWidget, setup) {
				
					
					
				var myWidget = {
						
					// -----------------------------------------------------------
					// onLoad
					// -----------------------------------------------------------
					onLoad: function(){
						setup.init();
						
						var options = {droppable:true};
						this.myLifecycleWidget = new LifecycleWidget(widget, widget.body, options);
						this.myLifecycleWidget.inject(widget.body.empty());
						
						setup.onLoaded(this);
					},
					
					// -----------------------------------------------------------
					// onRefresh
					// -----------------------------------------------------------
					onRefresh: function() {
						console.log('onRefresh');
						this.myLifecycleWidget.refresh();
					},
					
				
				};
				try{
				widget.addEvent('onRefresh', myWidget.onRefresh);
				widget.addEvent('onLoad', myWidget.onLoad);
				} catch (error) {
				console.log(error);
				}
					
		});
		
		
    </script>

    
	</head>
	<body>
		<p>Loading...</p>
		
	</body>
</html>

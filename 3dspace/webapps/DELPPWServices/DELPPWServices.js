define("DS/DELPPWServices/AuthoringService",["UWA/Core","DS/Core/Events","DS/DELPPWModelServices/ModelUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWNavigationServices/SwitchDBModeManager"],function(e,t,n,i,o){"use strict";return function(r){var a=[],s=[],c=!1,l="AuthoringService",u=!1,d=function(){!1===n.getNavigateOnDatabase()&&(c=!0),o.setDbMode(!0)};return{onStart:function(n){a.push(r.addExternalListener("createReference",d)),a.push(r.addExternalListener("createInstance",d)),a.push(r.addExternalListener("reparentInstances",d)),a.push(r.addExternalListener("reorder",d)),a.push(r.addExternalListener("replace",d)),a.push(r.addExternalListener("DuplicateAdv",d)),a.push(r.addExternalListener("createLink",d)),a.push(r.addExternalListener("deleteLink",d)),a.push(r.addExternalListener("attachDocument",d)),a.push(r.addExternalListener("editAttribute",d)),a.push(r.addExternalListener("setSequencingMode",d)),a.push(r.addExternalListener("editLinkAttributes",d)),a.push(r.addExternalListener("lifecycleCmd",d)),a.push(r.addExternalListener("assignProduct",d)),a.push(r.addExternalListener("createMfgItemAndScope",d)),a.push(r.addExternalListener("createMfgItemAndResultingProduct",d)),a.push(r.addExternalListener("reconnectScope",d)),a.push(r.addExternalListener("createMfgItemStructure",d)),a.push(r.addExternalListener("updateMfgItemStructure",d)),a.push(r.addExternalListener("RerouteMfgItem",d)),a.push(r.addExternalListener("deleteInstance",d)),a.push(r.addExternalListener("consumeProductOnDragAndDrop",d)),a.push(r.addExternalListener("actionBarReady",function(){o.isDbMode()&&r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:"Authoring",cmdState:!0})})),s.push(t.subscribe({event:"DELPPWCommands/Authoring"},function(e){o.setDbMode(e.state),!0===o.isDbMode()?!1===u&&(!1===c?r.getLogger().info(l,i.getNLSValue("Authoring.disablingIndex")):(c=!1,r.getLogger().info(l,i.getNLSValue("Authoring.disablingIndexOnAuthoring"))),u=!0):!1===o.isDbMode()&&!0===u&&(r.getLogger().info(l,i.getNLSValue("Authoring.enablingIndex")),u=!1),r.getMediator().notify("authoringMode")})),s.push(t.subscribe({event:"SwitchDBManager/ChangeMode"},function(t){e.is(t)&&e.is(t.mode,"string")&&("indexMode"===t.mode?r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:"Authoring",cmdState:!1}):"dbMode"===t.mode&&r.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:"Authoring",cmdState:!0}))})),n()},onStop:function(){var e,n;for(e=0,n=a.length;e<n;e++)r.removeExternalListener(a[e]);for(a=[],e=0,n=s.length;e<n;e++)t.unsubscribe(s[e]);s=[]}}}}),define("DS/DELPPWServices/LoggerService/LogManager",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel/LoggerUtils"],function(e,t,n){"use strict";return function(t){var i,o,r,a,s,c,l,u="LogPanel-Main-Container",d={},g=null,f=-1;return r=function(){var n=o.getComponent("WUXFrameWindowsManager").getFrameWindow(t.getConfig().appContext),r=o.getComponent("Panel"),s=o.getComponent("WUXDockAreaEnum");(g=new r({title:i.getNLSValue("LogPanel.Header"),domId:"ShowLogPanel",position:{my:"top-right",at:"top-right"},immersiveFrame:n.getImmersiveFrame(),resizableFlag:!0})).allowedDockAreas=s.LeftDockArea|s.RightDockArea,g.close=function(){e.is("ShowLogPanel")&&t.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:"ShowLogPanel",cmdState:!1}),a()}},a=function(){e.is(g)&&g.visibleFlag&&s(),e.is(g)&&(g.destroy(),g=void 0),f=-1},s=function(){e.is(g)&&(!0===g.visibleFlag?g.hide():g.show())},l=function(){var t,r,a,s,c,l,m=null;if(e.is(o)&&e.is(g)&&g.visibleFlag&&(d={started:i.getNLSValue("LogPanel.Started"),completed:i.getNLSValue("LogPanel.Completed"),failed:i.getNLSValue("LogPanel.Failed"),timedout:i.getNLSValue("LogPanel.TimedOut")},m=o.getComponent("Element"),(r=n.getSize())!==f))for(f=r,a=Math.min(r,1e3),g.content=new m("div",{class:u}),t=r-1;t>=r-a;t--)l=(c=n.getModel(t)).get("action"),s=i.getNLSValue("LogPanel.LineFormat",{index:c.get("index"),name:c.get("name"),action:d[l],time:c.get("time")}),(c.get("isRunning")?new e.Element("div",{text:s,styles:{fontWeight:"bold"}}):new e.Element("div",{class:"wux-textElement",text:s})).inject(g.content)},c=function(){o=t.getPlugins("UXComponentsPlugin").instance,i=t.getPlugins("ResourcePlugin").instance,e.is(g)?a():(r(),l())},n.setAddCallback(function(e,n,i){t.getMediator().notify("addLog",[e,n,i])}),{addLog:function(){l()},onShowLogPanel:function(){c()}}}}),define("DS/DELPPWServices/Services",["UWA/Class"],function(e){"use strict";var t={EventsService:"DS/DELPPWServices/EventsService",ModelService:"DS/DELPPWServices/ModelService",ConfigService:"DS/DELPPWServices/ConfigService/ConfigService",LandingPageService:"DS/DELPPWServices/LandingPageService/LandingPageService",ExternalService:"DS/DELPPWServices/ExternalService/ExternalService",FilterService:"DS/DELPPWServices/ExternalService/FilterService",LifecycleService:"DS/DELPPWServices/ExternalService/LifecycleService",LoggerService:"DS/DELPPWServices/LoggerService/LoggerService",LayoutService:"DS/DELPPWServices/LayoutService/LayoutService",AuthoringService:"DS/DELPPWServices/AuthoringService",BuildUpService:"DS/DELPPWServices/BuildUpService/BuildUpService"};return e.singleton({getMap:function(){return t}})}),define("DS/DELPPWServices/ConfigService/SecurityContext",["UWA/Core","DS/Core/Events"],function(e,t){"use strict";return function(n,i,o){var r,a,s,c,l,u,d,g=[],f={},m=[],h=[];return r=function(){return widget.getValue("Credentials")},d=function(){var t,n,i=[];return e.is(f)&&f.collabspaces.length>0&&f.collabspaces.forEach(function(e){for(t=0;t<e.couples.length;t++)n=e.couples[t].organization.name,-1===i.indexOf(n)&&i.push(n)}),1===i.length},a=function(){var e,t,n,i,o,r,a,s,c,p,v,S,C=[];S=d(),f.collabspaces.forEach(function(d){for(o=0;o<d.couples.length;o++)s=d.name,a=d.title,c=d.couples[o].organization.name,r=d.couples[o].organization.title,p=d.couples[o].role.name,v=d.couples[o].role.nls,i=l(s,c,p),n=u(a,r,v,S),e={csname:s,label:n,value:i},t={collabSpace:a,organization:r,role:v,value:i},C.push({sc:i,translated:e,title:t})}),C.sort(function(e,t){return e.translated.label.localeCompare(t.translated.label,widget.lang,{numeric:!0})}).forEach(function(e){g.push(e.sc),m.push(e.translated),h.push(e.title)})},s=function(){var t,i,a,s,u;t=r(),e.is(f.preferredcredentials)&&Object.keys(f.preferredcredentials).length>0&&(u=f.preferredcredentials.role.name,s=f.preferredcredentials.organization.name,a=f.preferredcredentials.collabspace.name,i=l(a,s,u)),e.is(t,"string")&&-1!==g.indexOf(t)?c(t):e.is(i)&&-1!==g.indexOf(i)?c(i):(c(g[0]),n.info("ConfigService",o.getNLSValue("SecurityContext.NoPreferredCredentials")+" "+g[0]))},c=function(t){var n=r();e.is(t,"string")&&t!==n&&(widget.setValue("Credentials",t),n=t),e.is(n,"string")&&i.setSecurityContext(n)},l=function(e,t,n){return"ctx::"+n+"."+t+"."+e},u=function(e,t,n,i){return i?e+" ● "+n:e+" ● "+t+" ● "+n},t.subscribe({event:"DELPPXEN/CustomizeSecurityContext"},function(e){c(e)}),{loadSecurityContexts:function(t,n){var o,r,c;r=i.get3DSpaceServiceName(),c=i.getPlatformID({serviceId:r}),o="modeler/pno/person?current=true&select=preferredcredentials&select=collabspaces",e.is(c,"string")&&c.length>0&&"NOT_DEFINED"!==c&&(o=o+"&tenant="+c),i.webServiceRequest({url:o,method:"GET",headers:{Accept:"application/json,text/javascript,*/*","Content-Type":"application/ds-json"},onComplete:function(i){e.is(i)&&i.collabspaces.length>0?(f=i,a(),s(),t()):n()},onFailure:n,onTimeout:n})},getAllSC:function(){return Array.isArray(m)?m:[]},getSCFromPreferences:function(){return r()},getSCTitle:function(e){var t={};return h.forEach(function(n){n.hasOwnProperty("value")&&n.value===e&&(t=n)}),t},updateSC:function(e){c(e)},isChanged:function(){var t=!1,n=i.getSecurityContext();return e.is(n,"string")&&-1===n.indexOf(r())&&(t=!0),t},getUserId:function(){var t=null;return e.is(f.name)&&(t=f.name),t}}}}),define("DS/DELPPWServices/EventsService",["UWA/Core","UWA/Json"],function(e,t){"use strict";return function(n){var i,o=["addReference","addInstance","addConnection","addOccurrece","addLinkedObject","addProductOrPart","addRootNode","hideRootNode","removeRoot","addLog","LoadRecentContent","onRecentContentLoaded","AddMfgItemToMBOMAltSub","ReplaceByAlternate","doReplaceByMfgAlternate","removeReference","removeInstance","removeConnection","changeReference","changeInstance","changeConnection","reorder","createMfgItemStructure","updateMfgItemStructure","editAttribute","reconnectScope","deleteLink","createLink","editLinkAttributes","assignProduct","createMfgItemAndScope","createMfgItemAndResultingProduct","attachDocument","createReference","deleteInstance","replace","lifecycleCmd","objectCreation","objectCreationUIClosed","changeSortIndex","select","reComputeCrossHighlight","updateCrossHighlight","change3DVisibility","activeViewChange","startProgress","stopProgress","widgetLayoutChanged","onNodeExpanded","onNodeCollapsed","LoadIn3DViewer","ReframeIn3DViewer","startModule","stopModule","reset","refreshAll","onRefreshedAll","RefreshCmd","refreshImpacted","endEdit","addToAuxiliaryView","toggleAuxPanel","dockingZoneToggle","SearchAndAddCommand","toggleCmdCheckHeaderState","ActionRemove","blocLayoutResizeEnd","AlternateBL","CapableResourceBL","refreshView","EditAttribute","SetSequencingMode","reparentInstances","reparentBegin","reparentEnd","replaceWhereUsedModule","Hide","HideAll","Relations","DisplayProperties","CreateCapableResourceStructureLink","CreateLink","CreateMultipleLinks","CreateLinkOrInstance","CreateScope","CreatePartialScopeLinkOnHeaderOperation","CreateInstance","InsertCmd","ManageInconsistentLinks","BIEssentialsCmd","DuplicateAdvCmd","Delete","DetachInstance","ToggleGraphView","ManageGraphViewCmdAvailablity","ShowGraphView","ProductFlowCmd","EGraphNodeSelect","Reframe","ReframeOn","ToggleOrientation","ToggleOverview","updateBIStatus","addBIModel","changeBIModel","resetBIModel","BIAltSub","CreateScopeLink","DeleteScopeLink","ReconnectScope","CreatePartialScopeLink","DeletePartialScopeLink","StretchPartialScopeLink","SwitchToFullScopeLink","ReviseAndReconnectScope","ExploreInWebApp","HideIn3D","ShowIn3D","AssignProduct","UnassignProduct","expandAll","collapseAll","LoadRelationsinViews","UserDefExplore","ShowLogPanel","CreateMfgItemStructure","UpdateMfgItemStructure","ShowGroupingDataGridView","Show3DViewerCmd","selectNodes","unSelectNodes","refreshManageCapableResourceView","createResourceUsage","updateResourceUsage","updatePreferredLink","openManagStepOperationPanel","populateMangeStepOpertionsUI","reBuildManageCapableRscUI","AttachDocumentCmd","SearchDocumentCmd","ManageDocumentsCmd","addDocumentConnections","changeDocument","manageDocCmdAvailability","ExportCSVCmd","EditViewPreferencesCmd","searchAndAddInstance","InsertAsCopy","TreeViewPrefModified","LoadRelations","CreateMfgItemAndScope","CreateMfgItemAndLinkAltSubst","ReplaceByLatestRevision","ReplaceByExisting","ReplaceByNewRevision","ReplaceByNewReference","ReplaceWhereUsed","updateRelationsColumn","visibleNodesChanged","Filter3DApplied","RelationsPanelLoaded","nodesUpdatedInAsync","authoringMode","CreateMfgItemAndResultingProduct","updateCfgColumns","updateRelationsUI","DeleteReferenceFromXen","manageCommandsOnGrouping","activateProcurementGrouping","activateFlattenView","BuildUp","createDataCollectRow","editWorkInstruction","editDataCollectRow","deleteDataCollectRow","moveDataCollectRow","LoadDropContent","ResetRootsStore","ShowLandingPage","HideLandingPage","Quantity","DELCreateEngineeringMadeFromItem"],r=n.getMediator(),a=null,s=n.getConfig().resource.eventsMappingPath;return i=function(t,i){var o,r,s,c=e.is(i)?i.sourceModuleId:null,l=[];return e.is(a)?(r=a[t],e.is(r)&&e.is(c)?(s=r[c],e.is(s)&&s.forEach(function(t){o=n.getInstance(t),e.is(o)&&l.push(o)})):l=n.getInstance(),l):l},r.notifyModuleAndBehaviors=function(e,t,a){var s,c,l=t instanceof Array?t:[t],u=i(e,a);try{if(-1===o.indexOf(e))return n.getLogger().debug("EventsService","Event: "+e+", is not in the authorized event list"),!1;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(c=u[s]).isStarted&&(c.behaviors instanceof Array&&c.behaviors.forEach(function(t){r.callHandlers(t.instance,e,l)}),r.callHandlers(c.instance,e,l))}catch(e){n.getLogger().debug("EventsService",e.message)}},{onStart:function(i){require(["text!"+s],function(o){e.is(o)?a=e.is(o,"string")?t.decode(o):o:n.getLogger().debug("Events mapping is not defined."),i()})},onStop:function(){a=null}}}}),define("DS/DELPPWServices/BuildUpService/BuildUpService",["UWA/Core","DS/UIKIT/Mask","DS/ApplicationFrame/CommandsManager","DS/DELPPWModelServices/CollectionUtils","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils"],function(e,t,n,i,o,r){"use strict";return function(a){var s,c,l,u,d,g,f,m,h,p,v,S,C,P,b,L=["DELLmiGeneralOperationReference","DELLmiHeaderOperationReference","DELLmiLoadingOperationReference","DELLmiWorkPlanSystemReference"],w=["DELLmiGeneralOperationInstance","DELLmiHeaderOperationInstance","DELLmiLoadingOperationInstance"],D="type",E="pid",y="V_Name",I="name",A="isAggregatedBy",R="isInstanceOf",M="isinstanceof",x="PLM_ExternalID",O="from",V="to",_="duration",N="isaggregatingby",W="transformationmatrix",B="materialneed",U="productFlowType",k="V_usage",T="V_MaterialNeed",F="DELLmiTimeConstraintCnx",z="ProcessImplementLink",j="ProcessImplementLinkOcc",H="ProductImplementLink",G="ProductImplementLinkOcc",X="DELLmiTimeConstraintScrapped",q="DELLmiTimeConstraintFailed",J="Scrapped",Z="Failed",K="Good",Y="dsmfg/private/V0/invoke/BuildUp/",Q="terminate",$="initBuildUpPath",ee="computeBuildUpSelection",te="build up service",ne={},ie={},oe=!0,re=!1,ae=null,se=null,ce=null,le=null,ue=null,de=null;return s=function e(t,n,o){var r={};r[E]=t.id,r[D]=t.get(D),r[I]=y,r[_]=200,n.push(r),i.instances.where({isInstanceOf:t.id}).forEach(function(e){var t={};t[E]=e.id,t[N]=e.get(A),t[M]=e.get(R),t[I]=e.get(x),t[W]=[1,0,0,0,1,0,0,0,1,0,0,0],o.push(t)}),i.instances.where({isAggregatedBy:t.id}).forEach(function(t){i.references.where({PID:t.get(R)}).forEach(function(t){e(t,n,o)})})},c=function e(t,n,o,r,a){i.instances.where({isAggregatedBy:t.id}).forEach(function(t){i.references.where({PID:t.get(R)}).forEach(function(t){var s,c={};n.push(t.id),s=t.get(D),s=L.indexOf(s)>=0?s.replace("DELLmi","").replace("Reference",""):"AssembleOperation",c[E]=t.id,c[D]=s,c[I]=t.get(y),c[_]=200,o.push(c),i.instances.where({isInstanceOf:t.id}).forEach(function(e){var t={};r.push(e.id),t[E]=e.id,t[N]=e.get(A),t[M]=e.get(R),t[I]=e.get(x),a.push(t)}),e(t,n,o,r,a)})})},l=function(t){var n=[];return i.connections.where({type:F}).forEach(function(o){var r,a,s,c,l,u={},d=!1;if((t.indexOf(o.getAttribute("to"))>-1||t.indexOf(o.getAttribute("from"))>-1)&&(d=!0),!0===d&&(1===i.instances.where({PID:o.getAttribute(O)}).length&&((a=i.instances.where({PID:o.getAttribute(O)},1)).get(A)!==le?1===i.instances.where({isInstanceOf:a.get(A)}).length&&(c=[i.instances.where({isInstanceOf:a.get(A)},1).id,a.id]):c=[a.id]),1===i.instances.where({PID:o.getAttribute(V)}).length&&((r=i.instances.where({PID:o.getAttribute(V)},1)).get(A)!==le?null!==(l=i.instances.where({isInstanceOf:r.get(A)},1))&&(s=[l.id,r.id]):s=[r.id]),w.indexOf(r.get(D))>=0&&w.indexOf(a.get(D))>=0&&t.indexOf(c[c.length-1])>-1&&t.indexOf(s[s.length-1])>-1)){if(u[E]=o.id,u[D]=o.get(D).replace("Product","").replace("Occ","").replace("DELLmi","").replace("Cnx",""),u[O]=c,u[V]=s,u[B]=o.get(T),e.is(o.get(k)))switch(o.get(k)){case X:u[U]=J;break;case q:u[U]=Z;break;default:u[U]=K}n.push(u)}}),i.connections.where({type:z}).forEach(function(t){var i={};le===t.get(O)&&(i[E]=t.id,i[D]="Scope",i[O]=e.is(t.get(O),"array")?t.get(O):[t.get(O)],i[V]=e.is(t.get(V),"array")?t.get(V):[t.get(V)],n.push(i))}),i.connections.where({type:j}).forEach(function(i){var o,r={};o=i.get(O)[i.get(O).length-1],t.indexOf(o)>-1&&(r[E]=i.id,r[D]="ImplementLink",r[O]=e.is(i.get(O),"array")?i.get(O):[i.get(O)],r[V]=e.is(i.get(V),"array")?i.get(V):[i.get(V)],n.push(r))}),n},u=function e(t,n){var o;i.instances.where({isAggregatedBy:t}).forEach(function(t){return(o=i.connections.where({type:G,from:t.id})).length>0?d(o,n):o.forEach(function(t){var o=t.get(V)[t.get(V).length-1],r=i.references.where({PID:o});1===r.length&&e(r.get(R),n)}),n})},d=function(t,n){var o=[];t.forEach(function(t){var r,a,s,c=t.get("to"),l=[],u=function t(n){var r,a=i.instances.where({isAggregatedBy:n},1);o.push(n),e.is(a)&&(r=a.id,o.push(r),t(a.get(R)))};for(r=0;r<c.length;r++)1===(a=i.instances.where({PID:c[r]})).length&&(s=a[0],l.push(s.get(A)),l.push(s.get("PID")),r===c.length-1&&(l.push(s.get(R)),u(s.get(R))));n.push(l)})},f=function(t,n,i){var o={};o.pathsToShow=e.is(t)?t:[],o.pathsToHide=e.is(n)?n:[],o.differenceOperator=!!e.is(i,"boolean")&&i,o.firstSelection=oe,b.exclusiveShow(o),!0===oe&&(oe=!1)},g=function(){b.resetViewer()},m=function(){var t=e.Json.encode({instanceId:ue});o.webServiceRequest({url:Y+Q,method:"POST",data:t,onComplete:function(){a.getLogger().info(te,r.getNLSValue("BuildUp.SessionEnded"))},onFailure:function(){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.SessionEnd"))},onTimeout:function(){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.TimeOut"))}})},p=function(){t.mask(S,r.getNLSValue("BuildUp.Init.Info"))},v=function(){t.unmask(S)},C=function e(t){var n=de.getNodeModel(t,!0);return null!==n._parentNode&&n._parentNode.object?e(n._parentNode._referencePID):n._referencePID},P=function(t,n){var s,c,l,u;if(re){if(de.getSelectedNodes().length>1)return a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.MultiSelection")),null;if(0===t.length&&1===de.getSelectedNodes().length&&(t.push(de.getSelectedNodes()[0].getID()),1===t.length&&t[0]===ie.workplan.pid))return b.unHideAll3D(),null;s=t[t.length-1],l=i.getReferenceModel(s),e.is(l)?(u=!1,i.references.where({type:"VPMReference"}).length>1&&(u=!0),u?L.indexOf(l.get(D))>-1?((ne={version:"1.0",workplan:{pid:ie.workplan.pid,name:ie.workplan.name,scopedItem:ie.workplan.scopedItem,activeOperations:[t],SelectionMode:"Selection"}}).instanceId=ue,c=e.Json.encode(ne),o.webServiceRequest({url:Y+ee,method:"POST",data:c,onComplete:function(t){var o,r,a=[],s=[];o=e.is(t.objectsToAddOrUpdate)?t.objectsToAddOrUpdate:[],r=e.is(t.objectsToHide)?t.objectsToHide:[],o.forEach(function(e){e.objectinstancepath.forEach(function(e){var t=i.connections.where({type:G,from:e});t.length>0&&d(t,a)})}),r.forEach(function(e){e.objectinstancepath.forEach(function(e){var t=i.connections.where({type:G,from:e});t.length>0&&d(t,s)})}),f(a,s,!1),e.is(n)&&n()},onFailure:function(){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Selection"))},onTimeout:function(){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Selection"))}})):a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Unknown")):a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.NoEBOM"))):a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Selection"))}return se},h=function(t){var n,d,f,h,p,S,L,w,D=[],E=[],I=[],A=[],R=[],M=[],x=null,O=[],_=t[t.length-1];try{e.is(b)||(b=a.getPlugins("Viewer3DPlugin").instance),ae=C(_),n=i.getReferenceFromCollection(ae),le=n.id,0===(d=i.findConnections({from:ae,type:z})).length?x=r.getNLSValue("BuildUp.Error.NoConnections"):f=d[0].id.split("|")[2],1===i.connections.where({type:z,from:n.id}).length&&(p=i.connections.where({type:z,from:n.id},1),h=i.references.where({PID:p.get(V)},1)),s(h,D,E),D.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoMBOM")),E.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoMBOM")),c(n,I,R,A,M),R.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoOperations")),M.length<=1&&(x=r.getNLSValue("BuildUp.Error.NoOperations")),S=l(A),(ie={version:"1.0",workplan:{pid:n.id,name:n.get(y),scopedItem:f,manufactureditems:{references:D,instances:E},resources:{references:[],instances:[]},operations:{references:R,instances:M},links:S}}).differenceOperator=!1,1===i.connections.where({type:H,from:ie.workplan.scopedItem}).length?(se=i.connections.where({type:H,from:ie.workplan.scopedItem},1).get(V),1===(w=b.getRoots()).length&&-1!==w.indexOf(se)||b.drop3D([se])):(u(ie.workplan.scopedItem,O),b.cleanAll(),b.drop3D(O,{usePaths:!0}),se=O),null!==x?(ce.toggleState(),a.getLogger().warn(te,x),v()):(L=e.Json.encode(ie),o.webServiceRequest({url:Y+$,method:"POST",data:L,onComplete:function(e){var n=function(){v(),a.getLogger().info(te,r.getNLSValue("BuildUp.Success.Init"))};!0===e.isInit&&(re=!0),ue=e.instanceId,_===ae?n():P(t,n)},onFailure:function(){v(),a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Init")),ce.toggleState()},onTimeout:function(){v(),a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.TimeOut")),ce.toggleState()}}))}catch(e){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Init")),re=!1,oe=!0,ce.toggleState(),g(),m(),v(),console.error(e.stack),console.error(e.message)}},{onStart:function(e){var t,i;a.addExternalListener("BuildUp",function(e){try{if(S=a.getService("LayoutService").getContainer("routings"),de=a.getBehavior("ROUTINGS","WUXNodeModelBehavior"),null===ce&&(ce=n.getCommandCheckHeader("BuildUp",a.getConfig().appContext)),e.state){i=de.getSelectedNodes()[0],t=!0===i.isRoot()?[i.getID()]:i.getAbsolutePath();try{p(),setTimeout(function(){h(t)},100)}catch(e){v()}}else re=!1,oe=!0,ce.disable(),g(),m()}catch(e){a.getLogger().warn(te,r.getNLSValue("BuildUp.Error.Selection"))}}),e()},onStop:function(){},getCurrentRootId:function(){return ae},buildUpSelection:function(e){return P(e)},isBuildUpActivated:function(){return re}}}}),define("DS/DELPPWServices/CommandsService/CommandsService",["UWA/Core","DS/ApplicationFrame/CommandsManager","DS/DELPPWModelServices/ModelUtils","DS/DELPPWModelServices/BehaviorUtil","DS/DELPPWNavigationServices/SwitchDBModeManager"],function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l="CommandsService",u=r.getConfig().resource.commandsAvailabilityPath,d=!1,g=[],f=function(){var i,o,a,s,c=null;if("MFN"===n.getWidgetTrigram()&&!n.isMGALicenseAvailable())for(a in i=r.getConfig().appContext,t.getCommands(i))e.is(a)&&(o=t.getCommand(a,i),e.is(o)&&"InsertCmd"===o.name&&(s=o.getArguments(),"array"===e.typeOf(s)&&s.forEach(function(e){"PPRType"===e.ID&&(c=e.Value)}),"RESOURCE"===c&&o.disable()))};return{onStart:function(t){if(!e.is(u))throw r.getLogger().debug("Commands availability file path have not being provided."),new Error("Commands availability file path have not being provided.");require(["text!"+u],function(i){if(!e.is(i))throw r.getLogger().debug("Commands Availability json is not defined."),new Error("Commands Availability json is not defined.");c=e.is(i,"string")?e.Json.decode(i):i,a=e.is(c.managedCommands,"array")?c.managedCommands:[],s=e.is(c.notOnCloud,"array")?c.notOnCloud:[],n.checkCFGLicenseAvailablePromise().then(function(e){d=e,r.getLogger().debug(l,"CFG license "+(d?"available":"not available"))}).catch(function(e){r.getLogger().debug(l,"ERROR while checking for CFG license: "+e)}),t()})},onStop:function(){},notifyApp:function(e,t){r.getMediator().notify(e,t,{sourceModuleId:l})},toggleModule:function(t,n){var i;e.is(n)&&e.is(n.state)&&(i=n.state?"startModule":"stopModule",r.getMediator().notify(i,{moduleId:t,moduleData:n}))},setCommandState:function(n,i){var o,a=r.getConfig().appContext;e.is(n)?(o=t.getCommand(n,a),e.is(o)||(o=t.getCommandCheckHeader(n,a)),e.is(o)?i?o.enable():o.disable():r.getLogger().debug(l,"disableCommand, unknown command: "+n)):r.getLogger().debug(l,"disableCommand, no command in input !!!")},setEffectivityCmdState:function(t,n){var i=n;!0===i&&(e.is(window)&&e.is(window.cfgCmdWidgetData)&&e.is(window.cfgCmdWidgetData._isDecouplingActivated,"boolean")?!1===window.cfgCmdWidgetData._isDecouplingActivated&&(i=!1):i=!1),this.setCommandState(t,i)},setAllCommandsState:function(t){var n=e.is(t,"string")?this.getCommandsAvailability(t):t,o=e.is(n)&&e.is(n.enabled,"array")?n.enabled:[];a.forEach(function(e){this.setCommandState(e,!1)},this),i.isCloud()&&(o=o.filter(function(e){return s.indexOf(e)<0},this)),0<o.length?o.forEach(function(e){this.setCommandState(e,!0)},this):r.getLogger().debug(l,"enabled param should be an array with some element")},initState:function(){var n;e.is(c)?(n=function(){var n,i,o,a,s=r.getConfig().appContext,c=t.getCommands(s),l=null,u=[];for(n in c)e.is(n)&&(i=t.getCommand(n,s),e.is(i)&&"InsertCmd"===i.name&&(o=i.getArguments(),u.push(n),"array"===e.typeOf(o)&&o.length>0&&(a=o[0],e.is(a)&&e.is(a.ID)&&"ReferenceType"===a.ID&&e.is(a.Value)&&(l=a.Value)),e.is(l)&&(e.is(g[l.split("/")[1]],"array")?g[l.split("/")[1]].push(n):g[l.split("/")[1]]=[n],l=null)));return u}(),a=a.concat(n),c.initial.enabled=c.initial.enabled.concat(n),c.none.enabled=c.none.enabled.concat(n),this.setAllCommandsState(c.initial),this.authoringCmdAvailability(),f()):r.getLogger().debug("Commands Availability json is not defined.")},getSelectedRoots:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a=[];if(e.is(o)){if(e.is(t,"array"))for(n=0;n<t.length;n++)if(e.is(t[n],"array"))for(i=0;i<t[n].length;i++)o.instance.isRoot(t[n][i])&&a.push(t[n][i]);return a}r.getLogger().debug("Roots Plugin is not available.")},getCommandsAvailability:function(t){return t?function(t,n,i){var o;for(void 0===i&&(i=null),n=n.split("."),o=0;o<n.length;o++){if(void 0===t[n[o]])return i;t=t[n[o]]}return e.clone(t)}(c,t):e.clone(c)},getValidChildTypeCommands:function(t){var n,i,o,a,s=[],c=r.getPlugins("DatabasePlugin");if(e.is(c)){if(i=c.instance.getValidChildTypes(t),e.is(i))for(n in g)if(i.indexOf(n)>=0)for(o=g[n],a=0;a<o.length;a++)s.push(o[a]);return s}r.getLogger().debug("Database Plugin is not available to get valid child types.")},manageCommandsAvailability:function(t,i,a,s,c){var u,g,m,h,p,v,S,C,P,b,L,w,D,E=0,y=0,I=0,A=0,R=0,M=0,x=r.getPlugins("DatabasePlugin"),O=r.getPlugins("DicoPlugin"),V=o.isDbMode()||n.getNavigateOnDatabasePreference();x&&O?(x=x.instance,O=O.instance,i=i||[],a=a||[],s=s||[],c=c||[],E=(t=t||[]).length,I=i.length,y=c.length,g=a.length,e.is(a,"array")&&a.forEach(function(t){u=x.getReferenceModel(t),e.is(u)&&("PART"===(L=u.get("PPRTYPE"))||"PRODUCT"===L?I++:"PROCESS"===L?E++:"SYSTEM"===L?A++:"RESOURCE"===L?y++:"OPERATION"===L?R++:"WORKINSTRUCTION"===L&&M++)}),e.is(s,"array")&&s.forEach(function(t){u=x.getReferenceModel(t),e.is(u)&&("SYSTEM"===(L=u.get("PPRTYPE"))?A++:"OPERATION"===L?R++:"WORKINSTRUCTION"===L&&M++)}),h=E+I+A+y+R+M,C=this.getSelectedRoots([t,i,s,c,a]),1>h?this.setAllCommandsState("none"):1===h?(1!==A&&1!==R||(b=this.getCommandsAvailability("one.system"),u=x.getReferenceModel(s[0]),!0!==O.isAKindOf(u,"DELLmiWorkPlanSystemReference")&&!0!==O.isAKindOf(u,"DELLmiQtyControlProcessReference")||b.enabled.push("CreateCapableResourceStructureLink")),1===M&&(b=this.getCommandsAvailability("one.workInstruction")),1===y&&(b=this.getCommandsAvailability("one.resource")),1===E&&(b=this.getCommandsAvailability("one.process")),1===I&&(b=this.getCommandsAvailability("one.product")),e.is(b)&&(v=t[0]||s[0]||c[0]||a[0],p=x.getReferenceModel(v),e.is(p)&&(P=this.getValidChildTypeCommands(p),b.enabled=b.enabled.concat(P),P=this.getInsertAsCommands(p),b.enabled=b.enabled.concat(P)),this.setAllCommandsState(b))):1<h&&(h===I?this.setAllCommandsState("multiple.product"):h===E?this.setAllCommandsState("multiple.process"):h===A+R?this.setAllCommandsState("multiple.system"):h===M?this.setAllCommandsState("multiple.workInstruction"):h===y?this.setAllCommandsState("multiple.resource"):this.setAllCommandsState("multiple.mixed"),C.length!==h&&0!==C.length&&this.setCommandState("Delete",!1)),this.setCommandState("CreateLink",!0),this.setCommandState("CreateInstance",!0),S=C.length>0,w=h>0&&C.length===h&&I<1,this.setCommandState("Hide",S),this.setCommandState("DeleteHdr",w),this.setCommandState("DetachInstance",!S&&I<1&&h>0),this.manageReplaceCommandsAvailablity({isRoot:S,auxiliaryViewLength:a.length,mfgItemsViewLength:t.length,routingsViewLength:s.length}),this.manageDocCmdAvailability(),this.groupingViewCmdAvailability(E,I,g),m=function(){var n,i,o,r,a=!1;if(s.length>0){n=x.getInstance(s[0]),e.is(n)&&(n=n.get("isAggregatedBy"));for(let t=0;t<s.length;t++)if(i=x.getInstance(s[t]),e.is(i)&&(i=i.get("isAggregatedBy")),n!==i){a=!0;break}}else if(t.length>0){o=x.getInstance(t[0]),e.is(o)&&(o=o.get("isAggregatedBy"));for(let n=0;n<t.length;n++)if(r=x.getInstance(t[n]),e.is(r)&&(r=r.get("isAggregatedBy")),o!==r){a=!0;break}}return a},h>0&&(D={isLicenseCFGValid:d,isRoot:S,auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:c.length,selectedItemsCount:h,isAuthoring:V,isCrossLevel:m()},this.manageConfigurationCommands(D)),f(),t.length>0&&(this.manageCommandsAvailabilityForReadOnlyTypes(t),e.is(this.manageAdvDuplicateCmd,"function")&&(D={auxLength:a.length,processViewLength:t.length,routingsViewLength:s.length,resourceViewLength:c.length},this.manageAdvDuplicateCmd(D)))):r.getLogger().debug(l,"Database or Dico  Plugin is not available.")},manageCommandsAvailabilityForReadOnlyTypes:function(t){const n=this,i=this.getCommandsAvailability("disableCommandsForReadOnlyProcessTypes"),o=r.getPlugins("DatabasePlugin"),a=r.getPlugins("DicoPlugin");if(e.is(o)&&e.is(a)){const e=t.map(function(e){return o.instance.getReferenceModel(e)});if(Array.isArray(e)&&e.length>0){let t=new Set;e.forEach(function(e){t.add(e.get("type"))}),a.instance.isReferencesHasReadOnlyType(e)&&i.forEach(function(e){n.setCommandState(e,!1)})}}},manageConfigurationCommands:function(){r.getLogger().debug(l,'"manageConfigurationCommands" is not overridden')},manageReplaceCommandsAvailablity:function(){r.getLogger().debug(l,'"manageReplaceCommandsAvailablity" is not overridden')},manageDocCmdAvailability:function(){var e=[],t=r.getPlugins("SelectionPlugin"),n=r.getPlugins("DocumentPlugin");n&&t?(t.instance.getSelections("CMDS").forEach(function(t){e=e.concat(t)}),1===e.length&&n.instance.hasDocuments(e[0])?this.setCommandState("ManageDocuments",!0):this.setCommandState("ManageDocuments",!1)):r.getLogger().debug("Selection or Document Plugin is not available.")},authoringCmdAvailability:function(){!0===n.getNavigateOnDatabasePreference()?this.setCommandState("Authoring",!1):this.setCommandState("Authoring",!0)},groupingViewCmdAvailability:function(e,t,n){1===e&&0===n&&0===t?this.setCommandState("ShowGroupingDataGridView",!0):this.setCommandState("ShowGroupingDataGridView",!1)},manageGraphViewCmdAvailablity:function(){var t,n,i=this,o=r.getPlugins("TreeViewPlugin"),a=!1;e.is(o)?(t=o.instance.getCurrentView(),Object.keys(t).forEach(function(i){n=t[i],e.is(n.currentView)&&"graphView"===n.currentView&&(a=!0)}),["ToggleOrientation","ToggleOverview","Reframe","ReframeOn"].forEach(function(e){i.setCommandState(e,a)})):r.getLogger().debug("treeView Plugin is not available.")},toggleCmdCheckHeaderState:function(n){var i,o,a,s;n=n||{},e.is(n.cmdName)?(i=n.cmdName,o=n.cmdState,a=null,s=null,a=t.getCommandCheckHeader(i,r.getConfig().appContext),e.is(a)?(s=a.isEnabled(),(s=!("Authoring"===i&&!s))&&(e.is(o,"boolean")?a.setState(o):a.toggleState())):r.getLogger().debug(l,"toggleCmdCheckHeaderState, unknown command: "+i)):r.getLogger().debug("Failed to toggle state : check command name has not been provided")},manageCommandsAvailabilityOnGrouping:function(){var e=this,t=r.getPlugins("TreeViewPlugin");t||r.getLogger().debug("treeView Plugin is not available."),(t=t.instance).isGroupingExist()&&["Refresh","HideAll","Hide"].forEach(function(t){e.setCommandState(t,!1)})},getOneDelmiaAggregationMode:function(){return n.getOneDelmiaAggregationMode()}}}}),define("DS/DELPPWServices/ConfigService/CustoParametersSet",["UWA/Core"],function(e){"use strict";return function(t,n,i,o){var r,a,s;return a=function(t){s=e.is(t)?t:{},e.is(widget.getValue)&&(r=widget.getValue("custoParametersSet"),-1===Object.keys(s).indexOf(r)&&(r="OOTBValue",widget.setValue("custoParametersSet",r)))},{retrieveCustoParametersSetsInfo:function(n,o){var r=e.is(t)?"?custoParameterRegExp="+t:"";i.webServiceRequest({url:"dsmfg/private/V0/invoke/getCustoParametersSetsInfo"+r,method:"GET",onComplete:function(t,i){e.is(t,"array")?(a(t[0]),n([i,t[1]])):(a(t),n([i,t]))},onFailure:o,onTimeout:o})},isChanged:function(){var t=!1;return e.is(widget.getValue)&&r!==widget.getValue("custoParametersSet")&&(r=widget.getValue("custoParametersSet"),t=!0),t},getNames:function(){var e=[{value:"OOTBValue",label:o.getNLSValue("Preferences.CustoParametersSetDefault")}];return Object.keys(s).forEach(function(t){e.push({value:t,label:o.getNLSValue(t)})}),e},getSelectedPID:function(){var t,n="";return e.is(widget)&&e.is(widget.getValue,"function")&&(t=widget.getValue("custoParametersSet"),e.is(t,"string")&&Object.prototype.hasOwnProperty.call(s,t)&&(n=s[t])),n}}}}),define("DS/DELPPWServices/ExternalService/PadCommandProxyUtil",["UWA/Core"],function(e){"use strict";return function(t){var n,i,o,r,a,s="PadCommandProxyUtil",c=t.getLogger();return i=function(n,i){var o=i||{},r=Array.isArray(n)?n:[n],a=!e.is(o.forceDBMode,"boolean")||o.forceDBMode,l=!!e.is(o.silent,"boolean")&&o.silent,u=!!e.is(o.forceExpand,"boolean")&&o.forceExpand,d=t.getPlugins("DatabasePlugin"),g={};e.is(d)?(d=d.instance).fetchRefList(r,{forceDBMode:a,silent:l,queriedForChildren:!1,onComplete:function(n){c.debug(s,"Successfully refreshed reference model: "+n),t.getMediator().notify("changeReference",[n.instancesAndReferences]),e.is(u)&&u&&n.instancesAndReferences.forEach(function(t){d.getDescendantsFromServer(t.id,null,e.merge({silent:l,forceDBMode:a},o))}),t.getMediator().notify("lifecycleCmd",g)},onFailure:function(t){c.debug(s,"Failed to refresh model PIDs: "+r),e.is(t)&&c.debug(s,JSON.stringify(t))}}):t.getLogger().debug(s,"_refreshElement- Database plugin not available")},n=function(n,i){var o=i||{},r=!!e.is(o.forceDBMode,"boolean")&&o.forceDBMode,a=!e.is(o.silent,"boolean")||o.silent,l=!!e.is(o.loadRootOnly,"boolean")&&o.loadRootOnly,u={forceDBMode:r,silent:a,onComplete:function(e){c.debug(s,"Successfully fetched reference: "+e.id),t.getMediator().notify("addReference",[e,null,{withLinksResolved:!0,forceDBMode:r,loadRootOnly:l}])},onFailure:function(t){c.debug(s,"_addReference: Failed to fetch Reference for PID: "+n),e.is(t)&&c.debug(s,JSON.stringify(t))}},d=t.getPlugins("DatabasePlugin");e.is(d)?(d=d.instance,e.is(n)?d.fetchRoot(n,u):t.getLogger().debug(s,"_addReference- Input PID is not defined")):t.getLogger().debug(s,"_addReference- Database plugin not available")},o=function(t,i){var o=i||{};c.debug(s,"Refresh Created: %o",t),o=e.merge({forceDBMode:!0},o),e.is(t,"array")&&t.forEach(function(t){var i=t||{},r=e.is(i.physicalid,"string")&&i.physicalid.length>0?i.physicalid:null;e.is(r)&&n(r,o)})},r=function(n,i){var o=[],r=[],a=[],l={silent:!0},u=t.getPlugins("DatabasePlugin");e.is(u)?(u=u.instance,c.debug(s,"Refresh Deleted: %o"+n),e.is(n,"array")&&(n.forEach(function(n){var i=n||{},c=[],l=null,d=e.is(i.physicalid,"string")&&i.physicalid.length>0?i.physicalid:null;e.is(d)?(l=u.getReferenceModel(d),e.is(l)&&(o.push(l),u.getAllChildrenFromCollection(d).instancesPID.forEach(function(e){var t=u.getInstance(e),n=u.getImpacted(e,!1,{onlyInstanceRelations:!0});r.push(t),a=a.concat(n)}),c=u.getImpacted(d,!1),a=a.concat(c))):t.getLogger().debug(s,"_refreshDeleted- Invalid PID")}),u.removeReference(o,l),t.getMediator().notify("removeReference",[o]),r.length>0&&(u.removeInstance(r,l),t.getMediator().notify("removeInstance",[r])),a.length>0&&(u.removeConnection(a,l),t.getMediator().notify("removeConnection",[a])))):t.getLogger().debug(s,"_refreshDeleted- Database plugin not available.")},a=function(t,n){var o=n||{},r=[];o=e.merge({forceDBMode:!0,silent:!0,forceExpand:!1},o),c.debug(s,"Refresh Modified: %o",t),e.is(t,"array")&&(t.forEach(function(t){var n=t||{},i=e.is(n.physicalid,"string")&&n.physicalid.length>0?n.physicalid:e.is(n,"string")&&n.length>0?n:null;r.push(i)}),i(r,o))},{refreshElementFromEvent:function(t){e.is(t,"array")&&t.forEach(function(t){var n=t||{},o=e.is(n.id,"string")&&n.id.length>0?n.id:null,r=!!e.is(n.forceDBMode,"boolean")&&n.forceDBMode,a=!!e.is(n.forceExpand,"boolean")&&n.forceExpand;e.is(o)&&i(o,{forceDBMode:r,forceExpand:a,silent:!1})})},addReferenceFromEvent:function(t){e.is(t,"array")&&t.forEach(function(t){var i=t||{},o=e.is(i.id,"string")&&i.id.length>0?i.id:null,r=!!e.is(i.forceDBMode,"boolean")&&i.forceDBMode,a=!!e.is(i.loadRootOnly,"boolean")&&i.loadRootOnly;e.is(o)&&n(o,{forceDBMode:r,loadRootOnly:a,silent:!1})})},refreshCreated:function(e,t){o(e,t)},refreshDeleted:function(e,t){r(e)},refreshModified:function(e,t){a(e,t)}}}}),define("DS/DELPPWServices/LoggerService/AlertManager",["UWA/Core","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(e,t,n){"use strict";return function(i){var o;return n.setNotificationManager(t),o=function(){var t=widget.getElements(".app-messages")[0]?widget.getElements(".app-messages")[0]:widget.body;e.is(t)?n.inject(t):i.getLogger().debug("Alert Manager","Alert Container is not defined.")},{displayAlert:function(n){o(),t.addNotif(e.merge({allowUnsafeHTML:!1,sticky:!1},n))}}}}),define("DS/DELPPWServices/LayoutService/DOMNaming",[],function(){"use strict";return{construction:{appContainer:"app-container",appMessages:"app-messages",appProgressInd:"app-ProgressInd",moduleContainer:"module-container",moduleMessages:"module-messages",dropZoneContainer:"drop-zone-container",treeListContainer:"tree-list-container",toolbarContainer:"toolbar-container",graphContainer:"graph-container",grapViewContainer:"graphView-container",progessBarContainer:"progressBar-container",auxiliaryViewContainer:"auxiliaryView-container",actionViewContainer:"actionView-Container",propertiesContainer:"properties-container",groupingPanelContainer:"groupingPanel-container"},classes:{hideBodyView:"hideEBOM",showGraphView:"showGraphView"},selectors:{main:"main.main",mainDrop:"div.dropZone",mbomDrop:"div.mbomDrop",mbomTreeListToolBar:"div.mbomTreeListView.ToolBar",mbomTreeList:"div.mbomTreeListView",mbomGraphToolBar:"div.mbomGraphView.ToolBar",mbomGraph:"div.mbomGraphView",mbomContainer:"div.mbomContainer",bodyContainer:"div.bodyContainer",bodyDrop:"div.bodyDrop",bodyTreeListToolBar:"div.bodyTreeListView.ToolBar",bodyTreeList:"div.bodyTreeListView",bodyGraphToolBar:"div.bodyGraphView.ToolBar",bodyGraph:"div.bodyGraphView"}}}),define("DS/DELPPWServices/ConfigService/Preferences",["UWA/Core"],function(e){"use strict";return function(t,n,i,o,r,a){var s,c,l,u,d=!!e.is(a,"boolean")&&a;return s=function(){var e=i.getAllSC(),t=n.getSecurityContext();widget.addPreference({name:"Credentials",type:d?"hidden":"list",label:r.getNLSValue("Preferences.Credentials"),options:e,defaultValue:t,onchange:"onChangeSC"})},l=function(){var n=widget.getValue("Credentials");e.is(t)&&t.debug("Preferences::onChangeSC, (selCredentials): "+n),widget.dispatchEvent("onEdit")},c=function(){var t=widget.getValue("Credentials");e.is(t)&&widget.addPreference({name:"xPref_CREDENTIAL",type:"hidden",defaultValue:t.replace(/^(ctx::)/,"")})},u=function(t){widget.addPreference({name:"custoParametersSet",type:e.is(t)&&e.is(t.type)?t.type:"hidden",label:r.getNLSValue("Preferences.CustoParametersSet"),options:o.getNames(),defaultValue:widget.getValue("custoParametersSet")})},{populate:function(n){var i,o,a,g,f,m,h,p,v,S,C=function(e){return e.map(function(e){return{value:e.value,label:r.getNLSValue(e.label)}})};if(!n)throw new Error("App config is not defined");if(!(i=n.preferences))throw new Error("preferences is not defined in app config");for(o=0,a=i.length;o<a;o++)if(S=i[o])switch(g=e.result(S,"name"),f=e.result(S,"type"),g){case"Credentials":s();break;case"xPref_CREDENTIAL":c();break;case"custoParametersSet":u(S);break;default:h=e.result(S,"options"),m=r.getNLSValue(e.result(S,"label")),Array.isArray(h)&&(h=C(h)),p=e.result(S,"defaultValue"),v=e.result(S,"onchange"),widget.addPreference({name:g,type:d?"hidden":f,label:m,options:h,defaultValue:p,onchange:v})}widget.addEvent("onChangeSC",l),e.is(t)&&t.debug("Preferences::populate: Preferences has been built.")},updateCredentialsInfoPref:function(){var t=widget.getValue("Credentials"),n=widget.getValue("xPref_CREDENTIAL");e.is(t)&&e.is(n)&&widget.setValue("xPref_CREDENTIAL",t.replace(/^(ctx::)/,""))}}}}),define("DS/DELPPWServices/LandingPageService/LandingPageDnD",["UWA/Core","DS/Utilities/Dom","DS/DELPPWResourceServices/ResourceUtils"],function(e,t,n){"use strict";return function(i){var o,r,a=i.body,s={actual:null,count:0},c=function(e){var n,i=t.firstParentWithClass(e.target,"dropZoneGlobal");return 0===s.count?(r.show(),o.show()):i&&(n=i.querySelector(".dropZone"),s.actual!==n&&(s.actual&&s.actual.classList.remove("zoneHighlighted"),n.classList.add("zoneHighlighted"),s.actual=n)),s.count++,e.stopPropagation(),!1},l=function(e){return t.firstParentWithClass(e.target,"dropZoneGlobal")&&e.preventDefault(),e.stopPropagation(),!1},u=function(e){return s.count--,0===s.count&&(o.hide(),r.hide()),e.target===s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),e.stopPropagation(),!1},d=function(e){return s.count=0,s.actual&&(s.actual.classList.remove("zoneHighlighted"),s.actual=null),o.hide(),r.hide(),e.stopPropagation(),!1},g=function(e){return s.count=0,o.hide(),r.hide(),e.stopPropagation(),e.defaultPrevented||(e.preventDefault(),s&&s.actual?(s.actual.classList.contains("dragAndDrop")&&i.onDrop(e),s.actual.classList.remove("zoneHighlighted"),s.actual=null):t.firstParentWithClass(e.target,"dropZoneGlobal").classList.contains("dragAndDrop")&&i.onDrop(e)),!1};return{init:function(){var t,i,f,m,h;for(s={actual:null,count:0},function(){a&&(a.addEventListener("dragenter",c.bind(this)),a.addEventListener("dragover",l.bind(this)),a.addEventListener("dragleave",u.bind(this)),a.addEventListener("dragend",d.bind(this)),a.addEventListener("drop",g.bind(this)))}(),o=e.createElement("div",{class:"dnd-area"}).inject(a),(r=e.createElement("div",{class:"overlay-area"}).inject(a)).hide(),o.hide(),o.inject(a),t=[{id:"dragAndDrop",icon:"drag-drop",title:n.getNLSValue("LandingPage.DropZone.Title")}],i=0;i<t.length;i++)f=e.createElement("div",{class:"dropZoneGlobal "+t[i].id,draggable:!1}),m=e.createElement("div",{class:"dropZone "+t[i].id,draggable:!1}).inject(f),h=e.createElement("div",{class:"dropIconAndText "+t[i].id}).inject(m),e.createElement("i",{class:"iconImg wux-ui-3ds wux-ui-3ds-4x wux-ui-3ds-"+t[i].icon}).inject(h),e.createElement("h5",{class:"title "+t[i].id,text:t[i].title}).inject(h),f.inject(o)},destroy:function(){!function(){a&&(a.removeEventListener("dragenter",c.bind(this)),a.removeEventListener("dragover",l.bind(this)),a.removeEventListener("dragleave",u.bind(this)),a.removeEventListener("dragend",d.bind(this)),a.removeEventListener("drop",g.bind(this)))}(),o&&(o.destroy(),o=null),r&&(r.destroy(),r=null)}}}}),define("DS/DELPPWServices/LayoutService/BlocLayout",["UWA/Core","UWA/Controls/Abstract"],function(e,t){"use strict";return t.extend({_logger:null,defaultOptions:{className:"blocLayout",minSize:"5px"},init:function(e){if(this._parent(e),this._rowMap={},this._columnMap={},this._rowColumnMap={},this._hiddenColumnsMap={},this._rowIds=[],this._fixedColumnIds=[],this._fixedRowIds=[],!(e=this.options).logger||!e.mediator)throw new Error("logger or mediator option not defined");this._logger=e.logger,this._mediator=e.mediator,e.rows||(e.rows=[{columns:2},{columns:1}]),e.minSize=-1!==e.minSize.indexOf("px")?parseInt(e.minSize.replace("px","")):5,this._buildSkeleton(e.rows)},_buildSkeleton:function(t){var n,i,o,r,a,s=this,c=-1,l=-1,u=function(t){s.hasOwnProperty("_resizingInfo")&&("touchend"===t.type?(s.getContent().removeEvent("touchmove"),t.preventDefault()):s.getContent().removeEvent("mousemove"),delete s._resizingInfo,e.Event.dispatchEvent(s.getContent(),"onBlocLayoutResizeEnd"),s._resizeBottomBloc())};this.elements.container=e.createElement("div",{class:"bl-container"}),t.forEach(function(t,u){if(c++,i=e.createElement("div",{class:"bl-row"}).inject(s.getContent()),o=e.createElement("div",{class:"bl-row-content no-drag-row"}).inject(i),s._rowMap[c]=i,s._rowIds.push(c),u>0&&(s._createHandle(c,null,"bl-drag-row").inject(i,"top"),o.removeClassName("no-drag-row")),t.hasOwnProperty("columns"))for(n=0;n<t.columns;n++)l++,r=e.createElement("div",{class:"bl-column"}).inject(o),a=e.createElement("div",{class:"bl-column-content no-drag-column"}).inject(r),s._columnMap[l]=r,s._rowColumnMap[c]?s._rowColumnMap[c].push(l):s._rowColumnMap[c]=[l],n<t.columns-1&&(s._createHandle(c,l,"bl-drag-column").inject(r,"top"),a.removeClassName("no-drag-column"))}),this._initSize(),this.getContent().addEvent("touchend",u),this.getContent().addEvent("mouseup",u),this.onContainerResized(function(){var e=this,t=this.getContent().getSize();this.setRowsHeight(this._rowIds,t.height,{minSize:0}),this._rowIds.forEach(function(n){var i=e._getColumnIdsInRow(n);e.setColumnsWidthById(i,t.width,{minSize:0})}),e._resizeBottomBloc(),e._mediator.notify("blocLayoutResizeEnd",{data:e.getContent()})})},_resizeBottomBloc:function(){e.is(this._columnMap[2])&&this._columnMap[2].clientHeight&&this._mediator.notify("resizeBottomDock",{data:{height:this._columnMap[2].clientHeight}})},_createHandle:function(t,n,i){var o=this,r=e.createElement("div",{class:i}),a=function(e){o._resizingInfo={rowId:t,columnId:n},"touchstart"===e.type?(o.getContent().addEvent("touchmove",o._onMouseMove.bind(o)),e.preventDefault()):o.getContent().addEvent("mousemove",o._onMouseMove.bind(o))};return r.addEvent("touchstart",a),r.addEvent("mousedown",a),r},_onMouseMove:function(t){var n,i,o,r,a,s=this._resizingInfo;if(s)try{e.is(s.columnId)?(a=this._getRowElem(s.rowId),i=this._getColumnIdsInRow(s.rowId).filter(function(e){return e<=s.columnId}),n="touchmove"===t.type?t.touches[0].pageX-a.getOffsets().x:t.clientX-a.getOffsets().x,this.setColumnsWidthById(i,n,{minSize:this.options.minSize})):(r=this._getRowIds().filter(function(e){return e<s.rowId}),o="touchmove"===t.type?t.touches[0].pageY-this.getContent().getOffsets().y:t.clientY-this.getContent().getOffsets().y,this.setRowsHeight(r,o,{minSize:this.options.minSize}))}catch(t){delete this._resizingInfo}},_initSize:function(){var e=this,t=this._getRowIds();this._setEqualRowsHeight(),t.forEach(function(t){e._setEqualColumnsWidthInRow(t)})},_setEqualRowsHeight:function(){var e=this,t=this._getRowIds();t.forEach(function(n){var i=100/t.length;e._getRowElem(n).setStyle("height",e._toPercent(i))})},_setEqualColumnsWidthInRow:function(e){var t=this,n=this._getColumnIdsInRow(e);n.forEach(function(e){var i=100/n.length;t._getColumnElem(e).setStyle("width",t._toPercent(i))})},_getRowIds:function(){return this._rowIds},_getRowIdFromColumnId:function(e){var t,n;for(n in this._rowColumnMap)if(-1!==this._rowColumnMap[n].indexOf(e)){t=parseInt(n);break}return t},_getColumnId:function(e,t){var n;return this._rowColumnMap.hasOwnProperty(e)&&(n=this._rowColumnMap[e][t]),n},_getColumnIdsInRow:function(e){return this._rowColumnMap[e]},_getFixedColumnIds:function(){return this._fixedColumnIds},_getFixedRowIds:function(){return this._fixedRowIds},_getRowElem:function(e){return this._rowMap[e]},_getColumnElem:function(e){return this._columnMap[e]},getColumnSize:function(e,t){var n=this._getColumnId(e,t);if(isNaN(n))throw"Column number: "+t.toString()+" does not exist";return this._getColumnElem(n).getSize()},getRowSize:function(e){var t=this._getRowElem(e);if(!t)throw"Row number: "+e.toString()+" does not exist";return t.getSize()},_toPx:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"px"),t},_toPercent:function(e){var t;return isNaN(e)||(t=Math.floor(e).toString()+"%"),t},_setElemsSize:function(t,n,i,o,r){var a,s,c,l,u,d,g,f,m,h,p,v,S,C,P,b=this,L=[],w=[],D=0,E=(S={},C=function(e,t){var n=0,i=isNaN(t)?1:t;return e.forEach(function(e){S.hasOwnProperty(e)&&(n+=S[e]*i)}),n},i.forEach(function(e){S[e]=b.getSize(e)}),{get:C,setEqualSize:function(){var e,t=i.length,n=C(i),o=Math.floor(n/t);for(e in S)S.hasOwnProperty(e)&&(S[e]=o)}}),y=(P={},{set:function(e,t){P[e]=t},get:function(e){var t=0;return e.forEach(function(e){P.hasOwnProperty(e)&&(t+=P[e])}),t},getMax:function(){var e,t,n=0;for(e in P)Math.max(n,P[e])===P[e]&&(t=e,n=P[e]);return{id:t,value:n}}});try{if(r&&(r.hasOwnProperty("fixedIds")&&(L=r.fixedIds),r.hasOwnProperty("minSize")&&(D=r.minSize)),n<0)throw"Input error: size";if(o<=0)throw"Input error: container size";if((l=t.filter(function(e){return-1!==L.indexOf(e)||(w.push(e),!1)})).length>0?(a=n-E.get(l),s=w):(a=n,s=t),s.length<1)throw"No element available for resize";if(a<s.length*D)throw"Cannot set size inferior to minSize";if(c=i.filter(function(e){return-1===s.indexOf(e)&&-1===L.indexOf(e)}),g=E.get(L),f=E.get(c),d=E.get(s),a+g+c.length*D>o)throw"Cannot set size superior to container size";if(0===d&&(E.setEqualSize(),d=E.get(s),f=E.get(c)),m=0!==d?a/d:0,h=0!==f?(o-g-a)/f:0,(u=s.concat(c)).forEach(function(t,n){var i,o,c=n<s.length;e.is(r)&&e.is(r.equalSizeColumns)&&r.equalSizeColumns&&c?o=Math.round(a/s.length):(i=c?m:h,o=Math.round(E.get([t],i))),o=o>D?o:D,y.set(t,o)}),(p=y.get(i)+g-o+1)>0){if((v=y.getMax()).value-p<D)throw"Cannot set size inferior to minSize";y.set(v.id,v.value-p)}}catch(e){return void b._logger.debug(e)}u.forEach(function(e){b.setSize(e,y.get([e]))})},maximizeRow:function(e){var t=this.getContent().getSize().height;this.setRowsHeight([e],t)},maximizeColumnInRow:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n)},fitRowColumnsEqually:function(e,t){var n=this._getRowElem(e).getSize().width;t=Array.isArray(t)?t:[t],this.setColumnsWidth(e,t,n,{equalSizeColumns:!0})},unmaximizeRows:function(){this._setEqualRowsHeight()},unmaximizeColumnsInRow:function(e){this._setEqualColumnsWidthInRow(e)},setColumnContent:function(e,t,n){var i;n&&(i=this._getColumnId(e,t),this._getColumnElem(i).getElement(".bl-column-content").setContent(n))},getColumnContent:function(e,t){var n;return n=this._getColumnId(e,t),this._getColumnElem(n).getElement(".bl-column-content")},setColumnsWidth:function(t,n,i,o){var r=this,a=[],s=this._getFixedColumnIds();try{n.forEach(function(e){var n=r._getColumnId(t,e);if(isNaN(n))throw"Column number: "+e.toString()+" does not exist";a.push(n)})}catch(e){return void this._logger.debug(e)}this.setColumnsWidthById(a,i,e.extend(o,{fixedIds:s}))},hideShowColumnById:function(t,n){var i=this._getColumnId(t,n),o={},r=this._hiddenColumnsMap[t];e.is(r)&&r.hasOwnProperty(i)?(o=r[i],this.setColumnsWidth(t,[n],o.prevWidth,{}),this._hiddenColumnsMap[t].pop(n)):(o={prevWidth:this._getColumnElem(i).getSize().width},e.is(r,"array")?this._hiddenColumnsMap[t][i]=o:(this._hiddenColumnsMap[t]=[],this._hiddenColumnsMap[t][i]=o),this.setColumnsWidth(t,[i],0,{}))},setColumnsWidthById:function(t,n,i){var o,r,a,s,c=this,l=this._getFixedColumnIds();try{if(t.length<1)throw"Input array of ids is empty";if(a=this._getRowIdFromColumnId(t[0]),isNaN(a))throw"Invalid column id"}catch(e){return void this._logger.debug(e)}o=this._getRowElem(a).getSize().width,r=this._getColumnIdsInRow(a),s={_logger:c._logger,getSize:function(e){return c._getColumnElem(e).getSize().width},setSize:function(e,t){c._getColumnElem(e).setStyle("width",c._toPx(t))}},this._setElemsSize.call(s,t,n,r,o,e.extend(i,{fixedIds:l}))},setRowsHeight:function(t,n,i){var o,r,a=this,s=this._getFixedRowIds();try{if(t.length<1)throw"Input array of ids is empty"}catch(e){return void this._logger.debug(e)}o=this.getContent().getSize().height,r={_logger:a._logger,getSize:function(e){return a._getRowElem(e).getSize().height},setSize:function(e,t){a._getRowElem(e).setStyle("height",a._toPx(t))}},this._setElemsSize.call(r,t,n,this._getRowIds(),o,e.extend(i,{fixedIds:s}))},addFixedColumns:function(e){var t,n,i=this;e.forEach(function(e){var o=i._getColumnId(e.row,e.column);isNaN(o)?i._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Invalid column"):(i._fixedColumnIds.push(o),t=i._getColumnIdsInRow(e.row),(n=Math.max.apply(null,t)===o&&t.length>1?i._getColumnElem(o-1).getElement(".bl-drag-column"):i._getColumnElem(o).getElement(".bl-drag-column"))&&n.destroy())})},removeFixedColumns:function(e){var t,n,i,o=this;e.forEach(function(e){var r=o._getColumnId(e.row,e.column);isNaN(r)?o._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Invalid column"):-1!==(n=o._fixedColumnIds.indexOf(r))?(o._fixedColumnIds.splice(n,1),t=o._getColumnIdsInRow(e.row),i=Math.max.apply(null,t)===r&&t.length>1?r-1:r,o._createHandle(e.row,i,"bl-drag-column").inject(o._getColumnElem(i),"top")):o._logger.debug("{"+e.row.toString()+", "+e.column.toString()+"}: Column was not fixed")})},onContainerResized:function(e){var t=this;this.getContent().addEvent("resize",function(){e.call(t)})},getRowIds:function(){return this._rowIds},getRowColumnMap:function(){return this._rowColumnMap},getContainerElem:function(){return this.elements.container}})}),define("DS/DELPPWServices/LandingPageService/LandingPage",["UWA/Core","DS/XAppLandingPage/XAppLandingPageCore"],function(e,t){"use strict";return function(n){var i,o={body:n.body?n.body:null,version:n.version?n.version:"V3",appInfo:!!n.appInfo&&n.appInfo,itemsTooltip:!!n.itemsTooltip&&n.itemsTooltip,items:n.items?n.items:[],dragAndDrop:!!n.dragAndDrop&&n.dragAndDrop,appLinks:n.appLinks?n.appLinks:{},nlsJson:n.nlsJson?"i18n!"+n.nlsJson:"",rscJson:n.rscJson?"text!"+n.rscJson:"",nls:n.nls?n.nls:"",rsc:n.rsc?n.rsc:"",onDrop:function(){return null},onDragEnter:function(){return null}};return{init:function(){return new e.Promise(function(e,n){i=new t(o),o.body.inject(widget.body),i.displayHome().then(function(){e()}).catch(function(e){n(e)})})},destroy:function(){i&&(i.clean(),i=null),o.body&&(o.body.destroy(),o.body=null)}}}}),define("DS/DELPPWServices/ExternalService/ExternalServiceUtil",["UWA/Core","DS/PlatformAPI/PlatformAPI"],function(e,t){"use strict";var n,i,o,r=function(t){return{getAllSelections:function(t){var n=[],i=this.getSelectedNodeInfos(t);return e.is(i,"array")&&(n=i.reduce(function(e,t){return e.concat(t)},[])),n},getSelectedNodeInfos:function(n){var i,o,r,a,s,c,l,u=[],d=n||"ExternalService",g=t.getPlugins("SelectionPlugin"),f=t.getPlugins("DatabasePlugin"),m=t.getPlugins("TreeViewPlugin"),h=t.getPlugins("AttributePlugin");if(!(e.is(f)&&e.is(g)&&e.is(m)&&e.is(h)))return t.getLogger().debug("ExternalServiceUtil","DatabasePlugin or SelectionPlugin or TreeViewPlugin or AttributePlugin not available."),u;for(f=f.instance,g=g.instance,m=m.instance,h=h.instance,c=function(t,n,i){var o,r="V_Name";return e.is(i)&&(e.is(i.attributeName,"string")&&(r=i.attributeName),o=e.is(n)&&!i.labelIsOnRef?n.get(r):t.get(r)),o},l=function(t,n){var i,o,r,a=t.id,s=t.path,l=null;return r=f.getReference(a),e.is(r)||(l=f.getInstance(a),e.is(l)&&(r=f.getReferenceModelFromInstance(l))),i={reference:{id:r.id,type:r.get("type"),pprType:r.get("PPRTYPE"),revision:r.get("revision")},instance:{id:e.is(l)?l.id:null,absolutePath:s,label:e.is(l)?l.get("PLM_ExternalID"):null},label:c(r,l,n),parent:null},o=e.is(l)?f.getAggregatingReferenceModelFromInstance(l):null,e.is(o)&&(i.parent={reference:{id:o.id},label:c(o,null,n)}),i},i=g.getSelectionsWithPaths(d),r=g.getSelectionMapping(d),a=0,s=i.length;a<s;a++)o=m.getLabelInfo(r[a]),u[a]=i[a].map(function(e){return l(e,o)});return u}}};return i=function(t){var n,i,o,r,a,s={data:[],widgetID:widget.id},c=["DELLmiTimeConstraintCnx","ProcessImplementLinkOcc","ProductImplementLinkOcc","DELAsmProcessCanUseCnx"];return t.forEach(function(t){"string"==typeof t&&(t=function(e){var t,n={type:[],PID:[],from:[],to:[]};return t=e.split("|"),n.type=t[0],n.PID=e,n.from=t[1],n.to=t[2],n}(t)),i=e.is(t.attributesValue)?t.attributesValue:t,o=e.is(i.type)?i.type:i.PID.split("|")[0],-1===c.indexOf(o)||function(e){var t,n=!1;for(t=0;t<=s.data.length-1;t++)s.data[t].pid===e&&(n=!0);return n}(i.PID)||(r=e.is(i["from.PID"])?i["from.PID"]:i.from,a=e.is(i["to.PID"])?i["to.PID"]:i.to,n={type:o,pid:i.PID,from:r,to:a}),e.is(n)&&(s.data.push(n),n=null)}),s},o=function(t){var n,i,o={data:[],widgetID:widget.id};return i=function(e){var t,n=!1;for(t=0;t<=o.data.length-1;t++)o.data[t].pid===e&&(n=!0);return n},t.forEach(function(t){t=e.is(t.attributesValue)?t.attributesValue:t,e.is(t.isInstanceOf)&&!i(t.PID)&&(n={pid:t.PID,parentRef:t.isAggregatedBy,childRef:t.isInstanceOf}),e.is(n)&&(o.data.push(n),n=null)}),o},{getInstance:function(t){return e.is(n)||(n=new r(t)),n},processCreateConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.CreateConnection",n)},processDeleteConnection:function(e){var n=i(e);n.data.length>>0&&t.publish("DS.MFN.Object.DeleteConnection",n)},processCreateInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.CreateInstance",n)},processDeleteInstance:function(e){var n=o(e);t.publish("DS.MFN.Object.DeleteInstance",n)}}}),define("DS/DELPPWServices/ModelService",["UWA/Core","DS/DELPPWModelServices/ModelUtils","DS/DELPPWModelServices/CollectionUtils","DS/DELPPWNavigationServices/NavigateUtil","DS/DELPPWDicoServices/DicoUtils"],function(e,t,n,i,o){"use strict";return function(e){var r=e.getLogger();return i.init({collectionUtils:n,indexMappingXML:e.getConfig().resource.indexMappingXML,mandatoryPredicates:e.getConfig().resource.mandatoryPredicates}),o.init({modelAttrsPath:e.getConfig().resource.modelAttrsPath,modelTypesPath:e.getConfig().resource.modelTypesPath,modelRelationsXML:e.getConfig().resource.modelRelationsXML,modelCustomRelationsXML:e.getConfig().resource.modelCustomRelationsXML,acceptedPPRTypesForActionsFilePath:e.getConfig().resource.AcceptedPPRTypesForActions,acceptedBaseTypesForActionsFilePath:e.getConfig().resource.AcceptedBaseTypesForActions}),{name:"ModelService",onStart:function(n){t.setWidgetTrigram(e.getConfig().widgetTrigram),Promise.all([new Promise(function(e,t){i.setup(e,t)}),new Promise(function(e,t){o.setup(e,t)})]).then(function(){r.debug("ModelService","Utils initialized!"),n()},function(e){r.debug("ModelService","Failed to initialize. Error desc:"+e),n()})},onStop:function(){},updateAggregationRules:function(){new Promise(function(e,t){o.setup(e,t)}).then(function(){r.debug("ModelService","Utils initialized!")})}}}}),define("DS/DELPPWServices/ExternalService/LifecycleService",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWServices/ExternalService/PadCommandProxyUtil","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l,u,d,g,f,m,h,p,v,S,C,P,b,L="LifecycleService",w=o.getInstance(r),D=[],E=r.getLogger();return l=function(t){var n,i;E.debug(L,"context.RefreshView: "),E.debug(L,t),n=JSON.parse(t),i=e.is(n.Refresh)?n.Refresh:null,e.is(i)&&(e.is(i.created,"array")&&i.created.length>0&&s.refreshCreated(i.created),e.is(i.deleted,"array")&&i.deleted.length>0&&s.refreshDeleted(i.deleted),e.is(i.modified,"array")&&i.modified.length>0&&s.refreshModified(i.modified))},c=function(n){var i,o,s,c,l,u={},d={data:{paths:[],pathsInst:[]}},g=r.getPlugins("DatabasePlugin"),f={selectedObjectsPID:[],selectedObjectsInstPID:{},modifiedObjectPID:null,modifiedObjectInstPID:null,modifiedObjectSelectionState:!1,widgetId:widget.id?widget.id:"defaultId"};if(e.is(g)){if(g=g.instance,e.is(n)){for(i in f.modifiedObjectSelectionState=n.changed.isSelected,s=g.getInstance(n.changed.nodeId),e.is(s)?(f.modifiedObjectPID=s.get("isInstanceOf"),f.modifiedObjectInstPID=s.get("PID")):(s=g.getReference(n.changed.nodeId),e.is(s)&&(f.modifiedObjectPID=s.get("PID"))),c=n.selectedNodeIds,e.is(c,"array")&&c.forEach(function(t){s=g.getReference(t),e.is(s)&&!e.is(u[t])&&(u[t]=[]),s=g.getInstance(t),e.is(s)&&(o=s.get("isInstanceOf"),e.is(u[o])?u[o].push(t):u[o]=[t])}),u)Object.prototype.hasOwnProperty.call(u,i)&&(f.selectedObjectsPID.push(i),e.is(f.selectedObjectsInstPID[i])?f.selectedObjectsInstPID[i].push(u[i]):f.selectedObjectsInstPID[i]=u[i]||[]);E.debug(L,"DS."+a+".Selection.SelectionModified event broadcast: ",f),t.publish("DS."+a+".Selection.SelectionModified",f),f.modifiedObjectSelectionState&&f.selectedObjectsPID.length>=1&&(d.data.paths.push([f.modifiedObjectPID]),1===(l=f.selectedObjectsInstPID[f.modifiedObjectPID]).length&&d.data.pathsInst.push(l),d.metadata={originWidgetId:r.getConfig().appContext.widget.getId()},t.publish("DS/PADUtils/PADCommandProxy/select",d))}}else r.getLogger().debug(L,"Database plugin not available.")},u=function(t){var n=[],i=r.getPlugins("DatabasePlugin");E.debug("_padRefresh: "),e.is(t)&&e.is(t.data)&&e.is(t.data.authored)&&(e.is(t.data.authored.modified)?s.refreshModified(t.data.authored.modified):t.data.authored.length>0&&(t.data.authored.forEach(function(e){n.push(e.modified)}),s.refreshModified(n),i.instance.fetchInstancesAndTheirReferences(n,{silentMode:!1})))},d=function(){E.debug("_padAttach: ")},f=function(){var t,n,i=[],o={},a=r.getPlugins("DatabasePlugin"),s=r.getPlugins("ResourcePlugin");return e.is(a)&&e.is(s)?(a=a.instance,s=s.instance,n=function(t,n){const i=function(){return e.is(n,"array")&&n.length>0?n[n.length-1]:null};if(e.is(t))return{options:{grid:{"ds6wg:type":t.reference.type,"ds6wg:revision":t.reference.revision,icon:s.getIconURLFromKey(t.reference.type)}},getID:function(){return t.reference.id},getInstID:function(){return n},getLabel:function(){return t.label},getRelationID:i,getRealParent:function(){let t,n;const o=i();return e.is(o)&&(t=a.getInstance(o),n=t.get("isAggregatedBy")),{getID:function(){return n}}}};r.getLogger().debug(L,"No model to create node from")},t=w.getAllSelections(),e.is(t,"array")&&(t.forEach(function(t){e.is(t.instance.id)?e.is(o[t.reference.id])?o[t.reference.id].push(t.instance.id):o[t.reference.id]=[t.instance.id]:e.is(o[t.reference.id])||(o[t.reference.id]=[])}),t.forEach(function(e){i.push(n(e,o[e.reference.id]))})),i):(r.getLogger().debug(L,"Database plugin or resource Plugin not available."),i)},g=function(){e.extend(r.getConfig().appContext,{displayNotification:function(e){"primary"===e.eventID||"success"===e.eventID?E.info(L,e.msg):E.warn(L,e.msg)},getSelectedNodes:function(){return f()},getSecurityContext:function(){return{SecurityContext:n.getSecurityContext(),tenant:n.getTenant()}},isIndexMode:function(){var t=r.getPlugins("DatabasePlugin");if(e.is(t))return(t=t.instance).isAuthoringMode();throw r.getLogger().debug(L,"Database plugin not available."),new Error("Database plugin not available")},hasFilter:function(t){var n,i,o=r.getPlugins("RootsPlugin"),a={hasFilter:!1};if(!e.is(o))throw r.getLogger().debug(L,"Roots plugin not available."),new Error("Roots plugin not available");return i=(o=o.instance).getCompatibleConfigurationFilters([t]),e.is(i)&&(n=i[t],e.is(n)&&""!==n&&(a.hasFilter=!0)),a},GetFilterSpec:function(t){var n,i,o=r.getPlugins("RootsPlugin");if(!e.is(o))throw r.getLogger().debug(L,"Roots plugin not available."),new Error("Roots plugin not available");return n=(o=o.instance).getCompatibleConfigurationFilters([t]),e.is(n)&&(i=n[t],e.is(i)&&""!==i&&(i={config_filter:i})),i}})},m=function(e){Array.isArray(e)||(e=[e]),o.processCreateInstance(e)},h=function(e){Array.isArray(e)||(e=[e]),o.processDeleteInstance(e)},p=function(e){Array.isArray(e)||(e=[e]),o.processCreateConnection(e)},v=function(e){Array.isArray(e)||(e=[e]),o.processDeleteConnection(e)},S=function(e){var n,i=[];for(n=0;n<e.data.length;n++)i[n]={Effectivity:e.data[n].Effectivity,CurrentEvolutionEffectivity:e.data[n].CurrentEvolutionEffectivity,PID:e.pids[n]};0!==i.length&&t.publish("DS.MFN.Object.UpdateEvolutionEffectivity",i)},C=function(e){var n={PID:e.movedInstPIDArray[0],parentPID:e.newParentPID,childPID:e.newInstPIDArray,previousParentPID:e.formerParentsPIDArray[0]},i={data:[],widgetId:widget.id?widget.id:"defaultId"};i.data[0]=n,t.publish("DS.MFN.Object.MoveInstances",i)},P=function(e){var t,n;n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),t=e.connections,Array.isArray(t)||(t=[t]),o.processCreateConnection(t)},b=function(e){var t,n;t=e.connections,Array.isArray(t)||(t=[t]),n=e.instancesAndReferences,Array.isArray(n)||(n=[n]),o.processCreateInstance(n),o.processCreateConnection(t)},{onStart:function(n){var o,f;s=new i(r),D.push(r.addExternalListener("select",c)),D.push(r.addExternalListener("createInstance",m)),D.push(r.addExternalListener("deleteInstance",h)),D.push(r.addExternalListener("createImplementLink",p)),D.push(r.addExternalListener("deleteLink",v)),D.push(r.addExternalListener("updateEffectivity",S)),D.push(r.addExternalListener("reparentInstances",C)),D.push(r.addExternalListener("createManufacturingItemStructure",P)),D.push(r.addExternalListener("assignProduct",b)),D.push(r.addExternalListener("createStructure",b)),g(),a=r.getConfig().widgetTrigram,e.is(a)?(o="DS."+a+".Object.AddReference",f="DS."+a+".Object.Refresh",t.subscribe(o,s.addReferenceFromEvent),t.subscribe(f,s.refreshElementFromEvent),t.subscribe("DS/PADUtils/PADCommandProxy/refresh",u),t.subscribe("DS/PADUtils/PADCommandProxy/attach",d),t.subscribe("Lifecycle.Modification",l)):r.getLogger().debug(L,"LifecycleService: widget trigram is not defined."),n()},onStop:function(){var e,t;for(e=0,t=D.length;e<t;e++)r.removeExternalListener(D[e]);D=[],s=void 0}}}}),define("DS/DELPPWServices/ExternalService/FilterService",["UWA/Core","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],function(e,t){"use strict";return function(n){var i,o,r,a="FilterService",s=n.getLogger(),c=t.getInstance(n),l=[];return o=function(t){e.is(r,"function")&&r.call(null,t)},i=function(){e.extend(n.getConfig().appContext,{getSelectedNodesInfo:function(t){var i,o=c.getAllSelections(a);return!0===(t=t||!1)&&(i=n.getPlugins("DatabasePlugin"),e.is(i)?(i=i.instance,o.forEach(function(e){var t,n=e.instance.absolutePath;t=i.transformToRIROccurrencePath(n.length>0?n:e.reference.id),e.occPathRIR=t})):s.debug(a,'DatabasePlugin is not available. Hence "occPathRIR" property could not be added')),o},subscribeSelectionChange:function(e){r=e},updateCfgColumnsBasedOnCommand:function(t,i){let o=n.getPlugins("CfgColumnsPlugin");e.is(o)&&(o=o.instance).getUpdatedCfgAttributesBasedOnCommand(t,i).then(e=>{n.getMediator().notify("updateCfgColumns",[e])}).catch(function(e){s.debug(a,"Error occured while updating Configuration Columns. Error: "+e)})}})},{onStart:function(){i(),l.push(n.addExternalListener("select",o))},onStop:function(){var e,t;for(e=0,t=l.length;e<t;e++)n.removeExternalListener(l[e]);l=[]}}}}),define("DS/DELPPWServices/ConfigService/ConfigService",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWServices/ConfigService/SecurityContext","DS/DELPPWServices/ConfigService/Preferences","DS/DELPPWServices/ConfigService/CustoParametersSet","DS/DELPPWModelServices/BehaviorUtil"],function(e,t,n,i,o,r,a){"use strict";return function(s){var c,l,u,d,g,f,m,h,p,v,S,C,P=[],b=s.getLogger();if(!(f=s.getConfig().resource)||!f.appConfigPath)throw new Error("App config path is not defined");return h=function(){var t,i,o,r,a,s=[],c="",u=widget.getBool("showCollaborativeSpace"),d=widget.getBool("showRole"),g=widget.getBool("showOrg");r=widget.getValue("Credentials"),e.is(r,"string")&&(a=l.getSCTitle(r),e.is(a,"object")&&(o=a.organization,t=a.collabSpace,i=a.role)),!0===u&&s.push(t),!0===g&&s.push(o),!0===d&&s.push(i),e.is(s,"array")&&s.length>0&&(c=n.getNLSValue("Preferences.Credentials")+":",c+=s.join(", ")),widget.setTitle(c)},p=function(){var e=n.getIconURLFromKey("AppIcon");widget.setIcon(e)},m=function(){h(),l.isChanged()&&(l.updateSC(),u.updateCredentialsInfoPref())},c=function(n,i,o){var r,a,s=[];for(r in t.setXMLConfiguration(n,d.getSelectedPID()),n)Object.prototype.hasOwnProperty.call(n,r)&&(a=new Promise(function(e,n){t.fetchXMLValues(r,e,n)}),s.push(a));e.Promise.allSettled(s).then(function(){i()},function(){o("XML PreFetching FAILED !!!")})},C=!!e.is(s.getConfig().isFacet,"boolean")&&s.getConfig().isFacet,a.setIsFacet(C),v=e.Promise.all([new Promise(function(e,n){t.init({cloudServiceName:s.getConfig().cloudServiceName,resolve:e,reject:n})}),new Promise(function(e,t){n.init({iconCatalogPath:f.iconCatalogPath,nlsFilePath:f.nlsFilePath}),n.setup(e,t)})]),S=function(t,n){var i,o;e.is(n)&&(i=n.Config.Preferences,Object.keys(n.Config.Preferences).forEach(function(n){t.forEach(function(t){t.name===n&&(o=i[n],t.type=!1===o.isVisible?"hidden":t.type,e.is(o.defaultValue,"boolean")?t.defaultValue=o.defaultValue.toString():t.defaultValue=o.defaultValue)})}))},{name:"ConfigService",onStart:function(a){var C=!!e.is(s.getConfig().isFacet,"boolean")&&s.getConfig().isFacet;P.push(s.addExternalListener("endEdit",m)),v.then(function(){l=new i(b,t,n),d=new r(f.custoParameterRegExp,b,t,n),u=new o(b,t,l,d,n,C),require([f.appConfigPath],function(i){if(g=i,!e.is(g.xmlConfiguration))throw new Error("xmlConfiguration is not defined in app config");new Promise(function(e,t){l.loadSecurityContexts(e,t)}).then(function(){new Promise(d.retrieveCustoParametersSetsInfo).then(function(n){var i=n[0],o=e.is(i)?i.eno_csrf_token||i.ENO_CSRF_TOKEN:null;e.is(o)?t.setCSRFToken({eno_csrf_token:o},"3DSpace"):b.error("NO CSRF Token set !!!"),new Promise(function(e,t){c(g.xmlConfiguration,e,t)}).then(function(){t.getXMLValues("GeneralPreferences",function(e){S(g.preferences,e),u.populate(g),"XEN"!==s.getConfig().widgetTrigram&&(p(),h()),a()},function(){u.populate(g),"XEN"!==s.getConfig().widgetTrigram&&(p(),h()),a()})},function(e){b.debug(e),a()})},function(e){b.debug(e),a()})},function(){throw widget.body.empty(),e.createElement("div",{type:"text",class:"widget-Loading-Error-Message",html:n.getNLSValue("SecurityContext.NoSecurityContext")}).inject(widget.body),new Error("No Security Context available for the user!")})})},function(e){b.debug("ConfigService.getWebServiceUtilsPromise","WebServiceUtils init FAILED. \nMessage: %s",e),a()})},onStop:function(){var e,t;for(e=0,t=P.length;e<t;e++)s.removeExternalListener(P[e]);P=[]},getPreference:function(t){return e.clone(widget.getValue(t))},setPreference:function(e,t){return widget.setValue(e,t)},hasConfigurationChanged:function(){return d.isChanged()},isSecurityContextChanged:function(){return l.isChanged()},getConfigurationPID:function(){return d.getSelectedPID()},getPreferences:function(){return u},getAppConfig:function(){return g},getUserId:function(){return l.getUserId()},getSecurityContext:function(){return l}}}}),define("DS/DELPPWServices/LoggerService/LoggerService",["UWA/Core","DS/Logger/Logger","DS/DELPPWLoggerModel/LoggerUtils","DS/DELPPWServices/LoggerService/LogManager","DS/DELPPWServices/LoggerService/AlertManager"],function(e,t,n,i,o){"use strict";return function(r){var a,s,c=r.getLogger(),l=[],u=function(e){return t.getLogger(e)};return c.debug=function(e,t){var n=u(e);n.info.apply(n,Array.prototype.slice.call(arguments,1))},c.log=function(t,i,o,r){var a;if(t=e.is(t)?t:"",a=u(t),i=e.is(i)?i:"",e.is(r)||e.is(o))"completed"===arguments[arguments.length-1]&&Array.prototype.splice.call(arguments,-1),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i,o,r);else if(!e.is(o))return Array.prototype.push.call(arguments,"started"),a.info.apply(a,Array.prototype.slice.call(arguments,1)),n.log(i)},c.warn=function(t,i,o){var r;(r=u(t)).error.apply(r,Array.prototype.slice.call(arguments,1)),n.logFailed(i,o),i=e.is(i)?{level:"error",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},c.info=function(t,i,o){var r;(r=u(t)).info.apply(r,Array.prototype.slice.call(arguments,1)),n.logCompleted(i,o),i=e.is(i)?{level:"success",subtitle:i}:t,e.is(i)&&s.displayAlert(i)},a=new i(r),s=new o(r),{onStart:function(t){e.is(a)&&e.is(s)||c.debug("LoggerService","initialization Failed"),l.push(r.addExternalListener("addLog",a.addLog)),l.push(r.addExternalListener("ShowLogPanel",a.onShowLogPanel)),t()},onStop:function(){var e,t;for(e=0,t=l.length;e<t;e++)r.removeExternalListener(l[e]);l=[]}}}}),define("DS/DELPPWServices/LandingPageService/LandingPageService",["UWA/Core","DS/UIKIT/Mask","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWServices/LandingPageService/LandingPage","DS/DELPPWServices/LandingPageService/LandingPageDnD"],function(e,t,n,i,o,r){"use strict";return function(i){var a,s,c,l,u,d,g,f,m,h,p,v,S="LandingPageService",C=this,P=i.getLogger(),b=i.getConfig().landingPageOpts,L=[],w=!0;return f=function(){var e=[];return n.getXMLValues("LandingPage",function(t){t.Config.Actions.forEach(t=>{var n={};if(t.display){switch(n.name=t.name,t.Type){case"Restore":n.onClick=a.bind(C);break;case"Create":n.onClick=s.bind(C,t.ReferenceType)}e.push(n)}})},function(){e=[{name:"Restore",onClick:a.bind(this)}]}),e},a=function(){t.mask(l),i.getMediator().notify("HideLandingPage"),w=!1,i.getMediator().notify("LoadRecentContent")},s=function(e){t.mask(l),i.getMediator().notify("HideLandingPage"),v(),i.getMediator().notify("InsertCmd",{arguments:[{ID:"ReferenceType",Value:e},{ID:"ShowDialog",Value:"false"}]})},c=function(e){var n=e.dataTransfer.getData("Text");t.mask(l),i.getMediator().notify("HideLandingPage"),v(),i.getMediator().notify("LoadDropContent",[n,{loadObjectsInOwnView:!0}],{sourceModuleId:S})},l=e.createElement("div",{class:"landingPage-container"}),d={body:l,onDrop:c},m=function(e){t.mask(l),i.getMediator().notify("HideLandingPage"),v(),i.getMediator().notify("LoadDropContent",[e,{loadObjectsInOwnView:!0}],{sourceModuleId:S})},h=function(){l.show()},p=function(){t.unmask(l),l.hide()},v=function(){w&&i.getMediator().notify("ResetRootsStore"),w=!1},{onStart:function(t){var n=widget.getValue("X3DContentId"),a=f();e.is(l)||P.debug(S,"initialization Failed"),b=e.extend(b,{items:a,body:l}),(u=new o(b)).init(),(g=new r(d)).init(),e.is(n,"string")&&""!==n&&m(n),L.push(i.addExternalListener("ShowLandingPage",h)),L.push(i.addExternalListener("HideLandingPage",p)),t()},onStop:function(){var e,t;for(u.destroy(),g.destroy(),e=0,t=L.length;e<t;e++)i.removeExternalListener(L[e]);L=[]}}}}),define("DS/DELPPWServices/LayoutService/LayoutService",["UWA/Core","UWA/Promise","DS/ApplicationFrame/FrameWindow","DS/DELPPWServices/LayoutService/DOMNaming","DS/DELPPWServices/LayoutService/BlocLayout"],function(e,t,n,i,o){"use strict";return function(r){var a,s,c,l,u,d,g,f,m;return d=function(e,t,n){var i={},o=!1;return 2===t&&(i.ROW=(e+1)%t,0!==a.getRowSize(i.ROW).height&&(n?a.unmaximizeRows():a.maximizeRow(i.ROW),o=!0)),o&&a._resizeBottomBloc(),o},g=function(e,t){var n;return 0!==(n=a.getColumnSize(e,t)).width&&0!==n.height},f=function(t,n,i,o){var r,a;if(e.is(o,"function"))for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e.is(n[r])){if((!!i||g(t[r].row,t[r].col))===(a=""!==n[r]))continue;o(r,a)}},m=function(t){return t=t||{},e.is(t.rows)||(t.rows=[{columns:1}]),new o({rows:t.rows,logger:r.getLogger(),mediator:r.getMediator()})},{name:"LayoutService",createBlocLayout:function(e){return m(e)},onActionBarReady:function(){r.getMediator().notify("actionBarReady",this)},buildView:function(t){var o,d=this,g=r.getConfig().resource;e.is(t.rows)&&e.is(t.actionBarReady)?((c=e.createElement("div",{class:i.construction.appContainer})).addClassName("invisible"),c.addClassName("notransition"),l=e.createElement("div",{class:i.construction.appMessages}).inject(c),u=e.createElement("div",{class:i.construction.appProgressInd}).inject(c),r.updateAppContext({elements:c}),o={viewer:"none",width:"100%",height:"100%",language:widget.lang,workbench:g.afrWorkbenchName,workbenchModule:g.afrWorkbenchModule,context:r.getConfig().appContext,uiOptions:{preserveActionBarHeight:!0}},(s=new n(o)).onActionBarReady(function(){e.is(t.actionBarReady,"function")&&t.actionBarReady(),d.onActionBarReady()}),s.inject(c),a=m(t),s.getImmersiveFrame().getDockingElement(WUXDockAreaEnum.RightDockArea).freeZoneContent=a,c.inject(widget.body)):r.getLogger().debug(this.name,'FATAL ERROR: "options.rows" and/or "options.actionBarReady" are not specified on calling buildView')},showLayout:function(){c.removeClassName("invisible"),c.removeClassName("notransition")},setDockingElement:function(t,n){var i,o=s.getImmersiveFrame();n=n||{},e.is(o)&&((i=o.getDockingElement(t)).elements.collapser.addEventListener("click",function(){r.getMediator().notify("dockingZoneToggle",{collapseState:i.collapseDockingZoneFlag,dockingArea:i.side})}),e.extend(i,n))},setPreferredLayoutOnStartup:function(t){var n,i,o=this,a=r.getService("ConfigService"),s=[],c=null;return e.is(a)&&(i=a.getPreference("widgetLayoutValues"),e.is(i)&&(n=e.Json.decode(i),c=[],f(t,n,!0,function(e,n){!1===n&&(s.push({row:t[e].row,col:t[e].col,state:n}),c.push({commandName:t[e].command,state:n}))}),s.forEach(function(e){o.toggleView(e.row,e.col,e.state)}))),c},setPreferredLayout:function(t,n){var i,o,r,a=this,s=e.Promise.deferred(),c=[],l=[];return f(n,t,!1,function(e,t){!0===t?c.push({row:n[e].row,col:n[e].col,commandName:n[e].command,state:t}):l.push({row:n[e].row,col:n[e].col,commandName:n[e].command,state:t})}),i=c.concat(l),o=i.map(function(e){return function(){return a.toggleView(e.row,e.col,e.state)}}),(r=e.Promise.deferred()).resolve(),r=r.promise,o.reduce(function(e,t){var n;return n=e.then(function(){return t()}),e=n},r).then(function(){s.resolve()}),{deferredPromise:s,columns:i}},removeDockingElement:function(t){var n=s.getImmersiveFrame();e.is(n)&&n.getDockingElement(t).remove()},buildAuxiliaryViewDom:function(){return e.createElement("div",{class:i.construction.moduleContainer,html:[{tag:"div",class:i.construction.dropZoneContainer},{tag:"div",class:i.construction.treeListContainer}]})},buildTreeListAuthoringDom:function(t){var n,o;return n=[{tag:"div",class:i.construction.moduleMessages},{tag:"div",class:i.construction.treeListContainer},{tag:"div",class:i.construction.graphContainer,html:[{tag:"div",class:i.construction.grapViewContainer}]}],e.is(t)&&t&&(o={tag:"div",class:i.construction.dropZoneContainer},n.unshift(o)),e.createElement("div",{class:i.construction.moduleContainer,html:n})},getUIContainer:function(){return c},getAlertContainer:function(){return l},getProgressIndContainer:function(){return u},getActionModuleContainer:function(){return e.createElement("div",{class:i.construction.actionViewContainer})},getPropertiesModuleContainer:function(){return e.createElement("div",{class:i.construction.propertiesContainer})},getGroupingModuleContainer:function(){return e.createElement("div",{class:i.construction.groupingPanelContainer})},toggleView:function(e,n,i){var o,r,s,l=a.getRowColumnMap()[e].length,u=a.getRowIds().length,g={};return s=new t(function(e){var n=a.getContainerElem();c.hasClassName("notransition")?e():new t(function(e){n.addEvent("transitionend",e)}).then(function(){n.removeEvent("transitionend"),setTimeout(e,200)})}),2===l?(g.COL=(n+1)%l,g.ROW=e,0!==(o=a.getColumnSize(g.ROW,g.COL)).width&&0!==o.height?i?a.unmaximizeColumnsInRow(g.ROW):a.maximizeColumnInRow(g.ROW,g.COL):(r=d(e,u,i),i&&r&&a.maximizeColumnInRow(e,n))):1===l&&(r=d(e,u,i)),s},isViewShown:function(e,t){return g(e,t)},isLayoutBuilt:function(){return e.is(s)},setBlocLayoutContent:function(e,t,n){a.setColumnContent(e,t,n)},getBlocLayout:function(){return a},onStart:function(e){e()},dispose:function(){a=void 0,e.is(s)&&s.dispose(),s=void 0}}}}),define("DS/DELPPWServices/ExternalService/ExternalService",["UWA/Core","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWServices/ExternalService/ExternalServiceUtil"],function(e,t,n){"use strict";return function(i){var o,r,a="ExternalService",s=i.getLogger(),c=[],l=n.getInstance(i);return r=function(n){var o=i.getPlugins("DatabasePlugin"),r=t.get3DSpaceUrl();e.is(o)?(o=o.instance,n instanceof Array?n.forEach(function(t){var n,i;e.is(t.documentPID)?n=r+"common/emxNavigator.jsp?objectId="+t.documentPID:e.is(t.referencePID)&&(i=o.getReferenceModel(t.referencePID),e.is(i)&&(n=r+"common/emxNavigator.jsp?objectId="+i.id)),e.is(n)&&window.open(n)}):s.debug(a,"ExploreInWebApp: Invalid Input passed(Not a Valid Array)")):i.getLogger().debug(a,"Database plugin not available.")},o=function(){e.extend(i.getConfig().appContext,{getLogger:function(){i.getLogger()},getSelections:function(){return l.getSelectedNodeInfos(a)},notify:function(e,t){e&&i.getMediator().notify(e,t)}})},{onStart:function(){o(),c.push(i.addExternalListener("ExploreInWebApp",r))},onStop:function(){var e,t;for(e=0,t=c.length;e<t;e++)i.removeExternalListener(c[e]);c=[]}}}});
define("DS/XSRCommonComponents/utils/InformationPanel",["UWA/Class","UWA/Core","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Notification","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","css!DS/XSRCommonComponents/InformationPanel.css"],function(e,n,t,o,s,a,i){"use strict";var r=e.extend({init:function(e){this._parent(e),this.appCore=e.appCore}});return r.prototype._renderInformationpanel=function(){this.destroy(),this.appCore.basicModelEvents.publish({event:o.EVENT_LAUNCH_COMMAND,data:{commandId:o.INFORMATION_CMD,context:{item:{data:this.specNodeModel}}}})},r.prototype._displayMsg=function(e,n){a.displayNotification({eventID:e,msg:n})},r.prototype._renderEmptyOrManyMsg=function(e){this.container=this.appCore.specRightContainer,this.container.empty();let t=s.getTouchMode(),o=n.createElement("div",{class:"xsr-message-container"});"Empty"==e?o.addContent(i.Message_NoItemSelected):"Many"==e&&o.addContent(i.Message_TooManyItems),t&&o.addClassName("xsr-mobile-font"),o.inject(this.container)},r.prototype._processSearchNodeModel=function(e){e.getID(),e.getTypeActualName();let n="SpecTreeModel"==this.nodeModelType;n&&(this.specNodeModel=e),this.specNodeModel.appCore=this.appCore,n&&this._renderInformationpanel()},r.prototype.render=function(e){let s=this;s.eventsSusb=[],s.container=s.appCore.specRightContainer;let a=s.appCore.triptychManager;if(s.nodeModelType=e.nodeModelType,s.eventsSusb.push(s.appCore.basicModelEvents.subscribe({event:"xsr-right-panel-closed"},function(){t.deactivateInfoIconInTab(),t.deactivateInfoIcon(),s.destroy()})),e.currentTab?(a.setCurrentTabKey(e.currentTab),t.deactivateInfoIcon(),t.activateInfoIconInTab()):t.activateInfoIconInTab(),s.eventsSusb.push(s.appCore.basicModelEvents.subscribe({event:o.EVENT_SPEC_GRID_NODES_SELECTION_ACTION},function(e){a.isRightPanelOpen()&&e.commandId==o.INFORMATION_CMD&&(t.deactivateInfoIcon(),t.activateInfoIconInTab(),0===e.count?void 0===e.parentModel&&s._renderEmptyOrManyMsg("Empty"):e.count>1?s._renderEmptyOrManyMsg("Many"):1===e.count&&(s.specNodeModel=e.currentModel,s.specNodeModel&&s._renderInformationpanel()))})),e.nodes&&n.is(e.nodes,"array")){if(e.nodes.length>1||0==e.nodes.length){if(a.isRightPanelOpen()){if(a.isLaunchFromIcon())return t.deactivateInfoIconInTab(),a.setLaunchFromIcon(!1),void a.hideRightPanel();a.resizePanel(500)}else a.setCommandId(o.INFORMATION_CMD),a.showRightPanel(500);e.nodes.length>1?s._renderEmptyOrManyMsg("Many"):0==e.nodes.length&&s._renderEmptyOrManyMsg("Empty")}if(1==e.nodes.length){let n=e.nodes[0];s._processSearchNodeModel(n)}}},r.prototype.destroy=function(){this.eventsSusb&&this.eventsSusb.length>0&&this.appCore.basicModelEvents.unsubscribeList(this.eventsSusb),this.container.empty()},r});
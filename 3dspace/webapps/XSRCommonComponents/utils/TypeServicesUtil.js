define("DS/XSRCommonComponents/utils/TypeServicesUtil",["UWA/Class","UWA/Promise","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Constants"],function(e,t,n,i){"use strict";return e.extend({init:function(){this.platFormId=n.getPlatformId(),this.securityToken=n.getSecurityToken(),this.tenantID=n.getPlatformId(),this.SC=n.getSecurityContext()},getHeaders:function(e){var t={"Content-type":"application/json"};return e&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t},getTypesHierarchy:function(e){var i={types:e},r=this;return new t(function(e,t){n.send3DSpaceRequest("resources/enong/dico/gettypeshierarchy","POST",{type:"json",headers:r.getHeaders({SecurityToken:r.securityToken,SecurityContext:r.SC}),data:JSON.stringify(i)},e,t)})},isValidItemToOpen:function(e){if(!e)return!1;return this.getTypesHierarchy([e]).then(e=>{let t=!1,n=!1;return e.types_hierarchies.length>0&&(e.types_hierarchies[0].hierarchy.includes(i.TYPE_VPMREFERENCE)?(t=!0,n=e.types_hierarchies[0].hierarchy.includes(i.RAW_MATERIAL_TYPE)):t=!1),{isValidType:t,isRawM:n}}).catch(e=>console.log("Error getTypesHierarchy! "+e))}})});
define("DS/XSRCommonComponents/utils/PlatformDataProvider",["UWA/Core","UWA/Class/Promise","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/XSRCommonComponents/utils/Constants"],function(t,r,o,n){"use strict";return{_platforms:null,getServiceURL:function(t,r){return r=r||this.getPlatformId(),this._platforms&&this._platforms[r]&&this._platforms[r][t]?this._platforms[r][t]:null},getAllPlatforms:function(){var n=this;return new r(function(r,e){o.getPlatformServices({onComplete:function(o){var s=function(r){if(t.is(r,"array")&&r.length>0){var o={};return r.forEach(function(t){o[t.platformId]=t}),o}return null}(o);if(null===s)return e("cannot retrieve platform data");n._platforms=s,r(s)},onFailure:e})})}}});
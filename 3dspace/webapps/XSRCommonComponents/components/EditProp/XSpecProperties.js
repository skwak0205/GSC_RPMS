define("DS/XSRCommonComponents/components/EditProp/XSpecProperties",["UWA/Core","DS/EditPropWidget/EditPropWidget","DS/EditPropWidget/constants/EditPropConstants","DS/EditPropWidget/models/EditPropModel","DS/EditPropWidget/models/EditPropAttributeModel","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Notification","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/TypeUtils","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","css!DS/XSRCommonComponents/components/EditProp/XSpecProperties.css"],function(e,t,i,o,n,s,a,r,c,p,d){"use strict";var l={Change:i.FACET_CHANGE,Properties:i.FACET_PROPERTIES,Comments:i.FACET_SWYMCOMMENTS},m=function(){};return m.prototype.init=function(o){var n=o.id,s=o.container;this.selectedItemID=n;var r=o.specModel;this.specModel=r;var c=!!o.readOnly&&o.readOnly,p=!!o.editMode&&o.editMode,d=o.execludeIDCard,m=[];if(o.facets)for(var u=o.facets.length,C=0;C<u;C++)"Change"===o.facets[C]?m.push({id:i.FACET_CHANGE,options:{readOnly:!o.enableChangeRequired}}):m.push({id:l[o.facets[C]]});else m.push(i.FACET_PROPERTIES),m.push(i.FACET_SWYMCOMMENTS);this.container=e.createElement("div",{class:"xsr-properties-container"}),this.container.inject(s);var S=d?i.ONLY_EDIT_PROPERTIES:i.ALL,h=a.getSecurityContext().replace("ctx::",""),E={typeOfDisplay:S,selectionType:i.NO_SELECTION,facets:m,readOnly:c,extraNotif:!0,editMode:p,context:{getSecurityContext:function(){return{SecurityContext:h}}}};this.editPropView=new t(E);var P=this.getPropModel(o);return this.editPropView.initDatas(P),this.editPropView.elements.container.inject(this.container),this.editPropView.elements.container.onResize(),this.editPropView},m.prototype._addCustomFacet=function(e,t){this.mfgSecurityContext=a.getSecurityContext().replace("ctx::","");var i=!0;this.specModel&&this.specModel.getTypeActualName()&&p.isRawMaterial(this.specModel.getTypeActualName())&&(i=!1),c.isPerformanceChar(this.specModel.getTypeActualName())?this.editPropView.addFacets([{require:"DS/ENOCharacteristicsApp/view/TestMethodFacet",alwaysVisible:!0,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"testMethods",icon:"molecule-candidate",text:d.label_TestMethod},options:{appContext:e,itemModel:this.specModel,itemId:this.selectedItemID,appId:s.XSR_APP_ID}}]):this.editPropView.addFacets([{require:"DS/ENOXAlternateSubstitute/facets/AlternateFacet",alwaysVisible:!0,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"alternateFacet",icon:"exchange",text:t.label_Alternate},options:{appContext:e}},{require:"DS/DELPPWFacets/facets/ManufacturingIntentFacet",inheritance:!0,alwaysVisible:!0,services:["3DSpace"],actions:[{name:"Add",text:d.Add,icon:"fonticon fonticon-plus"}],content:null,facet:{name:"ManufactureIntent",icon:"factory",text:d.Manufacture_Facet_Title},options:{appContext:e,securityContext:this.mfgSecurityContext,immersiveFrame:e.immersiveFrame}},{require:"DS/ENOMadeFromUX/view/MBMFFacet",alwaysVisible:i,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"specsMadeFromFacet",icon:"part-made-from",text:d.label_MakeFrom},options:{appContext:e,itemModel:this.specModel,itemId:this.selectedItemID,appId:s.XSR_APP_ID}}])},m.prototype.getPropModel=function(e){var t=null,i=[];return i.push({metatype:e.metatype||"businessobject",objectId:e.id,tenant:a.getPlatformId(),source:s.SERVICE_3DSPACE_NAME}),(t=new o(i)).set("isTransient",!1),t.set("showSections",!1),i},m.prototype.destroy=function(){},m});
define("DS/XSRCommonComponents/createform/view/NewForm",["UWA/Core","UWA/Class/View","UWA/Element","DS/Controls/ComboBox","DS/Controls/LineEditor","DS/Controls/Editor","DS/Controls/DatePicker","DS/Controls/Expander","DS/Controls/TooltipModel","DS/Controls/Toggle","DS/Controls/Button","DS/Tweakers/TweakerBlob","DS/Controls/SpinBox","DS/XSRCommonComponents/utils/Utils","DS/ResizeSensor/js/ResizeSensor","DS/WUXAutoComplete/AutoComplete","DS/Tree/TreeDocument","DS/Tree/TreeNodeModel","DS/XSRCommonComponents/utils/Constants","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","css!DS/XSRCommonComponents/createform/CreateForm.css"],function(e,t,i,l,a,n,r,s,o,d,c,u,m,f,h,p,b,v,g,C){"use strict";return t.extend({_control:{},container:null,inputField:null,fieldLabel:null,_fields:{},setup:function(t){this._fields={},this._parentView=t,this.formStyle=t&&t.formStyle?t.formStyle:"vertical",this.globalStyle=t&&t.globalStyle?t.globalStyle:void 0,this.showWorkUnderIndicator=!(!t||!t.showWorkUnderIndicator)&&t.showWorkUnderIndicator,this.showWorkUnderIndicator&&(this.workUnderTitle=t.workUnderTitle),this.isToggleView=!0,this.container=e.createElement("div",{class:"formContainer",id:"xsrCreateForm"}),this.formName=t?t.formName:null,this.formGroups={},this.tabsArr={},this.hasMandFields=!1},render:function(t){var i=this;return i.elements.mContainer=new e.createElement("div",{class:"dialog-fields"}),null!=i.globalStyle&&i.elements.mContainer.addClassName(i.globalStyle),i.maincontainer=i.elements.mContainer,i._control={},i.inputOpts=t,i._parentView.fields&&i.createfields(i._parentView,i.maincontainer),i._parentView.formFields&&(this.tabsArr.tabCount=i._parentView.formFields.length,i._parentView.formFields.forEach(e=>{i.createfields(e,e.tabName),i.setTabsArr(e.tabName,"iconName",e.icon)}),i.createTabControl()),i.maincontainer.inject(this.container,"bottom"),this},createTabControl:function(){var t=this;this.tabsArr.tabCount<2||(e.createElement("div",{class:"tabProgressBar"}).inject(t.container),t.sidebar=e.createElement("div",{class:"tabSideBar"}).inject(t.container),t._parentView.formFields.forEach(i=>{let l=e.createElement("div",{class:"tabIcon",html:{tag:"span",class:"wux-ui-3ds wux-ui-3ds-2x wux-ui-3ds-"+i.icon}});l.tooltipInfos=new o({shortHelp:i.sectionLabel,mouseRelativePosition:!1,position:"right"}),l.addEvent("click",()=>{t.scrollFormTab(i.tabName)}),l.inject(t.sidebar),t.setTabsArr(i.tabName,"tabControl",l)}))},scrollFormTab:function(e){var t=this;let i,l;e||(e=Object.keys(t.tabsArr)[1]),i=document.getElementById("tab_"+e),l=t.tabsArr[e].tabControl;let a=t.container.getParent(),n=i.offsetTop;e==Object.keys(t.tabsArr)[1]&&(n=0),a.scrollTo(0,n),Object.keys(t.tabsArr).forEach(e=>{t.tabsArr[e].tabControl&&t.tabsArr[e].tabControl.removeClassName("active")}),l.addClassName("active")},listenToScroll:function(){var e=this,t=e.container.getParent(),i=!1;t.addEvent("scroll",function(){t.scrollTop>251&&!i?(e.tabsArr.Properties.tabControl.removeClassName("active"),e.tabsArr.Usage.tabControl.addClassName("active"),i=!0):t.scrollTop<250&&i&&(e.tabsArr.Usage.tabControl.removeClassName("active"),e.tabsArr.Properties.tabControl.addClassName("active"),i=!1)}),e.adjustExtra()},adjustExtra:function(){let e=document.getElementsByClassName("tabSideBar")[0];document.getElementsByClassName("dialog-fields")[0].setStyle("margin-left",e.offsetWidth+14)},setTabsArr:function(e,t,i){this.tabsArr[e]||(this.tabsArr[e]={}),this.tabsArr[e][t]=i},_buildLineEditCtrl:function(t){var i=this,l=t.name.toLowerCase();let n=C[t.placeholder]||t.placeholder;null==n&&(n=C["label_"+t.name]);var r="";"quantity"===t.name.toLowerCase()&&(r="^(s*|[+]?[0-9]*[0-9.]+)$");var s=new a({value:e.is(t.value)?t.value:"",disabled:t.disabled,domId:t.domId||"xsr-line-editor",placeholder:n,displayStyle:e.is(t.displayStyle)?t.displayStyle:"text",displayClearFieldButtonFlag:t.clearIcon,pattern:r});this.inputField=s;var o=this;this.inputField.hasDirtyField=!(!t.mandatory||o.isValid(t.value)),this._fields[l]=this.inputField;var d=this._fields[l],c=function(e){var l;d.hasDirtyField=!(!t.mandatory||o.isValid(e)),t.forbiddenChar&&(l=o.validateBadCharacters.call(this,e,list,o))&&(d.hasDirtyField=l),"integer"!=t.type||d.hasDirtyField||(d.hasDirtyField=isNaN(e)),i.dispatchEvent("EVENT_TEXT_INPUT_CHANGE",{field:t.name}),o.checkDirtyFields.call(o)};return s.addEventListener("uncommittedChange",function(e){var t=e.dsModel.valueToCommit;c.call(this,t)}),s.addEventListener("change",function(e){var t=e.dsModel.value;c.call(this,t)}),s},_buildSpinBox:function(t){var i=t.name.toLowerCase(),l=C[t.basicErrorMessage]||t.basicErrorMessage||"Error";let a=C[t.placeholder]||t.placeholder;null==a&&(a=C["label_"+t.name]);var n=new m({value:e.is(t.value)?parseInt(t.value):null,disabled:t.disabled,domId:t.domId||"xsr-spin-box",placeholder:a,stepValue:t.stepValue?t.stepValue:1,allowUndefinedFlag:!t.allowUndefinedFlag||t.allowUndefinedFlag,decimals:t.decimals?t.decimals:0});this.inputField=n;var r=this;this.inputField.hasDirtyField=!(!t.mandatory||r.isValid(t.value)),this._fields[i]=this.inputField;var s=this._fields[i];return n.addEventListener("change",function(e){var a=e.dsModel.value;s.hasDirtyField=!(!t.mandatory||!isNaN(a)),s.hasDirtyField||t.negativeAllowed||(s.hasDirtyField=!(a>0)),isNaN(a)||r.toggleErrorMessage(i,l,s.hasDirtyField),r.checkDirtyFields.call(r),r.dispatchEvent("EVENT_SPINBOX_CHANGE",{field:t.name})}),n.addEventListener("uncommittedChange",e=>{s.hasDirtyField=!1;let t=isNaN(e.dsModel.valueToCommit),a=!isNaN(e.dsModel.valueToCommit)&&e.dsModel.valueToCommit<0;(t||a)&&(s.hasDirtyField=!0),r.toggleErrorMessage(i,l,s.hasDirtyField),r.checkDirtyFields.call(r)}),n},buildEditerCtrl:function(t){var i=t.name.toLowerCase();let l=C[t.placeholder]||t.placeholder;null==l&&(l=C["label_"+t.name]);var a=new n({value:e.is(t.value)?t.value:"",disabled:t.disabled,domId:t.domId||"xsr-editor",placeholder:l,nbRows:t.nbRows||3,newLineMode:"enter"});this.inputField=a;var r=this;this.inputField.hasDirtyField=!(!t.mandatory||r.isValid(t.value)),this._fields[i]=this.inputField;var s=this._fields[i],o=function(e){var i;s.hasDirtyField=!(!t.mandatory||r.isValid(e)),t.forbiddenChar&&(i=r.validateBadCharacters.call(this,e,list,r))&&(s.hasDirtyField=i),r.checkDirtyFields.call(r)};return a.addEventListener("uncommittedChange",function(e){var t=e.dsModel.valueToCommit;o.call(this,t)}),a.addEventListener("change",function(e){var t=e.dsModel.value;o.call(this,t)}),a},_buildDatePicker:function(t){var i=t.name.toLowerCase(),l=new Date;l.setDate(l.getDate()-1);var a={disabled:t.disabled,minValue:l,domId:"xsr-date-field"},n=e.is(t)?new r(a):new r;void 0!==t.value&&(n.elements.inputField.value=t.value),void 0!==t.placeholder&&(n.elements.inputField.placeholder=t.placeholder,n.elements.inputField.value=""),this.inputField=n,this.inputField.hasDirtyField=!!t.mandatory;var s=this;return n.addEventListener("liveChange",function(e){e.dsModel.value&&(s.hasChanged=!0)}),n.addEventListener("change",function(e){var t=e.dsModel.value;t&&s.hasChanged&&console.log(t)}),this._fields[i]=this.inputField,n},_buildButton:function(e){var t=e.name.toLowerCase(),i=new c({emphasize:"secondary",icon:{iconName:"search",fontIconFamily:WUXManagedFontIcons.Font3DS,fontIconSize:"1x"},domId:e.domId||"xsr-search-button"});this.inputField=i;this._fields[t]=this.inputField;this._fields[t];return i.tooltipInfos=new o({shortHelp:C.label_Search}),i.addEventListener("click",function(t){"manufacturer"===e.name?this.dispatchEvent("EVENT_MFT_BTN_CLICK",this):this.dispatchEvent("EVENT_SEARCH_GLOBAL",e.name)}.bind(this)),i},_buildToggleButtons:function(e){var t=this,i=function(i){t.dispatchEvent("TYPE_TOGGLE_CHANGE",e.name.toLowerCase()),t.checkDirtyFields.call(t)};if("radio"===e.toggleType){for(var l=[],a=e.toggleOptions.length,n=0;n<a;n++){var r=e.toggleOptions[n],s=r.name.toLowerCase(),o=new d({type:e.toggleType,disabled:r.disabled,label:r.label?r.label:"",domId:e.domId||"xsr-toggle-buttons",value:r.key,allowUnsafeHTMLLabel:!1});this.inputField=o,this._fields[s]=this.inputField,o.addEventListener("change",i.bind(this)),l.push(o)}return l}var c=e.name.toLowerCase(),u=e.toggleLabel?e.toggleLabel:"",m=new d({type:e.toggleType||"switch",disabled:e.disabled,label:this.formName?C[u]?C[u]:"":u,domId:e.domId||"xsr-toggle-button",value:e.key,allowUnsafeHTMLLabel:!1});return this.inputField=m,this._fields[c]=this.inputField,m.addEventListener("change",i.bind(this)),m},_buildTweakerBlob:function(e){var t,i=e.name.toLowerCase(),l=this;t=new u({placeholder:e.placeholder,domId:e.domId||"xsr-file-uploader",disabled:e.disabled}),this.inputField=t,this._fields[i]=this.inputField;var a=this._fields[i];return t.addEventListener("change",function(e){if(e.dsModel.blob){var t=e.dsModel._blobName,i=f.isValidFormatForDocumentCreate(t),n=this.getParent()?this.getParent().nextSibling:void 0;i.isRestricted&&this.getParent().nextSibling?(n&&(n.addClassName("error_file_format"),n.removeClassName("xsr-unsupported-file"),n.textContent=C.RestrictedFile,n.setStyle("display","block")),a.hasDirtyField=!0):i.isSupported?(n&&(n.removeClassName("error_file_format"),n.removeClassName("xsr-unsupported-file"),n.setStyle("display","none")),a.hasDirtyField=!1):(n&&(n.textContent=C.UnsupportedFile,n.removeClassName("error_file_format"),n.addClassName("xsr-unsupported-file"),n.setStyle("display","block")),a.hasDirtyField=!1),l.checkDirtyFields.call(l)}}),t},_buildComboBox:function(t){var i,a,n=t.name.toLowerCase(),r=this,s=[];for(a=0;a<t.elementsList.length;a++)s[a]={labelItem:t.elementsList[a].label,valueItem:t.elementsList[a].value};(i=new l({elementsList:this.formName===g.MEI_FORM?[C.label_Yes,C.label_No]:s,enableSearchFlag:!0,value:e.is(t.value)?t.value:"",placeholder:this.formName?C[t.placeholder]:t.placeholder,disabled:t.disabled,generateRegexpString:function(e){return e}})).elements.container.addClassName("xsrComboBox"),this.inputField=i,this.inputField.hasDirtyField=!(!t.mandatory||this.isValid(t.value)),this._fields[n]=this.inputField;var o=this._fields[n];return i.addEventListener("change",function(e){e.stopPropagation(),e.preventDefault();var i=e.dsModel.value;o.hasDirtyField=!(!t.mandatory||r.isValid(i)),r.dispatchEvent("EVENT_TYPE_CHANGE",{field:t.name}),r.checkDirtyFields.call(r)}),i},_buildAutoCompleteField:function(e){var t=this,i=e.name.toLowerCase();let l=C[e.placeholder]||e.placeholder;null==l&&(l=C["label_"+e.name]);var a=function(e,t){return new v({label:e,value:t})},n=function(){var i=new b;if(void 0===e.value)return i;i.prepareUpdate();let l=e.value;return Object.keys(l).forEach(function(n){if("multiselect"!==e.type||t.formName!==g.MEI_SUPPLIERS_FORM||"level"!==e.name&&"preference"!==e.name)r=a(C["label_"+l[n]],l[n]),i.addRoot(r);else{let e="label_"+l[n];l[n].indexOf(!1)&&(e="label_"+l[n].replace(" ","_"));var r=a(C[e],l[n]);i.addRoot(r)}}),i.pushUpdate(),i}(),r=new p({domId:e.domId||"xsr-auto-complete",placeholder:l,multiSearchMode:"multiselect"===e.type,elementsTree:n,allowFreeInputFlag:!1});t.inputField=r,t._fields[i]=t.inputField;var s=function(i){if("UnitOfMeasure"===e.name)return;let l=[],a=Object.keys(t.formGroups);a.splice(a.indexOf("RawMaterial"),1),void 0!==i&&Object.keys(i).forEach(function(e){let t=i[e]._options.value;l.push(t);let n=a.indexOf(t);-1!=n&&a.splice(n,1)}),t._groupVisiblityToggle(l,!0),t._groupVisiblityToggle(a,!1)};return r.addEventListener("hide",function(){let e=r.selectedItems;e&&(Object.keys(e).forEach(function(t){let i=e[t].getParent();for(;""!=i.options.label;)console.log(i.options.label),i.select(),i=i.getParent()}),s(e))}),r.addEventListener("onPostRemove",function(){s(r.selectedItems)}),r.addEventListener("change",function(){0==r.selectedItems.length&&s(r.selectedItems)}),r},_buildSelectAutoCompleteField:function(e){var t=this,i=e.name.toLowerCase();let l=C[e.placeholder]||e.placeholder;null==l&&(l=C["label_"+e.name]);var a=new b,n=new p({domId:e.domId||"xsr-auto-complete",placeholder:l,multiSearchMode:!1,elementsTree:a,allowFreeInputFlag:!1,allowResetToUndefinedByUIFlag:e.clearIcon});t.inputField=n,t._fields[i]=t.inputField;var r=this._fields[i];this.inputField.hasDirtyField=e.mandatory;var s=function(i){r.hasDirtyField=!(!e.mandatory||i),t.checkDirtyFields.call(t)};return n.addEventListener("change",function(){n.selectedItems?(s(!0),t.dispatchEvent("SELECT_CHANGE_EVENT",i)):(t.dispatchEvent("SELECT_CHANGE_EMPTY_EVENT",i),s(!1))}),n},updateField:function(e,t,i){if(!t)return null;var l=function(e,t){return new v({label:e,value:t})};let a=this.formfieldControls[t];if(i)a.inputfield.elementsTree=e;else{let t;(t=Array.isArray(a.inputfield)?a.inputfield[0].elementsTree:a.inputfield.elementsTree).prepareUpdate(),t.empty(),null!=e&&Object.keys(e).forEach(function(i){var a=l(e[i].labelItem,e[i].valueItem);t.addRoot(a)}),t.pushUpdate()}},_buildSearchField:function(e){var t=[];return t.push(this._buildLineEditCtrl(e)),t.push(this._buildButton(e)),t},_buildsearchSelect:function(e){var t=[];return t.push(this._buildSelectAutoCompleteField(e)),t.push(this._buildButton(e)),t},_clearButton:function(t,i){var l="file"===t.fieldoptions.type||"manufacturer"===t.fieldoptions.name?"clear-btn wux-ui-3ds wux-ui-3ds-2x wux-ui-3ds-reset":"clear-btn wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-reset",a=new e.createElement("div",{class:l});a.currentfield=t,a.fieldoptions=t.fieldoptions,a.tooltipInfos=new o({shortHelp:C.Clear,allowUnsafeHTMLShortHelp:!1});var n=this;return a.addEventListener("click",function(e){this.currentfield.value=void 0,this.currentfield.hasDirtyField=!1,i&&(i.setStyle("display","none"),i.removeClassName("error_file_format"),i.removeClassName("xsr-unsupported-file")),n.formName===g.MEI_FORM&&n.formfieldControls&&n.formfieldControls.manufacturer&&(n.formfieldControls.manufacturer.inputfield[0].value=void 0,n.dispatchEvent("CONTAINS_DIRTY_FIELD",{hasDirtyField:!0})),n.checkDirtyFields()}),a},_buildFields:function(t,i,l){var a,n,r,s,d,c,u,m=this,h=null==i.displayHeader||i.displayHeader;m.formStyle=null!=i.formStyle?i.formStyle:m.formStyle;let p=t.groupLabel;void 0!==p&&""!==p&&(u=new e.createElement("div",{class:"group-container"}),(c=this._buildHeader(t,u)).inject(l));var b=function(t){if("Template"===t.name&&f.getTemplateAdminConfig())return;var r,p,b,v={};if(s=t,d=m.formStyle?new e.createElement("div",{class:"new-field "+m.formStyle}):new e.createElement("div",{class:"new-field"}),u?(d.inject(u),v.groupContainer=u,v.expander=c):d.inject(l),void 0!==s.label&&h){var g=new e.createElement("div",{class:"new-field-header"}).inject(d);if((r=C[s.label]||s.label).includes("emxFramework.")&&(r=r.split(/[. ]+/).pop()),n=new e.Element("span",{text:r}).inject(g),v.fieldLabel=n,s.mandatory){m.hasMandFields=!0;var y=new e.Element("span",{class:"xsr-mandatory-flag",text:" *"}).inject(n);v.fieldLabel.mandFlagSpan=y}}b=new e.createElement("div",{class:"new-input-field"}).inject(d),p=new e.createElement("div",{class:"new-input-field-control"}).inject(b),null!=i.controlStyle&&p.addClassName(i.controlStyle),new e.createElement("div",{class:"input-field-error-icon",id:s.name.toLowerCase()+"_error_icon",html:{tag:"span",class:"wux-ui-3ds-attention wux-ui-3ds"}}).inject(b),new e.createElement("div",{class:"input-field-error-message",id:s.name.toLowerCase()+"_error_msg"}).inject(d),s.direction&&"vertical"===s.direction&&p.addClassName("field-control-view-vertical");var F,_=[];if(s.direction&&"vertical"===s.direction&&p.addClassName("field-control-view-vertical"),s.type)switch(s.type.toLowerCase()){case"string":case"text":a=m._buildLineEditCtrl(s);break;case"integer":a=m._buildSpinBox(s);break;case"textarea":a=m.buildEditerCtrl(s);break;case"date":a=m._buildDatePicker(s);break;case"select":a=m._buildComboBox(s);break;case"boolean":case"toggle":a=m._buildToggleButtons(s);break;case"button":a=m._buildButton(s);break;case"singleselect":a=m._buildSelectAutoCompleteField(s);break;case"searchselect":a=m._buildsearchSelect(s);break;case"specsearchfield":a=m._buildSearchField(s);break;case"uwaobject":a=s.element;break;case"readonlytext":"string"==typeof s.value&&(a=new e.createElement("span",{class:"xsr-message-span-field",text:s.value}));break;case"file":a=m._buildTweakerBlob(s);break;case"multiselect":case"autocomplete":a=m._buildAutoCompleteField(s);break;default:a=[]}if(e.is(m.inputField)&&(m.inputField.fieldoptions=s),a&&a.length)for(var E=0;E<a.length;E++)a[E].inject(p);else if(_&&_.length)for(E=0;E<_.length;E++)_[E].inject(p);else if(a){a.inject(p);var w=s.tooltip;w&&(a.tooltipInfos=new o({shortHelp:w,allowUnsafeHTMLShortHelp:!1}))}if(s.forbiddenChar||"file"===s.type){var S=s.forbiddenChar?C.replace(C.get("ForbiddenCharacters"),{label:s.label,badChars:s.forbiddenChar}):"";(F=m.messageField(S,"xsr-invalid-char")).inject(b),F.setStyle("display","none")}let x=m.formName?C[s.placeholder]:s.placeholder;null==x&&(x=C["label_"+s.name]);e.createElement("div",{class:"help-field",text:x});if(s.clearButton){var N=new e.createElement("div",{class:"clear-button"}).inject(p),T=m.inputField;m._clearButton(T,F).inject(N),v.ClearButton=N}if(v.parentfield=d,e.is(m.inputField))if(a&&a.length){v.inputfield=[];for(var L=0;L<a.length;L++)v.inputfield.push(a[L])}else if(_&&_.length){v.inputfield=[];for(L=0;L<_.length;L++)v.inputfield.push(_[L])}else v.inputfield=m.inputField;m._control[s.name]=v,m.inputField=null};if(Array.isArray(i))for(r=0;r<i.length;r++)b(i[r]);else b(i);c&&(m.formGroups[t.groupName]=c)},_buildHeader:function(t,i){let l=C["label_"+t.groupLabel]||t.groupLabel;void 0===l&&(l=t.groupName);var a=new e.Element("div",{class:"toggle-accordeon-container",id:t.groupName||t.groupLabel});new s({header:l,allowUnsafeHTMLHeader:!1,body:i,expandedFlag:!0,style:"filled-separate"}).inject(a);return a},_insertFields:function(t,i){var l,a=t;if(this.showWorkUnderIndicator){var n=new e.Element("div",{class:"xsr-workunder-flag-message"}).inject(this.maincontainer),r=C.replace(C.get("WorkUnderchangeIndicator"),{CATitle:this.workUnderTitle});this.messageField(r,"").inject(n)}for(l=0;l<a.fields.length;l++){var s=a.fields[l],o={groupName:s.groupName||"",groupLabel:s.groupLabel||"",groupVisible:s.visible};"Content"===s.groupLabel&&(o.groupVisible=!0);var d=s.groupFields||s.fieldsInfo||s;this._buildFields(o,d,i)}},createMandIdicator:function(){var t=new e.Element("div",{class:"xsr-mandatory-flag-message"}).inject(this.maincontainer,"top");new e.Element("span",{class:"xsr-mandatory-flag",text:"* "}).inject(t),this.messageField(C.MandatoryFieldIndicator,"").inject(t)},createfields:function(t,i){i&&"string"==typeof i&&((i=e.createElement("div",{class:"formTab",id:"tab_"+t.tabName})).inject(this.maincontainer),this.tabsArr.tabCount>1&&t.sectionLabel&&this.insertSectionLabel(i,t.sectionLabel||""),null!=t.fieldcontainerwrapper&&t.fieldcontainerwrapper&&(i=e.createElement("div",{class:t.containerstyle}).inject(i))),this._insertFields(t,i);var l=this._control;this._control={},void 0===this.formfieldControls?this.formfieldControls=l:Object.assign(this.formfieldControls,l)},insertSectionLabel:function(t,i){e.createElement("div",{class:"tabSectionLabel",html:{tag:"span",text:i}}).inject(t)},messageField:function(t,i){var l=new e.createElement("span",{class:"xsr-message-field",text:t});return e.is(i)&&l.addClassName(i),l},resetFields:function(e){var t,i=this.formfieldControls;for(t in i)if(e){let e,l;Array.isArray(i[t].inputfield)?(e=i[t].inputfield[0],l=i[t].inputfield[1].fieldoptions.type):(e=i[t].inputfield,l=i[t].inputfield.fieldoptions.type),["singleselect","text","textarea","searchselect","integer"].includes(l)?e.value=void 0:["boolean"].includes(l)&&(e.checkFlag=!1)}else if("Type"!==t&&"Template"!==t&&"manufacturer"!==t&&"Material"!==t){if(i[t].inputfield.value=void 0,i[t].inputfield.getContent()&&i[t].inputfield.getContent().getParent()&&i[t].inputfield.getContent().getParent().nextSibling){var l=i[t].inputfield.getContent().getParent().nextSibling;l.removeClassName("error_file_format"),l.removeClassName("xsr-unsupported-file"),l.setStyle("display","none")}}else"manufacturer"===t&&(i[t].inputfield[0].value=void 0)},validateBadCharacters:function(e,t,i){var l=!!this.getParent().nextSibling.className.contains("xsr-invalid-char");return!!i.isValid(e)&&f.hasBadChar(e)?(this.getParent().nextSibling.setStyle("display","block"),!0):!!l&&(this.getParent().nextSibling.setStyle("display","none"),!1)},checkDirtyFields:function(){var e=this._fields,t=!0;for(var i in e){if(e[i].hasDirtyField){t=!0;break}t=!1}this.dispatchEvent("CONTAINS_DIRTY_FIELD",{hasDirtyField:t})},toggleErrorMessage:function(e,t,i){let l=document.getElementById(e+"_error_msg"),a=document.getElementById(e+"_error_icon");l&&i?(l.setText(t),a.setStyle("visibility","visible")):(l.setText(""),a.setStyle("visibility","hidden"))},isValid:function(e){if(null!=e){return""!==e&&""!==("string"==typeof e?e.trim():e)}return!1},appendFieldsToForm:function(e){let t={fields:e},i=document.getElementById("tabCont_Attributes");this.createfields(t,i)},setValueInAutocomplete:function(e,t,i){let l=this.formfieldControls[i];Array.isArray(l.inputfield)?l.inputfield[0].value=t:l.inputfield.value=t},valueExistInAutocomplete:function(e,t,i){let l,a=0,n=that.formfieldControls[i],r=(l=Array.isArray(n.inputfield)?n.inputfield[0].elementsTree:n.inputfield.elementsTree).search({match:function(e){return e.nodeModel.getLabel()===label&&(a++,!0)},shouldStop:function(e){return 1===a}});if(r.length>0){r[0]}},manageFormWidth:function(){this.maincontainer.offsetWidth<=320&&!this.maincontainer.hasClassName("xsr-small-form")?this.maincontainer.addClassName("xsr-small-form"):this.maincontainer.offsetWidth>320&&this.maincontainer.removeClassName("xsr-small-form")},_groupVisiblityToggle:function(e,t){var i=this;console.log(i.formGroups),console.log(e),console.log(t?"show":"hide"),Object.keys(e).forEach(function(l){let a=i.formGroups[e[l]];a&&(t?a.setStyle("display","block"):a.setStyle("display","none"))})},isNonNlsLabel:function(e){return!!e.includes("emxFramework.")}})});
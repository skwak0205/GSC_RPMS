define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule",["UWA/Core"],function(e){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ImplementBehavior","ViewBehavior","ExpandFilterBehavior"],creator:function(n,t,o,i,r,a,d,c,s,u,h,f,l,g,p,v){var R=function(t){var i,a,d,c,s={forceDBMode:!0,silent:!0,onComplete:function(t){e.is(t)?r.insertInstance({isInstanceOf:t.id,V_Name:t.get("V_Name"),type:t.get("type"),isAggregatedBy:d.get("PID")},c):n.debug("Child reference fetch failed")}};i=o.getSelectedNodesInfo(),e.is(i,"array")&&e.is(t)&&(a=i[0].id,c=i[0].absPath,d=r.getReferenceModel(a),t.forEach(function(e){r.fetchRoot(e.id,s)}))};return{listenTo:function(){return{addReference:this.onAddReference,addInstance:this.onAddInstance,addConnection:this.onAddConnection,removeReference:this.onRemoveRefOrInst,removeInstance:this.onRemoveRefOrInst,removeConnection:this.onRemoveConnection,changeReference:this.onChangeIRPC,changeConnection:this.onChangeIRPC,addDocumentConnections:this.addDocumentConnections,EditAttribute:this.onEditAttribute,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,expandAll:this.onExpandAll,collapseAll:this.onCollapseAll}},onStart:function(){var r,a=n.getElement(),d=a.getElementsByClassName("module-toolbar-container")[0],c=a.getElementsByClassName("tree-list-container")[0],s=a.getElementsByClassName("drop-zone-container")[0];s&&i.getContent().inject(s),t.loadDocument(o.getWUXNodeModel()),r=t.getToolBarContent(),e.is(r)&&(r.inject(d),c.addClassName("with-toolbar")),t.getContent().inject(c)},onStop:function(){},onAddReference:function(n,t,i){var r={silentMode:!0,withLinksResolved:!1};e.is(i)&&(r=e.merge(i,{silentMode:!0,withLinksResolved:!1})),o.addNode(n,r)},onAddInstance:function(n,t){var i={silentMode:!0,withLinksResolved:!1},r=e.is(t)?e.merge(t,i):i,a=function(e){o.addNode(e,r)};e.is(n,"array")?o.withTransactionUpdate(function(){n.forEach(function(e){a(e)})}):a(n)},onAddOccurrence:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){o.addOccurences(e)})},addDocumentConnections:function(n){o.withTransactionUpdate(function(){e.is(n,"array")&&n.forEach(function(e){o.updateDocAttributes(e)})})},onChangeIRPC:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){o.updateAttributes(e)})})},onRemoveRefOrInst:function(e){var n=[];e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){n.push(e.get("PID"))}),o.removeNodes(n)})},onReparentInstances:function(e){o.reparent(e)},onReparentBegin:function(e){o.isNodeAdded(e)&&(o.showOverlay(),o.unSelectAll())},onReparentEnd:function(e){o.isNodeAdded(e)&&o.removeOverlay()},onExpandAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.expandNode(n)},onCollapseAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.collapseNode(n)},onEditAttribute:function(e,n){u.editAttribute(e,n)},onSearchAndAddInstance:function(){var e,n=o.getSelectedNodesInfo();1===n.length&&(e=r.getReferenceModel(n[0].id,!0),c.showSearchDialoguAndActivate(R,{types:r.getValidChildTypes(e)}))},onInsertAsCopy:function(){var e,n=o.getSelectedNodesInfo();1===n.length&&(e=r.getReferenceModel(n[0].id,!0),c.showSearchDialoguAndActivate(R,{types:r.getValidChildTypes(e),command:"duplicate"}))}}}}}),define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","GraphViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","CrossHighlightBehavior","UXFactoryBehavior","ImplementBehavior","DuplicateAdvBehavior","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","Viewer3DBehavior","AltSubBIBehavior","LinkBehavior","AltSubReplaceBehavior","RootsBehavior","CfgColumnsBehavior","InterWidgetComBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,f,l,g,p,v,R,A,B,y,C,I,m,T,w,E,P,S,b,N){var M,O,D,L,V,k,U,x,W,j,F,G=new(0,n.creator)(t,o,r,a,d,s,u,h,f,l,g,p,v,A,B,C,I),X=[],H=[];return L=function(n){var t,o=function(n){var o=!1;return e.is(n)&&e.is(n.get,"function")&&(n.isConnection()?o=H.indexOf(n.get("type"))>-1:(t=d.getPPRType(n),o=X.indexOf(t)>-1)),o};return Array.isArray(n,"array")?n.every(function(e){return o(e)}):o(n)},V=function(){return X.indexOf("PROCESS")>-1},k=function(){return X.indexOf("PART")>-1||X.indexOf("PRODUCT")>-1},j=function(){r.getSelectedNodesInfo().forEach(function(e){R.updateCrossHighlightForSelf(e.absPath.length>0?e.absPath:e.id)})},W=function(n){var a,d,c,s=function(){d=r.getWUXNodeModel(),i.setModel(d),c=i.viewName},u=function(){d=i.getModel(),o.loadDocument(d),c=o.viewName};a=t.getElement(),e.is(n,"boolean")?!0===n?a.hasClassName("showGraphView")||(s(),a.addClassName("showGraphView")):a.hasClassName("showGraphView")&&(u(),a.removeClassName("showGraphView")):(a.hasClassName("showGraphView")?u():s(),a.toggleClassName("showGraphView")),C.setCurrentView({currentView:c}),t.notify("ManageGraphViewCmdAvailablity")},x=function(n){var o=!1;e.is(n.arguments[0])&&e.is(n.arguments[0].sourceModuleId)?n.arguments[0].sourceModuleId!==t.getId()?o=!1:n.arguments[0].sourceModuleId===t.getId()&&(o=!0):o=C.getActiveView()===t.getId(),o&&W()},U=function(){var n,o,r,a=t.getId();o=t.getPreferenceValue("widgetLayoutValues"),e.is(o)&&""!==(n=e.Json.decode(o))[a]&&(r=n[a]===i.viewName,W(r))},F=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=d.getReferenceModel(e[0]);L(t)&&n.push(e)}),n.length>0&&G.onAddOccurrence(n)},{listenTo:function(){return e.extend(G.listenTo(),{addReference:this.onAddReference,addConnection:this.onAddConnection,addOccurrece:F,addProductOrPart:this.onAddProductOrPart,removeReference:this.onRemoveRefOrInst,removeInstance:this.onRemoveRefOrInst,removeConnection:this.onRemoveConnection,changeReference:this.onChangeIRPC,changeInstance:this.onChangeIRPC,addRootNode:this.onRootNodeAdded,changeConnection:this.onChangeIRPC,EditAttribute:this.onEditAttribute,Quantity:this.onEditAttribute,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,ToggleGraphView:x,widgetLayoutChanged:U,select:this.onSelect})},onStart:function(n){if(G.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": TreeListAuthoringModule initialization failed");X=n.pprTypes,H=n.linkTypes,M=e.is(n.displayBadge)?n.displayBadge:null,O=e.is(n.displayBadgeRPL)?n.displayBadgeRPL:null,D=e.is(n.displayBadgePS)?n.displayBadgePS:null,U(),t.notify("ManageGraphViewCmdAvailablity")},onStop:function(){G.onStop()},onAddReference:function(n,o,i){var r={silentMode:!0,withLinksResolved:!1};if(L(n))e.is(i)&&(r=e.merge(i,{silentMode:!0,withLinksResolved:!1})),G.onAddReference(n,o,r);else if(V()&&"RESOURCE"===n.get("PPRTYPE"))return void t.notify("addToAuxiliaryView",[n])},onAddConnection:function(n){var t=function(n){var t,o,i;L(n)&&(t=n.get("from"),o=n.get("type"),i=t,g.isDocConnection(n)?r.updateDocAttributes(t):(V()&&(r.isNodeAdded(t)&&(r.prepareUpdate(),e.is(M)&&M.linkType===o&&r.updateBadge(i,M.badgeIcon),r.updateAttributes(n),r.pushUpdate()),j()),k()&&j()))};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onChangeIRPC:function(n){var t=function(e){L(e)&&G.onChangeIRPC(e)};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onRemoveRefOrInst:function(n){var t,o=[];t=function(e){L(e)&&o.push(e)},e.is(n,"array")?n.forEach(function(e){t(e)}):t(n),o.length>0&&G.onRemoveRefOrInst(o)},onRemoveConnection:function(n){var o=!1,i=function(n){var i,a;if(e.is(n)){if(L(n))if(a=n.get("from"),g.isDocConnection(n))r.updateDocAttributes(a);else{if(V()){if(i=n.get("type"),!e.is(i,"string"))return void t.debug("Could not get connection type");r.isNodeAdded(a)&&((e.is(M)&&M.linkType===i||e.is(O)&&O.linkType===i||e.is(D)&&D.linkType===i)&&r.updateBadge(a,null),r.updateAttributes(n)),o=!0}k()&&(o=!0)}}else t.debug("ERROR: No model defined")};r.withTransactionUpdate(function(){e.is(n,"array")?n.forEach(function(e){i(e)}):i(n),o&&j()})},onReparentInstances:function(e){V()&&G.onReparentInstances(e)},onReparentBegin:function(e){V()&&G.onReparentBegin(e)},onReparentEnd:function(e){V()&&G.onReparentEnd(e)},onEditAttribute:function(e,n){V()&&G.onEditAttribute(e,n)},onSearchAndAddInstance:function(){V()&&G.onSearchAndAddInstance()},onInsertAsCopy:function(){V()&&G.onInsertAsCopy()},onRootNodeAdded:function(n,o){var i,a,d=!e.is(o.loadRelatedobjectsToView)||o.loadRelatedobjectsToView;V()&&e.is(n)&&r.isNodeAdded(n)&&d&&(i=B.getScopeLinksOfImplementing(n)).length>0&&(a=i[0].get("to"),t.notify("addProductOrPart",{pid:a}))},onAddProductOrPart:function(n){var o,i;e.is(n)&&e.is(n.pid)?k()&&(r.isNodeAdded(n.pid)||(o=d.getReference(n.pid),e.is(o)?r.addNode(o,{silentMode:!0,withLinksResolved:!1}):(i={forceDBMode:!0,silent:!0,onComplete:function(n){e.is(n)&&r.addNode(n,{silentMode:!0,withLinksResolved:!1})}},d.fetchRoot(n.pid,i)))):t.debug(this.name,"Required input parameters are missing.")},onSelect:function(n){var t;e.is(R)&&e.is(n)&&e.is(n.changed)&&(t=n.changed,R.crossHighlightImpacted(t.nodeId,t.absPath,t.isSelected))}}}}}),define("DS/DELPPWTreeListAuthoringModule/UpperViewsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ImplementBehavior","CapableResourceLinkBehaviour","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","LinkBehavior","RootsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,f,l,g,p,v,R,A,B,y,C,I,m,T,w){var E,P,S,b,N,M,O,D,L,V,k,U,x,W,j=new(0,n.creator)(t,o,i,r,a,c,s,u,h,f,l,g,p,v,R,y),F=[],G=[];return E=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=F.indexOf(t)>-1),o},P=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=G.indexOf(n.get("type"))>-1),t},S=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},b=function(e,n,t){E(e)&&j.onAddReference(e,n,t)},N=function(n){var t=!1,o=[];n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,o){var r,a;P(n)&&(r=n.get("from"),a=n.get("to"),e.is(o,"array")&&o.length>0&&o.indexOf(a)>-1||(o.push(a),l.isDocConnection(n)?i.updateDocAttributes(r):i.isNodeAdded(a)&&(i.updateAttributes(n),t=!0)))}(n,o)}),t&&S()})},M=function(n){var t=[],o=function(n,t){var o,r;P(n)&&(o=n.get("to"),e.is(t,"array")&&t.length>0&&t.indexOf(o)>-1||(t.push(o),i.isNodeAdded(o)||(r=a.getReference(o),e.is(r)&&i.addNode(r,{loadChildren:!0}),S())))};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){o(e,t)})}):o(n,t)},L=function(n){var t=function(e){(E(e)||P(e))&&j.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},O=function(n){var t=function(e){E(e)&&j.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},D=function(n){var o,r=!1;n=e.is(n,"array")?n:[n],o=function(n){var o,a;e.is(n)?P(n)&&(o=n.get("from"),a=n.get("to"),l.isDocConnection(n)?i.updateDocAttributes(o):i.isNodeAdded(a)&&(i.updateAttributes(n),r=!0)):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&S()})},V=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);E(n)&&j.onReparentInstances(e)},k=function(e){var n=a.getReferenceModel(e);E(n)&&j.onReparentBegin(e)},U=function(e){var n=a.getReferenceModel(e);E(n)&&j.onReparentEnd(e)},x=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},W=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);E(t)&&n.push(e)}),n.length>0&&j.onAddOccurrence(n)},{listenTo:function(){return e.extend(j.listenTo(),{addReference:b,addConnection:N,addLinkedObject:M,removeReference:O,removeInstance:O,removeConnection:D,changeReference:L,changeInstance:L,changeConnection:L,reparentInstances:V,reparentBegin:k,reparentEnd:U,EGraphNodeSelect:x,addOccurrece:W})},onStart:function(e){if(j.onStart(e),!e.pprTypes||!e.linkTypes)throw new Error(t.getId()+": UpperViewsModule initialization failed");F=e.pprTypes,G=e.linkTypes},onStop:function(){j.onStop()}}}}}),define("DS/DELPPWTreeListAuthoringModule/RoutingsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ImplementBehavior","CapableResourceLinkBehaviour","DuplicateAdvBehavior","ViewBehavior","ExpandFilterBehavior","SetSequencingModeBehavior","LoadObjectBehavior","RootsBehavior","LinkBehavior","ProductFlowLinkBehavior","CfgColumnsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,f,l,g,p,v,R,A,B,y,C,I,m,T,w,E,P,S,b){var N,M,O,D,L,V,k,U,x,W,j,F,G,X,H,z,Z,q=new(0,n.creator)(t,o,i,r,a,c,s,u,h,f,l,g,p,v,R,C),_=[],J=[],Q=[];return O=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=_.indexOf(t)>-1),o},D=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=J.indexOf(n.get("type"))>-1),t},L=function(e){return Q.indexOf(e)>-1},V=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},k=function(e,n,t){O(e)&&q.onAddReference(e,n,t)},F=function(n,o){var r;e.is(n)&&i.isNodeAdded(n)&&(r=a.getImpactedConnections([n]),t.notify("addConnection",[r,o]))},U=function(n,o){var r=!1,a=[];o=o||{},n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,a){var d,c,s,u,h=!e.is(o.loadRelatedobjectsToView)||o.loadRelatedobjectsToView;D(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=w.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),c=n.get("to"),s=n.get("type"),u=d,e.is(a,"array")&&a.length>0&&a.indexOf(c)>-1||(a.push(c),l.isDocConnection(n)?i.updateDocAttributes(d):i.isNodeAdded(d)&&(e.is(N)&&N.linkType===s?i.updateBadge(u,N.badgeIcon):e.is(M)&&M.linkType===s&&i.updateBadge(u,M.badgeIcon),i.updateAttributes(n),r=!0,L(s)&&h&&t.notify("addLinkedObject",[n]))))}(n,a)}),r&&V()})},W=function(n){var o,r=!1,a=[];n=e.is(n,"array")?n:[n],o=function(n){var o,d;e.is(n)?D(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=w.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),l.isDocConnection(n)?i.updateDocAttributes(d):(o=n.get("type"),e.is(o,"string")?i.isNodeAdded(d)&&((e.is(N)&&N.linkType===o||e.is(M)&&M.linkType===o)&&a.push(d),i.updateAttributes(n),r=!0):t.debug("Could not get connection type"))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&V(),a.length>0&&i.updateBadge(a,null)})},j=function(n){var t=function(e){(O(e)||D(e))&&q.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},x=function(n){var t=function(e){O(e)&&q.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},G=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);O(n)&&q.onReparentInstances(e)},X=function(e){var n=a.getReferenceModel(e);O(n)&&q.onReparentBegin(e)},H=function(e){var n=a.getReferenceModel(e);O(n)&&q.onReparentEnd(e)},z=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},Z=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);O(t)&&n.push(e)}),n.length>0&&q.onAddOccurrence(n)},{name:"RoutingsModule",listenTo:function(){return e.extend(q.listenTo(),{addReference:k,addConnection:U,addOccurrece:Z,removeReference:x,removeInstance:x,removeConnection:W,changeReference:j,changeInstance:j,changeConnection:j,addRootNode:F,reparentInstances:G,reparentBegin:X,reparentEnd:H,EGraphNodeSelect:z})},onStart:function(n){if(q.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": RoutingsModule initialization failed");_=n.pprTypes,J=n.linkTypes,Q=e.is(n.loadConectedObjLinkTypes)?n.loadConectedObjLinkTypes:[],N=e.is(n.displayBadge)?n.displayBadge:null,M=e.is(n.displayBadgePS)?n.displayBadgePS:null},onStop:function(){q.onStop()}}}}});
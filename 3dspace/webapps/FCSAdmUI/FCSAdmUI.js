define("DS/FCSAdmUI/Util/FCSUtils",["UWA/Class","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e){"use strict";var i=t.extend({countcallback:function(t){return t.toLocaleString()+" "+e.files},sizecallback:function(t){for(var i=0;t>=1e3;)t=Math.floor(t),t/=1e3,i++;return t.toLocaleString()+" "+["","K","M","G","T","P","E","Z","Y"][i]+e.byteSuffix},filespeedcallback:function(t,i){return e.speed+" "+t+" "+e.files+"/s, "+e.remaining+" "+i},sizespeedcallback:function(t,n){return e.speed+" "+i.sizecallback(t)+"/s, "+e.remaining+" "+n}}).singleton({});return i}),define("DS/FCSAdmUI/Model/StoreDetailsModel",["UWA/Class/Model"],function(t){"use strict";return t.extend({defaults:{name:"",path:"",description:"",url:"",locations:[]},setup:function(){this.get("path")&&this.set("path",this.get("path").replace(/\\/g,"/"))},getName:function(){return this.get("name")},sync:function(t,e,i){return i.timeout=15e3,"read"===t&&(i.type="json"),i.allowCrossOriginRequest=!0,i.cors=!0,i.withCredentials=!0,i.cache=-1,this._parent(t,e,i)}})}),define("DS/FCSAdmUI/FCSTableView",["UWA/Core","UWA/Class/View","DS/UIKIT/Alert"],function(t,e,i){return e.extend({render:function(){return this.container.addContent({tag:"table",id:"fcs-root-table",html:[this.siteList.elements.container,this.storeList.elements.container]}),this.container},setup:function(e){this.container=t.createElement("div");var n=new i({className:"fcs-alert",closable:!0,visible:!0,autoHide:!0,renderTo:this.container,messageClassName:"error"});n.elements.container.setStyle("visibility","visible"),this.siteList=e.siteList,this.storeList=e.storeList,this.storeList.alert=n}})}),define("DS/FCSAdmUI/Util/SpeedCalculator",["UWA/Class","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e){"use strict";var i=function(t){if(t.ready()){var e,i=(e=t.values[(t.index+1)%t.count])[0],n=e[1],s=(e=t.values[t.index])[0],o=e[1];t.speed=(o-n)/(s-i),t.remaining=(t.maxValue-o)/t.speed,t.calculated=!0}};return t.extend({init:function(t){this.calculated=!1,this.speed=0,this.remaining=0,this.index=0,this.count=0,this.values=[[(new Date).getTime(),0]],this.maxValue=t.maxValue},addTick:function(t){this.index=(this.index+1)%30,this.values[this.index]=[(new Date).getTime(),t],this.calculated=!1,this.count<30&&this.count++},ready:function(){return this.count>=5},getSpeed:function(){return this.calculated||i(this),Math.floor(1e3*this.speed)},getRemaining:function(){return this.calculated||i(this),Math.floor(this.remaining)},getEstimatedRemaining:function(){this.calculated||i(this);var t=(t=Math.floor(this.remaining))-t%5e3,n=new Date(t),s="",o=n.getUTCFullYear()-1970;o>0&&(s=o+" "+e.years),n.getUTCMonth()>0&&(s+=" "+n.getUTCMonth()+" "+e.months);var a=n.getUTCDate()-1;return a>0&&(s+=" "+a+" "+e.days),n.getUTCHours()>0&&(s+=" "+n.getUTCHours()+" "+e.hours),n.getUTCMinutes()>0&&(s+=" "+n.getUTCMinutes()+" "+e.minutes),s+=" "+n.getUTCSeconds()+" "+e.secondes}})}),define("DS/FCSAdmUI/Details/FCSItemDetails",["UWA/Class/View","UWA/Core","DS/UIKIT/Alert","DS/UIKIT/Input/Button","DS/UIKIT/Mask","DS/UIKIT/SuperModal","DS/W3DXComponents/IdCard","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o,a,l){"use strict";return t.extend({init:function(t){this._parent(t),this.model=t.model,this.newtitle=this.model.get("name"),this.url=t.options.url,this.inEditMode=!1,this.header=e.createElement("div",{class:"header"}),this.idCard=this.buildHeader(),this.header.setContent(this.idCard),this.body=e.createElement("div",{class:"body"}),this.footer=e.createElement("div",{class:"footer",styles:{"text-align":"right"}}),this.elements.container=e.createElement("div",{class:"detailed",styles:{"min-height":"30px"},html:[this.header,this.body,this.footer]}),this.alert=new i({className:"fcs-alert",closable:!0,renderTo:this.elements.container,visible:!0,autoHide:!0,messageClassName:"error"}),this.alert.elements.container.setStyle("visibility","visible"),this.idCard.selectFacet(0),this.mask()},render:function(){return this.setBody(this.getFacet(this.idCard.getSelectedFacet())),this.setFooter(this.getButtons()),this.unmask(),this.elements.container},setBody:function(t){this.body.setContent([t,{styles:{clear:"both"}}])},setFooter:function(t){this.footer.setContent(t)},buildHeader:function(){var t=this,e=this.buildFacets(),i=[];i.push({text:l.editProperties,icon:"pencil",handler:function(){t.options.isAdmin?(t.inEditMode=!0,this.selectFacet(0),t.refresh(),this.switchToEditMode()):t.alert.add(l.notAdmin)}}),i.push({text:l.deleteElem,icon:"trash",handler:function(){t.options.isAdmin?t.validateDelete():t.alert.add(l.notAdmin)}});var n=new a({model:this.model,attributesMapping:{title:function(){return this.getName()},description:function(){return this.get("description")}},actions:i,facets:function(){return e}});return this.listenTo(n,{}),n},endDelete:function(t){var e=this,i=this.model.get("name"),n=this.getSuperModal();if(t)return this.alert.add(t);var s=l.confirmDelete.format(this.kind,i);n.confirm(s,l.confirmDeleteTitle,function(t){t&&e.model.destroy({onComplete:function(){e.options.options.reload(),e.options.options.setTableView()},onFailure:function(){n.destroy(),e.alert.add(l.unableDelete.format(e.kind,i))},headers:{"X-DS-CSRFTOKEN":e.model.collection.csrf,"Content-Type":"application/json"}})})},getSuperModal:function(){return new o({closable:!1})},getButtons:function(){var t=this,e=[];if(this.inEditMode)return e.push(new n({value:l.save,events:{onClick:function(){t.save()}}})),e.push(new n({value:l.cancel,events:{onClick:function(){t.inEditMode=!1,t.refresh(),t.idCard.switchToViewMode()}}})),this.elements.container.buttons=e,e},save:function(){this.mask();var t=this,e={};if(this.validate(e)){var i=this.getBody().getElement(".name");i=i.value;var n=this.getBody().getElement(".description");if(n=n.value,!i)return this.alert.add(l.cannotBeEmpty.format(l.name)),void this.unmask();e.name=i,e.description=n,t.model.save(e,{onComplete:function(e,i){t.endSave()},onFailure:function(e,n){t.unmask(),console.log(n),t.alert.add(l.unableToEdit.format(t.kind,i))},silent:!0,wait:!0,headers:{"X-DS-CSRFTOKEN":t.model.collection.csrf,"Content-Type":"application/json"}})}else this.unmask()},endSave:function(){this.inEditMode=!1,this.idCard.switchToViewMode(),this.setFooter(),this.model.dispatchEvent("onChange:id",[this.model]),this.model.dispatchEvent("onChange",[this.model]),this.reload()},refresh:function(){this.mask(),this.render()},reload:function(){var t=this;this.mask(),delete this.cache,this.model.fetch({onComplete:function(){t.refresh()},onFailure:function(e){t.unmask(),console.log(e),t.alert.add(l.unableToRetrieve.format(t.model.get("name")))}})},destroy:function(){this.idCard.destroy()},getBody:function(){return this.content||(this.content=this.elements.container),this.content},mask:function(){this.loader||(s.mask(this.getBody()),this.loader=!0)},unmask:function(){this.loader&&s.unmask(this.getBody()),this.loader=null}})}),define("DS/FCSAdmUI/Model/SiteDetailsModel",["UWA/Class/Model"],function(t){"use strict";return t.extend({defaults:{name:"",description:"",locations:[]},setup:function(){},getName:function(){return this.get("name")},sync:function(t,e,i){return i.timeout=15e3,"read"===t&&(i.type="json"),i.allowCrossOriginRequest=!0,i.cors=!0,i.withCredentials=!0,i.cache=-1,this._parent(t,e,i)}})}),define("DS/FCSAdmUI/Collection/FCSItemCollection",["UWA/Class/Collection"],function(t){"use strict";return t.extend({options:{timeout:15e3,type:"json",allowCrossOriginRequest:!0,cors:!0,withCredentials:!0,cache:-1},sync:function(t,e,i){return i=this.mergeOptions(i),this._parent(t,e,i)},parse:function(t){return this.setMaxLimit(t.count),this.isAdmin="TRUE"===t.admin,this.csrf=t.csrf,t.result},getMaxLimit:function(){return this.maxlimit},setMaxLimit:function(t){this.maxlimit=t},mergeOptions:function(t){var e=this.merge(t.data||{},this.options.data);return(t=this.merge(t||{},this.options)).data=e,t},merge:function(t,e){var i,n=Object.prototype.hasOwnProperty;for(i in e)n.call(e,i)&&void 0===t[i]&&(t[i]=e[i]);return t}})}),define("DS/FCSAdmUI/Details/StatView",["UWA/Class/View","DS/UIKIT/Mask","DS/WAFData/WAFData"],function(t,e,i){"use strict";return t.extend({tagName:"div",className:"facet-stat",init:function(t){this.parent=t.parent,this.model=t.model},render:function(){return{html:[{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:this.buildDefinitions()}]},{styles:{clear:"both"}}]}},buildDefinitionElem:function(t,e,i){return{tag:"tr",styles:{height:"81px"},html:[{tag:"td",styles:{width:"50%"},text:t},{tag:"td",styles:{width:"50%"},html:this.buildField(e,i)}]}},buildField:function(t,n){var s=this,o=UWA.createElement("span",{class:"fcs-definition-value",text:""});return e.mask(o),i.authenticatedRequest(this.model.collection.url+"/"+this.model.getName()+"/"+t,{onComplete:function(t){n&&(t=n(t)),o.innerHTML=t,e.unmask(o)},onFailure:function(t){s.parent.alert.add(t),e.unmask(o)}}),o}})}),define("DS/FCSAdmUI/FCSDetailsView",["UWA/Core","UWA/Class/View","DS/UIKIT/Input/Button","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n){return e.extend({render:function(){return this.container},setup:function(e){this.detailViewContent=t.createElement("div"),this.container=t.createElement("div",{id:"fcs-root-detail",html:[new i({value:n.backToTable,events:{onClick:e.setTableView}}),this.detailViewContent]})},setElem:function(t){this.detailViewContent.setContent(t)}})}),define("DS/FCSAdmUI/List/FCSItemList",["UWA/Class/View","DS/WAFData/WAFData","DS/UIKIT/Tooltip","DS/UIKIT/Mask","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s){return t.extend({setup:function(t){this._parent(t),this.loaded=!1,this.url="",this.elements.container=UWA.createElement("tbody",{class:"fcs-list-wrapper"}),this.elements.container.setContent({class:"empty-body"}),this.mask()},load:function(t){this.setOptions(t),this.url=t.platform.url,this.collection=this.getNewCollection(),this.reload()},render:function(){this.getBody().setContent(this.buildContent()),this.unmask()},getPersistedData:function(){var t=this;this.collection.fetch({onComplete:function(){t.loaded=!0,t.render()},onFailure:function(){t.unmask();var e=s.unableToRetrieve.format(t.kind);t.addalert(e)}})},reload:function(){this.mask(),this.loaded=!1,this.options.platform&&null!==this.options.platform&&this.getPersistedData()},buildTile:function(t,n){var o,a,l,r,d=this,c=t.get("name");if(t.get("pingurl")){var u=UWA.createElement("div",{class:"circle circleUnknown"}),h=new i({target:u,body:s.statuschecking,position:"bottom",delay:{show:200}}),m=UWA.createElement("div",{class:"circlewrapper",html:[u,h]});e.request(t.get("pingurl"),{onComplete:function(){u.className="circle circleOK",h.setBody(s.statusOK)},onFailure:function(){u.className="circle circleKO",h.setBody(s.statusKO)}})}if(n){var f=UWA.createElement("span",{tag:"span",class:"fonticon fonticon-2x fonticon-attention"});a=[f,new i({target:f,body:n,position:"bottom",delay:{show:200}})]}o={class:"fcsinnercell",text:c},!0===t.isDummy?(l="fonticon-plus",r=this.nlsadd):(l="fonticon-info",r=s.details);var p=UWA.createElement("span",{class:"fonticon fonticon-fonticon "+l}),S=UWA.createElement("div",{class:"fcs-edit",events:{click:function(e){e.stopPropagation(),d.displayInfo(t)}}}),g=new i({target:S,body:r,position:"bottom",closeOnClick:!0,delay:{show:200}});return S.setContent([p,g]),{class:"fcscell",html:[o,m,a,S]}},buildInnerTitle:function(){var t=this,e=this.nlsadd,n=UWA.createElement("span",{class:"fonticon fonticon-fonticon fonticon-plus"}),s=UWA.createElement("div",{class:"fcs-edit",events:{click:function(e){e.stopPropagation(),t.displayInfo(t.model)}}}),o=new i({target:s,body:e,position:"bottom",closeOnClick:!0,delay:{show:200}});return s.setContent([n,o]),[{styles:{position:"relative"},html:[{class:"fcstitle",html:[{tag:"span",class:"fonticon "+this.fonticon},{tag:"span",text:UWA.i18n("{0}").format(this.kind)}]},s]}]},getBody:function(){return this.content||(this.content=this.elements.container),this.content},mask:function(){this.isMasked()||(n.mask(this.getBody()),this.masked=!0)},unmask:function(){this.isMasked()&&(n.unmask(this.getBody()),this.masked=!1)},isMasked:function(){return this.masked}})}),define("DS/FCSAdmUI/Model/LocationDetailsModel",["UWA/Class/Model"],function(t){"use strict";return t.extend({defaults:{name:"",path:"",description:"",url:""},setup:function(){this.get("path")&&this.set("path",this.get("path").replace(/\\/g,"/"))},getName:function(){return this.get("name")},sync:function(t,e,i){return i.timeout=15e3,"read"===t&&(i.type="json"),i.allowCrossOriginRequest=!0,i.cors=!0,i.withCredentials=!0,i.cache=-1,this._parent(t,e,i)}})}),define("DS/FCSAdmUI/DetailsCreate/FCSItemDetailsCreate",["UWA/Class/View","DS/UIKIT/Alert","DS/UIKIT/Input/Button","DS/UIKIT/Mask","DS/UIKIT/Modal","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o){"use strict";return t.extend({init:function(t){this._parent(t),this.options=t.options;var i=this.getContent();this.buildContainer(i),this.elements.container.inject(document.body).show(),this.elements.container.setFooter(this.getButtons(this.elements.container)),this.alert=new e({className:"fcs-alert",closable:!0,visible:!0,autoHide:!0,messageClassName:"error"}).inject(this.elements.container.getBody())},buildContainer:function(t){this.elements.container=new s({closable:!0,className:"fcs-root big-modal "+this.kind+"-details",header:"<h3>"+this.nlsCreationTitle+"</h3>",body:t,footer:"",events:{onHide:function(){this.destroy()}}})},getContent:function(){return{class:this.kind+"-details-information",html:this.buildView()}},buildView:function(){var t=[this.buildDefinitionElem(o.name,"name"),this.buildDefinitionElem(o.description,"description")];return{tag:"div",html:[{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:t=t.concat(this.buildDefinitions())}]}]}},getButtons:function(t){var e=this,n=[];return n.push(new i({value:o.save,events:{onClick:function(){e.save()}}})),n.push(new i({value:o.cancel,events:{onClick:function(){t.hide()}}})),this.elements.container.buttons=n,n},save:function(){this.mask();var t=this;if(this.validate()){var e=this.getBody().getElement(".name").value,i=this.getBody().getElement(".description").value;if(!e)return this.alert.add(o.cannotBeEmpty.format(o.name)),void this.unmask();this.model.set("name",e,{silent:!0}),this.model.set("description",i,{silent:!0}),this.model.save({},{onComplete:function(){t.endSave()},onFailure:function(i,n){t.unmask(),console.log(n),t.alert.add(o.unableToCreate.format(t.kind,e))},silent:!0,headers:{"X-DS-CSRFTOKEN":this.collection.csrf,"Content-Type":"application/json"}})}else this.unmask()},endSave:function(){this.collection.add(this.model),this.options.reload(),delete this.model.url,delete this.model.isDummy,this.elements.container.destroy(),this.print()},getBody:function(){return this.content||(this.content=this.elements.container.elements.body),this.content},buildField:function(t,e,i){return{tag:"input",class:e,type:"text",styles:i,placeholder:t,maxlength:128}},buildDefinitionElem:function(t,e){return{tag:"tr",html:[{tag:"td",text:t},{tag:"td",html:this.buildField(t,e)}]}},mask:function(){n.mask(this.getBody())},unmask:function(){n.unmask(this.getBody())}})}),define("DS/FCSAdmUI/Details/ActionView",["UWA/Class/View","DS/Controls/ProgressBar","DS/UIKIT/Input/Button","DS/UIKIT/Mask","DS/WAFData/WAFData","DS/FCSAdmUI/Util/SpeedCalculator","DS/FCSAdmUI/Util/FCSUtils","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o,a,l){"use strict";return t.extend({tagName:"div",className:"facet-action",integritycallback:{speedprint:a.filespeedcallback,count:l.missingfilesnumber,size:l.nbfiles,withcountunit:function(t){return t},withsizeunit:function(t){return t}},purgecallback:{speedprint:a.filespeedcallback,count:l.nbfiles,size:l.sizefiles,withcountunit:function(t){return t},withsizeunit:function(t){return a.sizecallback(t)}},synccallback:{speedprint:a.sizespeedcallback,count:l.nbfiles,size:l.sizefiles,withcountunit:function(t){return t},withsizeunit:function(t){return a.sizecallback(t)}},init:function(t){this._parent(t),this.model=t.model,this.parent=t.parent},render:function(){return{html:[{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:this.buildDefinitions()}]},{styles:{clear:"both"}}]}},buildDefinitionElem:function(t,e,i,s){var o=UWA.createElement("div",{class:"fcs-previous-value"});return n.mask(o),{tag:"tr",styles:{height:"81px"},html:[{tag:"td",styles:{width:"200px"},text:t},{tag:"td",styles:{width:"initial"},html:this.buildField(e,i,s,o)},{tag:"td",styles:{width:"300px"},html:o}]}},buildField:function(t,a,r,d){var c=this,u=UWA.createElement("div",{class:"fcs-definition-value",text:""});n.mask(u);var h=new e({value:0}),m=null,f=UWA.createElement("div"),p=UWA.createElement("div",{styles:{width:"80%",float:"left"},html:[h,f]}),S=new i({value:l.abort,events:{onClick:function(){s.authenticatedRequest(c.model.collection.url+"/"+c.model.getName()+"/"+t+"/abort/"+a,{headers:{"X-DS-CSRFTOKEN":c.model.collection.csrf,"Content-Type":"application/json"}})}}}),g=UWA.createElement("div",{html:[p,S]}),C=!1,D=function(){u.isInjected()&&s.authenticatedRequest(c.model.collection.url+"/"+c.model.getName()+"/"+t+"/status/"+a,{responseType:"json",type:"json",onComplete:function(e){if(c.buildPreviousStatusField(d,e.previous,t,a,r),"nothing"===e.current.result&&C)return C=!1,"succeeded"===e.previous.result?h.value=100:"failed"===e.previous.result&&c.parent.alert.add(l.failure),void setTimeout(D,1e3);"nothing"===e.current.result?u.setContent(new i({value:l.startPurge,events:{onClick:function(){n.mask(u),s.authenticatedRequest(c.model.collection.url+"/"+c.model.getName()+"/"+t+"/run/"+a,{onComplete:function(){m=null,f.innerHTML="",h.value=0,D()},onFailure:function(){n.unmask(u),c.parent.alert.add(l.failedtostart)},headers:{"X-DS-CSRFTOKEN":c.model.collection.csrf,"Content-Type":"application/json"}})}}})):(C||(C=!0,u.setContent(g)),m||0==e.current.totalSize||(m=new o({maxValue:e.current.totalSize})),m&&(m.addTick(e.current.curSize),m.ready()?f.innerHTML=r.speedprint(m.getSpeed(),m.getEstimatedRemaining()):f.innerHTML=l.calculating),n.unmask(u),delete c.parent.cache,h.value=0==e.current.totalSize?0:100*e.current.curSize/e.current.totalSize,setTimeout(D,2e3))},onFailure:function(){c.parent.alert.add(l.failedToRetrieveStatus)},headers:{"X-DS-CSRFTOKEN":c.model.collection.csrf,"Content-Type":"application/json"}})};return setTimeout(D,0),u},buildPreviousStatusField:function(t,e,n,o,a){if("nothing"!=e.result){var r;if("true"==e.hasreport&&e.count>0){var d=this;r={styles:{"text-align":"right"},html:new i({value:l.downloadreport,events:{onClick:function(){s.authenticatedRequest(d.model.collection.url+"/"+d.model.getName()+"/"+n+"/getreport/"+o,{onComplete:function(t){window.location.assign(t)},onFailure:function(){d.parent.alert.add(l.failedtodownloadreport)},headers:{"X-DS-CSRFTOKEN":d.model.collection.csrf,"Content-Type":"application/json"}})}}})}}var c,u=[{text:l.previousresult},{tag:"dl",html:[this.generatepreviousresultfield(l.result,(c=e.result,"aborted"==c?l.aborted:"failed"==c?l.failed:"succeeded"==c?l.success:void 0)),this.generatepreviousresultfield(l.start,new Date(parseInt(e.start)).toLocaleString()),this.generatepreviousresultfield(l.end,new Date(parseInt(e.end)).toLocaleString()),this.generatepreviousresultfield(a.size,a.withsizeunit(e.size)),this.generatepreviousresultfield(a.count,a.withcountunit(e.count)),{styles:{clear:"both"}}]},r];t.setContent(u)}else t.setContent({text:l.nopreviousresult})},generatepreviousresultfield:function(t,e){return t?{styles:{clear:"both"},html:[{tag:"dt",text:t},{tag:"dd",text:e}]}:{}}})}),define("DS/FCSAdmUI/Collection/SiteCollection",["DS/FCSAdmUI/Collection/FCSItemCollection","DS/FCSAdmUI/Model/SiteDetailsModel"],function(t,e){"use strict";return t.extend({model:e})}),define("DS/FCSAdmUI/Details/SiteStatView",["DS/FCSAdmUI/Details/StatView","DS/FCSAdmUI/Util/FCSUtils","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({init:function(t){this._parent(t)},buildDefinitions:function(){return[this.buildDefinitionElem(i.size,"size",e.sizecallback),this.buildDefinitionElem(i.count,"count",e.countcallback)]}})}),define("DS/FCSAdmUI/Details/SiteDetails",["UWA/Class/View","DS/FCSAdmUI/Details/FCSItemDetails","DS/FCSAdmUI/Details/SiteStatView","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n){"use strict";var s=t.extend({tagName:"div",className:"facet-def",init:function(t){this.parent=t.parent,this.model=t.model},buildField:function(t,e){return{class:"fcs-definition-value "+e,tag:"input",type:"text",value:null===this.model.get(e)?"":this.model.get(e),placeholder:t,maxlength:128}},render:function(){return{html:[this.buildDefinitions(),{styles:{clear:"both"}}]}},buildDefinitions:function(){var t=this,e=[];return this.parent.inEditMode?(e.push(this.buildDefinitionElem(n.name,"name")),e.push(this.buildDefinitionElem(n.description,"description")),{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:e}]}):(this.model.get("locations").forEach(function(i){var n=t.parent.options.options.locationList.collection.get(i);n&&e.push({styles:{float:"left",margin:"10px"},class:"maintable",html:t.parent.options.options.locationList.buildTile(n)})}),{html:[{tag:"h3",text:n.Locations},e]})},buildDefinitionElem:function(t,e){return{tag:"tr",html:[{tag:"td",text:t},{tag:"td",html:this.buildField(t,e)}]}}}),o=t.extend({render:function(){return{}}});return e.extend({kind:n.Site,kindService:"sites",init:function(t){this._parent(t)},buildFacets:function(t){var e=this,i=[];return i.push({text:n.properties,icon:"doc-text",handler:function(){e.setBody(e.getFacet(0))}}),i.push({text:n.analitics,icon:"chart-bar",handler:function(){e.setBody(e.getFacet(1))}}),this.options.isAdmin&&i.push({text:n.action,icon:"cog",handler:function(){e.setBody(e.getFacet(2))}}),i},getFacet:function(t){if(1==t&&UWA.is(this.cache))return this.cache;switch(t){case 0:return new s({model:this.model,parent:this}).render();case 1:return this.cache=new i({model:this.model,parent:this}).render(),this.cache;case 2:return new o({model:this.model,parent:this}).render()}},validate:function(){return!0},validateDelete:function(){0==this.model.get("locations").length?this.endDelete():this.endDelete(n.cannotDeleteSiteWithLocations)}})}),define("DS/FCSAdmUI/Details/LocationActionView",["DS/FCSAdmUI/Details/ActionView","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e){"use strict";return t.extend({init:function(t){this._parent(t)},buildDefinitions:function(){return[this.buildDefinitionElem(e.purge,"purge",this.model.get("store"),this.purgecallback),this.buildDefinitionElem(e.synchronize,"sync",this.model.get("store"),this.synccallback),this.buildDefinitionElem(e.validatefileexist,"integritycheck",this.model.get("store"),this.integritycallback)]}})}),define("DS/FCSAdmUI/Collection/StoreCollection",["DS/FCSAdmUI/Collection/FCSItemCollection","DS/FCSAdmUI/Model/StoreDetailsModel"],function(t,e){"use strict";return t.extend({model:e})}),define("DS/FCSAdmUI/Details/StoreActionView",["DS/FCSAdmUI/Details/ActionView","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e){"use strict";return t.extend({init:function(t){this._parent(t)},buildDefinitions:function(){var t=this,i=this.model.get("locations"),n=[];return i.forEach(function(i){n.push(t.buildDefinitionElem(e.synchronizefromlocation.format(i),"sync",i,t.synccallback))}),n.push(this.buildDefinitionElem(e.validatefileexist,"integritycheck",this.model.getName(),this.integritycallback)),n}})}),define("DS/FCSAdmUI/Details/LocationStatView",["DS/FCSAdmUI/Details/StatView","DS/FCSAdmUI/Util/FCSUtils","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({init:function(t){this._parent(t)},buildDefinitions:function(){var t=[];return t.push(this.buildDefinitionElem(i.size,"size",e.sizecallback)),t.push(this.buildDefinitionElem(i.count,"count",e.countcallback)),this.parent.options.isAdmin&&(t.push(this.buildDefinitionElem(i.sizeToReplicateToLocation,"validateTo/"+this.model.get("store"),e.sizecallback)),t.push(this.buildDefinitionElem(i.sizeToReplicateToStore,"validateFrom/"+this.model.get("store"),e.sizecallback))),t}})}),define("DS/FCSAdmUI/Details/LocationDetails",["UWA/Class/View","DS/WAFData/WAFData","DS/FCSAdmUI/Details/FCSItemDetails","DS/FCSAdmUI/Details/LocationActionView","DS/FCSAdmUI/Details/LocationStatView","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o){"use strict";var a=t.extend({tagName:"div",className:"facet-def",init:function(t){this.parent=t.parent,this.model=t.model},buildField:function(t,e){var i=null===this.model.get(e)?"":this.model.get(e);return this.parent.inEditMode?{class:"fcs-definition-value "+e,tag:"input",type:"text",value:i,placeholder:t,maxlength:128}:{class:"fcs-definition-value",tag:"span",text:i}},render:function(){return{html:[this.buildDefinitions(),{styles:{clear:"both"}}]}},buildDefinitions:function(){var t=[];return this.parent.inEditMode&&(t.push(this.buildDefinitionElem(o.name,"name")),t.push(this.buildDefinitionElem(o.description,"description"))),t.push(this.buildDefinitionElem(o.path,"path")),t.push(this.buildDefinitionElem(o.url,"url")),this.parent.inEditMode||(t.push(this.buildDefinitionStore()),t.push(this.buildDefinitionSite())),{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:t}]}},buildDefinitionElem:function(t,e){return{tag:"tr",html:[{tag:"td",text:t},{tag:"td",html:this.buildField(t,e)}]}},buildDefinitionStore:function(){var t=this.model.get("store"),e=this.parent.options.options.storeList.collection.get(t),i={};return e&&(i={styles:{float:"right"},html:this.parent.options.options.storeList.buildTile(e)}),{tag:"tr",html:[{tag:"td",text:o.Store},{tag:"td",html:i}]}},buildDefinitionSite:function(){var t=this.model.get("site"),e=this.parent.options.options.siteList.collection.get(t),i={};return e&&(i={styles:{float:"right"},html:this.parent.options.options.siteList.buildTile(e)}),{tag:"tr",html:[{tag:"td",text:o.Site},{tag:"td",html:i}]}}});return i.extend({kind:o.Location,kindService:"locations",init:function(t){this._parent(t)},buildFacets:function(){var t=this,e=[];return e.push({text:o.properties,icon:"doc-text",handler:function(){t.setBody(t.getFacet(0))}}),e.push({text:o.analitics,icon:"chart-bar",handler:function(){t.setBody(t.getFacet(1))}}),this.options.isAdmin&&e.push({text:o.action,icon:"cog",handler:function(){t.setBody(t.getFacet(2))}}),e},getFacet:function(t){if(1==t&&UWA.is(this.cache))return this.cache;switch(t){case 0:return new a({model:this.model,parent:this}).render();case 1:return this.cache=new s({model:this.model,parent:this}).render(),this.cache;case 2:return new n({model:this.model,parent:this}).render()}},validate:function(t){var e=this.getBody().getElement(".url");e=e.value;var i=this.getBody().getElement(".path");return(i=i.value)?e?e.startsWith("https://")?(t.url=e,t.path=i,!0):(this.alert.add(o.urlnotHttps),!1):(this.alert.add(o.cannotBeEmpty.format(o.url)),!1):(this.alert.add(o.cannotBeEmpty.format(o.path)),!1)},validateDelete:function(){var t=this;e.authenticatedRequest(this.model.collection.url+"/"+this.model.getName()+"/count",{onComplete:function(e){if(0!=e)return t.endDelete(o.locationNotEmpty);t.endDelete()},onFailure:function(e){console.log(e),t.endDelete(o.locationNotEmpty)}})}})}),define("DS/FCSAdmUI/Details/StoreStatView",["DS/FCSAdmUI/Details/StatView","DS/FCSAdmUI/Util/FCSUtils","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({init:function(t){this._parent(t)},buildDefinitions:function(){return[this.buildDefinitionElem(i.size,"size",e.sizecallback),this.buildDefinitionElem(i.count,"count",e.countcallback)]}})}),define("DS/FCSAdmUI/Details/StoreDetails",["UWA/Class/View","DS/WAFData/WAFData","DS/FCSAdmUI/Details/FCSItemDetails","DS/FCSAdmUI/Details/StoreActionView","DS/FCSAdmUI/Details/StoreStatView","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o){"use strict";var a=t.extend({tagName:"div",className:"facet-def",init:function(t){this.parent=t.parent,this.model=t.model},buildField:function(t,e){var i=null===this.model.get(e)?"":this.model.get(e);return this.parent.inEditMode?{class:"fcs-definition-value "+e,tag:"input",type:"text",value:i,placeholder:t,maxlength:128}:{class:"fcs-definition-value",tag:"span",text:i}},render:function(){return{html:[this.buildDefinitions(),{styles:{clear:"both"}}]}},buildDefinitions:function(){var t=this,e={},i=[];if(this.parent.inEditMode)i.push(this.buildDefinitionElem(o.name,"name")),i.push(this.buildDefinitionElem(o.description,"description"));else{var n=[];this.model.get("locations").forEach(function(e){var i=t.parent.options.options.locationList.collection.get(e);i&&n.push({styles:{float:"left",margin:"10px"},class:"maintable",html:t.parent.options.options.locationList.buildTile(i)})}),e={html:[{tag:"h3",text:o.Locations},n]}}return i.push(this.buildDefinitionElem(o.path,"path")),i.push(this.buildDefinitionElem(o.url,"url")),{html:[{tag:"table",class:"fcs-definition",html:[{tag:"tbody",html:i}]},e]}},buildDefinitionElem:function(t,e){return{tag:"tr",html:[{tag:"td",text:t},{tag:"td",html:this.buildField(t,e)}]}}});return i.extend({kind:o.Store,kindService:"stores",init:function(t){this._parent(t)},buildFacets:function(t){var e=this,i=[];return i.push({text:o.properties,icon:"doc-text",handler:function(){e.setBody(e.getFacet(0))}}),i.push({text:o.analitics,icon:"chart-bar",handler:function(){e.setBody(e.getFacet(1))}}),this.options.isAdmin&&i.push({text:o.action,icon:"cog",handler:function(){e.setBody(e.getFacet(2))}}),i},getFacet:function(t){if(1==t&&UWA.is(this.cache))return this.cache;switch(t){case 0:return new a({model:this.model,parent:this}).render();case 1:return this.cache=new s({model:this.model,parent:this}).render(),this.cache;case 2:return new n({model:this.model,parent:this}).render()}},validate:function(t){var e=this.getBody().getElement(".url").value,i=this.getBody().getElement(".path").value;return i?e?e.startsWith("https://")?(t.url=e,t.path=i,!0):(this.alert.add(o.urlnotHttps),!1):(this.alert.add(o.cannotBeEmpty.format(o.url)),!1):(this.alert.add(o.cannotBeEmpty.format(o.path)),!1)},validateDelete:function(){if(0!=this.model.get("locations").length)return this.endDelete(o.cannotDeleteStoreWithLocations);var t=this;e.authenticatedRequest(this.model.collection.url+"/"+this.model.getName()+"/count",{onComplete:function(e){if(0!=e)return t.endDelete(o.storeNotEmpty);t.endDelete()},onFailure:function(e){t.endDelete(e)}})}})}),define("DS/FCSAdmUI/DetailsCreate/SiteDetailsCreate",["DS/FCSAdmUI/DetailsCreate/FCSItemDetailsCreate","DS/FCSAdmUI/Details/SiteDetails","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({kind:i.Site,nlsCreationTitle:i.SiteCreationTitle,buildDefinitions:function(){return[]},validate:function(){return!0},print:function(){this.options.setDetailView(new e({model:this.model,collection:this.collection,options:this.options,isAdmin:!0}))}})}),define("DS/FCSAdmUI/DetailsCreate/StoreDetailsCreate",["DS/FCSAdmUI/DetailsCreate/FCSItemDetailsCreate","DS/FCSAdmUI/Details/StoreDetails","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({kind:i.Store,nlsCreationTitle:i.StoreCreationTitle,buildDefinitions:function(){return[this.buildDefinitionElem(i.path,"path"),this.buildDefinitionElem(i.url,"url")]},validate:function(){var t=this.getBody().getElement(".url");t=t.value;var e=this.getBody().getElement(".path");return(e=e.value)?t?t.startsWith("https://")?(this.model.set("url",t,{silent:!0}),this.model.set("path",e,{silent:!0}),!0):(this.alert.add(i.urlnotHttps),!1):(this.alert.add(i.cannotBeEmpty.format(i.url)),!1):(this.alert.add(i.cannotBeEmpty.format(i.path)),!1)},print:function(){this.options.setDetailView(new e({model:this.model,collection:this.collection,options:this.options,isAdmin:!0}))}})}),define("DS/FCSAdmUI/Collection/LocationCollection",["DS/FCSAdmUI/Collection/FCSItemCollection","DS/FCSAdmUI/Model/LocationDetailsModel"],function(t,e){"use strict";return t.extend({model:e})}),define("DS/FCSAdmUI/List/SiteList",["DS/FCSAdmUI/List/FCSItemList","DS/FCSAdmUI/DetailsCreate/SiteDetailsCreate","DS/FCSAdmUI/Details/SiteDetails","DS/FCSAdmUI/Collection/SiteCollection","DS/FCSAdmUI/Model/SiteDetailsModel","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o){return t.extend({getNewCollection:function(){return new n({},{url:this.url+"/resources/fcsservices/sites"})},kind:o.Site,nlsadd:o.addSite,kindService:"sites",fonticon:"fonticon-globe",displayInfo:function(t){if(t)this.options.setDetailView(new i({model:t,collection:this.collection,options:this.options,isAdmin:this.isAdmin()}));else{if(!this.isAdmin())return void this.addalert(o.notAdmin);(t=new s).url=this.url+"/resources/fcsservices/sites",new e({model:t,collection:this.collection,options:this.options})}},buildContent:function(){return this.options.storeList.render(),[{tag:"tr",html:[this.buildTitle()]},{tag:"tr",html:[this.buildTiles()]}]},buildTitle:function(){var t=this.collection.getMaxLimit();return this.options.advancedMode.status&&t++,[this.options.storeList.buildTitle(),{tag:"th",class:"maintable",colspan:t,html:this.buildInnerTitle()}]},buildTiles:function(){var t=[],e=this;return e.options.advancedMode.status&&t.push({tag:"th",class:"maintable"}),this.collection.forEach(function(i){t.push({tag:"th",class:"maintable",html:e.buildTile(i)})}),t},isAdmin:function(){return this.options.storeList.collection.isAdmin},addalert:function(t){return this.options.storeList.alert.add(t)}})}),define("DS/FCSAdmUI/List/StoreList",["DS/FCSAdmUI/List/FCSItemList","DS/FCSAdmUI/DetailsCreate/StoreDetailsCreate","DS/FCSAdmUI/Details/StoreDetails","DS/FCSAdmUI/Collection/StoreCollection","DS/FCSAdmUI/Model/StoreDetailsModel","DS/FCSAdmUI/Model/LocationDetailsModel","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s,o,a){return t.extend({storesSitesMap:null,getNewCollection:function(){return new n({},{url:this.url+"/resources/fcsservices/stores"})},kind:a.Store,nlsadd:a.addStore,kindService:"stores",fonticon:"fonticon-folder",displayInfo:function(t){if(t)this.options.setDetailView(new i({model:t,collection:this.collection,options:this.options,isAdmin:this.isAdmin()}));else{if(!this.isAdmin())return void this.addalert(a.notAdmin);(t=new s).url=this.url+"/resources/fcsservices/stores",new e({model:t,collection:this.collection,options:this.options})}},buildContent:function(){if(this.loaded&&this.options.siteList.loaded&&this.options.locationList.loaded){var t=[];this.options.advancedMode.status&&this.options.locationList.collection.forEach(function(e){t.push(e.get("name"))});var e=new Map;this.options.siteList.collection.forEach(function(t){t.get("locations").forEach(function(i){var n=e.get(i);n||(n=[],e.set(i,n)),n.push(t.getName())})});var i=this;if(i.storesSitesMap=new Map,this.collection.forEach(function(n){var s=new Map;i.storesSitesMap.set(n.getName(),s),n.get("locations").forEach(function(n){var o=e.get(n);o||(o=["None"]),o.forEach(function(t){var e=s.get(t);e||(e=[],s.set(t,e)),e.push(i.options.locationList.collection.get(n))});var a=t.indexOf(n);a>-1&&t.splice(a,1)})}),this.options.advancedMode.status){var n=new Map;i.storesSitesMap.set("None",n),t.forEach(function(t){var s=e.get(t);s||(s=["None"]),s.forEach(function(e){var s=n.get(e);s||(s=[],n.set(e,s)),s.push(i.options.locationList.collection.get(t))})})}return this.buildTiles()}},buildTiles:function(t){var e=[],i=this;return this.options.advancedMode.status&&e.push({tag:"tr",html:this.buildNoneRow()}),this.collection.forEach(function(n){e.push({tag:"tr",html:i.buildRow(n,t)})}),e},buildNoneRow:function(){var t=[];return t.push({tag:"th",class:"maintable"}),t.push(this.buildNone()),t},buildRow:function(t,e){var i=[];return i.push({tag:"th",class:"maintable",html:this.buildTile(t)}),i.push(this.buildLocations(t,e)),i},buildNone:function(){var t=[],e=this,i=this.options.locationList,n=e.storesSitesMap,s=[];if(n&&(n=n.get("None")),n&&(n=n.get("None")),n){s=n.sort();var o=[],a=!0;s.forEach(function(t){a||o.push({class:"divider"}),a=!1,o.push({html:i.buildTile(t)})}),t.push({tag:"td",class:"maintable",html:o})}else t.push({tag:"td",class:"maintable"});return this.options.siteList.collection.forEach(function(n){var s=e.storesSitesMap,o=[];if(s&&(s=s.get("None")),s&&(s=s.get(n.getName())),s){o=s.sort();var a=[],l=!0;o.forEach(function(t){l||a.push({class:"divider"}),l=!1,t.set("site",n.getName()),a.push({html:i.buildTile(t)})}),t.push({tag:"td",class:"maintable",html:a})}else t.push({tag:"td",class:"maintable"})}),t},buildLocations:function(t){var e=[],i=this,n=this.options.locationList;if(i.options.advancedMode.status){var s=i.storesSitesMap,l=[];if(s&&(s=s.get(t.getName())),s&&(s=s.get("None")),s){l=s.sort();var r=[],d=!0;l.forEach(function(e){d||r.push({class:"divider"}),d=!1,e.set("store",t.getName()),r.push({html:n.buildTile(e)})}),e.push({tag:"td",class:"maintable",html:r})}else e.push({tag:"td",class:"maintable"})}return this.options.siteList.collection.forEach(function(s){var l,r=i.storesSitesMap,d=[];if(r&&(r=r.get(t.getName())),r&&(r=r.get(s.getName())),r)d=r.sort();else{var c=new o;c.set("name",a.notReplicated),c.isDummy=!0,d.push(c)}if(i.options.advancedMode.status){var u=[],h=!0;d.forEach(function(e){h||u.push({class:"divider"}),h=!1,e.set("store",t.getName()),e.set("site",s.getName()),u.push({html:n.buildTile(e)})}),e.push({tag:"td",class:"maintable",html:u})}else d.length>1&&(l=a.multipleEntriesStoreSite),d[0].set("store",t.getName()),d[0].set("site",s.getName()),e.push({tag:"td",class:"maintable",html:n.buildTile(d[0],l)})}),e},buildTitle:function(){return{tag:"th",class:"maintable",rowspan:2,html:this.buildInnerTitle()}},isAdmin:function(){return this.collection.isAdmin},addalert:function(t){return this.alert.add(t)}})}),define("DS/FCSAdmUI/DetailsCreate/LocationDetailsCreate",["DS/FCSAdmUI/DetailsCreate/FCSItemDetailsCreate","DS/FCSAdmUI/Details/LocationDetails","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i){"use strict";return t.extend({kind:i.Location,nlsCreationTitle:i.LocationCreationTitle,buildDefinitions:function(){return[this.buildDefinitionElem(i.path,"path"),this.buildDefinitionElem(i.url,"url")]},validate:function(){var t=this.getBody().getElement(".url");t=t.value;var e=this.getBody().getElement(".path");return(e=e.value)?t?t.startsWith("https://")?(this.model.set("url",t,{silent:!0}),this.model.set("path",e,{silent:!0}),!0):(this.alert.add(i.urlnotHttps),!1):(this.alert.add(i.cannotBeEmpty.format(i.url)),!1):(this.alert.add(i.cannotBeEmpty.format(i.path)),!1)},print:function(){this.options.setDetailView(new e({model:this.model,collection:this.collection,options:this.options,isAdmin:!0}))}})}),define("DS/FCSAdmUI/List/LocationList",["DS/FCSAdmUI/List/FCSItemList","DS/FCSAdmUI/DetailsCreate/LocationDetailsCreate","DS/FCSAdmUI/Details/LocationDetails","DS/FCSAdmUI/Collection/LocationCollection","i18n!DS/FCSAdmUI/assets/nls/FCSAdm"],function(t,e,i,n,s){return t.extend({storesSitesMap:null,sitesStoresMap:null,loaded:!1,setup:function(t){this._parent(t)},load:function(t){this.setOptions(t),this.url=t.platform.url,this.collection=this.getNewCollection(),this.reload()},getNewCollection:function(){return new n({},{url:this.url+"/resources/fcsservices/locations"})},kind:s.Location,nlsadd:s.addLocation,kindService:"locations",fonticon:"fonticon-network",displayInfo:function(t){if(!0===t.isDummy){if(!this.isAdmin())return void this.addalert(s.notAdmin);t.url=this.url+"/resources/fcsservices/locations",new e({model:t,collection:this.collection,options:this.options})}else this.options.setDetailView(new i({model:t,collection:this.collection,options:this.options,isAdmin:this.isAdmin()}))},render:function(){this.options.storeList.render()},isAdmin:function(){return this.options.storeList.collection.isAdmin},addalert:function(t){return this.options.storeList.alert.add(t)}})}),define("DS/FCSAdmUI/FCSApp",["UWA/Core","UWA/Controls/Abstract","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/UIKIT/Scroller","DS/FCSAdmUI/FCSTableView","DS/FCSAdmUI/FCSDetailsView","DS/FCSAdmUI/List/StoreList","DS/FCSAdmUI/List/LocationList","DS/FCSAdmUI/List/SiteList","i18n!DS/FCSAdmUI/assets/nls/FCSAdm","css!DS/UIKIT/UIKIT"],function(t,e,i,n,s,o,a,l,r,d){return e.extend({defaultOptions:{widget:null},init:function(t){this._parent(t),this.elements.container="<div></div>"},isInit:!1,platformId:null,tableView:null,detailView:null,detailViewContent:null,detailViewElem:null,advancedMode:{},onLoad:function(e){var i=this;if(console.log("onLoad"),!this.isInit){console.log("isInit"),this.isInit=!0,e.body.style.padding=0,e.body.classList.add("fcs-root"),this.locationList=new l,this.siteList=new r,this.storeList=new a,this.locationList.options.storeList=this.storeList,this.locationList.options.siteList=this.siteList,this.siteList.options.storeList=this.storeList,this.siteList.options.locationList=this.locationList,this.storeList.options.siteList=this.siteList,this.storeList.options.locationList=this.locationList,this.locationList.options.advancedMode=this.advancedMode,this.siteList.options.advancedMode=this.advancedMode,this.storeList.options.advancedMode=this.advancedMode;var d=t.createElement("div",{styles:{height:"100%"}});e.setBody(d);var c=function(){i.storeList.reload(),i.locationList.reload(),i.siteList.reload()};this.tableView=new s({siteList:this.siteList,storeList:this.storeList});var u=new n({element:this.tableView.render()});u.getContent().setStyle("height","100%");var h=function(){i.detailViewElem.destroy(),i.detailViewElem=null,c(),d.removeChild(d.firstChild),u.inject(d)};this.detailView=new o({setTableView:h});var m=new n({element:this.detailView.render()});m.getContent().setStyle("height","100%");var f=function(t){i.detailViewElem=t,i.detailView.setElem(t.render()),d.removeChild(d.firstChild),m.inject(d)};this.locationList.options.setDetailView=f,this.siteList.options.setDetailView=f,this.storeList.options.setDetailView=f,this.locationList.options.reload=c,this.siteList.options.reload=c,this.storeList.options.reload=c,this.locationList.options.setTableView=h,this.siteList.options.setTableView=h,this.storeList.options.setTableView=h,u.inject(d)}},FCSLoading:function(t){var e=this;this.onLoad(t),i.getServiceUrl({serviceName:"3DSpace",onComplete:function(i){i.forEach(function(t){}),e.advancedMode.status=t.getBool("advancedMode");var n=i[0];e.storeList.load({platform:n}),e.locationList.load({platform:n}),e.siteList.load({platform:n})}})},reload:function(t){this.advancedMode.status=t.getBool("advancedMode"),this.detailViewElem?this.detailViewElem.reload():(this.storeList.reload(),this.locationList.reload(),this.siteList.reload())}})});
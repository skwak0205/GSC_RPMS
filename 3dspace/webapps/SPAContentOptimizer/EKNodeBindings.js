/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
define("DS/SPAContentOptimizer/EKNodeBindings",["DS/ExperienceKernel/ExperienceKernel"],function(e){var n=null,r=null;function t(e){for(var n=[],r=0;r<e.length;r++){var t=null;t="string"==typeof e[r]?Buffer.from(e[r],"utf8"):Buffer.from(e[r]),n.push(t)}return Buffer.concat(n)}var o=function(){this._decoder=new n("utf8"),this.onload=null};o.prototype={constructor:o,readAsText:function(e){var n=this._decoder.write(e);if(null!=this.onload&&"function"==typeof this.onload){var r={target:{}};r.target.result=n,this.onload(r)}return n}};return function(){"undefined"==typeof window&&(n=require("string_decoder").StringDecoder,r=require("ws"),e.window=global,e.window.WebSocket=r,e.window.Blob=t,e.window.FileReader=o)}});
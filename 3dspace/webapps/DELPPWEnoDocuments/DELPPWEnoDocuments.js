define("DS/DELPPWEnoDocuments/AttachmentsFacet",["UWA/Core","UWA/Class","UWA/Controls/Abstract","DS/EditPropWidget/facets/Common/FacetsBase","DS/ENOXAttachmentsUX/AttachmentsPane"],function(t,e,n,i,a){"use strict";return e.extend(n,i,{init(t){this._parent(t),this._buildView(t)},_buildView:function(e){this.elements.container=t.createElement("div",{class:"relatedDocuments"});const n={parentObject:{parentId:this.getSelectedRefId()},connectorOptions:{fetchSecurityContext:()=>e.appContext.getSecurityContext(),platformUrls:{"3DSpace":e.appContext.platformUrl,platformId:e.appContext.platformTenant}},webinwin:!1},i=a.extend({init:function(t){this._parent(t)},onRemoved:function(){}});this.attachmentsPane=new i(n),this.attachmentsPane.modelEvents.subscribe({event:"upload-attachment-complete"},this.addDocument.bind(this)),this.attachmentsPane.modelEvents.subscribe({event:"attach-attachment-complete"},this.addDocument.bind(this)),this.attachmentsPane.modelEvents.subscribe({event:"detach-attachment-complete"},this.deleteDocument.bind(this)),this.attachmentsPane.inject(this.elements.container)},getSelectedRefId(){return this.options.appContext.getSelectedRefId()},updateFacet(){const t=this.getSelectedRefId();if(!t)return void this.notApplicable();const e={parentId:t};this.attachmentsPane&&(this.attachmentsPane.show(),this.attachmentsPane.options.parentObject.parentId!==t&&this.attachmentsPane.setParentObject(e))},destroyComponent(){this.attachmentsPane.destroy()},onResize(){this.updateFacet()},onRefresh(){this.updateFacet()},addDocument(t){let e={};t.documents&&t.documents.length>0?e=t.documents[0]:t.document&&(e=t.document),this.options.appContext.addDocument(t.parentObject.parentId,e)},deleteDocument(t){this.options.appContext.deleteDocument(t.parentObject.parentId,t.id,"Reference Document")}})}),define("DS/DELPPWEnoDocuments/SpecificationsFacet",["UWA/Core","UWA/Class","UWA/Controls/Abstract","DS/EditPropWidget/facets/Common/FacetsBase","DS/ENOXSpecificationsUX/SpecificationsPane","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext"],function(t,e,n,i,a,s){"use strict";return e.extend(n,i,{init(t){this._parent(t),this._buildView(t)},_buildView:function(e){this.elements.container=t.createElement("div",{class:"SpecificationDocuments"});const n={parentObject:{parentId:this.getSelectedRefId()},connectorOptions:{fetchSecurityContext:()=>e.appContext.getSecurityContext(),platformUrls:{"3DSpace":e.appContext.platformUrl,platformId:e.appContext.platformTenant},getWorkUnderHeaders:function(){var e=s.get();return t.is(e)&&t.is(e.AuthoringContextHeader)?e.AuthoringContextHeader:{}}},webinwin:!1},i=a.extend({init:function(t){this._parent(t)},onRemoved:function(){}});this.SpecificationsPane=new i(n),this.SpecificationsPane.modelEvents.subscribe({event:"upload-attachment-complete"},this.addDocument.bind(this)),this.SpecificationsPane.modelEvents.subscribe({event:"attach-attachment-complete"},this.addDocument.bind(this)),this.SpecificationsPane.modelEvents.subscribe({event:"detach-attachment-complete"},this.deleteDocument.bind(this)),this.SpecificationsPane.inject(this.elements.container)},getSelectedRefId(){return this.options.appContext.getSelectedRefId()},updateFacet(){const t=this.getSelectedRefId();if(!t)return void this.notApplicable();const e={parentId:t};this.SpecificationsPane&&(this.SpecificationsPane.show(),this.SpecificationsPane.options.parentObject.parentId!==t&&this.SpecificationsPane.setParentObject(e))},destroyComponent(){this.SpecificationsPane.destroy()},onResize(){this.updateFacet()},onRefresh(){this.updateFacet()},addDocument(t){let e={};t.documents&&t.documents.length>0?e=t.documents[0]:t.document&&(e=t.document),this.options.appContext.addDocument(t.parentObject.parentId,e)},deleteDocument(t){this.options.appContext.deleteDocument(t.parentObject.parentId,t.id)}})});
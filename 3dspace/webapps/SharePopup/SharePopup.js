define("DS/SharePopup/SharePopup",["UWA/Controls/Abstract","DS/ShareWidget/ShareWidget","DS/ENOFloatingPanel/ENOFloatingPanel","i18n!DS/ShareWidget/assets/nls/langAR","css!DS/SharePopup/SharePopup.css"],function(e,t,n,i){"use strict";return e.extend({defaultOptions:{className:"",ForbiddenChar:'"#$@%,?\\<>[]|:',readOnly:"auto",displayWarningForAutoRO:!1,serverName:"",serverUri:"",removeAtClose:!1},init:function(e,t,n){this._parent(n),this.initUI(e,t)},_changeLeft:function(e){this.__changeValue("left",e)},_changeTop:function(e){this.__changeValue("top",e)},__changeValue:function(e,t){var n="auto"===t;this.container.elements.container.setStyle(e,n?t:t+"px")},centerIt:function(){var e=this.container.elements.container;if(e){var t=this.container.elements.container.parentElement;this.parent&&(t=this.parent);var n=t.getSize(),i=e.getSize(),o=n.width/2-i.width/2,s=n.height/2-i.height/2;this._changeLeft(o),this._changeTop(s)}},onRefresh:function(){null!=this.ARWidget&&this.ARWidget.onRefresh()},initUI:function(e,i){var o=this;o.ARWidget=new t(e,i,{className:"accessRight_innerComponent",ForbiddenChar:o.options.ForbiddenChar,readOnly:o.options.readOnly,showTopBar:!1,topClassHeight:"SHP_PopupDial",activeMultisel:!0,serverName:this.options.serverName,serverUri:this.options.serverUri,events:{onCancel:function(){o.close()},onTitleChange:function(e){o.container.setTitle(e),o.container.elements.body.setStyle("padding-top","2px"),o.container.elements.body.setStyle("padding-bottom","2px"),o.container.elements.body.setStyle("padding-left","6px"),o.container.elements.body.setStyle("padding-right","6px")}}}),o.container=new n({title:"ENOVIA",className:"SHP_PopupDial "+this.options.className,footer:o.ARWidget.getTopBar(),body:o.ARWidget,overlay:!0,closable:!0,animate:!0,autocenter:!0,resizable:!0,limitParent:!1,events:{onResizeFloating:function(){o.ARWidget&&o.centerIt()},onClose:function(){o.close()}}}),o.container.inject(i);var s=i.offsetHeight>365?365:i.offsetHeight;o.container.setNewSize({height:s})},show:function(e){null!=e&&Array.isArray(e)&&(1==e.length?this.container.setTitle(i.get("Share_mainTile")+" - "+e[0].name):this.container.setTitle(i.get("Share_mainTile")+" - "+e.length+" "+i.get("AR_Objects"))),this.container.show(),this.options.hasOwnProperty("odtmode")&&(this.ARWidget.options.odtmode=this.options.odtmode),this.ARWidget.initData(e)},close:function(){this.container.hide(),!0===this.options.removeAtClose&&(this.container.destroy(),this.ARWidget.destroy()),this.dispatchEvent("onClose")}})});
define("DS/Leaflet/MPGeolocationManager",["UWA/Class"],function(e){"use strict";return e.extend({init:function(e){e=e||{},this._delegate=null,this._lastUpdate=null,this._enableHighAccuracy="boolean"!=typeof e.enableHighAccuracy||e.enableHighAccuracy,this._timeout="number"==typeof e.timeout?e.timeout:5e3,this._maximumAge="number"==typeof e.maximumAge?e.maximumAge:9e5,this._parent(e)},getDelegate:function(){return this._delegate},setDelegate:function(e){this._delegate=e},_locationHasChanged:function(e){this._delegate&&this._delegate.locationHasChanged&&this._delegate.locationHasChanged(e)},getCurrentLocation:function(e){var t=function(t){console.log("MPGeolocationManager::getCurrentLocation - "+t.message),e&&e(null)};if("geolocation"in navigator){navigator.geolocation.getCurrentPosition(function(t){this._lastUpdate=t.timestamp,e&&e(t)}.bind(this),t.bind(this),{enableHighAccuracy:this._enableHighAccuracy,timeout:this._timeout,maximumAge:this._maximumAge})}else t({message:"Geolocation is unavailable on this navigator"})}})});
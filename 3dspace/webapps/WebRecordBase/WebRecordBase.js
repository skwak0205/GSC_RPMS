/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/Constants",function(){"use strict";return Object.freeze({Event:{KeyboardEvt:{KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup"},DragDropEvt:{DRAGSTART:"dragstart",DROP:"drop",DRAGEND:"dragend",DRAGDROP:"dragdrop"},MouseEvt:{CLICK:"click",CONTEXTMENU:"contextmenu",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEOVER:"mouseover",MOUSEUP:"mouseup",WHEEL:"wheel"},WindowEvt:{RESIZE:"resize",LOAD:"load",BEFOREUNLOAD:"beforeunload",UNLOAD:"unload"},FormEvt:{BLUR:"blur",CHANGE:"change",FOCUS:"focus",FOCUSIN:"focusin",FOCUSOUT:"focusout",INPUT:"input",SELECT:"select",SUBMIT:"submit"},ClipEvt:{COPY:"copy",CUT:"cut",PASTE:"paste"},FrameEvt:{SCROLL:"scroll"},CLICK:"click",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",CHANGE:"change",WINDOWSIZE:"windowSize",CHECKPOINT:"checkPoint",SCREENSHOT:"snapShot",ASSERT:"assert",CAPTUREMODECHANGE:"captureModeChange",UPLOAD:"upload",TABCHANGE:"tabChange",USERDEFINED:"UserDefined",ALL:"ALL"},Interaction:{HIGHLEVEL:"WRAPI",HIGHLEVELold:"REPLAY",LOWLEVEL:"EVENT",INTERNAL:"INTERNAL",MODAL:"MODAL"},RecordModes:{DEFAULT:"default",CHILD:"child",SYSTEM:"system",DEFAULT_AND_CHILD:"default_and_child"},Popup:{CONFIRM:"confirm",PROMPT:"prompt",ALERT:"alert"},WebUX:{PROPERTY:"webUX_property",EVENT:"webUX_event"}})}),
/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/Utils",[],function(){"use strict";var e=!1;function r(){return"undefined"!=typeof dscef}function n(){return r()&&dscef.Record?dscef.Record.isRecording()||dscef.Record.isReplaying():!(!window.DSWebRecord||!window.DSWebRecord.getenv("ADL_ODT_TMP"))}return{isNative:r,isActive:n,isRecording:function(){return r()&&dscef.Record&&dscef.Record.isRecording?dscef.Record.isRecording():!(!window.DSWebRecord||!window.DSWebRecord.getenv("ADL_ODT_WEBAPPREC_CAPTURE"))},pauseRecording:function(){e=!0},resumeRecording:function(){e=!1},isRecordingPaused:function(){return e},isReplaying:function(){return r()&&dscef.Record&&dscef.Record.isReplaying?dscef.Record.isReplaying():!(!window.DSWebRecord||window.DSWebRecord.getenv("ADL_ODT_WEBAPPREC_CAPTURE"))},ignoreForRecord:function(e){n()&&(e.dataset.recId||(e.dataset.recId="fakeId"),e.dataset.recRecordable="true",e.setAttribute("subscribedEvents","XXX_FAKE_XXX"),e.setAttribute("ignoreForRecord","true"))}}}),
/*! Copyright Dassault Systemes 2016 */
define("DS/WebRecordBase/TraceManager",["DS/WebRecordBase/Utils"],function(e){"use strict";var r={},n=1,o="",t="",s={sendTraceMessage:function(){},sendTraceObject:function(){}},c={sendMessageToUI:function(){}};function a(e,r,n){return s.sendTraceMessage(e,r,n)}function i(e,r,n){return s.sendTraceObject(e,r,n)}function l(e,r){if(r)for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];void 0===o?o="undefined":"object"==typeof o&&(o=JSON.stringify(o)),e=e.replace("{"+n+"}",o.toString())}return e}function d(e){if(!e)return"";var r=-1,n="",o=e.match(/\s*at\s+\S.+\s+\((\S+):(\d+):\d+\)/);if(o?(n=o[1],r=o[2]):(o=e.match(/\s*at\s+(\S+):(\d+):\d+/))&&(n=o[1],r=o[2]),r<0)return"";var t=n.split("/");return t[t.length-1]+":"+String(r)}function u(e){if(!r.enabledStack)return null;var n;e=e||{};try{n=3+(e.stackOffset||0);var o=Error("Fake Error");throw Error.stackTraceLimit=n+(e.depth||10),o}catch(r){var t=r.stack.split("\n");if(n=1,!e.all){for(;n<t.length;){if(0!==d(t[n]).indexOf("TraceManager"))break;n++}n+=e.stackOffset||0}return t=t.slice(n),e.fileAndLine?d(t[0]):t}}e.isActive()&&require(["DS/WebRecordClient/Base/MessageManager","DS/WebRecordClient/Base/UIMessenger"],function(e,r){s=e,c=r},function(){console.error("! DS/WebRecordClient/Base/MessageManager not found")}),r.enabledStack=!0,window.DSWebRecord&&window.DSWebRecord.getenv("DSWEBREC_DBG_DISABLE_STACK")&&(r.enabledStack=!1),r.printExceptionStack=function(e,n){n=n||10;var o=e.stack.split("\n");r.info("EXCEPTION: "+o[0]);for(var t=1;t<o.length&&(r.info(o[t]),!(t>=n));t++);},r.debugStack=function(){for(var e=u({all:!0}),r=0;r<e.length;++r)console.log("TESTSTACK("+r+"): "+e[r])},r.disableStack=function(){r.enabledStack=!1},r.enableStack=function(){r.enabledStack=!0},r.consoleTraceLevel=-1,r.setLevel=function(e){r.consoleTraceLevel=e},r.getElemErrorId=function(e){var r=document.querySelector(e);return r.dataset.recErrorId||(r.dataset.recErrorId="err_"+n++),{elem:r.tagName.toLowerCase(),errId:n-1,css:r.tagName.toLowerCase()+"[data-rec-error-id='"+r.dataset.recErrorId+"']"}},r.debuginfra=function(e,n){r._debuginfra_(e,n)},r.debug=function(e,n){r._debug_(e,n)},r.info=function(e,n){r._info_(e,n)},r.log=function(e,n){r._log_(e,n)},r.warn=function(e,n){r._warn_(e,n)},r.errorInfo=function(e,n){r._errorInfo_(e,n)},r.error=function(e,n,o){r._error_(e,n,o)},r.fatal=function(e,n,o){r._fatal_(e,n,o)},r.stop=function(e,n){r._stop_(e,n)};var f={stop:{console:"stop",level:5},fatal:{console:"error",level:4},error:{console:"error",level:3},errorInfo:{console:"error",level:2},warn:{console:"warn",level:2},log:{console:"log",level:1},info:{console:"info",level:1},debug:{console:"debug",level:0},debuginfra:{console:"debug",level:-1}};Object.keys(f).forEach(function(e){r["_"+e+"_"]=function(n,s,i){var d,E,p;if(o!==n&&t!==e){if("errorInfo"===e){try{var g=n.split(": "),R=g[1].split("\n");E=this.getElemErrorId(R[0]),d={msg:g[0],elem:E.elem,errId:E.errId,tooltip:R[1],type:"errorInfo",css:E.css}}catch(e){d={msg:n,type:"errorInfo"}}c.sendMessageToUI("updateErrorTable",d)}else if("error"===e){try{var S=n.split(": "),b=S[1].split("\n");E=this.getElemErrorId(b[0]),d={msg:S[0],elem:E.elem,errId:E.errId,tooltip:b[1],type:"error",css:E.css}}catch(e){d={msg:n,type:"error"}}c.sendMessageToUI("updateErrorTable",d)}else if("warn"===e){try{var v=n.split(": "),T=v[1].split("\n");E=this.getElemErrorId(T[0]),d={msg:v[0],elem:E.elem,errId:E.errId,tooltip:T[1],type:"warn",css:E.css}}catch(e){d={msg:n,type:"warn"}}c.sendMessageToUI("updateErrorTable",d)}t=e,o=n}else t="",o="";"stop"!==e&&(n="["+u({fileAndLine:!0})+"] "+(n=l(n,s)),f[e].level>=r.consoleTraceLevel&&console[f[e].console](n),i=f[e].level<3?void 0:i||200);window.DSWebRecord&&(p=window.DSWebRecord.getenv("DSWEBREC_DBG_WEBRECORD")),"fatal"===e&&p&&(f[e]=f.debug),a(f[e].level,n,i)},r[e+"V"]=function(){var r="["+u({fileAndLine:!0})+"]",n=Array.prototype.slice.call(arguments);n.unshift(r),console[f[e].console].apply(console,n);var o,t=(n=n.map(JSON.stringify)).join(" ");f[e].level>=3&&(o=200),i(f[e].level,t,o)}});var E={},p={};return r.enableTrace=function(e){p[e]=!0,E[e]=!0},r.disableTrace=function(e){e in E&&delete E[e]},r.usedTraces=function(){for(var e={enabled:[],disabled:[]},r=Object.keys(p).sort(),n=0;n<r.length;n++){var o=r[n];o in E?e.enabled.push(o):e.disabled.push(o)}return e},r.trace=function(e,r,n){(p[e]=!0,e in E)&&(r="["+u({fileAndLine:!0})+"] "+(r=l(r,n)),console.trace(r),a(0,r))},r.traceV=function(e){if(p[e]=!0,e in E){var r="["+u({fileAndLine:!0})+"]",n=Array.prototype.slice.call(arguments);n.unshift(r),console.trace.apply(console,n),i(0,n.join(" "))}},r.HTMLmessage=function(e,r){return e?l('<img class="bullet" src="assets/{t}.png"/><span class="{t}">{m}</span><br/>',{t:e,m:r}):l('<span class="none">{m}</span><br/>',{m:r})},r.addStop=function(e){r.stopCB=e},r.callStop=function(){r.stopCB&&r.stopCB()},r});
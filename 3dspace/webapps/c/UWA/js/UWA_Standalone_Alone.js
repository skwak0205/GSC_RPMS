!function(c){var i,h,a,s,l,o,p,g,e="0.8.11",f="curl",d="define",r="data-curl-run",u=c.document,v=u&&(u.head||u.getElementsByTagName("head")[0]),x=v&&v.getElementsByTagName("base")[0]||null,m={},y={},j={},b="addEventListener"in c?{}:{loaded:1,complete:1},w={},n=w.toString,E={},I={},A=!1,t=/^\/|^[^:]+:\/\/|^[A-Za-z]:[\\/]/,S=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,C=/\/\*[\s\S]*?\*\/|\/\/.*?[\n\r]/g,D=/require\s*\(\s*(["'])(.*?[^\\])\1\s*\)|[^\\]?(["'])/g,P=/\s*,\s*/;function R(){}function M(e,t){return 0==n.call(e).indexOf("[object "+t)}function O(e){return"."==e.charAt(0)}function T(e){return t.test(e)}function N(e,t){return U(e)+"/"+t}function U(e){return e&&"/"==e.charAt(e.length-1)?e.substr(0,e.length-1):e}function F(e,t){var o,n,r,i,u;return o=1,O(n=e)&&(i=!0,n=n.replace(S,function(e,t,n,r){return n&&o++,r||""})),i?(u=(r=t.split("/")).length-o)<0?e:(r.splice(u,o),r.concat(n||[]).join("/")):n}function k(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:0<=t&&e.substr(0,t)}}function L(){}function q(e,t){L.prototype=e||w;var n=new L;for(var r in L.prototype=w,t)n[r]=t[r];return n}function z(){var r,i,t;function o(e,t,n){i.push([e,t,n])}function u(e,t){for(var n,r,o=0;n=i[o++];)(r=n[e])&&r(t)}i=[],t=function(e,n){o=e?function(e,t){e&&e(n)}:function(e,t){t&&t(n)},t=R,u(e?0:1,n),u=R,i=l},(r=this).then=function(e,t,n){return o(e,t,n),r},this.resolve=function(e){r.resolved=e,t(!0,e)},this.reject=function(e){r.rejected=e,t(!1,e)},this.progress=function(e){u(2,e)}}function B(e){return e instanceof z||e instanceof H}function _(e,t,n,r){return B(e)?e.then(t,n,r):t(e)}function $(e,t,n){var r;return function(){return 0<=--e&&t&&(r=t.apply(l,arguments)),0==e&&n&&n(r),r}}function J(){var e,t;return i="",M((e=[].slice.call(arguments))[0],"Object")&&(t=W(e.shift())),new H(e[0],e[1],e[2],t)}function W(e,t,n){var r,o;if(i="",e&&(g.setApi(e),h=g.config(e),"preloads"in e&&(r=new H(e.preloads,l,n,A,!0),g.nextTurn(function(){A=r})),o=e.main))return new H(o,t,n)}function H(e,t,n,r,o){var i,u;u=g.createContext(h,l,[].concat(e),o),this.then=this.then=i=function(t,n){return _(u,function(e){t&&t.apply(l,e)},function(e){if(!n)throw e;n(e)}),this},this.next=function(e,t,n){return new H(e,t,n,u)},this.config=W,(t||n)&&i(t,n),g.nextTurn(function(){_(o||A,function(){_(r,function(){g.getDeps(u)},n)})})}function Q(e){var t,n,r;if((t=e.id)==l&&(o!==l?o={ex:"Multiple anonymous defines encountered"}:(t=g.getCurrentDefName())||(o=e)),t!=l){if(n=E[t],t in E||(r=g.resolvePathInfo(t,h),n=g.createResourceDef(r.config,t),E[t]=n),!B(n))return void("object"==typeof console&&console.error("duplicate define: "+t));n.useNet=!1,g.defineResource(n,e)}}function Z(){Q(g.fixArgs(arguments))}p={require:(g={toAbsId:function(e,t,n){var r,o,i;return O(r=F(e,t))||((r=(o=(i=k(r)).pluginId)||i.resourceId)in n.pathMap&&(r=n.pathMap[r].main||r),o&&(o.indexOf("/")<0&&!(o in n.pathMap)&&(r=N(n.pluginPath,o)),r=r+"!"+i.resourceId)),r},createContext:function(u,e,t,c){var a;function s(e,t){var n,r,o;return n=g.toAbsId(e,a.id,u),t&&(r=k(n)).pluginId?(o=E[r.pluginId],r.resourceId="normalize"in o?o.normalize(r.resourceId,s,a.config)||"":s(r.resourceId),r.pluginId+"!"+r.resourceId):n}function n(e,t,n){var r,o,i;if(r=t&&function(){t.apply(l,arguments[0])},M(e,"String")){if(r)throw new Error("require(id, callback) not allowed");if(o=s(e,!0),i=E[o],!(o in E))throw new Error("Module not resolved: "+o);return B(i)&&i.exports||i}_(g.getDeps(g.createContext(u,a.id,e,c)),r,n)}return(a=new z).id=e||"",a.isPreload=c,a.depNames=t,a.config=u,(a.require=n).toUrl=function(e){return g.resolvePathInfo(s(e,!0),u).url},a.toAbsId=s,a},createResourceDef:function(e,t,n){var r,o,i;return r=g.createContext(e,t,l,n),o=r.resolve,i=$(1,function(e){r.deps=e;try{return g.executeDefFunc(r)}catch(e){r.reject(e)}}),r.resolve=function(e){_(n||A,function(){o(E[r.id]=I[r.url]=i(e))})},r.exportsReady=function(e){_(n||A,function(){r.exports&&(i(e),r.progress(y))})},r},createPluginDef:function(e,t,n,r){return g.createContext(e,n,l,r)},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||((t=e.module={id:e.id,uri:g.getDefUrl(e),exports:g.getCjsExports(e),config:function(){return e.config}}).exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=g.checkToAddJsExt(e.require.toUrl(e.id),e.config))},setApi:function(e){var t,n,r,o,i,u;if(t=f,n=d,r=o=c,i=" already exists",e&&(u=e.overwriteApi||e.overwriteApi,t=e.apiName||e.apiName||t,r=e.apiContext||e.apiContext||r,n=e.defineName||e.defineName||n,o=e.defineContext||e.defineContext||o,a&&M(a,"Function")&&(c[f]=a),a=null,s&&M(s,"Function")&&(c[d]=s),s=null,!u)){if(r[t]&&r[t]!=J)throw new Error(t+i);if(o[n]&&o[n]!=Z)throw new Error(n+i)}r[t]=J,o[n]=Z},config:function(e){var t,p,d,n;function r(e,t){var n,r,o,i,u,c,a,s,f;for(var l in e)M(o=e[l],"String")&&(o={path:e[l]}),o.name=o.name||l,u=p,n=(i=k(U(o.name))).resourceId,(r=i.pluginId)&&((u=d[r])||((u=d[r]=q(p)).pathMap=q(p.pathMap),u.pathList=[]),delete e[l]),s=t,f=void 0,(a=o).path=U(a.path||a.location||""),s&&(O(f=a.main||"./main")||(f="./"+f),a.main=F(f,a.name+"/")),a.config=a.config,(c=a).config&&(c.config=q(p,c.config)),c.specificity=n.split("/").length,n?(u.pathMap[n]=c,u.pathList.push(n)):u.baseUrl=g.resolveUrl(o.path,p)}function o(e){var n=e.pathMap;e.pathRx=new RegExp("^("+e.pathList.sort(function(e,t){return n[t].specificity-n[e].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}for(n in"baseUrl"in e&&(e.baseUrl=e.baseUrl),"main"in e&&(e.main=e.main),"preloads"in e&&(e.preloads=e.preloads),"pluginPath"in e&&(e.pluginPath=e.pluginPath),("dontAddFileExt"in e||e.dontAddFileExt)&&(e.dontAddFileExt=new RegExp(e.dontAddFileExt||e.dontAddFileExt)),(p=q(t=h,e)).pathMap=q(t.pathMap),d=e.plugins||{},p.plugins=q(t.plugins),p.paths=q(t.paths,e.paths),p.packages=q(t.packages,e.packages),p.pathList=[],r(e.packages,!0),r(e.paths,!1),d){var i=g.toAbsId(n+"!","",p);p.plugins[i.substr(0,i.length-1)]=d[n]}for(n in d=p.plugins){d[n]=q(p,d[n]);var u=d[n].pathList;u&&(d[n].pathList=u.concat(p.pathList),o(d[n]))}for(n in t.pathMap)p.pathMap.hasOwnProperty(n)||p.pathList.push(n);return o(p),p},resolvePathInfo:function(e,t){var n,r,o,i;return n=t.pathMap,o=T(e)?e:e.replace(t.pathRx,function(e){return r=n[e]||{},i=r.config,r.path||""}),{config:i||h,url:g.resolveUrl(o,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!T(e)?N(n,e):e},checkToAddJsExt:function(e,t){return e+((t||h).dontAddFileExt.test(e)?"":".js")},loadScript:function(t,n,r){var o=u.createElement("script");return o.onload=o.onreadystatechange=function(e){"load"!=(e=e||c.event).type&&!b[o.readyState]||(delete j[t.id],o.onload=o.onreadystatechange=o.onerror="",n())},o.onerror=function(e){r(new Error("Syntax or http error: "+t.url))},o.type=t.mimetype||"text/javascript",o.charset="utf-8",o.async=!t.order,o.src=t.url,j[t.id]=o,v.insertBefore(o,x),o},extractCjsDeps:function(e){var o,i=[];return("string"==typeof e?e:e.toSource?e.toSource():e.toString()).replace(C,"").replace(D,function(e,t,n,r){return r?o=o==r?l:o:o||i.push(n),""}),i},fixArgs:function(e){var t,n,r,o,i,u;return i=e.length,o=M(r=e[i-1],"Function")?r.length:-1,2==i?M(e[0],"Array")?n=e[0]:t=e[0]:3==i&&(t=e[0],n=e[1]),!n&&0<o&&(u=!0,n=["require","exports","module"].slice(0,o).concat(g.extractCjsDeps(r))),{id:t,deps:n||[],res:0<=o?r:function(){return r},cjs:u}},executeDefFunc:function(e){var t,n;return n=e.cjs?e.exports:l,(t=e.res.apply(n,e.deps))===l&&e.exports&&(t=e.module?e.exports=e.module.exports:e.exports),t},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,g.getDeps(e)},getDeps:function(u){var e,t,r,n,o,c,a;function i(e,t,n){r[t]=e,n&&c(e,t)}for(r=[],n=(t=u.depNames).length,0==t.length&&f(),c=$(n,i,function(){u.exportsReady&&u.exportsReady(r)}),a=$(n,i,f),e=0;e<n;e++)(o=t[e])in p?(a(p[o](u),e,!0),u.exports&&u.progress(m)):o?s(o,e):a(l,e,!0);return u;function s(e,t){var n,r,o,i;n=$(1,function(e){r(e),a(e,t)}),r=$(1,function(e){c(e,t)}),(i=B(o=g.fetchDep(e,u))&&o.exports)&&r(i),_(o,n,u.reject,u.exports&&function(e){o.exports&&(e==m?r(o.exports):e==y&&n(o.exports))})}function f(){u.resolve(r)}},fetchResDef:function(t){return g.getDefUrl(t),g.loadScript(t,function(){var e=o;o=l,!1!==t.useNet&&(!e||e.ex?t.reject(new Error(e&&e.ex||"define() missing or duplicated: "+t.url)):g.defineResource(t,e))},t.reject),t},fetchDep:function(e,t){var i,u,n,r,o,c,a,s,f,l,p,d;return i=t.toAbsId,u=t.isPreload,n=t.config||h,(o=i(e))in E?c=o:(r=k(o),s=r.resourceId,c=r.pluginId||s,f=g.resolvePathInfo(c,n)),o in E||(d=g.resolvePathInfo(s,n).config,r.pluginId?a=c:(a=d.moduleLoader||d.moduleLoader||d.loader||d.loader)&&(s=c,c=a,f=g.resolvePathInfo(a,n))),c in E?l=E[c]:f.url in I?l=E[c]=I[f.url]:((l=g.createResourceDef(d,c,u)).url=g.checkToAddJsExt(f.url,f.config),E[c]=I[f.url]=l,g.fetchResDef(l)),c==a&&(r.pluginId&&n.plugins[r.pluginId]&&(d=n.plugins[r.pluginId]),p=new z,_(l,function(e){var t,n,r;if(r=e.dynamic,s="normalize"in e?e.normalize(s,i,l.config)||"":i(s),t=E[n=a+"!"+s],!(n in E)){t=g.createPluginDef(d,n,s,u),r||(E[n]=t);function o(e){r||(E[n]=e),t.resolve(e)}(o.resolve=o).reject=o.error=t.reject,e.load(s,t.require,o,d)}p!=t&&_(t,p.resolve,p.reject,p.progress)},p.reject)),p||l},getCurrentDefName:function(){var e;if(!M(c.opera,"Opera"))for(var t in j)if("interactive"==j[t].readyState){e=t;break}return e},findScript:function(e){var t,n,r=0;for(t=u&&(u.scripts||u.getElementsByTagName("script"));t&&(n=t[r++]);)if(e(n))return n},extractDataAttrConfig:function(){var e,n="";return(e=g.findScript(function(e){var t;return(t=e.getAttribute(r))&&(n=t),t}))&&e.setAttribute(r,""),n},bootScript:function(){var e=i.split(P);function t(){g.loadScript({url:e.shift()},n,n)}function n(){i&&(e.length?(g.nextTurn(r),t()):r("run.js script did not run."))}function r(e){throw new Error(e||"Primary run.js failed. Trying fallback.")}e.length&&t()},nextTurn:function(e){setTimeout(e,0)}}).getCjsRequire,exports:g.getCjsExports,module:g.getCjsModule},J.version=e,J.config=W,Z.amd={plugins:!0,jQuery:!0,curl:e},h={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:/\?|\.js\b/,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/},a=c[f],s=c[d],a&&M(a,"Object")?(c[f]=l,W(a)):g.setApi(),(i=g.extractDataAttrConfig())&&g.nextTurn(g.bootScript),E[f]=J,E["curl/_privileged"]={core:g,cache:E,config:function(){return h},_define:Q,_curl:J,Promise:z}}(this.window||"undefined"!=typeof global&&global||this),function(e,t,c){define("curl/plugin/js",["curl/_privileged"],function(u){"use strict";var d,h,g={},v=[],x=t&&1==t.createElement("script").async,m=/\?|\.js\b/;function y(e,t,n){var r,o,i;r=(new Date).valueOf()+(e.timeoutMsec||3e5),n&&e.exports&&setTimeout(function e(){o||(r<new Date?n():setTimeout(e,10))},10),i=u.core.loadScript(e,function(){o=!0,e.exports&&(e.resolved=c(e.exports)),!e.exports||e.resolved?t(i):n()},function(e){o=!0,n(e)})}return d=u.Promise,{dynamic:!0,normalize:function(e,t,n){var r=e.indexOf("!");return 0<=r?t(e.substr(0,r))+e.substr(r):t(e)},load:function(e,t,n,r){var o,i,u,c,a,s,f,l;function p(e){(n.error||function(e){throw e})(e)}o=0<e.indexOf("!order"),u=0<(i=e.indexOf("!exports="))?e.substr(i+9):r.exports,c=!("prefetch"in r)||r.prefetch,e=o||0<i?e.substr(0,e.indexOf("!")):e,a=(a=r.dontAddFileExt||r.dontAddFileExt)?new RegExp(a):m,s=t.toUrl(e),a.test(s)||(s=function(e,t){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+t:e}(s,"js")),s in g?g[s]instanceof d?g[s].then(n,p):n(g[s]):(f={name:e,url:s,order:o,exports:u,timeoutMsec:r.timeout},g[s]=l=new d,l.then(function(e){g[s]=e,n(e)},p),o&&!x&&h?(v.push([f,l]),c&&(f.mimetype="text/cache",y(f,function(e){e&&e.parentNode.removeChild(e)},function(){}),f.mimetype="")):(h=h||o,function t(n,r){y(n,function(){var e=v.shift();h=0<v.length,e&&t.apply(null,e),r.resolve(n.resolved||!0)},function(e){r.reject(e)})}(f,l)))},cramPlugin:"../cram/js"}})}(0,this.document,function(){try{return eval(arguments[0])}catch(e){return}}),function(e){"use strict";var v,x,t="createElement",i=e.setTimeout,o=e.document,n=o&&o.createStyleSheet&&!(10<=o.documentMode),u=[],c=[],a=[],s=12,f="HTTP or network error.",l={};function p(e,t){l[e]=l[e]||t}function m(){var e;return(e=o[t]("link")).rel="stylesheet",e.type="text/css",e}function d(e){var t,n,r;if(!e.href||o.readyState&&"complete"!=o.readyState)return!1;t=!1;try{(n=e.sheet)&&!(t=null===(r=n.cssRules))&&r&&(n.insertRule("-curl-css-test {}",0),n.deleteRule(0),t=!0)}catch(e){t="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(e.message)}return t}function h(e){e.onload=e.onerror=r}function g(e){return e.onload==r||!e.onload}function r(){}o&&(v=o.head||o.getElementsByTagName("head")[0],x=n?function(e,t,n){var r;a.push({url:e,cb:t,eb:function(){n(new Error(f))}}),(r=function(){var e;!(e=c.shift())&&u.length<s&&(e=o.createElement("style"),u.push(e),v.appendChild(e));return e}())&&function e(t){var n,r;n=a.shift();r=t.styleSheet;n?(t.onload=function(){n.cb(n.ss),e(t)},t.onerror=function(){n.eb(),e(t)},n.ss=r.imports[r.addImport(n.url)]):(h(t),o=t,c.push(o));var o}(r)}:function(e,t,n,r){var o;(function(e,t,n){function r(){g(e)||(h(e),n(e.sheet))}(function(e,t){e.onload=function(){p("load",!0),t()}})(e,r),function e(t,n,r){if(l.load)return;d(t)?r(t.sheet):g(t)||i(function(){e(t,n,r)},n)}(e,t,r)})(o=m(),r,t),function(e,t,n){function r(){g(e)||(h(e),n(new Error(f)))}(function(e,t){e.onerror=function(){p("error",!0),t()}})(e,r),function(){if(l.error);}()}(o,0,n),o.href=e,v.appendChild(o)}),define("curl/plugin/css",{normalize:function(e,t){var n,r;if(!e)return e;r=[];for(var o=0,i=(n=e.split(",")).length;o<i;o++)r.push(t(n[o]));return r.join(",")},load:function(e,t,n,r){var o,i,u,c,a,s,f,l;function p(e){1<i.length&&o.push(e),0==--a&&n(1==i.length?e:o)}function d(e){(n.reject||function(e){throw e})(e)}for(o=[],i=(e||"").split(","),u=r.cssWatchPeriod||50,c=r.cssNoWait,a=i.length,s=0;s<i.length;s++){var h,g;e=i[s],f=t.toUrl(e),l="css",h=f.lastIndexOf(".")<=f.lastIndexOf("/")?f+"."+l:f,c?((g=m()).href=h,v.appendChild(g),p(g.sheet||g.styleSheet)):x(h,p,d,u)}},cramPlugin:"../cram/css"})}(this),define("curl-cache-bust",["curl/_privileged"],function(o){var i=o.core.loadScript;o.core.loadScript=function(e,t,n){var r=o.config().urlArgs;return r&&(e.url+=(0<=e.url.indexOf("?")?"&":"?")+r),i(e,t,n)}});

define("UWA/Internal/Polyfill/NativeObjects",[],function(){"use strict";var t=Function("return this")();if(!t.UWA_SKIP_POLYFILLS){var e,r,n,p,s,o,i,c,a,l=Function.prototype.call,u=Object.prototype,f=Array.prototype,h=Object("a"),y="a"!==h[0]||!(0 in h);Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}var r,n,o=this,i=Array.prototype.slice;if("function"!=typeof o)throw new TypeError("Function.prototype.bind called on incompatible "+o);return r=i.call(arguments,1),n=function(){var t;return t=this instanceof n?(t=o.apply(this,r.concat(i.call(arguments))),Object(t)===t?t:this):o.apply(e,r.concat(i.call(arguments)))},o.prototype&&(t.prototype=o.prototype,n.prototype=new t,t.prototype=null),n}),n="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",String.prototype.trim&&!n.trim()||(n="["+n+"]",e=new RegExp("^"+n+n+"*"),r=new RegExp(n+n+"*$"),String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(e,"").replace(r,"")}),s=String.prototype.split,2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||1<".".split(/()()/).length?(p=void 0===/()??/.exec("")[1],String.prototype.split=function(t,e){var r,n,o,i,c,a,l,u=this;function f(){var t;for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(c[t]=void 0)}if(void 0===t&&0===e)r=[];else if("[object RegExp]"!==M(t))r=s.apply(u,[t,e]);else{for(r=[],n=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),o=0,t=new RegExp(t.source,n+"g"),u=String(u),p||(i=new RegExp("^"+t.source+"$(?!\\s)",n)),e=void 0===e?-1>>>0:e>>>0;(c=t.exec(u))&&!(o<(a=c.index+c[0].length)&&(r.push(u.slice(o,c.index)),!p&&1<c.length&&c[0].replace(i,f),1<c.length&&c.index<u.length&&Array.prototype.push.apply(r,c.slice(1)),l=c[0].length,o=a,r.length>=e));)t.lastIndex===c.index&&t.lastIndex++;o===u.length?!l&&t.test("")||r.push(""):r.push(u.slice(o)),r=r.length>e?r.slice(0,e):r}return r}):"0".split(void 0,0).length&&(String.prototype.split=function(t,e){return void 0===t&&0===e?[]:s.apply(this,[t,e])}),function(){if("".substr&&"b"!=="0b".substr(-1)){var r=String.prototype.substr;String.prototype.substr=function(t,e){return r.call(this,t<0&&(t=this.length+t)<0?0:t,e)}}}(),String.prototype.repeat||(String.prototype.repeat=(o=function(t,e){var r;return e<1?r="":e%2?r=o(t,e-1)+t:(r=o(t,e/2),r+=r),r},function(t){var e=String(A(this));if((t=N(t))<0||t===1/0)throw new RangeError("Invalid String#repeat value");return o(e,t)})),String.prototype.startsWith||(String.prototype.startsWith=function(t){var e,r,n=String(A(this));if("[object RegExp]"===M(t))throw new TypeError('Cannot call method "startsWith" with a regex');return t=String(t),e=1<arguments.length?arguments[1]:void 0,r=Math.max(N(e),0),n.slice(r,r+t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t){var e,r,n,o,i=String(A(this));if("[object RegExp]"===M(t))throw new TypeError('Cannot call method "endsWith" with a regex');return t=String(t),e=i.length,n=void 0===(r=1<arguments.length?arguments[1]:void 0)?e:N(r),o=Math.min(Math.max(n,0),e),i.slice(o-t.length,o)===t}),String.prototype.codePointAt||(String.prototype.codePointAt=function(t){var e,r,n=String(A(this)),o=n.length,i=N(t);if(!(i<0||o<=i))return(e=n.charCodeAt(i))<55296||56319<e||i+1===o?e:(r=n.charCodeAt(i+1))<56320||57343<r?e:1024*(e-55296)+(r-56320)+65536}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===M(t)}),2!==[1,2].splice(0).length&&(i=f.splice,c=f.slice,f.splice=function(t,e){var r=[],n=c.call(arguments);return n.length&&(n[0]=void 0===t?0:t,n[1]=void 0===e?this.length-t:e,r=i.apply(this,n)),r}),1!==[].unshift(0)&&(a=f.unshift,f.unshift=function(){return a.apply(this,arguments),this.length}),f.indexOf&&-1===[0,1].indexOf(1,2)||(f.indexOf=function(t,e){var r=0,n=D(this),o=n.length>>>0;if(!o)return-1;for(1<arguments.length&&(r=N(e)),r=0<=r?r:Math.max(0,o+r);r<o;r++)if(I(n,r)&&n[r]===t)return r;return-1}),f.lastIndexOf&&-1===[0,1].lastIndexOf(0,-3)||(f.lastIndexOf=function(t,e){var r=D(this),n=r.length>>>0,o=n-1;if(!n)return-1;for(1<arguments.length&&(o=Math.min(o,N(e))),o=0<=o?o:n-Math.abs(o);0<=o;o--)if(I(r,o)&&t===r[o])return o;return-1}),f.every||(f.every=function(t,e){var r,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)if(I(n,r)&&!t.call(e,n[r],r,n))return!1;return!0}),f.some||(f.some=function(t,e){var r,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)if(I(n,r)&&t.call(e,n[r],r,n))return!0;return!1}),f.forEach||(f.forEach=function(t,e){var r=0,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(;r<o;)I(n,r)&&t.call(e,n[r],r,this),r++}),f.map||(f.map=function(t,e){var r,n=D(this),o=n.length>>>0,i=Array(o);if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)I(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}),f.filter||(f.filter=function(t,e){var r,n,o=D(this),i=o.length>>>0,c=[];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<i;r++)I(o,r)&&(n=o[r],t.call(e,n,r,o)&&c.push(n));return c}),f.reduce||(f.reduce=function(t,e){var r,n=0,o=D(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");if(2<=arguments.length)r=e;else for(;;){if(I(o,n)){r=o[n++];break}if(++n>=i)throw new TypeError("reduce of empty array with no initial value")}for(;n<i;n++)I(o,n)&&(r=t(r,o[n],n,o));return r}),f.reduceRight||(f.reduceRight=function(t,e){var r,n=D(this),o=n.length>>>0,i=o-1;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");if(2<=arguments.length)r=e;else for(;;){if(I(n,i)){r=n[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;I(n,i)&&(r=t(r,n[i],i,n)),i--;);return r}),f.includes||(f.includes=function(t,e){if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0==n)return!1;for(var o=0|e,i=Math.max(0<=o?o:n-Math.abs(o),0);i<n;){if(r[i]===t)return!0;i++}return!1});var g,b,d,w,O,j,v,S,E,m=l.bind(u.hasOwnProperty),T="__proto__",x=function(t){var e=typeof t;return("object"==e||"function"==e)&&null!==t};if((O=m(u,"__defineGetter__"))&&(g=l.bind(u.__defineGetter__),b=l.bind(u.__defineSetter__),d=l.bind(u.__lookupGetter__),w=l.bind(u.__lookupSetter__)),Object.assign||(Object.assign=function(t){var e,r=D(t);if(1===arguments.length)return r;for(e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n){var o,i=D(n),c=Object.getOwnPropertyNames(i);for(o=0;o<c.length;o++)r[c[o]]=i[c[o]]}}return r}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}),Object.setPrototypeOf||(Object.setPrototypeOf=function(){var r;function e(t,e){return function(t,e){if("function"!=typeof t&&"object"!=typeof t||null===t)throw new TypeError("can not set prototype on a non-object");if("function"!=typeof e&&"object"!=typeof e&&null!==e)throw new TypeError("can only set prototype to an object or null")}(t,e),r.call(t,e),t}try{(r=Object.getOwnPropertyDescriptor(u,T).set).call({},null)}catch(t){if(u!=={}[T])return;r=function(t){this[T]=t},e.polyfill=e(e({},null),u)instanceof Object}return e}()),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t[T]||(t.constructor?t.constructor.prototype:u)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){var r,n,o,i;if(!x(t))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object:"+t);if(m(t,e))return n={enumerable:!0,configurable:!0},O&&(r=t[T],t[T]=u,o=d(t,e),i=w(t,e),t[T]=r,o||i)?(o&&(n.get=o),i&&(n.set=i)):n.value=t[e],n}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){if(!x(t))throw new TypeError("Object.getOwnPropertyNames called on a non-object:"+t);return Object.keys(t)}),Object.create||(Object.create=function(t,e){function r(){}var n;return null===t?n={__proto__:null}:(r.prototype=t,(n=new r)[T]=t),void 0!==e&&Object.defineProperties(n,e),n}),j=Object.defineProperty,v=j&&C({}),S=j&&void 0===t.document||C(t.document.createElement("div")),E=j&&!v||!S&&Object.defineProperty,j&&!E||(Object.defineProperty=function(t,e,r){var n;if(!x(t))throw new TypeError("Object.defineProperty called on non-object: "+t);if(!x(r))throw new TypeError("Property description must be an object: "+r);if(E)try{return E.call(Object,t,e,r)}catch(t){}if(m(r,"value"))O&&(d(t,e)||w(t,e))?(n=t[T],t[T]=u,delete t[e],t[e]=r.value,t[T]=n):t[e]=r.value;else{if(!O)throw new TypeError("getters & setters can not be defined on this javascript engine");m(r,"get")&&g(t,e,r.get),m(r,"set")&&b(t,e,r.set)}return t}),Object.defineProperties||(Object.defineProperties=function(t,e){if(!x(t))throw new TypeError("Object.defineProperties called on a non-object");var r;for(r in e)m(e,r)&&Object.defineProperty(t,r,e[r]);return t}),Object.seal||(Object.seal=function(t){if(!x(t))throw new TypeError("Object.seal called on a non-object");return t}),Object.freeze||(Object.freeze=function(t){if(!x(t))throw new TypeError("Object.freeze called on a non-object");return t}),Object.preventExtensions||(Object.preventExtensions=function(t){if(!x(t))throw new TypeError("Object.preventExtensions called on a non-object");return t}),Object.isSealed||(Object.isSealed=function(t){if(!x(t))throw new TypeError("Object.isSealed called on a non-object");return!1}),Object.isFrozen||(Object.isFrozen=function(t){if(!x(t))throw new TypeError("Object.isFrozen called on a non-object");return!1}),Object.isExtensible)try{Object.isExtensible(42)}catch(t){var P=Object.isExtensible;Object.isExtensible=function(t){try{return P(t)}catch(t){return!1}}}else Object.isExtensible=function(t){var e,r;if(!x(t))return!1;for(r="";m(t,r);)r+="?";return t[r]=!0,e=m(t,r),delete t[r],e};Object.keys||(Object.keys=function(t){if(!x(t))throw new TypeError("Object.keys called on a non-object");var e,r,n,o,i=[],c=!m({toString:null},"toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=a.length;for(n in t)m(t,n)&&i.push(n);if(c)for(e=0,r=l;e<r;e++)m(t,o=a[e])&&i.push(o);return i}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date=function(y){var t,n=[0,31,59,90,120,151,181,212,243,273,304,334,365],g=new RegExp("^(\\d{4}|[-+]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");function b(t,e){var r=1<e?1:0;return n[e]+Math.floor((t-1969+r)/4)-Math.floor((t-1901+r)/100)+Math.floor((t-1601+r)/400)+365*(t-1970)}function u(t,e,r,n,o,i,c){var a,l=arguments.length;return this instanceof y?((a=1===l&&String(t)===t?new y(u.parse(t)):7<=l?new y(t,e,r,n,o,i,c):6<=l?new y(t,e,r,n,o,i):5<=l?new y(t,e,r,n,o):4<=l?new y(t,e,r,n):3<=l?new y(t,e,r):2<=l?new y(t,e):1<=l?new y(t):new y).constructor=u,a):y.apply(this,arguments)}for(t in y)u[t]=y[t];return u.now=y.now,u.UTC=y.UTC,((u.prototype=y.prototype).constructor=u).parse=function(t){var e,r,n,o,i,c,a,l,u,f,p,s,h=g.exec(t);return h?(e=Number(h[1]),r=Number(h[2]||1)-1,n=Number(h[3]||1)-1,o=Number(h[4]||0),i=Number(h[5]||0),c=Number(h[6]||0),a=Math.floor(1e3*Number(h[7]||0)),l=!h[4]||h[8]?0:Number(new y(1970,0)),u="-"===h[9]?1:-1,f=Number(h[10]||0),p=Number(h[11]||0),o<(0<i||0<c||0<a?24:25)&&i<60&&c<60&&a<1e3&&-1<r&&r<12&&f<24&&p<60&&-1<n&&n<b(e,1+r)-b(e,r)&&-864e13<=(s=1e3*(60*((s=60*(24*(b(e,r)+n)+o+f*u))+i+p*u)+c)+a+l)&&s<=864e13?s:NaN):y.parse.apply(this,arguments)},u}(Date);try{-1===new Date(-621987552e5).toISOString().indexOf("-000001")&&delete Date.prototype.toISOString}catch(t){}Date.prototype.toISOString||(Date.prototype.toISOString=function(){var t,e,r,n,o=this;if(!isFinite(o))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(t=[o.getUTCMonth()+1,o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()],n=((n=o.getUTCFullYear())<0?"-":9999<n?"+":"")+("00000"+Math.abs(n)).slice(0<=n&&n<=9999?-4:-6),e=t.length;e--;)(r=t[e])<10&&(t[e]="0"+r);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+o.getUTCMilliseconds()).slice(-3)+"Z"});var _=!0;try{new Date(NaN).toJSON()}catch(t){_=!1}Date.prototype.toJSON&&_||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError("toISOString property is not callable");try{return this.toISOString()}catch(t){return null}})}function N(t){var e=Number(t);return isNaN(e)?e=0:0===e&&!isFinite(e)||(e=(e<0?-1:1)*Math.floor(Math.abs(e))),e}function D(t){if(null==t)throw new TypeError(t+" is not a object");return t&&y&&t instanceof String?t.split(""):Object(t)}function I(t,e){return e in t}function M(t){return Object.prototype.toString.call(t)}function A(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t}function C(t){try{return Object.defineProperty(t,"sentinel",{}),t.hasOwnProperty("sentinel")}catch(t){}}});

define("UWA/Internal/Immediate",function(){"use strict";var a,i,n,r=new Function("return this")();return r.setImmediate&&r.clearImmediate?{set:r.setImmediate.bind(r),clear:r.clearImmediate.bind(r)}:r.addEventListener&&r.postMessage?(a="uwa-setImmediate",i={},n=0,r.addEventListener("message",function(e){var t;try{t="string"==typeof e.data&&"{"===e.data[0]&&JSON.parse(e.data)}catch(e){}t&&t.type===a&&e.source===r&&(e.stopPropagation(),i[t.id]&&(i[t.id](),delete i[t.id]))},!0),{set:function(e){var t=n++;return i[t]=e,r.postMessage(JSON.stringify({type:a,id:t}),"*"),t},clear:function(e){delete i[e]}}):{set:function(e){return r.setTimeout(e,0)},clear:r.clearTimeout}});

define("UWA/Internal/Polyfill/Promise",["UWA/Internal/Immediate"],function(n){"use strict";var a,e=new Function("return this")();e.UWA_SKIP_POLYFILLS||"function"!=typeof e.Promise&&((a=e.Promise=function(e){var r,t,n,o=this;if(!o||"object"!=typeof o)throw new TypeError("bad promise");if(void 0!==o._status)throw new TypeError("promise already initialized");if(!c(e))throw new TypeError("not a valid resolver");o._status="unresolved",o._resolveReactions=[],o._rejectReactions=[],r=function(e){"unresolved"===o._status&&(n=o._resolveReactions,o._result=e,i(o,n,"has-resolution"))},t=function(e){"unresolved"===o._status&&(n=o._rejectReactions,o._result=e,i(o,n,"has-rejection"))};try{e(r,t)}catch(e){t(e)}return o}).prototype={constructor:a,catch:function(e){return this.then(void 0,e)},then:function(e,r){var t,n,o,i=this;if(!function(e){return e instanceof a}(i))throw new TypeError("not a promise");switch(t=new l,c(r)||(r=function(e){throw e}),c(e)||(e=function(e){return e}),n={capability:t,handler:function(t,n,o){return function(e){if(e===t)return o(new TypeError("self resolution"));var r=new l;return s(e,r)?r.promise.then(n,o):n(e)}}(i,e,r)},o={capability:t,handler:r},i._status){case"unresolved":i._resolveReactions.push(n),i._rejectReactions.push(o);break;case"has-resolution":u([n],i._result);break;case"has-rejection":u([o],i._result);break;default:throw new TypeError("unexpected")}return t.promise}},a.all=function(e){var c=new l,r=c.resolve,t=c.reject,s=[],u={count:1};try{f(e).forEach(function(e,r){var t,n,o=e._result,i=e._status;(t="has-resolution"===i?a.resolve(o):"has-rejection"===i?a.reject(o):e)&&(n=function(r,t,n,o){var i=!1;return function(e){i||(i=!0,t[r]=e,0==--o.count&&(0,n.resolve)(t))}}(r,s,c,u),u.count++,t.then(n,c.reject))}),0==--u.count&&r(s)}catch(e){t(e)}return c.promise},a.race=function(e){var o,r=new l,i=r.resolve,c=r.reject;try{f(e).forEach(function(e){var r,t=e._result,n=e._status;r="has-resolution"===n&&"has-rejection"!==o?i(t):"has-rejection"===n&&"has-resolution"!==o&&"has-rejection"!==o?c(t):e,o=n,r&&r.then(i,c)})}catch(e){c(e)}return r.promise},a.reject=function(e){var r=new l;return(0,r.reject)(e),r.promise},a.resolve=function(e){if(e instanceof a)return e;var r=new l;return(0,r.resolve)(e),r.promise});function o(e){return null!=e&&Object(e)===e}function c(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function l(e){if(e){if(!c(e))throw new TypeError("bad promise constructor")}else e=a;var r,t=this;if(t.promise=Object.create(e.prototype||null),r=e.call(t.promise,function(e,r){t.resolve=e,t.reject=r}),!c(t.resolve)||!c(t.reject))throw new TypeError("bad promise constructor");if(o(r)&&r!==t.promise)throw new TypeError("bad promise constructor")}function s(e,r){if(!o(e))return!1;try{var t=e.then;if(!c(t))return!1;t.call(e,r.resolve,r.reject)}catch(e){r.reject(e)}return!0}function u(e,r){e.forEach(function(e){n.set(function(e,r){var t,n=r.handler,o=r.capability,i=o.resolve,c=o.reject;try{if((t=n(e))===o.promise)throw new TypeError("self resolution");s(t,o)||i(t)}catch(e){c(e)}}.bind(null,r,e))})}function i(e,r,t){n.clear(e._updateStatus),e._status=t,e._updateStatus=n.set(function(){e._resolveReactions=void 0,e._rejectReactions=void 0,u(r,e._result)})}function f(e){return function(e){if(Array.isArray(e))return e;if("number"!=typeof e.length)throw new TypeError("bad iterable");return Array.prototype.slice.call(e)}(e).map(function(e){return e instanceof a?e:a.resolve(e)})}});

define("UWA/Core",["UWA/Internal/Polyfill/NativeObjects","UWA/Internal/Polyfill/Promise"],function(){"use strict";var p,r,n,a,o,c=new Function("return this")(),i=Object.prototype.hasOwnProperty,y=Object.prototype.toString,l=c.UWA||{};return p={version:"1.3.RC4",hosts:function(){var e,t=c.document,r=t&&t.location&&"https:"===t.location.protocol?"https://":"http://",n=l.hosts,o={netvibes:"netvibes.com",uwa:"uwa.{netvibes}",exposition:"{uwa}",ecosystem:"eco.{netvibes}"};function a(e,t){return o[t].split("//")[1]}for(e in o)i.call(o,e)&&(n&&i.call(n,e)?o[e]=n[e]:o[e]=r+o[e].replace(/\{(\w+)\}/g,a));return o}(),paths:function(){var e,t=l.paths,r={lib:"/lib/",js:"/lib/UWA/js/",css:"/lib/c/UWA/assets/css/",img:"/lib/c/UWA/assets/img/"};for(e in r)i.call(r,e)&&t&&i.call(t,e)&&(r[e]=t[e]);return r}(),debug:Boolean(l.debug),namespace:function(e,t,r,n){r=r||c;var o,a,i=e.split("/");for(o=0,a=i.length;o<a;o++){e=i[o];var l=Boolean(r[e]);if(o===a-1){if(l){if(!n)throw new Error('Duplicate NameSpace "'+i.join(".")+'" into "'+r+'"');if("extend"===n)t=p.extend(r[e],t);else if("replace"===n)t=p.extend(t,r[e]);else{if(!0!==n)throw new Error("Unknown mode "+n);t=p.extend(r[e],t,!0)}}r[e]=t}else l||(r[e]={});r=r[e]}return t},getGlobal:function(){return c},extend:function(e,t,r){var n;for(n in t=t||{})if(i.call(t,n))if(r&&p.is(t[n],"plain"))p.is(e[n],"plain")||(e[n]={}),p.extend(e[n],t[n],r);else try{e[n]=t[n]}catch(e){}return e},merge:function(e,t){var r;for(r in t)i.call(t,r)&&(void 0!==e[r]&&null!==e[r]||(e[r]=t[r]));return e},clone:function(e,t){var r,n,o,a;switch(a=!0!==t&&!1!==t||t,p.typeOf(e)){case"array":if(a)for(r=[],n=0,o=e.length;n<o;n++)r[n]=p.clone(e[n],!0);else r=e.slice();break;case"object":if(a)for(n in r={},e)i.call(e,n)&&(r[n]=p.clone(e[n],!0));else r=p.extend({},e);break;case"date":r=new Date(e);break;case"element":r=e.cloneNode(a);break;default:r=e}return r},result:function(e,t,r){var n;return p.is(e)&&(n=e[t]),void 0===n&&(n=r),p.is(n,"function")?n.call(e):n},typeOf:(o={Null:!1,Undefined:!1,Function:"function",AsyncFunction:"function",String:"string",Array:"array",Date:"date",RegExp:"regexp",Number:"number",Boolean:"boolean",Error:"error",Arguments:"arguments",Blob:"blob",ArrayBuffer:"arraybuffer",FormData:"formdata",HTMLDocument:"document",XMLDocument:"document",Document:"document",global:"window",Window:"window",DOMWindow:"window",Math:"object",MouseEvent:"event",NodeList:"nodelist",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",DataView:"dataview",File:"file"},function(e){var t={}.toString.call(e).slice(8,-1);if(null==e)return!1;if("Function"===t&&"function"==typeof e.extend&&"function"==typeof e.singleton)return"class";if("Number"===t&&isNaN(e))return!1;if("Object"===t&&e&&"number"==typeof e.nodeType)return"element";var r=o[t];return void 0!==r?r:"Event"===t.slice(-5)?"event":"Element"===t.slice(-7)?"element":e.$extended&&e.event?"event":"Object"===t&&c.DataView&&e instanceof c.DataView?"dataview":"object"}),is:(a=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){var r,n,o=!1;for(r=0,n=e.length;r<n;r++)if(e[r]===t){o=!0;break}return o?r:-1},function(e,t){var r,n;if(void 0===t)r="number"==typeof e?!isNaN(e):null!=e;else{if(t="array"===p.typeOf(t)?t:[t],r=!1,-1!==a(t,"finite")&&(r=isFinite(e)),r||-1===a(t,"plain")||(r=function(e){if(!e||"object"!==p.typeOf(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e)if(!i.call(e,t))return!1;return!0}(e)),!r){var o=a(t,"arraybufferview");0<=o&&(t=t.slice()).splice(o,1,"typedarray","dataview")}r||!1===(n=p.typeOf(e))||(r=-1!==a(t,n))}return r}),equals:function(e,t){return function e(t,r,n,o){var a,i,l,c,s,u,f;if(t===r)f=0!==t||1/t==1/r;else if(null==t||null==r)f=t===r;else if((a=y.call(t))!==y.call(r))f=!1;else if("[object String]"===a)f=String(t)===String(r);else if("[object Number]"===a)f=t!=Number(t)?r!=Number(r):0==t?1/t==1/r:t==Number(r);else if("[object Date]"===a||"[object Boolean]"===a)f=Number(t)===Number(r);else if("[object RegExp]"===a)f=t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.ignoreCase===r.ignoreCase;else if("object"!=typeof t||"object"!=typeof r)f=!1;else{for(i=n.length;i--;)n[i]===t&&(f=o[i]===r);if(void 0===f){if(n.push(t),o.push(r),"[object Array]"===a)for(f=(l=t.length)===r.length;f&&0<l;)f=e(t[--l],r[l],n,o);else if((c=t.constructor)===(s=r.constructor)||"[object Function]"===y.call(c)&&c instanceof c&&"[object Function]"===y.call(s)&&s instanceof s){for(u in f=!(l=0),t)if(p.owns(t,u)&&(l++,!(f=p.owns(r,u)&&e(t[u],r[u],n,o))))break;if(f){for(u in r)if(p.owns(r,u)&&!l--)break;f=!l}}else f=!1;n.pop(),o.pop()}}return f}(e,t,[],[])},owns:function(e,t){return p.is(e)&&i.call(e,t)},log:function(e,t){t=t||"log",c.console?c.console[t](e):c.opera&&c.opera.postError&&c.opera.postError(e)},i18n:(n={},function(e,t){return t=t||(c.navigator?c.navigator.language||c.navigator.systemLanguage:"default"),r=n[t]=n[t]||{},"object"==typeof e?p.extend(r,e):r[e]||e}),driver:c.MooTools?"Mootools":"Alone"},define.amd&&define.amd.curl&&(c.require||c.curl)({apiName:"require",paths:{UWA:p.hosts.uwa+p.paths.js,vendors:p.hosts.uwa+p.paths.lib+"/vendors"}}),p.namespace("UWA",p,c,!0)});

define("UWA/Event",["UWA/Core"],function(i){"use strict";var l,u,n={onDomReady:function(n,a){a=a||window;var o=!1,e=!0,c=window.document,r=c.documentElement,t=Boolean(c.addEventListener),l=t?"addEventListener":"attachEvent",i=t?"removeEventListener":"detachEvent",u=t?"":"on";function d(e){var t=e.type;"complete"!==c.readyState&&"interactive"!==c.readyState||(c[i](u+"DOMContentLoaded",d,!1),c[i](u+"readystatechange",d,!1),window[i](u+"load",d,!1),o||(o=!0,n.call(a,t||e)))}if("complete"===c.readyState)setTimeout(n.bind(a,"lazy"),1);else{if(c.createEventObject&&r.doScroll){try{e=!window.frameElement}catch(e){}e&&!function t(){try{r.doScroll("left"),d("poll")}catch(e){setTimeout(t,50)}}()}c[l](u+"DOMContentLoaded",d,!1),c[l](u+"readystatechange",d,!1),window[l](u+"load",d,!1)}},dispatchEvent:function(e,t,n){var a,o,c,r=9===e.nodeType?e:e.ownerDocument||e.document,l={canBubble:!0,cancelable:!0,view:r.defaultView||r.parentWindow,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null,keyCode:null,charCode:null,touches:null,targetTouches:null,changedTouches:null,scale:1,rotation:0};if(n=i.merge(n||{},l),r.createEvent){if(c="click"===t||"dblclick"===t||"contextmenu"===t||0===t.indexOf("mouse")?(o="MouseEvent",[t,n.canBubble,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget]):0===t.indexOf("touch")?(o="TouchEvent",[t,n.canBubble,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.touches,n.targetTouches,n.changedTouches,n.scale,n.rotation]):0===t.indexOf("key")?(o="KeyboardEvent",[t,n.canBubble,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode]):(o="HTMLEvents",[t,n.canBubble,n.cancelable]),a=r.createEvent(o),"KeyboardEvent"===o&&"function"==typeof a.initKeyEvent?o="KeyEvent":"HTMLEvents"===o&&"function"!=typeof a.initHTMLEvents&&(o="Event"),"function"!=typeof a["init"+o])throw new Error("Unsuported Event type "+o);a["init"+o].apply(a,c),e.dispatchEvent(a)}else if(r.createEventObject){a=r.createEventObject(),i.extend(a,n);try{e.fireEvent("on"+t,a)}catch(e){throw new Error("Unsuported Event type "+t)}}return a},getElement:function(e){var t=e._uwaTarget||e.target||e.srcElement;return"DOMCharacterDataModified"===e.type||!t||3!==t.nodeType&&4!==t.nodeType||(t=t.parentNode),i.extendElement(t)},findElement:function(e,t){return n.getElement(e).getClosest(t)},getPosition:function(e,t){var n;t="number"==typeof t?{touchIndex:t}:t||{};var a=e.changedTouches||e.touches,o="client"===t.relativeTo,c=o?"clientX":"pageX",r=o?"clientY":"pageY";if(a)if(void 0!==t.touchIndex&&a[t.touchIndex])n={x:a[t.touchIndex][c],y:a[t.touchIndex][r]};else{n={x:0,y:0};for(var l=0,i=a.length;l<i;l++)n.x+=a[l][c],n.y+=a[l][r];n.x/=i,n.y/=i}else n={x:e[c],y:e[r]};return n},stopPropagation:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1,void 0!==e.cancelable&&!0!==e.cancelable||void 0!==e.defaultPrevented||(e.defaultPrevented=!0)},stop:function(e){n.preventDefault(e),n.stopPropagation(e)},isDefaultPrevented:function(e){return e.defaultPrevented||!0!==e.returnValue&&void 0!==e.returnValue},whichButton:function(e){var t=e.button,n=e.which;return!n&&i.is(t)&&(n=[0,1,3,1,2][t]||0),n-1},whichKey:(l=["alt","ctrl","meta","shift"],u={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},function(e){var t,n,a,o=e.which||e.keyCode,c="keypress"!==e.type&&u[o],r=[];for(t=0,n=l.length;t<n;t++)e[(a=l[t])+"Key"]&&c!==a&&r.push(a);return c?r.push(c):o&&0===e.type.indexOf("key")&&r.push(String.fromCharCode(o).toLowerCase()),r.join("+")}),wheelDelta:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}};return i.namespace("Event",n,i)});

define("UWA/Function",["UWA/Core"],function(n){"use strict";var t={always:function(n){return function(){return n}}};return n.namespace("Function",t,n)});

define("UWA/Internal/Deprecate",["UWA/Core"],function(i){"use strict";var n={},l={warn:function(e,r,t){t=t||"warn",i.debug&&!n.hasOwnProperty(e)&&(i.log(e+" is deprecated."+(r?" "+r:""),t),n[e]=!0)},alias:function(e,r,t){if(!i.debug)return t;function n(){return l.warn(e,r),t&&t.apply(this,arguments)}return t&&(n.prototype=t.prototype),n},property:function(e,r,t){var n=t?t.value:void 0;if(i.debug){var a=t&&t.name||r;Object.defineProperty(e,r,{get:function(){return l.warn(a,t&&t.message),n},set:function(e){l.warn(a,t&&t.message),n=e}})}else e[r]=n},uncurryAlias:function(u,e,c,s){Object.keys(u).forEach(function(a){var i=u[a];Object.defineProperty(e,a,{value:function(e,r,t){switch(l.warn(s+"#"+a,"Use "+c+"."+a+"(value, ...) instead"),arguments.length){case 0:return i.call(u,this);case 1:return i.call(u,this,e);case 2:return i.call(u,this,e,r);case 3:return i.call(u,this,e,r,t);default:var n=[].slice.call(arguments);return n.unshift(this),i.apply(u,n)}},writable:!0})})}};return l});

define("UWA/String",["UWA/Core","UWA/Internal/Deprecate"],function(UWA,Deprecate){"use strict";var Module={},a,q,r,t,u,E,F,G,X,Y,Z,da,ea,wa;function H(e){return E[e]}function parseColorToArray(e){var r,t,a=!1,n=(e=e.replace(/\s+/g,"")).match(/^rgb(a?)\(((?:\d{1,3},)*\d{1,3})\)/);if(n)a=n[2].split(",").map(function(e){return parseInt(e,10)}),(!n[1]&&3!==a.length||n[1]&&4!==a.length)&&(a=!1);else if(n=e.match(/^#?((?:[a-f0-9]{3}){1,2})$/i)){r=3===n[1].length?1:2,a=[];for(var i=0;i<n[1].length;i+=r)t=parseInt(n[1].substr(i,r),16),1==r&&(t=16*t+t),a.push(t)}else"transparent"===e&&(a=[0,0,0,0]);return a}function FakeString(){return Deprecate.warn("UWA/String as a constructor","Use the native String instead."),String.apply(null,arguments)}return Module.isEmail=(a=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,function(e){return a.test(e)}),Module.truncate=function(e,r,t){return r=r||30,t=void 0===t?"...":t,e.length>r?e.slice(0,r-t.length)+t:String(e)},Module.cut=function(e,r,t){if(r=r||30,t=void 0===t?"...":t,e.length<=r)return String(e);var a,n=-1,i=t.length;for(a=r-i;0<=a;a--)if(-1!==".,;!? ".indexOf(e.charAt(a))){n=a;break}return n<0&&(n=r-i),e.slice(0,n)+t},Module.escapeRegExp=function(e){return e.replace(/\\/g,"\\\\").replace(/([-.*+?^$()[\]{}|])/g,"\\$1")},Module.stripTags=function(e){return e.replace(/ on\w+="[^"]*"/g,"").replace(/<(?!\s*\/?\s*(div|br|dt|dd|th|td|p|pre|h1|h2|h3|h4|h5)\b)[^>]*>/gi,"").replace(/<\/?[^>]+>/gi," ").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},Module.stripScripts=function(string,evaluate){var scripts="",text=string.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,r){return scripts+=r+"\n",""});return!0===evaluate?eval(scripts):UWA.is(evaluate,"function")&&evaluate(scripts.trim(),text),text},Module.stripComments=(q=/^\/\/.*/gm,r=/^\/\*[\S\s]*?\*\//gm,function(e){return e.replace(q,"").replace(r,"")}),Module.escapeHTMLEntities=(t={},u={apos:39,minus:8722,circ:710,tilde:732,Scaron:352,lsaquo:8249,OElig:338,lsquo:8216,rsquo:8217,ldquo:8220,rdquo:8221,bull:8226,ndash:8211,mdash:8212,trade:8482,scaron:353,rsaquo:8250,oelig:339,Yuml:376,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,sbquo:8218,bdquo:8222,dagger:8224,Dagger:8225,hellip:8230,permil:8240,prime:8242,Prime:8243,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,hibar:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254},function(e){var r,a,n;if(function(e){return e.match(/&([a-z]+;)/gi)}(e))for(r in u)u.hasOwnProperty(r)&&(t[n=r]||(t[n]=new RegExp("&"+n+";","g")),a=t[n],e=e.replace(a,"&#"+u[r]+";"));return String(e)}),Module.globToRegex=function(e){var r=Module.escapeRegExp(e).replace(/\\\*/g,".*").replace(/\\\?/g,".").replace(/\\\{/g,"(").replace(/\\\}/g,")").replace(/,/g,"|");return new RegExp("^"+r+"$")},Module.escapeHTML=(E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},F=/[&<>"'/]/g,G=/[<>/]/g,function(e,r){return String(e).replace(r?G:F,H)}),Module.unescapeHTML=function(e){var r=document.createElement("div");return r.innerHTML=Module.stripTags(e).replace(/"/g,"&quot;"),r.childNodes[0]?r.childNodes[0].nodeValue:""},Module.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},Module.lcfirst=function(e){return e.charAt(0).toLowerCase()+e.substr(1)},Module.capitalize=function(e){for(var r=e.toUpperCase(),t=e.toLowerCase(),a=!1,n="",i=0;i<e.length;i++)r[i]===t[i]?(n+=e[i],a=!1):a?n+=e[i]:(n+=r[i],a=!0);return n},Module.camelCase=(X=/([A-Z]+)/g,Y=/[-_\s](.)/g,Z=/[-_\s]/g,function(e){return e=String(e).replace(X,function(e,r){return r.substr(0,1).toUpperCase()+r.toLowerCase().substr(1,r.length)}).replace(Y,function(e,r){return r.toUpperCase()}).replace(Z,"").trim(),Module.lcfirst(e)}),Module.unCamelCase=(da=/([a-z])([A-Z])/g,ea=/\b([A-Z]+)([A-Z])([a-z])/,function(e,r){return r=r||"-",e.toString().replace(da,"$1"+r+"$2").replace(ea,"$1"+r+"$2$3").toLowerCase()}),Module.rgbToHex=function(e,r){var t=parseColorToArray(e);return t=t&&(r?t.map(function(e){return parseInt(e.toString(16),10)}):0===t[3]?"transparent":"#"+t.slice(0,3).map(function(e){return("0"+e.toString(16)).slice(-2)}).join(""))},Module.hexToRgb=function(e,r){var t=parseColorToArray(e);return t&&!r&&(t=(3===t.length?"rgb(":"rgba(")+t.join(", ")+")"),t},Module.format=(wa=/\{(\d+)\}/g,function(e){var t=arguments;return e.replace(wa,function(e,r){return t[Number(r)+1]})}),Module.parseRelativeTime=function(e,r){var t,a,n,i,u=new Date,o=UWA.i18n;return u=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),"number"!=typeof r&&(r=0),a=(t=e.match(/^(\d\d\d\d)-(\d\d)-(\d\d) (\d\d):(\d\d):(\d\d)$/))?new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]).getTime():/^\d{13}$/.test(e)?parseInt(e,10):/^\d{10}$/.test(e)?1e3*parseInt(e,10):Date.parse(e.replace(/\//g,"-")),r*=3600,n=(new Date-a)/1e3+r,i=(u-a)/1e3+r,!isNaN(n)&&(n<60?o("less than a minute ago"):n<120?o("about a minute ago"):n<2700?Module.format(o("{0} minutes ago"),Math.round(n/60)):n<5400?o("about an hour ago"):i<0?Module.format(o("about {0} hours ago"),Math.round(n/3600)):i<86400?o("yesterday"):Module.format(o("{0} days ago"),Math.ceil(i/86400)))},Module.makeClickable=function(e){var u=/((\w+:\/\/(\w+(:\w+)?@)?)|\bwww\.)[^\s<$]+/,o=/([/:\w+_-]+(\.[\w+_-]+)*@[\w.-]+)/;return e.replace(/(^|[\s>])([^\s<>"']+?)(?=$|[\s<])/gm,function(e,r,t){if(u.test(t)){var a=t.replace(/([.!?:)\]]$)/,""),n=t;return/^www\./.test(a)&&(a="http://"+a),r+'<a href="'+a+'" target="_blank">'+n+"</a>"}if(o.test(t)){var i=t;return/^[\w]+:\/\//.test(i)||(i='<a href="mailto:'+i+'">'+i+"</a>"),r+i}return e})},Module.contains=function(e,r,t){var a;return UWA.is(t,"string")?(e=t+e+t,r=t+r+t):UWA.is(t,"number")&&(a=t),-1!==e.indexOf(r,a)},Module.highlight=function(e){return Deprecate.warn("UWA.String.highlight"),e},Module.test=function(e,r,t){return Deprecate.warn("UWA.String.test","Use regexp.test(string) instead"),("string"==typeof r?new RegExp(r,t):r).test(e)},Deprecate.uncurryAlias(Module,String.prototype,"UWA.String","String"),Object.assign(FakeString,Module),UWA.namespace("String",FakeString,UWA)});

define("UWA/Array",["UWA/Core","UWA/Internal/Deprecate"],function(r,n){"use strict";var a={};function e(){return n.warn("UWA/Array as a constructor","Use the native Array instead."),Array.apply(null,arguments)}return a.equals=function(r,a){n.warn("UWA.Array.equals","Use UWA.equals instead");var e,t=r.length;if(!a||t!==a.length)return!1;for(e=0;e<t;e++)if(r[e]!==a[e])return!1;return!0},a.detect=function(r,a,e){var t,n;for(t=0,n=r.length;t<n;t++)if(a.call(e,r[t],t,r))return r[t]},a.invoke=function(r,a){var e=Array.prototype.slice.call(arguments,2);return r.map(function(r){return r[a].apply(r,e)})},a.erase=function(r,a){for(var e=r.length;e--;)r[e]===a&&r.splice(e,1);return r},n.uncurryAlias(a,Array.prototype,"UWA.Array","Array"),e.isArray=n.alias("UWA/Array.isArray","Use the native Array.isArray instead",Array.isArray),["splice","slice"].forEach(function(r){e.prototype[r]=n.alias("UWA/Array#"+r,"Use the native Array#"+r+" instead",Array.prototype[r])}),Object.assign(e,a),r.namespace("Array",e,r)});

define("UWA/Date",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";var n,r,a,o={};function u(e,t,n){return Array((n||2)-String(e).length+1).join(t||0)+e}function i(e){return parseInt(e,10)}function c(){t.warn("UWA/Date as a constructor","Use the native Date instead.");var e=Array.prototype.slice.call(arguments);return e.unshift(null),new(Date.bind.apply(Date,e))}return o.strftime=(n=e.i18n,r={a:[n("Sun"),n("Mon"),n("Tue"),n("Wed"),n("Thu"),n("Fri"),n("Sat")],A:[n("Sunday"),n("Monday"),n("Tuesday"),n("Wednesday"),n("Thursday"),n("Friday"),n("Saturday")],b:[n("Jan"),n("Feb"),n("Mar"),n("Apr"),n("May"),n("Jun"),n("Jul"),n("Aug"),n("Sep"),n("Oct"),n("Nov"),n("Dec")],B:[n("January"),n("February"),n("March"),n("April"),n("May"),n("June"),n("July"),n("August"),n("September"),n("October"),n("November"),n("December")],c:n("%a %b %e %Y %T"),p:[n("AM"),n("PM")],P:[n("am"),n("pm")],x:n("%m/%d/%y"),X:n("%T")},a={a:function(e){return r.a[e.getDay()]},A:function(e){return r.A[e.getDay()]},b:function(e){return r.b[e.getMonth()]},B:function(e){return r.B[e.getMonth()]},c:r.c,C:function(e){return u(i(e.getFullYear()/100))},d:function(e){return u(e.getDate())},D:"%m/%d/%y",e:function(e){return u(e.getDate()," ")},F:"%Y-%m-%d",g:function(e){return u(a.G(e)%100)},G:function(e){var t=e.getFullYear(),n=i(a.V(e)),r=i(a.W(e));return n<r?t++:0===r&&52<=n&&t--,t},h:"%b",H:function(e){return u(e.getHours())},I:function(e){return u(e.getHours()%12||12)},j:function(e){return u(i((new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" GMT")-new Date(e.getFullYear()+"/1/1 GMT"))/6e4/60/24)+1,0,3)},l:function(e){return u(e.getHours()%12||12," ")},m:function(e){return u(e.getMonth()+1)},M:function(e){return u(e.getMinutes())},n:"\n",p:function(e){return r.p[12<=e.getHours()?1:0]},P:function(e){return r.P[12<=e.getHours()?1:0]},r:"%I:%M:%S %p",R:"%H:%M",s:function(e){return i(e/1e3)},S:function(e){return u(e.getSeconds())},t:"\t",T:"%H:%M:%S",u:function(e){return e.getDay()||7},U:function(e){return u(i((i(a.j(e))+(6-e.getDay()))/7))},V:function(e){var t=i(a.W(e)),n=new Date(e.getFullYear()+"/1/1").getDay(),r=t+(4<n||n<=1?0:1);return 53===r&&new Date(e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=a.V(new Date(e.getFullYear()-1+"/12/31"))),u(r,0)},w:function(e){return e.getDay()},W:function(e){return u(i((i(a.j(e))+(7-a.u(e)))/7))},x:r.x,X:r.X,y:function(e){return u(e.getFullYear()%100)},Y:function(e){return e.getFullYear()},z:function(e,t){var n=t?0:e.getTimezoneOffset();return(0<n?"-":"+")+u(i(Math.abs(n/60)))+u(n%60)},Z:function(e,t){var n;return t?n="UTC":4<(n=e.toString().replace(/^.*:\d\d( GMT[+\-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"")).length&&(n=a.z(e)),n},"%":"%"},function(n,e,r){var u;return u=r?new Date(Number(n)+6e4*n.getTimezoneOffset()):n,e.replace(/%[A-Za-z%]/g,function(e){var t=a[e.slice(1)];return void 0===t?e:"string"==typeof t?"%"!==t&&0<=t.indexOf("%")?o.strftime(n,t,r):t:t(u,r)})}),t.uncurryAlias(o,Date.prototype,"UWA.Date","Date"),["now","parse","UTC"].forEach(function(e){c[e]=t.alias("UWA/Date."+e,"Use the native Date."+e+" instead",Date[e])}),Object.assign(c,o),e.namespace("Date",c,e)});

define("UWA/Object",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";function n(){return t.warn("UWA/Object as a constructor","Use the native Object instead."),Object.apply(null,arguments)}return["assign","create","defineProperty","defineProperties","freeze","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys","preventExtensions","seal","setPrototypeOf"].forEach(function(e){n[e]=t.alias("UWA/Object."+e,"Use the native Object."+e+" instead",Object[e])}),e.namespace("Object",n,e)});

define("UWA/Utils",["UWA/Core","UWA/Array","UWA/Internal/Immediate"],function(c,a,e){"use strict";var s,D,r,t,i,n,o,l,u,B,p,A,C,f,d,F,E,h,m,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=c.getGlobal();return s={buildUrl:(m=y.location&&y.location.protocol?y.location.protocol:"http:",function(e,t){if(e=String(e),t=String(t),!s.isAbsoluteUrl(e))throw new Error("First argument should be a absolute url.");"//"===e.substring(0,2)&&(e=m+e);var r,n,o=String(e).split("://"),a=o[0],i=o[1].split("/"),c=i[0],l="";if("//"===t.substring(0,2))e=a+":"+t;else if(1<t.split("://").length)e=t;else if("/"===t.substring(0,1))e=a+"://"+c+t;else{for(r=1,n=i.length-1;r<n;r++)l+="/"+i[r];e=a+"://"+c+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(l+"/"+t)}return e}),parseUrl:(E=["source","subprotocol","protocol","authority","user","password","domain","port","path","directoryPath","fileName","query","anchor"],h=new RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:/]+)(?::([^/]*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?"),function(e){var t,r=h.exec(e),n={};for(t=0;t<E.length;t++)n[E[t]]=r[t]||"";return n.subprotocol&&(n.source=n.source.substr(n.subprotocol.length+1)),n.port||(n.port="https"===n.protocol?"443":"80"),n.directoryPath&&0<n.directoryPath.length&&(n.directoryPath=n.directoryPath.replace(/\/?$/,"/")),n.domain=n.domain.toLocaleLowerCase(),n.protocol=n.protocol.toLocaleLowerCase(),n}),composeUrl:function(e){var t="";return e.protocol&&(t=e.protocol+"://",e.subprotocol&&(t=e.subprotocol+":"+t)),e.domain?(t+=e.domain,!e.port||"http"===e.protocol&&80===parseInt(e.port,10)||"https"===e.protocol&&443===parseInt(e.port,10)||(t+=":"+e.port)):e.authority&&(t+=e.authority),e.path&&(t+=e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t},matchUrl:function(e,t){var r,n,o=s.isAbsoluteUrl(e),a=s.isAbsoluteUrl(t);return!o&&!a||(o?a||(t=s.buildUrl(e,t)):e=s.buildUrl(t,e),r=s.parseUrl(e),n=s.parseUrl(t),["domain","protocol","port"].every(function(e){return r[e]===n[e]||"protocol"===e&&(""===r[e]||""===n[e])}))},isAbsoluteUrl:(F=/^((https?|ftp|file):)?\/\//,function(e){return F.test(e)}),isValidUrl:(C="(\\/(?!/)([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))*)*(\\?(([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#(([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))|[\\uE000-\\uF8FF]|\\/|\\?)*)?",f=new RegExp("^(?:((?:https?|ftp|file):)?//)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:[a-z\\u00a1-\\uffff0-9]+-)*[a-z\\u00a1-\\uffff0-9]+(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-)*[a-z\\u00a1-\\uffff0-9]+)*\\.(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?"+C+"$","i"),d=new RegExp("^"+C+"$","i"),function(e){return(s.isAbsoluteUrl(e)?f:d).test(e)}),encodeUrl:function(e){return encodeURIComponent(e).replace(/\./g,"%2e")},parseQuery:function(e){var t=e.substring(e.indexOf("?")+1).split(/[&;]/),r={};return t.length&&t.forEach(function(e){var t=e.indexOf("=")+1,n=t?e.substr(t):"",o=t?e.substr(0,t-1).match(/([^\][]+|(\B)(?=\]))/g):[e],a=r;o&&(n=decodeURIComponent(n),o.forEach(function(e,t){e=decodeURIComponent(e);var r=a[e];t<o.length-1?a=a[e]=r||{}:Array.isArray(r)?r.push(n):a[e]=c.is(r)?[r,n]:n}))}),r},toQueryString:function(e,t){var r,n,o,a,i=c.is;if(i(e,"string"))a=e;else if(i(e.toQueryString,"function"))a=e.toQueryString();else{for(r in a=[],e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"["+r+"]"),i(n)&&(i(n,"object")||i(n,"array")?o=s.toQueryString(n,r):i(n,"function")||(o=s.encodeUrl(r)+"="+s.encodeUrl(n))),o&&a.push(o),o=void 0);a=a.join("&")}return a},getQueryString:function(e,t,r){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp(t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1]):r},loadXml:(B=/<(DOCTYPE|xml)[^><]*>|<.(DOCTYPE|xml)[^><]*>/g,p=/(<(style|script)[^>]*>)([\u0001-\uFFFF]*?)(<\/(style|script)>)/gim,A=/<!\[CDATA\[/,function(e,t){var r,n,o,a,i;if("object"==typeof e&&e.nodeType)r=e;else if(e=(e=e.replace(B,"")).replace(p,function(){var e=arguments,t=e[1],r=e[3],n=e[4];return A.test(r)||(r="<![CDATA[\n"+r+"\n]]>"),t+r+n}),y.DOMParser)try{if(i=(r=(r=new y.DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("parsererror")[0])throw new Error(i.textContent||i.innerText)}catch(e){throw new Error("Invalid XML: "+e.message)}else{if(!y.ActiveXObject)throw new Error("No native XML parser available.");if((r=new y.ActiveXObject("MSXML2.DOMDocument")).setProperty("SelectionLanguage","XPath"),r.validateOnParse=!1,r.resolveExternals=!1,r.preserveWhiteSpace=!1,r.async=!1,r.loadXML(e),0!==r.parseError.errorCode)throw new Error("Invalid XML: "+r.parseError.line+", "+r.parseError.reason)}return t&&(r=y.XSLTProcessor?((n=new y.XSLTProcessor).importStylesheet(s.loadXml(t)),n.transformToDocument(r,document)):((n=new y.ActiveXObject("Msxml2.FreeThreadedDOMDocument")).loadXML(s.xmlToString(t)),(o=new y.ActiveXObject("Msxml2.XSLTemplate")).stylesheet=n,(a=o.createProcessor()).input=r,a.transform(),s.loadXml(a.output))),r}),loadHtml:(l=new RegExp("</?(script|embed|object|frameset|frame|iframe|meta|link|style)(.|\n)*?>","img"),u=new RegExp("<([a-z][a-z0-9]*)(?:[^>]*(\\s(src|href|title|style|alt|height|width|data-([a-z][a-z0-9]*))=['\"][^'\"]*['\"]))?[^>]*?(\\/?)>","im"),function(e){var t,r,n,o;if(y.DOMParser)try{t=(new y.DOMParser).parseFromString(e,"text/html")}catch(e){}if(!t&&document.implementation.createHTMLDocument)try{(r=(t=document.implementation.createHTMLDocument("")).documentElement).innerHTML=e,n=r.firstElementChild,1===r.childElementCount&&"html"===n.localName.toLowerCase()&&t.replaceChild(n,r)}catch(e){t=null}if(e=function(e){return e=(e=e.replace(l,"")).replace(u,"<$1$2$4>")}(e),!t&&y.ActiveXObject)try{(t=new y.ActiveXObject("htmlfile")).write(e),t.close()}catch(e){t=null}return t||((o=document.createElement("iframe")).style.display="none",document.body.appendChild(o),(t=o.contentDocument||o.contentWindow.document).write(e),t.close(),document.body.removeChild(o)),t}),xmlToHtml:function(e){"string"==typeof e&&(e=s.loadXml(e)),9===e.nodeType&&(e=e.childNodes[0]);var t,r,n,o,a=e.nodeName.toLowerCase(),i=document.createElement(a),c=e.childNodes,l=e.attributes||[];for(n=0,o=l.length;n<o;n++)t=l[n],i.setAttribute(t.name,t.value);for(n=0,o=c.length;n<o;n++)switch((r=c[n]).nodeType){case 1:i.appendChild(s.xmlToHtml(r));break;case 3:"style"===a&&i.styleSheet?i.styleSheet.cssText=r.nodeValue:i.appendChild(document.createTextNode(r.nodeValue));break;case 4:case 8:"script"===a?i.text=r.nodeValue:i.appendChild(document.createComment(r.nodeValue))}return i},xmlToString:function(e,t){var r;return r="string"==typeof e?e:y.XMLSerializer?(r=new y.XMLSerializer).serializeToString(e):e.xml,t&&(r=function(i){var c,l,s,u,D=0;return c=i.trim().replace(/(>)(\s+)?(<)(\/*)/g,"$1\r\n$3$4").split(">\r\n"),i="",c.forEach(function(e,t){var r,n=0,o="",a="\r\n";for(t!==c.length-1&&(e+=">"),s=u,u=l,l=/(<!\[CDATA\[)|(\]\]>)/.test(c[t+1]||""),e.match(/.+<\/\w[^>]*>$/)?n=0:e.match(/^<\/\w/)?0!==D&&(D-=1):e.match(/^<\w[^>]*[^/]>.*$/)&&(n=1),r=0;r<D;r++)o+="  ";(l||u&&!l)&&(a=""),(u||s&&!u)&&(o=""),i+=o+e+a,D+=n}),i}(r)),r.trim()},setCss:function(e,t,r,n){r=r?r.trim():"",t=Array.isArray(t)?t.join("\n"):String(t),e=e||s.getCheckSum(t);var o=function(e){for(var t=/\{/g,r=/\}/g,n=0,o=r.test(e),a=t.test(e),i=[],c={children:i};;)if(a&&t.lastIndex<r.lastIndex){var l={prefix:e.slice(n,t.lastIndex-1),parent:c,content:"",children:[]};c.children.push(l),c=l,n=t.lastIndex,a=t.test(e)}else{if(!o)break;c.content=e.slice(n,r.lastIndex-1),c.parent&&(c=c.parent),n=r.lastIndex,o=r.test(e)}return i}(t=t.replace(/\/\*[\s\S]*?\*\//g,""));return r&&(function r(e,n){e.forEach(function(e){var t=e.prefix.trim();"@"!==t[0]&&!1!==n&&(e.selectors=a.invoke(t.split(","),"trim")),r(e.children,!t.startsWith("@keyframes"))})}(o),function l(e,s){e.forEach(function(e){var t,r,n,o,a,i,c;if(e.selectors)for(t=0,r=e.selectors.length;t<r;t++)e.selectors[t]=(n=s,o=e.selectors[t],i=a=void 0,c=o.match(/^[\s\S]*(?:^|\s)(?:body|html)\b(\S*)/),(i=(i=c?(a=o.slice(0,c[0].length).trim()+" ",o.slice(c[0].length).trim()):(a="",o)).replace(/^\.module\b\S*\s/,"")).startsWith(n+" ")||(i=n+" "+i),a+i);else l(e.children,s)})}(o,r)),n&&function(e,r){e.forEach(function(e){e.content=e.content.replace(/\burl\(["']?([\s\S]*?)["']?\)/g,function(e,t){return s.isAbsoluteUrl(t)||(t=s.buildUrl(r,t)),'url("'+t+'")'})})}(o,n),function(e,t){var r=document.getElementById(t);r||((r=document.createElement("style")).setAttribute("id",t),r.setAttribute("type","text/css"),document.getElementsByTagName("head").item(0).appendChild(r)),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(t=function t(e){return e.map(function(e){return(e.selectors?e.selectors.join(",\n")+" ":e.prefix)+"{"+t(e.children)+e.content+"}"}).join("\n")}(o),e),t},toArray:function(e){var t,r,n=typeof e,o=[];if("string"==n)o=e.split("");else if("object"==n&&!1===Array.isArray(e))if(void 0!==e.length)for(t=0,r=e.length;t<r;t++)o[t]=e[t];else for(t in e)e.hasOwnProperty(t)&&o.push(e[t]);else e&&(o=Array.prototype.slice.call(e));return o},splat:function(e){return c.is(e)?Array.isArray(e)?e:c.is(e,"arguments")?s.toArray(e):[e]:[]},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},getUniqueId:(n=0,o=Math.pow(32,4),function(e){return n++,(e||"u")+("0000"+((Math.random()*o|0)*o+n).toString(32)).slice(-8)}),getCheckSum:function(e,t){var r,n;for(t=t||305419896,r=0,n=(e=String(e)).length;r<n;r++)t+=e.charCodeAt(r)*r;return Math.abs(parseInt(t,10)).toString(36)},getCRC32:(i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",function(e){var t,r,n=0,o=0;for(n^=-1,t=0,r=(e=String(e)).length;t<r;t++)o=255&(n^e.charCodeAt(t)),n=n>>>8^"0x"+i.substr(9*o,8);return-1^n}),base64Encode:(t=y.btoa||function(e){for(var t,r,n,o,a,i,c,l=e.length,s="",u=0;u<l;)o=(t=e.charCodeAt(u++))>>2,a=(3&t)<<4|(r=e.charCodeAt(u++))>>4,i=(15&r)<<2|(n=e.charCodeAt(u++))>>6,c=63&n,isNaN(r)?i=c=64:isNaN(n)&&(c=64),s=s+g.charAt(o)+g.charAt(a)+g.charAt(i)+g.charAt(c);return s},function(e){return e=String(e),t(function(e){return unescape(encodeURIComponent(e))}(e))}),base64Decode:(D=/[^A-Za-z0-9+/=]/g,r=y.atob||function(e){var t,r,n,o,a,i,c,l,s="",u=0;if("string"!=typeof e&&(e=String(e)),(t=(e=e.replace(D,"")).length)%4==1)throw new Error("InvalidCharacterError: DOM Exception 5");for(;u<t;)a=g.indexOf(e.charAt(u++)),i=g.indexOf(e.charAt(u++)),c=u<t&&g.indexOf(e.charAt(u++)),l=u<t&&g.indexOf(e.charAt(u++)),r=a<<2|i>>4,s+=String.fromCharCode(r),!1!==c&&64!==c&&(n=(15&i)<<4|c>>2,s+=String.fromCharCode(n)),!1!==l&&64!==l&&(o=(3&c)<<6|l,s+=String.fromCharCode(o));return s},function(e){var t=r(e);try{t=function(e){return decodeURIComponent(escape(e))}(t)}catch(e){}return t}),attempt:function(e,t,r){var n,o=Array.prototype.slice.call(arguments,3);if(c.debug)n=e.apply(r,o);else try{n=e.apply(r,o)}catch(e){t?n=t.apply(r,[e].concat(o)):c.log("Error in Utils.attempt: "+e)}return n},memoize:function(t,r){var n={},o=Array.prototype.slice;return r=r||JSON.stringify,function(){var e=r(o.call(arguments));return n.hasOwnProperty(e)||(n[e]=t.apply(this,arguments)),n[e]}},getOwnPropertyMatchName:function(e,t){var r,n;if(t=String(t),e.hasOwnProperty(t))n=t;else for(r in t=t.toLowerCase(),e)if(e.hasOwnProperty(r)&&r.toLowerCase()===t){n=r;break}return n},getOwnPropertyMatchValue:function(e,t){var r=s.getOwnPropertyMatchName(e,t);return r?e[r]:void 0},setImmediate:e.set,clearImmediate:e.clear,random:function(e,t){return c.is(t)||(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}},c.namespace("Utils",s,c,!0)});

define("UWA/Class",["UWA/Core"],function(u){"use strict";function i(){}var p=!1,n=/xyz/.test(function(){u.xyz()}),e=n?/\b_parent\b/:/^/,l=n?/\b_previous\b/:/^/,c="__uwaPrivateConstructor",f=function(){};function y(r,o,a,n){a._original&&(a=a._original);var t,p=e.test(a),s=l.test(a);return p||s?("function"!=typeof o&&(o=n?f:r||f),"function"!=typeof r&&(r=s?f:o),(t=function(){var n,t,i,e=this;return null!=e?(p&&(t=e._parent,e._parent=r),s&&(i=e._previous,e._previous=o),n=a.apply(e,arguments),p&&(e._parent=t),s&&(e._previous=i)):n=a.apply(e,arguments),n}).displayName="(method wrapper)",t._original=a,t):a}function h(n){return function(){this._previous.apply(this,arguments),n.apply(this,arguments)}}return i.extend=function(){var n,t;return p=!0,n=new this,p=!1,t=function(){!p&&this[c]&&this[c].apply(this,arguments)},n.constructor=t,u.extend(t,{prototype:n,parent:this,extend:i.extend,singleton:i.singleton,implement:i.implement}),t.implement.apply(t,arguments),t},i.implement=function(){var n,t,i,e,r,o,a,p=this,s=p.prototype||p;for(n=0,t=arguments.length;n<t;n+=1){var l;for(e in i=arguments[n],"class"===(r=u.typeOf(i))||"function"===r?("function"===r&&(i.prototype[c]=h(i)),i=i.prototype):i.init&&(i[c]=i.init,delete i.init),l=i.name?i.name:s.name?u.owns(s,"name")?s.name:"("+s.name+" inheritor)":"(anonymous class)",i)"constructor"!==e&&(o=i[e],u.is(o,"function")?(a=("class"===r?arguments[n]:p).parent,o.displayName=l+"#"+(e===c?"init":e),s[e]=y(a&&a.prototype&&a.prototype[e],u.owns(s,e)&&s[e],o,"class"===r)):u.is(o,"plain")?(u.owns(s,e)||(s[e]=u.is(s[e],"plain")?u.clone(s[e]):{}),u.extend(s[e],o,!0)):s[e]=o)}return p},i.singleton=function(){var i,e=this.extend.apply(this,arguments),n=e.prototype,r=!1,o=[];function t(n){i[n]=function(){if(!r){if("throw"===i.uninitializedCalls)throw new Error("Singleton called before being initialized");if("ignore"===i.uninitializedCalls)return;i.init()}return i[n].apply(this,arguments)}}for(var a in p=!0,i=new e,p=!1,n)"function"==typeof n[a]&&"init"!==a&&"constructor"!==a&&(o.push(a),t(a));return i.init=function(){if(r)throw new Error("Singleton is already initialized");var n,t;for(r=!0,n=0,t=o.length;n<t;n++)delete i[o[n]];return e.apply(this,arguments),this},i},u.namespace("Class",i,u)});

define("UWA/Dispatcher",["UWA/Core","UWA/Utils","UWA/Class"],function(c,s,e){"use strict";var i=c.Class.extend({Binding:null,bindings:null,shouldPropagate:!0,active:!0,dispatching:0,init:function(){this.bindings=[]},registerListener:function(e,i,n,t){if(!(c.is(e,"function")||c.is(e,"object")&&c.is(e.handleEvent,"function")))throw new Error("listener is a required param of add() and addOnce() and should be a Function or an object implementing the EventListener interface.");var r,s,o=this;if(r=o.indexOfListener(e,n),s=o.bindings[r]){if(s.isOnce!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else s=new this.Binding(o,e,i,n,t),o.addBinding(s);return s},addBinding:function(e){for(var i=this.bindings,n=i.length;i[--n]&&e.priority<=i[n].priority;);i.splice(n+1,0,e)},indexOfListener:function(e,i){for(var n=this.bindings,t=n.length;t--;)if(n[t].listener===e&&(void 0===i||n[t].context===i))return t;return-1},add:function(e,i,n){return this.registerListener(e,!1,i,n)},addOnce:function(e,i,n){return this.registerListener(e,!0,i,n)},remove:function(e,i){var n,t,r=this;if(!(c.is(e,"function")||c.is(e,"object")&&c.is(e.handleEvent,"function")))throw new Error("listener is a required param of remove() and should be a Function or an object implementing the EventListener interface.");if(-1!==(n=r.indexOfListener(e,i)))if(t=r.bindings[n],r.dispatching&&!t.isOnce){var s=r.bindings.indexOf(t);-1!==s&&r.bindings.splice(s,1)}else t.destroy();return e},removeAll:function(e){var i,n=this.bindings,t=n.length;if(e)for(;t--;)(i=n[t]).context===e&&i.destroy();else{for(;t--;)n[t].destroy();n.length=0}},getNumListeners:function(){return this.bindings.length},getListeners:function(){return this.bindings.map(function(e){return e.listener})},halt:function(){this.shouldPropagate=!1},dispatch:function(e,i){var n,t,r=this;if(r.active){e=s.toArray(e),t=r.bindings.slice(),r.shouldPropagate=!0,r.dispatching++;try{for(n=t.length-1;0<=n&&!1!==t[n].execute(e,i)&&r.shouldPropagate;n--);}finally{if(r.dispatching--,r.bindings)for(n=0;n<t.length;n++)r.bindings.indexOf(t[n])<0&&t[n].destroy()}}},dispose:function(){var e=this;e.removeAll(),e.active=!1,delete e.bindings},toString:function(){return"[Dispatcher active: "+this.active+" numListeners: "+this.getNumListeners()+"]"}});return i.Binding=i.prototype.Binding=e.extend({listener:null,isOnce:!1,context:null,dispatcher:null,priority:0,active:!0,init:function(e,i,n,t,r){var s=this;s.listener=i,s.isOnce=n,s.context=t,s.dispatcher=e,s.priority=r||0},execute:function(e,i){var n,t=this,r=t.listener,s=c.is(t.context)?t.context:i;return t.active&&(t.isOnce&&t.detach(),n="function"==typeof r.handleEvent?r.handleEvent.apply(void 0===s?r:s,e||[]):r.apply(s,e||[])),n},detach:function(){var e=this;return e.dispatcher&&e.dispatcher.remove(e.listener,e.context),e.listener},getListener:function(){return this.listener},dispose:function(){this.destroy()},destroy:function(){var e,i=this,n=i.dispatcher;n&&(e=n.bindings.indexOf(i),i.active=!1,-1!==e&&n.bindings.splice(e,1),delete i.dispatcher),delete i.isOnce,delete i.listener,delete i.context},toString:function(){return"[Dispatcher.Binding isOnce: "+this.isOnce+", active: "+this.active+"]"}}),c.namespace("Dispatcher",i,c)});

define("UWA/Utils/Client",["UWA/Core","UWA/Utils"],function(e,n){"use strict";var r,c,d,s,l,m,u,w,h,p,g,v,t,o,i,a,f=e.getGlobal(),b=Boolean(f.window),E=Boolean(b&&window.document),x=Boolean(b&&window.navigator),S=Boolean(b&&window.matchMedia),B=(c=["","moz","Moz","MOZ","webkit","Webkit","WebKit","WEBKIT","ms","Ms","MS","o","O"],function(e,n,t){var o,i,a,r,d,s,l=n.indexOf("{}");for(o=(a=0<=l?(i=n.slice(0,l),n.slice(l+2)):(i="",n)).charAt(0).toUpperCase()+a.slice(1),r=0,d=c.length;r<d&&!((s=i+c[r]+a)in e)&&!((s=i+c[r]+o)in e);r++);if(r<d)return t?s:e[s]});function y(){return x&&navigator.userAgent.toLowerCase()||""}return(r={Engine:{name:"unknown",version:0},Platform:{name:"unknown"},Features:{window:b,document:E,navigator:x,xpath:E&&Boolean(document.evaluate),json:b&&Boolean(window.JSON),orientation:b&&Boolean(window.orientation),querySelector:E&&Boolean(document.querySelector),fullscreen:Boolean(B(document,"exitFullscreen")||B(document,"cancelFullScreen")),inputPlaceholder:void 0!==document.createElement("input").placeholder,cors:b&&"withCredentials"in new window.XMLHttpRequest,touchEvents:b&&Boolean("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:x&&Boolean(navigator.msPointerEnable||navigator.pointerEnabled),mutationEvents:Boolean(E&&document.implementation&&document.implementation.hasFeature("MutationEvents","2.0"))||b&&window.MutationEvent,eventCapture:b&&Boolean(window.addEventListener),flexboxCSS:E&&Boolean(B(document.createElement("div").style,"flexBasis",!0)),filterCSS:E&&!(document.documentElement&&document.documentElement.style.filter),opacityCSS:E&&!(document.documentElement&&document.documentElement.style.opacity),transitionsCSS:E&&Boolean(B(document.createElement("div").style,"transition",!0)),stickyCSS:E&&(a=document.createElement("div").style,a.position="-webkit-sticky",a.position="sticky",Boolean(a.position)),matrixCSS:(i=b&&B(window,"CSSMatrix"),Boolean(i)&&void 0!==(new i).m11),dragAndDrop:b&&!(window.System&&window.System.Gadget),mediaQueryList:S,touch:b&&x&&function(){var e=!1;if("maxTouchPoints"in navigator)e=0<navigator.maxTouchPoints;else if("msMaxTouchPoints"in navigator)e=0<navigator.msMaxTouchPoints;else{var n=window.matchMedia&&matchMedia("(pointer:coarse)");if(n&&"(pointer:coarse)"===n.media)e=Boolean(n.matches);else if("orientation"in window)e=!0;else{var t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return Boolean(e)}()},Locale:(t=(x&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||"en-US").toLowerCase().split("-"),o=t[0]||"en",{lang:o,locale:t[1]||"us",dir:-1!==["ar","he"].indexOf(o)?"rtl":"ltr"}),detect:(d=/(opera|ie|firefox|chrome|version)[\s/:]([\w\d.]+)[\s/:](safari|version)[\s/:]([\w\d.]+)[\s/:](vivaldi|opr|mms|edg)[\s/:]([\w\d.]+)/,s=/(opera|ie|firefox|chrome|version)[\s/:]([\w\d.]+)?.*?(safari|version[\s/:]([\w\d.]+)|$)/,l=/(webkit)\s\/:(\w\d\.+)/,m=/(trident)\/.*rv:([\d.]+)/,u=/ip(?:ad|od|hone)/,w=/webos|wossystem/,h=/blackberry/,p=/android/,g=/\bphantomjs\b/i,v=/mac|win|linux/,function(){var e,n,t,o,i,a;r.Engine=(a=y(),o="ie"===(n=a.match(d)||a.match(s)||a.match(l)||a.match(m)||(f.process?[null,"nodeJS",f.process.version]:[null,"unknown",0]))[1]&&E&&document.documentMode||("opera"===n[1]&&n[4]?n[4]:n[2]),i=parseInt(o,10),n[5]&&n[6]?(t=n[5],o=n[6],i=parseInt(o,10)):t="version"===n[1]?n[3]:n[1],"trident"===t?t="ie":"opr"===t?t="opera":"mms"===t?t="opera-neon":"edg"===t&&(t="edge"),(e={name:t,version:i,fullVersion:o})[t]=i,e[t+i]=!0,e.webkit=Boolean(a.match(/webkit/)),e),r.Platform=function(){var e,n=function(){var e=(x&&navigator.platform.toLowerCase()||"").split(" ")[0],n=y(),t=new RegExp("win64","gi"),o=new RegExp("x64","gi"),i=new RegExp("wow64","gi");return e.match(/win32/i)&&(t.test(n)||o.test(n)||i.test(n))&&(e="win64"),e}(),t=y();(e={name:u.test(t)?"ios":w.test(t)?"webos":h.test(t)?"blackberry":p.test(t)?"android":g.test(t)?"phantomjs":v.test(n)||f.process?n:"other"})[e.name]=!0;var o=t.match(/ipad/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return e.ipad=Boolean(o),e.tablet=e.ipad||Boolean(t.match(/tablet/))||Boolean(t.match(/sm-t\d+/i)),e.windows=0===e.name.indexOf("win"),"macintel"===e.name&&o&&r.Features.touch&&(e.name="ios",e.macintel=!1,e.ios=!0),e}(),E&&(document.documentElement.className+=" "+r.Engine.name+" "+r.Engine.name+r.Engine.version+" "+r.Platform.name)}),isOnline:function(e,n){return void 0!==e&&n?(r.onLine=Boolean(e),setTimeout(function(){delete r.onLine},n)):void 0===r.onLine&&(r.Platform.phantomjs||!x||void 0===navigator.onLine?r.onLine=!0:r.onLine=!0===navigator.onLine),r.onLine},getOrientation:b&&window.self===window.top&&window.orientation?function(){var e=window.orientation;return 90===Math.abs(e)?"landscape":"portrait"}:function(){var e=r.getSize();return e.width/e.height<1?"portrait":"landscape"},getSize:function(){var e,n,t=0,o=0;return b&&"number"==typeof window.innerWidth?(t=window.innerWidth,o=window.innerHeight):E&&(e=document.documentElement,n=document.body,e&&(e.clientWidth||e.clientHeight)?(t=e.clientWidth,o=e.clientHeight):n&&(n.clientWidth||n.clientHeight)&&(t=n.clientWidth,o=n.clientHeight)),{width:t,height:o}},getScrolls:function(){var e=0,n=0;return b&&"number"==typeof window.pageYOffset&&(n=window.pageYOffset,e=window.pageXOffset),{y:n,x:e}},getScrollbarWidth:n.memoize(function(){var e,n,t=0;return E&&(e=document.documentElement,(n=document.createElement("div")).style.cssText="width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px;",e.appendChild(n),t=n.offsetWidth-n.clientWidth,e.removeChild(n)),t}),addStar:function(e,n){if(b)if(window.sidebar)window.sidebar.addPanel(n,e,"");else if(window.external)window.external.AddFavorite(e,n);else if(window.opera&&window.print)return!0},getVendorProperty:B}).detect(),e.namespace("Utils/Client",r,e)});

define("UWA/Ajax",["UWA/Core","UWA/Utils","UWA/String"],function(p,d,u){"use strict";var c,l={getRequest:function(e,t){var r,n,o,s=(t=p.merge(t||{},{url:e,method:"GET",async:!0,responseType:"text",onComplete:function(){},onFailure:function(e){throw e},onTimeout:function(e){throw e},onCancel:function(){}})).method||"GET",a=t.headers||{},i=t.authentication,u=l.onStateChange;if(/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i.test(s)&&(s=s.toUpperCase()),t.data&&(p.is(t.data,["string","arraybufferview","formdata","blob"])||(t.data=d.toQueryString(t.data)),"GET"===s&&(e+=(-1<e.indexOf("?")?"&":"?")+t.data,t.url=e,delete t.data)),t.cors||(d.getOwnPropertyMatchName(a,"X-Requested-With")||(a["X-Requested-With"]="XMLHttpRequest"),d.getOwnPropertyMatchName(a,"X-Requested-Method")||(a["X-Requested-Method"]=s)),"POST"!==s||d.getOwnPropertyMatchName(a,"Content-Type")||p.is(t.data,["arraybufferview","formdata","blob"])||(a["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),i&&(i.username&&i.password?e=(o=e.split("://"))[0]+"://"+i.username+":"+i.password+"@"+o[1]:e+=(-1<e.indexOf("?")?"&":"?")+d.toQueryString(i)),n=t.cors?l.createCORSRequest():l.createRequest()){if(n.cancel=function(){n.aborted=!0,n.abort()},n.addEventListener&&t.onProgress&&n.addEventListener("progress",function(e){t.onProgress(e)}),n.open(s,e,t.async),t.responseTypeSupport="responseType"in n&&"json"!==t.responseType&&(t.async||"undefined"==typeof window),t.responseTypeSupport)try{n.responseType=t.responseType}catch(e){n.responseType="text"}if(t.withCredentialsSupport="withCredentials"in n&&(t.async||"undefined"==typeof window),t.withCredentials){if(!t.withCredentialsSupport)return void t.onFailure(new Error("XMLHttpRequest does not support withCredentials."));n.withCredentials=t.withCredentials}if(t.timeout&&(n.timeoutTimer=setTimeout(function(){n.timedout=!0,n.abort()},t.timeout)),t.cors?(n.onerror=function(){p.merge(n,{readyState:4,status:500}),u(n,t)},n.onload=function(){p.merge(n,{readyState:4,status:200}),u(n,t)}):n.onreadystatechange=u.bind(l,n,t),n.setRequestHeader)for(r in a)a.hasOwnProperty(r)&&n.setRequestHeader(r,a[r]);return n}t.onFailure(new Error("Unable to initiate XMLHttpRequest object."))},createRequest:function(){var e;return window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXObject&&(e=new window.ActiveXObject("Msxml2.XMLHTTP")),e},createCORSRequest:function(){var e;return window.XMLHttpRequest&&!(e=new window.XMLHttpRequest).withCredentials&&window.XDomainRequest&&(e=new window.XDomainRequest),e},request:function(e,t){var r;return t=t||{},(r=l.getRequest(e,t)).send(t.data||null),t.async||l.onStateChange(r,t),r},parseResponseHeaders:function(e){var t,r,n,o,s,a,i={};if(e)for(a=e.split("\r\n"),t=0;t<a.length;t++)0<(r=(s=a[t]).indexOf(": "))&&(n=s.substring(0,r),o=s.substring(r+2),i[n]=o);return i},onStateChange:(c="UWA_Platform_",function(e,t){var r,n,o,s;if(e.aborted)t.onCancel(e,t);else if(e.timedout)t.onTimeout(new Error("Request timed out after "+t.timeout+" ms"),e,t);else if(4===e.readyState){if(e.timeoutTimer&&clearTimeout(e.timeoutTimer),e.completed)return;var a=e.completed=!0;if(e.status<=0){var i=d.parseUrl(d.buildUrl(window.location,t.url)).protocol;a="http"!==i&&"https"!==i}else 400<=e.status&&(a=!1);if(a){n=w(e);try{r=f(e,t)}catch(e){String((o=e).type).startsWith(c)&&(n=e.headers,r=e.body),t.onFailure(e,r,n)}finally{o||t.onComplete(r,n)}}else{s=new Error(u.format('NetworkError: url "{0}" return ResponseCode with value "{1}".',t.fromDataRequest||t.url,e.status||0)),n=w(e);try{r=f(e,t)}catch(e){String(e.type).startsWith(c)&&(Object.assign(s,e),n=e.headers,r=e.body)}t.onFailure(s,r,n)}!function(e,t){t.cors?(e.onerror=null,e.onload=null):e.onreadystatechange=null}(e,t)}})};function s(e){var t,r=e;if(p.is(r,"string")&&r.contains(c))try{r=u.stripComments(r),r=JSON.parse(r)}catch(e){r=!1}if(r&&r.error&&String(r.error.type).startsWith(c))return t=new Error(u.format("ProxyError: {0}",r.error.message)),p.merge(t,r.error),t}function f(t,e){var r,n,o=e.responseTypeSupport?t.responseType:e.responseType;if(e.responseTypeSupport){if("text"===o||""===o)r=t.responseText;else try{r=t.response}catch(e){throw new Error(u.format('InvalidResponseError: request has probably invalid "Content-type" header require by responseType "{0}" causing: "{1}".',t.responseType,e))}if(e.fromDataRequest&&(n=s(r)),n)throw n}else{if(e.fromDataRequest&&(n=s(t.responseText)),n)throw n;"text"===o||""===o?r=t.responseText:"json"===o?r=0===(r=String(t.responseText).trim()).length?null:(r=u.stripComments(r),JSON.parse(r)):"document"===o?r=t.responseXML:"arraybuffer"===o?r=function(e){var t,r,n=new ArrayBuffer(2*e.length),o=new Uint16Array(n);for(t=0,r=e.length;t<r;t++)o[t]=e.charCodeAt(t);return n}(t.responseText):"blob"===o&&(r=new Blob([t.responseText],{type:t.getResponseHeader("Content-Type")}))}return r}function w(e){return l.parseResponseHeaders(e.getAllResponseHeaders())}return p.namespace("Ajax",l,p)});

define("UWA/Json",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Client","UWA/Ajax"],function(UWA,UWAString,Utils,Client,Ajax){"use strict";var Json={jsonp:{},encode:JSON.stringify,decode:JSON.parse,prune:function(e,t){var a=[],o=t&&t.toJSON||function(e){return UWA.is(e)&&UWA.is(e.toJSON,"function")?e.toJSON():e},s=t&&t.fallback||function(){return null};return function e(t){var r,n;switch(t=o(t),UWA.typeOf(t)){case"string":case"number":case"boolean":return t;case"array":return-1!==a.indexOf(t)?s(t,"circular"):(a.push(t),r=t.map(e),a.pop(),r);case"object":if(!UWA.is(t,"plain"))return s(t,"unsupported");if(-1!==a.indexOf(t))return s(t,"circular");for(n in a.push(t),r={},t)UWA.owns(t,n)&&(r[n]=e(t[n]));return a.pop(),r;default:return null===t?t:s(t,"unsupported")}}(e)},isJson:function(e){var t=!1;if(UWA.is(e,"string"))try{JSON.parse(e),t=!0}catch(e){}return t},xmlToJson:function(e){function t(){return this.nodeValue}function r(){return parseInt(this.nodeValue,10)}var n,a,o,s,i,l;if("string"==typeof e&&(e=Utils.loadXml(e)),e.attributes&&0!==e.attributes.length||!e.childNodes||1!==e.childNodes.length||-1===e.childNodes[0].nodeName.indexOf("#")){if(o={},e.attributes)for(n=0,a=e.attributes.length;n<a;n++)o[l=(i=e.attributes[n]).nodeName]?(o[l]=Utils.splat(o[l]),o[l].push(i.nodeValue)):o[l]=i.nodeValue;for(n=0,a=e.childNodes.length;n<a;n++)o[l=(s=e.childNodes[n]).nodeName]?(o[l]=Utils.splat(o[l]),o[l].push(Json.xmlToJson(s))):-1===l.indexOf("#")?o[l]=Json.xmlToJson(s):0<s.nodeValue.trim().length&&(o.nodeValue=s.nodeValue,o.toString=t,o.valueOf=r)}else o=e.childNodes[0].nodeValue;return o},path:function(){var valueStr="VALUE",pathStr="PATH",sepStr=";",queryPath="$",regExps=[/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,/'?\.'?|\['?/g,/;;;|;;/g,/;$|'?\]|'$/g,/#([0-9]+)/g,/^\$;?/,/(^|[^\\])@/g,/\\@/g,/^[0-9*]+$/,/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,/^\(.*?\)$/,/^\?\(.*?\)$/,/^\?\((.*?)\)$/,/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/,/,/,/'?,'?/];function normalize(e){var n=[];return e.replace(regExps[0],function(e,t,r){return"[#"+(n.push(t||r)-1)+"]"}).replace(regExps[1],sepStr).replace(regExps[2],";..;").replace(regExps[3],"").replace(regExps[4],function(e,t){return n[t]}).replace(regExps[5],"")}function run(obj,query,val){var queryEval="var valueEval = arguments[2];"+query.replace(regExps[6],"$1valueEval").replace(regExps[7],"@");try{return obj&&val&&eval(queryEval)}catch(e){throw new SyntaxError("UWA.Json.path error: "+e.message+' for query "'+query+'"')}}function asPath(e){var t,r,n=e.split(sepStr),a=queryPath;for(t=1,r=n.length;t<r;t++)a+=regExps[8].test(n[t])?"["+n[t]+"]":"['"+n[t]+"']";return a}function store(e,t,r,n){return e&&(r[r.length]=n===pathStr?asPath(e):t),Boolean(e)}function walk(e,t,r,n,a){var o,s,i,l=UWA.typeOf(r);if("array"===l)for(o=0,s=r.length;o<s;o++)r.hasOwnProperty(o)&&a(o,e,t,r,n);else if("object"===l)for(i in r)r.hasOwnProperty(i)&&a(i,e,t,r,n)}function slice(e,t,r,n,a,o){if(Array.isArray(r)){var s,i=r.length,l=0,u=1,c=i;for(e.replace(regExps[9],function(e,t,r,n){l=parseInt(t||l,10),c=parseInt(r||c,10),u=parseInt(n||u,10)}),l=l<0?Math.max(0,l+i):Math.min(i,l),c=c<0?Math.max(0,c+i):Math.min(i,c),s=l;s<c;s+=u)trace(s+sepStr+t,r,n,a,o)}}function trace(e,o,t,s,i){if(""!==e){var r,n,a,l=e.split(sepStr),u=l.shift();if(l=l.join(sepStr),o&&o.hasOwnProperty(u))trace(l,o[u],t+sepStr+u,s,i);else if("*"===u)walk(u,l,o,t,function(e,t,r,n,a){trace(e+sepStr+r,n,a,s,i)});else if(".."===u)trace(l,o,t,s,i),walk(u,l,o,t,function(e,t,r,n,a){"object"==typeof n[e]&&trace("..;"+r,n[e],a+sepStr+e,s,i)});else if(regExps[10].test(u))trace(e=run(o,u,o,t.substr(t.lastIndexOf(sepStr)+1))+sepStr+l,o,t,s,i);else if(regExps[11].test(u))walk(u,l,o,t,function(e,t,r,n,a){run(o,t.replace(regExps[12],"$1"),Array.isArray(n)?n[e]:n,e)&&trace(e+sepStr+r,n,a,s,i)});else if(regExps[13].test(u))slice(u,l,o,t,s,i);else if(regExps[14].test(u))for(n=0,a=(r=u.split(regExps[15])).length;n<a;n++)trace(e=r[n]+sepStr+l,o,t,s,i)}else store(t,o,s,i)}return function(e,t,r){var n=[],a=r&&r.resultType||valueStr;return e&&t&&(a===valueStr||a===pathStr)&&trace(normalize(t),e,queryPath,n,a),!!n.length&&n}}(),request:function(e,r){var t,n,a,o,s,i,l,u,c,p,f,d,m,h=!!(r=r||{}).useJsonpRequest||!Utils.matchUrl(e,window.location)&&(UWA.Data&&UWA.Data.useJsonpRequest&&!UWA.Data.allowCrossOriginRequest),g=e,v=Client.isOnline,w=Json.jsonp,y={fromDataRequest:!1,useOfflineCache:!1,async:!0,timeout:!1,callback:"jsonp"+(Date.now()+Utils.random(1,1e4)),callbackName:"callback",callbackMode:"function",callbackModeName:"callbackMode",onCancel:function(){},onFailure:function(e){throw e},onComplete:function(){}};if(!1===(r=UWA.merge(r||{},y)).timeout?r.useOfflineCache?r.timeout=15e3:r.timeout=25e3:r.timeout=parseInt(r.timeout,10),r.data&&(e+=(-1<e.indexOf("?")?"&":"?")+Utils.toQueryString(r.data)),n=r.callback.replace(/[^a-zA-Z0-9_]/g,"$"),(a=r.callbackMode)&&(e=e.replace(/\=(\?|%3F)/g,"="+n),e+=(-1<e.indexOf("?")?"&":"?")+r.callbackName+"="+n,e+="&"+r.callbackModeName+"="+a),2048<e.length)throw new Error("Proxified url is more than 2048 characters, you should consider using POST and CORS Ajax.");return o=r.onFailure,i=r.onTimeout||o,s=r.onComplete,l=r.useOfflineCache,u=r.fromDataRequest,r.onFailure=function(e){if(Json.cleanRequest(n,r),l&&!1===u){var t=Json.getFromCache(g);UWA.is(t)?(v()&&v(!1,5e3),s(t)):o(e)}else o(e)},r.onTimeout=function(e){if(Json.cleanRequest(n,r),l&&!1===u){var t=Json.getFromCache(g);UWA.is(t)?(v()&&v(!1,5e3),s(t)):i(e)}else i(e)},r.onComplete=function(e){Json.cleanRequest(n,r);try{if(u&&e&&e.error&&e.error.type&&"UWA_Platform_Exposition"===e.error.type)throw new Error(UWAString.format('ObjectError: url "{0}" return Error with value "{1}"',u,e.error.message||e.error));s(e)}catch(e){o(e)}},r.cache<0&&(e+=(-1<e.indexOf("?")?"&":"?")+"_="+Date.now()),l&&!1===v()?r.onFailure(new Error("Network is Offline")):t=h?(w[n]={readyState:!1,options:r},m="object"===a?(f=Date.now(),d=13,function(){var e,t=Date.now();void 0!==window[n]?(w[n].readyState="loaded",r.onComplete(window[n])):t>f+r.timeout?(e=t-f,r.onTimeout(new Error("Request timed out after "+e+"ms with timeout value "+r.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}):(window[n]=function(e){void 0!==w[n]&&(w[n].data=e,w[n].readyState="loaded")},f=Date.now(),d=13,function(){var e,t=Date.now();"loaded"===w[n].readyState?r.onComplete(w[n].data):t>f+r.timeout?(e=t-f,r.onTimeout(new Error("Timout request after "+e+"ms with timeout value "+r.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}),c=document.getElementsByTagName("head")[0],(p=UWA.createElement("script",{type:"text/javascript",src:e,async:r.async})).addEvent("error",function(){r.onFailure(new Error("Syntax or http error: "+e))}),p.inject(c),w[n].script=p,m(r),{jsonId:n,script:p,cancel:function(){w[n].aborted=!0,Json.cleanRequest(n)}}):Ajax.request(e,UWA.merge({headers:{Accept:"application/json,text/javascript,*/*","X-Request":"JSON"},onComplete:function(e){var t;a&&!Json.isJson(e)&&(t="object"===a?e.match(/=\s\(?([\s\S]*?)\)?;?\s*$/):e.match(/\(([\s\S]*?)\);?\s*$/))&&(e=t[1]);Json.isJson(e)?r.onComplete(UWA.Json.decode(e)):r.onFailure(new Error('Invalid JSON Response: "'+e+'"'))},onFailure:r.onFailure},r)),t},cleanRequest:function(e){var t,r=document.getElementsByTagName("head")[0],n=Json.jsonp[e];n&&(t=n.options,clearTimeout(n.poll),"object"!==t.callbackMode&&(window[e]=function(){try{delete window[e]}catch(e){}}),n.script&&(r.removeChild(n.script),delete n.script),n.aborted&&t.onCancel(null,t))}};return UWA.namespace("Json",Json,UWA)});

define("UWA/Class/Options",["UWA/Core","UWA/Class"],function(s,t){"use strict";var n=t.extend({setOptions:function(t){var n=this;return t=t||{},n.hasOwnProperty("options")||(n.options=s.clone(n.defaultOptions||n.options||{})),t.events&&n.addEvents&&n.addEvents(t.events),s.extend(n.options,t,!0),n},setOption:function(t,n){var s={};return s[t]=n,this.setOptions(s)},getOption:function(t,n){var s=this.options;return void 0!==s[t]?s[t]:n}});return s.namespace("Options",n,t)});

define("UWA/Class/Debug",["UWA/Core","UWA/Class"],function(t,e){"use strict";var u=e.extend({debugMode:!1,setDebugMode:function(e){return this.debugMode=!0===e||"true"===e,this},log:function(e){return!0===this.debugMode&&t.log(e),this}});return t.namespace("Debug",u,e)});

define("UWA/Storage",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Json"],function(r,s,e,t,a,n){"use strict";var i=e.extend(t,a,{AdaptersInstances:null,currentAdapter:null,defaultOptions:{database:"default",adapter:null,adapterOptions:{},availableAdapters:[]},internalKeys:{keysIndex:"_keysIndex",lastUpdate:"_lastUpdate"},isReady:!1,init:function(e){r.warn("UWA/Storage");var t,a=this;a.AdaptersInstances={},i.Instances.push(a),a.setOptions(e),(t=a.options.adapter)&&"auto"!==t?a.setCurrentAdapter(t):a.setCurrentAdapterFromDetected()},initAvailableAdapters:function(){var e,t=this,a=t.options.availableAdapters,r=i.Adapter;if(0===a.length)for(e in r)r.hasOwnProperty(e)&&"Abstract"!==e&&a.push(e);a.forEach(function(e){t.getAdapterInstance(e)})},isAvailableAdapter:function(t){var e,a=this,r=!1;try{(e=a.getAdapterInstance(t))&&e.isAvailable()?(r=!0,a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is available')):a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is not available')}catch(e){a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is not available cause: '+e)}return r},getAdapterInstance:function(e){var t=this,a=t.AdaptersInstances;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for getAdapterInstance.');if(!(a[e]||(a[e]=new i.Adapter[e](t,t.options.adapterOptions),a[e]instanceof i.Adapter.Abstract)))throw new Error("UWA.Storage.Adapter."+e+" is not an instance of UWA.Storage.Adapter.Abstract");return a[e]},detectAvailableAdapter:function(){var t=this,e=t.options,a=[];t.initAvailableAdapters(),e.availableAdapters.forEach(function(e){t.isAvailableAdapter(e)&&a.push(e)}),e.availableAdapters=a},setCurrentAdapterFromDetected:function(){var e=this,t=e.options;if(e.detectAvailableAdapter(),!(0<t.availableAdapters.length))throw new Error("UWA.Storage: No adapter available detected.");e.setCurrentAdapter(t.availableAdapters[0])},setCurrentAdapter:function(e){var t,a=this;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for setCurrentAdapter.');a.isAvailableAdapter(e)?((t=a.getAdapterInstance(e)).connect(a.options.database),a.log("UWA.Storage:setCurrentAdapter: "+e+";"),a.adapter=e,a.currentAdapter=t):(a.log('UWA.Storage:setCurrentAdapter: "'+e+'" fail fallback in auto detect mode'),a.setCurrentAdapterFromDetected())},store:function(e,t){var a,r=this,n=r.currentAdapter;return n&&(a=r.safeResurrect(n.get(e)),1===arguments.length?r.log('Get Key "'+e+'" with value "'+a+'"'):a!==t&&(a=r.safeStore(t),r.log('Update Key "'+e+'" with value "'+t+'" and stored value "'+a+'"'),a=n.set(e,a))),a},remove:function(e){var t=this;return!!t.currentAdapter&&(t._updateLastUpdateDate(),t._removeKeyFromKeysIndex(e),t.safeResurrect(t.currentAdapter.rem(e)))},get:function(e,t){var a,r,n=this;return t?(a=n._getKeysIndex()).hasOwnProperty(e)&&Date.now()-a[e]<=t&&(r=n.store(e)):r=n.store(e),r},set:function(e,t){var a=this;return a._updateLastUpdateDate(),a._addKeyToKeysIndex(e),a.store(e,t)},getAll:function(){var t=this,e=Object.keys(this._getKeysIndex()),a={};return e.forEach(function(e){a[e]=t.get(e)}),a},safeStore:function(e){return n.encode(e)},safeResurrect:function(t){if(!s.is(t,"undefined"))try{n.isJson(t)&&(t=n.decode(t))}catch(e){s.log("unsafe Resurrect JSON with value: "+t),s.log(e)}return t},getLastUpdateDate:function(e){var t;return t=e?this._getKeysIndex()[e]:this.get(this.internalKeys.lastUpdate),(new Date).setTime(t)},_getKeysIndex:function(){var t,a,e=this,r=e.safeResurrect(e.currentAdapter.get(this.internalKeys.keysIndex)),n=s.typeOf(r);return e.log("Get all keys from keysIndex"),"array"===n?(t={},a=e.getLastUpdateDate(),r.forEach(function(e){t[e]=a}),r=t):"object"!==n&&(r={}),r},_removeKeyFromKeysIndex:function(e){var t,a=this._getKeysIndex(),r={};for(t in this.log('Remove key "'+e+'" from keysIndex'),a)a.hasOwnProperty(t)&&t!==e&&(r[t]=a[t]);this._storeKeysIndex(r)},_addKeyToKeysIndex:function(e){var t=this._getKeysIndex();this.log('Add key "'+e+'" to keysIndex'),t[e]=Date.now(),this._storeKeysIndex(t)},_storeKeysIndex:function(e){this.currentAdapter.set(this.internalKeys.keysIndex,this.safeStore(e))},_updateLastUpdateDate:function(){var e=Date.now();return this.currentAdapter.set(this.internalKeys.lastUpdate,this.safeStore(e)),e}});return i.Instances=[],s.merge(i,{allInstancesReady:function(){return i.Instances.every(function(e){return e.isReady})}}),s.namespace("Storage",i,s)});

define("UWA/Internal/StringMap",["UWA/Class"],function(t){"use strict";function i(t){return"_x_"+t}return t.extend({init:function(){this._data={}},get:function(t){return this._data[i(t)]},set:function(t,n){return this._data[i(t)]=n,this},getAll:function(){var t={};for(var n in this._data)t[n.slice(3)]=this._data[n];return t},remove:function(t){return delete this._data[i(t)],this}})});

define("UWA/Class/Events",["UWA/Core","UWA/Class","UWA/Dispatcher","UWA/Utils"],function(n,e,i,a){"use strict";var t;function c(n,e,t){var r=n._dispatchers,s=r&&r[e]||new i;return t||((r=r||(n._dispatchers=Object.create(null)))[e]=s),s}return t=e.extend({dispatchEvent:function(n,e,t){var r,s,i=this;return void 0===t&&(t=i),e=a.splat(e),r=c(i,n),"function"==typeof i[n]&&r.addOnce(i[n],t,1),"onAnyEvent"!==n&&i.hasEvent("onAnyEvent")?(s=c(i,"onAnyEvent"),"function"==typeof i.onAnyEvent&&s.addOnce(i.onAnyEvent,t),s.addOnce(function(){r.dispatch(e,t)}),s.dispatch([n].concat(e),t)):r.dispatch(e,t),i},dispatchAsEventListener:function(e,t,r){var s=this;return void 0===r&&(r=s),t=a.splat(t),function(n){s.dispatchEvent(e,[n].concat(t),r)}},addEvent:function(n,e,t,r){return c(this,n).add(e,t,r),this},addEventOnce:function(n,e,t,r){return c(this,n).addOnce(e,t,r),this},addEvents:function(n,e,t){var r;for(r in n)n.hasOwnProperty(r)&&this.addEvent(r,n[r],e,t);return this},removeEvent:function(n,e,t){var r,s=this,i=s._dispatchers,a=i&&i[n];if(n)a&&(e?a.remove(e,t):a.removeAll(t),0===a.getNumListeners()&&delete i[n]);else for(r in i)s.removeEvent(r,e,t);return s},removeEvents:function(n){var e,t=this;if(n)for(e in n)n.hasOwnProperty(e)&&t.removeEvent(e,n[e]);else t.removeEvent();return t},hasEvent:function(n,e){var t,r=this;return t=function(n){return!!(c(r,n,!0).getNumListeners()||!e&&r[n])},(n?[n]:Object.keys(r._dispatchers||{})).some(t)}}),n.namespace("Events",t,e)});

define("UWA/Data",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Ajax","UWA/Json","UWA/Internal/StringMap","UWA/Class/Events"],function(y,g,e,C,x,t,w){"use strict";var q,O,T,E,U,r,n,o=new t,v={proxies:(r=y.hosts,n=r.exposition+"/proxy/",y.merge(r.proxies||{},{ajax:n+"ajax",resolve:n+"resolve",xml:n+"xml",spreadsheet:n+"spreadsheet",soap:n+"soap",feed:n+"feed",icon:n+"icon",richIcon:n+"richIcon",rss:n+"feed"})),useJsonpRequest:!0,allowCrossOriginRequest:!1,useOfflineCache:!1,request:(q=/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i,O=/json|document|blob|arraybuffer|text/,T=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,E=e.isOnline,U={text:function(e){return"string"!=typeof e&&(e=x.encode(e)),e},json:function(e){if("string"==typeof e&&(e=x.decode(e)),!y.is(e,["object","array"]))throw new Error('Invalid JSON Response: "'+String(e)+'"');return e},xml:function(e){return"string"==typeof e&&(e=g.loadXml(e)),e},document:function(e){return"string"==typeof e&&(e=g.loadHtml(e)),e},blob:function(e,t){var r=g.getOwnPropertyMatchValue(t,"Content-Type")||"text/plain";return"string"==typeof e&&(e=T.test(e)?function(e,t){var r,n,o=";base64,",a=e.indexOf(o)+o.length,s=e.substring(a),u=window.atob(s),i=u.length,d=new Uint8Array(i);for(r=0;r<i;++r)d[r]=u.charCodeAt(r);return(n=new BlobBuilder).append(d.buffer),n.getBlob(t)}(e,r):new Blob([e],{type:r})),e},arraybuffer:function(e){return"string"==typeof e&&(e=new ArrayBuffer(12)),e}},function(e,t){if(!e)throw new Error("Bad or missing url argument.");t=t||{};var o,r,n,a,s,u,i,d,c,p,h,l,f=window.location,m={timeout:25e3,method:"GET",type:"text",proxy:!1,async:!0,headers:{},useMergeRequest:!0,useOfflineCache:v.useOfflineCache,allowCrossOriginRequest:v.allowCrossOriginRequest,useJsonpRequest:v.useJsonpRequest,onComplete:function(){},onCancel:function(){},onFailure:function(e){throw e}};return t.requestHeaders&&(t.headers=t.requestHeaders,delete t.requestHeaders),t.postBody?(t.method="POST",t.data=t.postBody,delete t.postBody):t.parameters&&(t.method="POST",t.data=t.parameters,delete t.parameters),t.auth&&(t.authentication=t.auth,delete t.auth),"html"===t.type?t.type="document":"feed"===t.type&&(t.type="json"),(t=y.merge(t,m)).type=U[t.type]?t.type:m.type,t.timeout=parseInt(t.timeout,10),q.test(t.method)&&(t.method=t.method.toUpperCase()),"json"===t.type&&(g.getOwnPropertyMatchName(t.headers,"Accept")||(t.headers.Accept="application/json,text/javascript,*/*"),g.getOwnPropertyMatchName(t.headers,"X-Request")||(t.headers["X-Request"]="JSON")),d=t.type,c=t.useOfflineCache,p=t.allowCrossOriginRequest,h=t.useJsonpRequest,l=e,t.proxy?(e=v.proxifyUrl(e,t),h=h&&!1===g.matchUrl(e,f)&&!1===p):!1===g.matchUrl(e,f)&&!1===p?(h=h&&!1===g.matchUrl(v.proxies.ajax,f),e=v.proxifyUrl(e,y.extend(t,{proxy:"ajax"}))):h=!1,v.requests=v.requests||{},s=function(e,t){var r={url:e,timeout:t.timeout,method:t.method,type:t.type,proxy:t.proxy,async:t.async,data:t.data,headers:t.headers};return"GET"===t.method&&!1!==t.useMergeRequest||(r.uuid=g.getUUID()),y.Json.encode(r)}(e,t),r={onComplete:t.onComplete,onFailure:t.onFailure,onCancel:t.onCancel,onTimeout:t.onTimeout||t.onFailure},v.requests[s]?(o=v.requests[s]).addEvents(r):((o=v.requests[s]=new w).addEvents(r),u=function(e,t){var r=e;delete v.requests[s],g.attempt(function(){return h&&(t=e.headers,e=function(e){var t=e.body;return T.test(t)&&(t=g.base64Decode(t)),t}(e)),e=U[d](e,t),c&&v.storeInCache(l,r),!0},function(){return i("onFailure",arguments),!1})&&o.dispatchEvent("onComplete",[e,t])},i=function(e,t){var r,n=!0;delete v.requests[s],c&&(r=v.getFromCache(l),y.is(r)&&(n=!1,function(e){E()&&E(!1,e||5e3)}(),u(r))),n&&o.dispatchEvent(e,t)},n={method:t.method,data:t.data,headers:t.headers,fromDataRequest:l,timeout:t.timeout,async:t.async,withCredentials:t.withCredentials,onComplete:function(e,t){u(e,t)},onFailure:function(){i("onFailure",arguments)},onCancel:function(){i("onCancel",arguments)},onTimeout:function(){i("onTimeout",arguments)},onProgress:t.onProgress},c&&!1===E()?n.onFailure(new Error("Network is Offline")):h?(t.data&&0<t.data.length&&-1!==["POST","PUT"].indexOf(t.method)&&(e+=-1!==e.indexOf("?")?"&":"?","POST"===t.method?e+=g.toQueryString(t.data,"postData"):"PUT"===t.method&&(e+=g.toQueryString(t.data,"rawData")),delete n.data,delete n.method),a=x.request(e,n)):(d&&O.test(d)&&(n.responseType=d),o.xhr=a=C.request(e,n)),o.url=l,o.options=t,o.cancel=a.cancel),o}),proxifyUrl:function(e,t){if(!e)throw new Error("Bad or missing url argument.");var r,n=[],o=t.proxy,a=g.toQueryString,s=v.proxies;if(!o||!s[o])throw new Error("Invalid proxy");if(r=s[o],0===e.indexOf(r))return e;if(t.data&&t.method&&"GET"===t.method.toUpperCase()&&(e+=(-1<e.indexOf("?")?"&":"?")+a(t.data),delete t.data),"object"==typeof t[o]&&(n.push(a(t[o])),delete t[o]),t.type&&(n.push(a({type:t.type})),delete t.type),"object"==typeof t.authentication&&n.push(a(t.authentication)),t.cache&&(n.push(a({cache:parseInt(t.cache,10)})),t.cache<0&&n.push(Date.now())),t.headers&&(n.push(a(t.headers,"headers")),delete t.headers),t.connect&&n.push(a({connect:t.connect})),t.service&&n.push(a({service:t.service})),t.wid&&n.push(a({wid:t.wid})),t.method&&n.push(a({method:t.method})),n.push(a({url:e})),2048<(e=r+"?"+n.join("&")).length)throw new Error("Proxified url is more than 2048 characters, that is the limit for most of the browsers.");return e},getFeed:function(e,t){return v.request(e,{method:"GET",proxy:"feed",type:"json",onComplete:t})},getXml:function(e,t){return v.request(e,{method:"GET",type:"xml",onComplete:t})},getText:function(e,t){return v.request(e,{method:"GET",type:"text",onComplete:t})},getJson:function(e,t){return v.request(e,{method:"GET",type:"json",onComplete:t})},getCache:function(){return o},storeInCache:function(e,t){t=g.toArray(t).filter(function(e){return y.is(e)&&!e.nodeType}),v.getCache().set(g.getCheckSum(e),t)},getFromCache:function(e){return v.getCache().get(g.getCheckSum(e))}};return y.namespace("Data",v,y)});

define("vendors/webcomponents/WeakMap",function(){function e(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}var a,n;return"undefined"==typeof WeakMap&&(a=Object.defineProperty,n=Date.now()%1e9,e.prototype={set:function(e,n){var t=e[this.name];return t&&t[0]===e?t[1]=n:a(e,this.name,{value:[e,n],writable:!0}),this},get:function(e){var n;return(n=e[this.name])&&n[0]===e?n[1]:void 0},delete:function(e){var n=e[this.name];return!(!n||n[0]!==e||(n[0]=n[1]=void 0,0))},has:function(e){var n=e[this.name];return!!n&&n[0]===e}},window.WeakMap=e),window.WeakMap});

define("vendors/webcomponents/MutationObserver",["./WeakMap"],function(){return function(e){var n,d=new WeakMap;if(/Trident/.test(navigator.userAgent))n=setTimeout;else if(window.setImmediate)n=window.setImmediate;else{var r=[],i=String(Math.random());window.addEventListener("message",function(e){if(e.data===i){var t=r;r=[],t.forEach(function(e){e()})}}),n=function(e){r.push(e),window.postMessage(i,"*")}}var a=!1,s=[];function o(){a=!1;var e=s;s=[],e.sort(function(e,t){return e.uid_-t.uid_});var r=!1;e.forEach(function(e){var t=e.takeRecords();!function(r){r.nodes_.forEach(function(e){var t=d.get(e);t&&t.forEach(function(e){e.observer===r&&e.removeTransientObservers()})})}(e),t.length&&(e.callback_(t,e),r=!0)}),r&&o()}function c(e,t){for(var r=e;r;r=r.parentNode){var i=d.get(r);if(i)for(var n=0;n<i.length;n++){var a=i[n],s=a.options;if(r===e||s.subtree){var o=t(s);o&&a.enqueue(o)}}}}var v,l,t=0;function u(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++t}function h(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(e,t){return v=new h(e,t)}function b(e){return l||((l=function(e){var t=new h(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(v)).oldValue=e,l)}function g(e,t){return e===t?e:l&&function(e){return e===l||e===v}(e)?l:null}function p(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}u.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r,i=d.get(e);i||d.set(e,i=[]);for(var n=0;n<i.length;n++)if(i[n].observer===this){(r=i[n]).removeListeners(),r.options=t;break}r||(r=new p(this,e,t),i.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=d.get(e),r=0;r<t.length;r++){var i=t[r];if(i.observer===this){i.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},p.prototype={enqueue:function(e){var t=this.observer.records_,r=t.length;if(0<t.length){var i=g(t[r-1],e);if(i)return void(t[r-1]=i)}else!function(e){s.push(e),a||(a=!0,n(o))}(this.observer);t[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=d.get(e);t||d.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=d.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,i=e.target;(a=new f("attributes",i)).attributeName=t,a.attributeNamespace=r;var n=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;c(i,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(r)))return e.attributeOldValue?b(n):a});break;case"DOMCharacterDataModified":var a=f("characterData",i=e.target);n=e.prevValue;c(i,function(e){if(e.characterData)return e.characterDataOldValue?b(n):a});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":i=e.relatedNode;var s,o,d=e.target;o="DOMNodeInserted"===e.type?(s=[d],[]):(s=[],[d]);var u=d.previousSibling,h=d.nextSibling;(a=f("childList",i)).addedNodes=s,a.removedNodes=o,a.previousSibling=u,a.nextSibling=h,c(i,function(e){if(e.childList)return a})}v=l=void 0}},e.JsMutationObserver=u,e.MutationObserver||(e.MutationObserver=u)}(this),window.MutationObserver});

define("UWA/Element",["UWA/Internal/Deprecate","UWA/Core","UWA/String","UWA/Array","UWA/Utils","UWA/Utils/Client","UWA/Dispatcher","UWA/Json","UWA/Event","vendors/webcomponents/MutationObserver"],function(i,g,l,o,d,E,e,a,s,t){"use strict";var n,c=Boolean("object"==typeof MooTools&&MooTools.version),r=E.getVendorProperty,h=document.documentElement,C=function(e,t){return i.warn("new Element(...)","Use Element.create instead"),C.create(e,t)};function u(e){var t="#document"===e.nodeName;for(var n in t&&i.warn("UWA.extendElement(document)"),C)C.hasOwnProperty(n)&&"create"!==n&&"extend"!==n&&(t&&n in e||(e[n]=C[n]))}C.create=function(e,t){var n=function(e,t){var n,i;return"iframe"===e&&t&&void 0!==t.name?((n=document.createElement("div")).innerHTML="<"+e+' name="'+t.name+'"/>',i=n.firstChild,delete t.name):"object"===e&&t&&void 0!==t.classid?(i=t.html?(i=document.createElement("div"),C.setHTML.call(i,t.html),C.getHTML.call(i)):"",(n=document.createElement("div")).innerHTML="<"+e+' classid="'+t.classid+'">'+i+"</"+e+">",i=n.firstChild,delete t.html,delete t.classid):i=document.createElement(e),i}(e,t);return C.extend(n),g.is(t,"object")&&C.set.call(n,t),n},C.extend=(n={getProperty:window.Element.prototype.getProperty,getSize:function(){var e;return(e="body"===C.getTagName.call(this)?g.Utils.Client.getSize():C.getSize.call(this)).x=e.width,e.y=e.height,e},getCoordinates:function(e){var t=e?this.getPosition(e):this.getOffsets(),n=this.getSize(),i={left:t.x,top:t.y,width:n.x,height:n.y};return i.right=i.left+i.width,i.bottom=i.top+i.height,i}},function(e){return e&&!e._isUwaExtended&&(c?function(e){delete e.fireEvent,u(e),g.extend(e,n)}(e):u(e),e._isUwaExtended=!0),e}),g.createElement=C.create,g.extendElement=C.extend;var f,m,p,v=(f=document.createElement("div"),m=/(^|,)/g,p=/(?:^|,)\s*[>+~]/,function(e,t,n,i){var o,r,a,l,s=i||p.test(t);return s?(n?(r=n.parentNode,l="uwa-private-get-element-selector-root-"+(1e8*Math.random()|0),n.setAttribute(l,"true"),o="["+l+"] ",i||r||(r=C.extend(f).grab(n))):(o="* ",r=n),t=t.replace(m,"$1"+o)):r=n,a=i?(C[e]||i[e]).call(i,t):(C[e]||r[e]).call(r,t),n&&s&&(n.removeAttribute(l),r===f&&r.removeChild(n)),a});function y(e){var t=e?e.indexOf(" "):-1;return t<0?{name:e}:{name:e.slice(0,t),selector:e.slice(t+1)}}var w,b,x,S,T,W,L,O,D,N,H,M,P,z,A,F,k,j,B,U,_,R,I,$,q,V,K,X,Y,G,J,Q,Z,ee,te,ne,ie=e.extend({Binding:e.Binding.extend({delegates:null,direct:!1,element:null,init:function(){this._parent.apply(this,arguments),this.delegates=[]},addDelegate:function(e){e?this.delegates.push(e):this.direct=!0},removeDelegate:function(t){t?this.delegates=this.delegates.filter(function(e){return e!==t}):this.direct=!1,this.direct||this.delegates.length||this.detach()},execute:function(e,t){var n,i,o,r;if(this.active){if(this.delegates.length)for(n=this.delegates.join(","),i=e[0],o=s.getElement(i);o&&o!==this.element&&!1!==r;)C.match.call(o,n,this.element)&&(i._uwaTarget=o,r=this._parent(e,t),i._uwaTarget=null),o=o.parentNode;this.direct&&!1!==r&&(r=this._parent(e,t))}return r},destroy:function(){this._parent(),delete this.element}}),init:function(e){this._parent(),this.element=e},addDelegation:function(e,t,n,i){var o=this.add(e,n,i);return o.addDelegate(t),o.element=this.element,o},removeDelegation:function(e,t){if(e){var n=this.bindings[this.indexOfListener(e)];n&&n.removeDelegate(t)}else o.invoke(this.bindings.slice(),"removeDelegate",t)},dispose:function(){this._parent(),delete this.element}});function oe(e){var t="string"==typeof e.className?e.className:e.getAttribute("class");return t||""}function re(e,t){"string"==typeof e.className?e.className=t:e.setAttribute("class",t)}function ae(e){s.preventDefault(e)}function le(e){var t=e.ownerDocument.defaultView;return t?t.getComputedStyle(e,null):e.currentStyle}function se(e,t){return C.getStyle.call(e,t)}function de(){var e,t,n,i=document.body,o=parseInt(se(i,"marginTop"),10),r=document.createElement("div");r.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i.insertBefore(r,i.firstChild),t=(e=r.firstChild).firstChild,n=e.nextSibling.firstChild.firstChild,x=5!==t.offsetTop,S=5===n.offsetTop,t.style.position="fixed",t.style.top="20px",T=20===t.offsetTop||15===t.offsetTop,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",W=-5===t.offsetTop,L=i.offsetTop!==o,i.removeChild(r)}function ce(e){var t=e.offsetTop,n=e.offsetLeft;return void 0===x&&de(),L&&(t+=parseFloat(se(e,"marginTop"))||0,n+=parseFloat(se(e,"marginLeft"))||0),{x:n,y:t}}function he(e){return C.getStyle.call(e,"display")}function ue(e){var t=[];return e.replace(/['"]/g,"").split(",").forEach(function(e){t.push('"'+e.trim()+'"')}),t.join(", ")}function fe(e){var t=function(e,t){var n,i,o,r,a=e+t;if(Y[a])n=Y[a];else{for(i in n=!1,r=document.createElement("div").style,G)if(o=G[i]+t,r[e]=o,r[e]===o&&""!==o&&!E.Engine.ie){n=o;break}Y[a]=n}return n}("cursor",e);return e=!1!==t?t:E.Engine.opera?"move":"url("+g.hosts.uwa+g.paths.css+"/base/cursor/"+("grabbing"===e?"closedhand":"openhand")+".cur)"+(E.Engine.ie?"":" 4 4")+", move"}function me(e){return/^(?:body|html)$/i.test(e.tagName)}function pe(e){return e&&("static"!==C.getStyle.call(e,"position")||me(e))}function ge(e){return pe(e)||/^(?:table|td|th)$/i.test(e.tagName)}function ve(n,i){"function"==typeof i?i=i():void 0===i&&(i=(i=r(h,"on{}"+n,!0))&&i.slice(2)),n!==i&&(C.Events[n]=function(e,t){if(!i)throw new Error("The event "+n+" is not supported on this platform");C.addEvent.call(t,i,e.handleEvent,!0),e.events[i]=e.handleEvent})}function ye(e){var t;return(t=g.is(e,["window","document"])?[(t=E.getSize()).width,t.height,0,0]:[e.scrollWidth,e.scrollHeight,e.offsetWidth,e.offsetHeight]).join("x")}function we(){clearTimeout(ee),te.dispatch(),0<te.getNumListeners()&&(ee=setTimeout(we,ne))}function be(){window.document&&(window.document.body&&g.extendElement(window.document.body),window.document.documentElement&&g.extendElement(window.document.documentElement))}return Object.assign(C,{set:function(e,t){var n,i,o=this;if(Z||(Z={html:C.setHTML,events:C.addEvents,id:function(e){this.id=e},class:function(e){this.className=e},value:function(e){this.value=e}},["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"].forEach(function(t){Z[t.toLowerCase()]=function(e){this[t]=Boolean(e)}})),g.is(e,"object"))for(n in e)e.hasOwnProperty(n)&&C.set.call(o,n,e[n]);else i=C["set"+l.capitalize(e)],g.is(i,"function")?i.apply(o,Array.prototype.slice.call(arguments,1)):Z.hasOwnProperty(e)&&!1!==Z[e].call(o,t)||o.setAttribute(e,t);return o},setAttributes:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},getTagName:function(){var e=this.tagName||this.nodeName;return e?e.toLowerCase():""},setText:function(e){return C.empty.call(this),C.appendText.call(this,e)},appendText:function(e){var t=C.getDocument.call(this);return this.appendChild(t.createTextNode(e)),this},getText:function(){return"string"==typeof this.textContent?this.textContent:"string"==typeof this.innerText?this.innerText:""},setContent:function(){return C.empty.call(this),C.addContent.apply(this,arguments)},addContent:function(){var e=C.getDocument.call(this),t=e.createDocumentFragment();return function e(t,n,i){var o,r,a,l;for(g.is(t,"nodelist")&&(t=[].slice.call(t)),o=0,r=t.length;o<r;o++)if(l=t[o])if(l.nodeType)i.appendChild(l);else if("string"==typeof l||"number"==typeof l)if(/<|&#?\w+;/.test(l))for(a=n.createElement("div"),C.setHTML.call(a,l);a.firstChild;)i.appendChild(a.firstChild);else i.appendChild(n.createTextNode(l));else"function"!=typeof l.inject||Array.isArray(l)?"number"==typeof l.length?e(l,n,i):"object"==typeof l?(a=l.tag||"div",delete l.tag,i.appendChild(C.create(a,l)),l.tag=a):i.appendChild(n.createTextNode(l)):l.inject(i)}(arguments,e,t),this.appendChild(t),this},setHTML:function(t){var e,n=this;if("string"!=typeof t)C.setContent.call(n,t);else try{e=l.escapeHTMLEntities(t).replace('<?xml version="1.0" encoding="UTF-8"?>',"").replace(/&(?!#?[a-z0-9]+;)/gi,"&#38;"),n.innerHTML=e}catch(e){g.log("UWA.Element.setHTML error cause: "+e+' with HTML value "'+t+'"');try{n.innerHTML=l.stripTags(String(t))}catch(e){C.setText.call(n,t)}}return n},getHTML:function(){var e=this.innerHTML;return E.Engine.ie&&(e=e.replace(/< *(\/ *)?(\w+)/g,function(e){return e.toLowerCase()})),e},inject:function(e,t){var n,i=this,o=C.getDocument.call(i);return"bottom"===(t=t||"bottom")?e.appendChild(i):"top"===t?e.insertBefore(i,e.firstChild):((n=e.parentNode)||11===e.nodeType||(n=o.createDocumentFragment()).appendChild(e),n&&("after"===t?n.lastChild===e?n.appendChild(i):n.insertBefore(i,e.nextSibling):"before"===t&&n.insertBefore(i,e))),i},grab:function(e,t){return C.inject.call(e,this,t),this},isInjected:h.contains?function(e){return(e=e||this.ownerDocument.documentElement)!==this&&(!e.contains||e.contains(this))}:h.compareDocumentPosition?function(e){return e=e||this.ownerDocument.documentElement,Boolean(16&e.compareDocumentPosition(this))}:function(e){var t=this;for(e=e||t.ownerDocument.documentElement;(t=t.parentNode)&&t.parentNode;);return t===e},empty:function(e){for(var t;this.firstChild;)t=this.firstChild,e?C.destroy.call(t):this.removeChild(t);return this},remove:function(){var e=C.getParent.call(this);return e&&e.removeChild(this),this},destroy:function(){var e,t,n,i=this,o=C.remove,r=C.destroy,a=C.getChildren.call(i);for(t=0,n=a.length;t<n;t+=1)a[t].destroy&&r.call(a[t]);C.removeEvents.call(i),i!==(e=C.getDocument.call(i))&&i!==e.documentElement&&i!==e.body&&i!==C.getWindow.call(i)&&o.call(i)},getParent:function(e){var t=this.parentNode;if(e)for(;t&&1===t.nodeType&&!C.match.call(t,e);)t=t.parentNode;return t&&1!==t.nodeType&&(t=null),t?C.extend(t):null},getParents:function(e){for(var t=[],n=this;;){var i=n.getParent(e);if(!i)return t;t.push(i),n=i}},getClosest:function(e){return C.match.call(this,e)?this:C.getParent.call(this,e)},getChildren:function(){return Array.prototype.filter.call(this.childNodes,function(e){return 1===e.nodeType}).map(C.extend)},getDocument:function(){return 9===this.nodeType?this:this.ownerDocument||this.document},getWindow:function(){var e=C.getDocument.call(this);return e&&(e.defaultView||e.parentWindow)},getOffsetParent:function(){var e,t=this,n=C.getDocument.call(t),i=t.offsetParent||n&&n.body,o=C.getStyle.call(t,"position");if(!me(t)&&"fixed"!==o)if(void 0===Q&&function(){var e=document.createElement("div"),t=document.createElement("div");e.style.height="0",e.appendChild(t),Q=t.offsetParent===e}(),Q){for(e="static"===o?ge:pe;void 0!==(t=t.parentNode);)if(e(t)){i=t;break}}else try{i=t.offsetParent}catch(e){}return i=i&&C.extend(i)},getElements:function(e){return Array.prototype.map.call(v("querySelectorAll",e,this),C.extend,g)},getElement:function(e){return C.extend(v("querySelector",e,this))},match:function(e,t){return v("matchesSelector",e,t,this)},hasClassName:function(e){var t=oe(this);return Boolean(t&&l.contains(t,e," "))},addClassName:function(e){return C.hasClassName.call(this,e)||re(this,(oe(this).trim()+" "+e).trim()),this},removeClassName:function(e){return re(this,oe(this).replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)"),"$1").trim()),this},toggleClassName:function(e,t){var n=g.is(t)?t:!C.hasClassName.call(this,e);return g.Element[n?"addClassName":"removeClassName"].call(this,e)},setStyle:function(e,t){var n={};return n[e]=t,C.setStyles.call(this,n)},setStyles:(Y={},G={none:"",firefox:"-moz-",opera:"-o-",trident:"-ms-",webkit:"-webkit-"},J={columnCount:1,flex:1,flexGrow:1,flexShrink:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeOpacity:1},function(e){var t,n,i,o,r=this.style,a=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],"opacity"===(o=l.camelCase(o))?C.setOpacity.call(this,i):(""!==i&&null!==i&&isFinite(i)&&void 0===J[o]?i+="px":"none"===i&&"userSelect"===o&&void 0!==r.MozUserSelect?i="-moz-none":"fontFamily"===o?i=ue(i):"cursor"===o&&("grabbing"!==i&&"grab"!==i||(i=fe(i))),a.push({name:C.getStyleName.call(this,o),value:i})));for(t=0,n=a.length;t<n;t++){o=a[t].name,i=a[t].value;try{r[o]=i||0===i?i:""}catch(e){g.log('Unable to set style "'+o+'" with value "'+i+'"')}}return this}),getStyle:function(e,t){return C.getStyles.call(this,[e],t)[e]},getStyles:(K=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,X=/^margin/,document.defaultView&&document.defaultView.getComputedStyle?$=function(e,t,n){var i,o,r,a,l,s,d,c=e.ownerDocument,h=c.defaultView,u=C.getWindow.call(e).getComputedStyle(e,null),f=e.style;if(h&&u)for(i=0,o=t.length;i<o;i++)a=t[i],""!==(l=u[s=C.getStyleName.call(e,a)])&&"auto"!==l||C.isInjected.call(e,c.documentElement)||(l=f[s]),void 0===q&&(d=void 0,(d=document.createElement("div")).style.margin="1%",document.body.appendChild(d),q="1%"===(window.getComputedStyle(d,null)||{marginTop:0}).marginTop,document.body.removeChild(d)),q&&X.test(s)&&K.test(l)&&(r=f.width,f.width=l,l=u.width,f.width=r),n[a]=void 0!==l?l:f[a]||"";return n}:document.documentElement.currentStyle&&($=function(e,t,n){var i,o,r,a,l,s,d,c=e.currentStyle,h=e.runtimeStyle,u=e.style;for(i=0,o=t.length;i<o;i++)a=t[i],d=C.getStyleName.call(e,a),l=c&&c[d],K.test(l)&&(r=u.left,(s=h&&h.left)&&(h.left=c.left),u.left="fontSize"===d?"1em":l||0,l=u.pixelLeft+"px",u.left=r,s&&(h.left=s)),n[a]=void 0!==l?l:e.style[a]||"";return n}),function(e,t){var n={};return-1===e.indexOf("opacity")||V||(V=!0,n.opacity=C.getOpacity.call(this,t),e.splice(e.indexOf("opacity"),1),V=!1),n=!1===t?function(e,t,n){var i,o,r,a=e.style;for(i=0,o=t.length;i<o;i++)n[r=t[i]]=a[r]||"";return n}(this,e,n):$(this,e,n)}),getStyleName:(_=E.Engine,R=_.name,I=["box-sizing","box-shadow","transform","transform-style","transition","transition-timing-function","transition-duration","transition-delay","transition-property","border-image","border-radius","text-stroke","font-smoothing","text-fillcolor","text-shadow","perspective","appearance","touch-callout","overflow-scrolling","mask","user-select"],d.memoize(function(e,t){var n,i,o=[],r={firefox:"-moz",opera:"-o",ie:t?"-ms":"ms",chrome:"-webkit",safari:"-webkit"};if("string"==typeof e){if("float"===(e=l.unCamelCase(e)))n=_.ie?"style-float":"css-float";else if(-1!==I.indexOf(e)){if(r[R])n=r[R]+"-"+e,o.push(n);else for(i in r)r.hasOwnProperty(i)&&(n=r[i]+"-"+e,-1===o.indexOf(n)&&o.push(n));n=0===(o=o.filter(function(e){return void 0!==h.style[l.camelCase(e)]})).length?e:o.shift()}else n=e;t||(n=l.camelCase(n))}else n=e;return n},function(e){return e.join(".")})),getOpacity:(k=function(){},j=E.Features.opacityCSS,B=E.Features.filterCSS,U=/alpha\(opacity=([\d.]+)\)/i,B&&!j?k=function(e,t){var n,i=1;return(n=C.getStyle.call(e,"filter",t).replace(/ /g,"").match(U))&&(i=n[1]/100),i}:j&&(k=function(e,t){var n=1,i=e.style,o=C.getStyle;return void 0!==i.opacity?n=o.call(e,"opacity",t):void 0!==i.MozOpacity&&(n=o.call(e,"MozOpacity",t)),parseFloat(Math.round(100*n)/100,10)}),function(e){return k(this,e)}),setOpacity:(A=function(){},F=E.Features.opacityCSS,E.Features.filterCSS&&!F?A=function(e,t,n){var i;n=(t.zoom=1)===n?"":"alpha(opacity="+100*n+")",t.MsFilter=n,t.filter=n,i=t.display,t.display="none",e.offsetHeight,t.display=i}:F&&(A=function(e,t,n){void 0!==t.opacity?t.opacity=n:void 0!==t.MozOpacity&&(t.MozOpacity=n)}),function(e){var t=this.style;return null!==e&&(e=1<(e=parseFloat(e,10))?1:e<1e-5?0:e),A(this,t,e),this}),hide:function(){return C.setStyle.call(this,"display","none")},show:(z=d.memoize(function(e){var t,n=document,i=n.body,o=n.createElement(e);return i.appendChild(o),t=he(o),i.removeChild(o),"none"!==t&&""!==t||(M||((M=n.createElement("iframe")).frameBorder=M.width=M.height=0),i.appendChild(M),P&&M.createElement||((P=(M.contentWindow||M.contentDocument).document).write(("CSS1Compat"===n.compatMode?"<!doctype html>":"")+"<html><body>"),P.close()),o=P.createElement(e),P.body.appendChild(o),t=he(o),i.removeChild(M)),t}),function(){var e,t=this;return t.style&&("none"===(e=t.style.display)&&(e=t.style.display=""),""===e&&(t.style.display="none"===he(t)&&z(t.nodeName)||"")),t}),toggle:function(e){var t=g.is(e)?e:C.isHidden.call(this);return g.Element[t?"show":"hide"].call(this)},isHidden:function(){return"none"===C.getStyle.call(this,"display")},setTranslate:(H=E.Features.transitionsCSS?E.Features.matrixCSS?function(e,t){return{transform:"translate3d("+t+"px,"+e+"px, 0)"}}:function(e,t){return{transform:"translate("+t+"px,"+e+"px)"}}:function(e,t){return{top:e,left:t}},function(e,t){var n;return n=H(e=e||0,t=t||0),C.setStyles.call(this,n),this}),getComputedSize:(N={borderWidth:["borderLeftWidth","borderRightWidth"],borderHeight:["borderBottomWidth","borderTopWidth"],paddingWidth:["paddingLeft","paddingRight"],paddingHeight:["paddingTop","paddingBottom"],marginWidth:["marginLeft","marginRight"],marginHeight:["marginTop","marginBottom"],innerWidth:["borderWidth","paddingWidth"],innerHeight:["borderHeight","paddingHeight"],outerWidth:["marginWidth"],outerHeight:["marginHeight"]},function(){var e,t,n,i,o=d.toArray(arguments),r=0;for(e=0;e<o.length;e++)n=l.camelCase(o[e]),N[n]?(o.splice(e,1),o=o.concat(N[n]),e--):o.splice(e,1,n);for(i=C.getStyles.call(this,o),e=0,t=o.length;e<t;e++)n=o[e],r+=parseFloat(i[n],10)||0;return r}),getScrolls:function(){var e,t,n,i=this;return g.is(i,["window","document"])?t=E.getScrolls():(n=i.style,t={width:i.scrollWidth,height:i.scrollHeight,top:i.scrollTop,left:i.scrollLeft},void 0===D&&function(){var e=document.createElement("div"),t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="1px",e.style.overflow="visible",e.innerHTML="x",t.appendChild(e),h.appendChild(t),D=1===e.scrollWidth,h.removeChild(t)}(),D&&-1!==["","visible"].indexOf(C.getStyle.call(i,"overflow"))&&(e=n.overflow,n.overflow="hidden",t.width=i.scrollWidth,n.overflow=e)),t},getOffsets:(O=/^t(?:able|d|h)$/i,void 0!==document.documentElement.getBoundingClientRect?function(){if(this===this.ownerDocument.body)return ce(this);var e,t,n,i,o,r,a,l=this,s=C.getWindow.call(l),d=s.webkitConvertPointFromNodeToPage;if(l.getBoundingClientRect){i=C.getDocument.call(l).body,o=h.clientTop||i.clientTop||0,r=h.clientLeft||i.clientLeft||0,a=E.getScrolls();try{n=l.getBoundingClientRect()}catch(e){}t=n&&C.isInjected.call(l,h)?(e=n.left+a.x-o,n.top+a.y-r):(e=n?n.left:0,n?n.top:0)}else d&&(e=(n=d(l,new s.WebKitPoint(0,0))).x,t=n.y);return{x:e,y:t}}:function(){if(this===this.ownerDocument.body)return ce(this);var e,t=this,n=t.offsetParent,i=C.getDocument.call(t).body,o=le(t),r=t.offsetTop,a=t.offsetLeft;for(void 0===x&&de(),t=t.parentNode;t&&t!==i&&t!==h&&11!==t.nodeType&&(!T||"fixed"!==o.position);)e=le(t),a-=t.scrollLeft,r-=t.scrollTop,t===n&&(a+=t.offsetLeft,r+=t.offsetTop,!x||S&&O.test(t.nodeName)||(a+=parseFloat(e.borderLeftWidth)||0,r+=parseFloat(e.borderTopWidth)||0),n=t.offsetParent),W&&"visible"!==e.overflow&&(a+=parseFloat(e.borderLeftWidth)||0,r+=parseFloat(e.borderTopWidth)||0),o=e,t=t.parentNode;return"relative"!==o.position&&"static"!==o.position||(a+=i.offsetLeft,r+=i.offsetTop),T&&"fixed"===o.position&&(a+=Math.max(h.scrollLeft,i.scrollLeft),r+=Math.max(h.scrollTop,i.scrollTop)),{x:a,y:r}}),getPosition:function(e,t){var n,i,o,r,a,l,s,d=this,c=C.getOffsetParent,h=C.getOffsets,u=C.getComputedSize,f=C.getSize,m=C.isInjected,p={x:0,y:0};if(!(e=e||c.call(d))||!m.call(d))return p;if(s=h.call(d),e!==C.getDocument.call(d)&&(n=/^(?:body|html)$/i.test(e.nodeName)?p:h.call(e),s.x-=parseFloat(u.call(d,"marginLeft"))||0,s.y-=parseFloat(u.call(d,"marginTop"))||0,n.x+=parseFloat(u.call(e,"borderLeftWidth"))||0,n.y+=parseFloat(u.call(e,"borderTopWidth"))||0,s.x-=n.x,s.y-=n.y,l=g.typeOf(t)))for("string"===l&&(t={x:t,y:t}),i=f.call(d),o=0;o<2;o+=1)a=o?"width":"height","center"===t[r=o?"x":"y"]?s[r]+=i[a]/2:(1===o&&"right"===t[r]||0===o&&"bottom"===t[r])&&(s[r]+=i[a]);return s},setPosition:(b={full:function(e,t){var n=C.getSize.call(this),i=e.x+e.width-t.x-n.width,o=e.y+e.height-t.y-n.height;i<0&&(t.x=Math.max(0,t.x+i)),o<0&&(t.y+=o)},"resize-max":function(e,t){C.setStyles.call(this,{maxWidth:e.x+e.width-t.x,maxHeight:e.y+e.height-t.y})},none:function(){}},function(e,t){t=t||{};var i,o,n=this,r=C.getDocument.call(n).body,a=C.getOffsetParent.call(n)||r,l=C.getOffsets.call(a),s=C.getOffsets.call(t.relative||a);return i=function(e,t,n,i,o){var r,a;switch(g.typeOf(i)){case!1:break;case"object":a={x:i.x+n.x,y:i.y+n.y,width:i.width,height:i.height};break;case"element":r=i;break;default:for(r=C.getOffsetParent.call(e);r&&r!==t&&1===r.nodeType&&"visible"===C.getStyle.call(r,"overflow");)r=r.parentNode;r&&1===r.nodeType||(r=t)}return r&&(r===t?a=g.merge(E.getScrolls(),E.getSize()):((a=C.getOffsets.call(r)).width=r.offsetWidth,a.height=r.offsetHeight)),a&&(a.x+=o,a.y+=o,a.width-=2*o,a.height-=2*o),a}(n,r,s,t.boundary,t.boundaryMargin||0),"number"==typeof e.length&&(o=C.getSize.call(n),d.splat(e).forEach(function(e){var t=s.x+e.x,n=s.y+e.y;e.score=(Math.min(i.x+i.width,t+o.width)-Math.max(i.x,t))*(Math.min(i.y+i.height,n+o.height)-Math.max(i.y,n))}),e.sort(function(e,t){return t.score-e.score}),e=e[0]),e={x:e.x+s.x,y:e.y+s.y},i&&(t.fit?"string"==typeof t.fit&&g.owns(b,t.fit)&&(t.fit=b[t.fit]):t.fit=b.full,e.x=Math.max(i.x,Math.min(e.x,i.x+i.width)),e.y=Math.max(i.y,Math.min(e.y,i.y+i.height)),t.fit.call(this,i,e)),C.setStyles.call(n,{top:e.y-l.y,left:e.x-l.x}),n}),getSize:function(){var e,t,n,i,o,r,a=this;return g.is(a,["window","document"])?E.getSize():(r=C.getStyle.bind(a),n=a.style,i=a.offsetWidth,o=a.offsetHeight,"none"===r("display")&&0===i&&0===o&&(t=n.display,e=n.visibility,n.visibility="visible",n.display="block",i=a.offsetWidth,o=a.offsetHeight,n.display=t,n.visibility=e),{width:i,height:o})},getDimensions:function(){var e,t=C.getSize.call(this),n=t.width,i=t.height,o=C.getStyles.call(this,["maxWidth","maxHeight","minWidth","minHeight","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","borderBottomWidth","borderTopWidth","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);for(e in o)o[e]=parseFloat(o[e],10)||0;return{width:n,height:i,maxWidth:o.maxWidth||-1,maxHeight:o.maxHeight||-1,minWidth:o.minWidth||-1,minHeight:o.minHeight||-1,innerWidth:n-(o.borderLeftWidth+o.borderRightWidth+o.paddingLeft+o.paddingRight),innerHeight:i-(o.borderBottomWidth+o.borderTopWidth+o.paddingTop+o.paddingBottom),outerWidth:n+o.marginLeft+o.marginRight,outerHeight:i+o.marginTop+o.marginBottom}},isInViewport:function(e,t,n,i){var o,r,a,l,s,d,c=this,h=C.getOffsets,u=h.call(e),f=h.call(c),m=e.offsetHeight,p=e.offsetWidth,g=c.offsetWidth,v=c.offsetHeight,y=f.y,w=f.x,b=y+c.offsetHeight,x=w+c.offsetWidth;return s=t?(l=w<u.x+p&&w+g>u.x,y<u.y+m&&y+v>u.y):(l=w>=u.x&&w+g<=u.x+p,y>=u.y&&y+v<=u.y+m),d="x"===i?l:"y"===i?s:l&&s,n&&(o=E.getScrolls(),r=E.getSize(),a={top:o.y,bottom:o.y+r.height,right:o.x+r.width,left:o.x},d=d&&y<a.bottom&&w<a.right&&a.top<b&&a.left<x),d},setData:function(e,t){var n,i=this,o=g.typeOf(t),r=g.typeOf(e);if("string"===r&&o)t=a.encode(t),i.dataset?i.dataset[l.camelCase(e)]=t:(e="data-"+l.unCamelCase(e),i.setAttribute?i.setAttribute(e,t):i[e]=t);else if("object"===r&&!o)for(n in e)e.hasOwnProperty(n)&&C.setData.call(i,n,e[n]);return i},getData:function(e){var t,n=this;return g.is(e,"string")&&(t=n.dataset?n.dataset[l.camelCase(e)]:(e="data-"+l.unCamelCase(e),n.getAttribute?n.getAttribute(e,t):n[e]=t)),g.is(t)?a.decode(t):void 0},removeData:function(e){var t=this;return g.is(e,"string")&&(t.dataset?t.dataset.hasOwnProperty(l.camelCase(e))&&delete t.dataset[l.camelCase(e)]:(e="data-"+l.unCamelCase(e),t.removeAttribute?t.removeAttribute(e):t[e]=null)),t},handleExternalLinks:function(o){return C.addEvent.call(this,"click",function(e){if(!s.isDefaultPrevented(e)&&!s.whichKey(e)){for(var t,n=s.getElement(e),i=String(window.location).split("#")[0];n&&!t;)t="a"===C.getTagName.call(n)&&n.getAttribute("href")||C.getData.call(n,"href"),n=C.getParent.call(n);t&&0!==t.indexOf(i+"#")&&0!==t.indexOf("#")&&0!==t.indexOf("javascript")&&(o(t),s.stop(e))}}),this},addEvent:function(e,t,n,i,o){e=y(e);var r=this,a=t&&"function"==typeof t.handleEvent?t:r,l=function(e,t,n,i){g.is(e,"window")&&"resize"===t&&(n=!0);var o,r,a=e._events||{},l=!n&&C.Events[t],s=l?t+"Custom":t,d=a[s];return d||(r=new ie(e),a[s]=d={dispatcher:r,handleEvent:function(t){if(c){var e=window.DOMEvent||window.Event;t=new e(t),["offsetY","offsetX","relatedTarget","button","metaKey","altKey","shiftKey","ctrlKey","clientY","clientX","screenY","screenX","which","pageY","pageX","layerY","layerX","charCode","keyCode","timeStamp","cancelable","bubbles","target","type","detail","wheelDelta","touches","changedTouches"].forEach(function(e){g.owns(t,e)||(t[e]=t.event[e])})}void 0===t.timeStamp&&(t.timeStamp=Date.now()),r.dispatch([t])},events:{},bindings:[],timers:[]},o=d.handleEvent,e._events=a,l?l(d,e,{target:e,type:t}):e.addEventListener?e.addEventListener(t,o,i||!1):(e.attachEvent("on"+t,o),window.attachEvent("onunload",function(){e.detachEvent("on"+t,o)}))),d}(this,e.name,n,o);return l.dispatcher.addDelegation(t,e.selector,a,i),"load"===e.name&&r.tagName&&"img"===r.tagName.toLowerCase()&&r.complete&&0<r.width&&l.dispatcher.dispatch(),r},addEvents:function(e,t,n,i){var o;for(o in e)e.hasOwnProperty(o)&&C.addEvent.call(this,o,e[o],t,n,i);return this},triggerEvent:function(e){var t=(this._events||{})[e],n={target:this,timeStamp:Date.now(),type:e};return t&&t.handleEvent(n),this},removeEvent:function(e,t,n){if(!g.is(e))return C.removeEvents.call(this);e=y(e);var i,o,r,a,l,s=this,d=s._events&&s._events[e.name+"Custom"],c=d?e.name+"Custom":e.name,h=s._events&&s._events[c];if(h&&(a=h.dispatcher,t||e.selector?a.removeDelegation(t,e.selector):a.removeAll(),0===a.getNumListeners())){for(r in delete s._events[c],l=h.events)l.hasOwnProperty(r)&&C.removeEvent.call(s,r,l[r]);if(h.timers)for(i=0,o=h.timers.length;i<o;i++)clearTimeout(h.timers[i]);if(h.bindings)for(i=0,o=h.bindings.length;i<o;i++)h.bindings[i].dispose();d||(s.removeEventListener?s.removeEventListener(c,h.handleEvent,n):s.detachEvent("on"+c,h.handleEvent)),a.dispose()}return s},removeEvents:function(e,t){var n,i=void 0!==e,o=i?e:this._events;for(n in o)o.hasOwnProperty(n)&&C.removeEvent.call(this,n,i?e[n]:null,t);return this},fillParent:function(e,t){e=e||"height";var n=t||C.getParent.call(this),i=C.setStyle.bind(this),o=l.ucfirst(e);return n&&(i("height",1e4+"px"),i("height",n["offset"+o]-n["scroll"+o]+1e4+"px")),this},setSelectable:function(e){return this.setAttribute("unselectable",e?"off":"on"),C.setStyles.call(this,{userSelect:e?"":"none",touchCallout:e?"":"none"}),C[e?"removeEvent":"addEvent"].call(this,"selectstart",ae),this},requestFullscreen:(w=r(h,"requestFullscreen")||r(h,"requestFullScreen"),w?function(){return w.call(this)}:function(){throw new Error("Element#requestFullscreen is not available in this platform")})}),C.Events={mouseleave:function(e,t,n){var i=e.handleEvent;t.addEventListener?(e.handleEvent=function(e){var t=e.relatedTarget;this===t||function(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}(this,t)||i.call(this,n)},C.addEvent.call(t,"mouseout",e.handleEvent),e.events.mouseout=e.handleEvent):(C.addEvent.call(t,"mouseleave",i,!0),e.events.onmouseleave=i)},mouseenter:function(e,t,n){var i=e.handleEvent;t.addEventListener?(e.handleEvent=function(e){var t=e.relatedTarget;this===t||function(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}(this,t)||i.call(this,n)},C.addEvent.call(t,"mouseover",e.handleEvent),e.events.mouseover=e.handleEvent):(C.addEvent.call(t,"mouseenter",i,!0),e.events.mouseenter=i)},mousewheel:function(e,t){var n=e.handleEvent,i=E.Engine.firefox?"DOMMouseScroll":"mousewheel";e.handleEvent=function(e){(e=e||window.event).wheel=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3,n(e)},C.addEvent.call(t,i,e.handleEvent,!0),e.events[i]=e.handleEvent},update:function(n,e,i){new t(function(e){var t=e[0];n.handleEvent(Object.assign(i,{record:t}))}).observe(e,{childList:!0,subtree:!0})},resize:(te=new e,ne=200,function(n,i,o){var r,a=ye(i),e="orientationchange";0<n.bindings.length||(n.timers=[r],window===i&&g.is(window[e])&&(C.addEvent.call(i,e,we),n.events[e]=we),n.bindings=[te.add(function(){var e=ye(i),t=g.is(i,["window","document"])||C.isInjected.call(i);a!==e&&t&&(a=e,clearTimeout(r),r=setTimeout(function(){n.handleEvent(o)},220))})],we())})},ve("fullscreenchange"),ve("fullscreenerror"),ve("transitionEnd",function(){var e,t=document.createElement("fakeelement"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&g.is(t.style[e]))return n[e]}),h.matchesSelector||(C.matchesSelector=r(h,"matchesSelector")),document.exitFullscreen=r(document,"exitFullscreen")||r(document,"cancelFullScreen")||function(){throw new Error("Element#requestFullscreen is not available in this platform")},"fullscreenEnabled"in document||(document.fullscreenEnabled=r(document,"fullscreenEnabled")),function(){var e="fullscreenElement",t=r(document,e,!0)||r(document,"fullScreenElement",!0)||r(document,"currentFullScreenElement",!0);if(t&&t!==e)try{C.addEvent.call(document,"fullscreenchange",function(){document[e]=document[t]}),document[e]=document[t]}catch(e){}}(),be(),s.onDomReady(be),g.namespace("Element",C,g,!0)});

define("UWA/Class/Timed",["UWA/Core","UWA/Class","UWA/Utils","UWA/Utils/Client"],function(e,i,m,t){"use strict";var a,u=1,r=t.getVendorProperty(window,"cancelAnimationFrame")||clearTimeout,n=t.getVendorProperty(window,"requestAnimationFrame")||function(e){return setTimeout(e,1e3/60)};function l(o,s,c,d){return function(i,e,t,a,r){var n=this,l=n;return"function"==typeof i&&(r=a,a=t,t=e,e=i,l=i=u++),e=m.attempt.bind(null,e,function(e){throw n[o](i),new Error("The "+s.slice(0,-1)+' "'+i+'" failed with error "'+e+'".')},r||n),n[o](i),n[s]=n[s]||Object.create(null),n[s][i]=c(function(){d&&n[o](i),e()},t),a&&e(),l}}function o(a,r){return function(e){var i,t=this[a];if(t)if(void 0===e)for(i in t)r(t[i]),delete t[i];else t[e]&&(r(t[e]),delete t[e]);return this}}function s(t){return function(e){var i=this[t];return Boolean(i&&i[e])}}return a=i.extend({setPeriodical:l("clearPeriodical","periodicals",window.setInterval),clearPeriodical:o("periodicals",window.clearInterval),hasPeriodical:s("periodicals"),setDelayed:l("clearDelayed","delays",window.setTimeout,!0),clearDelayed:o("delays",window.clearTimeout),hasDelayed:s("delays"),setAnimate:l("clearAnimate","animates",n,!0),clearAnimate:o("animates",r),hasAnimate:s("animates"),setImmediate:l("clearImmediate","immediates",m.setImmediate,!0),clearImmediate:o("immediates",m.clearImmediate),hasImmediate:s("immediates"),clearAllTimed:function(){return this.clearImmediate(),this.clearAnimate(),this.clearDelayed(),this.clearPeriodical(),this}}),e.namespace("Timed",a,i)});

define("UWA/Color",["UWA/Core","UWA/Class"],function(e,r){"use strict";function h(r){return"#"===r.charAt(0)&&(r=r.substring(1)),3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)}}function i(r){(r=e.clone(r)).r/=255,r.g/=255,r.b/=255;var a={},t=Math.min(r.r,r.g,r.b),n=Math.max(r.r,r.g,r.b),o=n-t,s=(n+t)/2;return a.l=s,n===t?(a.h=0,a.s=0):(a.h=s,a.s=s,a.s=.5<a.l?o/(2-n-t):o/(n+t),n===r.r?a.h=(r.g-r.b)/o+(r.g<r.b?6:0):n===r.g?a.h=(r.b-r.r)/o+2:n===r.b&&(a.h=(r.r-r.g)/o+4),a.h/=6),a.h=Math.round(360*a.h),a.s=Math.round(100*a.s),a.l=Math.round(100*a.l),a}function s(r){var a={},t=(1-Math.abs(r.l/50-1))*r.s/100,n=t*(1-Math.abs(r.h/60%2-1)),o=Math.floor(r.h/60),s=r.l/100-t/2;switch(o){case 0:a.r=t,a.g=n,a.b=0;break;case 1:a.r=n,a.g=t,a.b=0;break;case 2:a.r=0,a.g=t,a.b=n;break;case 3:a.r=0,a.g=n,a.b=t;break;case 4:a.r=n,a.g=0,a.b=t;break;case 5:case 6:a.r=t,a.g=0,a.b=n}return a.r=Math.round(255*(a.r+s)),a.g=Math.round(255*(a.g+s)),a.b=Math.round(255*(a.b+s)),a}function g(a,t){var n=(a=e.clone(a)).alpha;if(1<=n)return a;return["r","g","b"].forEach(function(r){a[r]=a[r]*n+t[r]*t.alpha*(1-n)}),a.alpha=Math.round(n+t.alpha*(1-n)),a}function p(r){var a=[r.r,r.g,r.b,r.alpha].map(function(r){return(r/=255)<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)});return.2126*a[0]+.7152*a[1]+.0722*a[2]}function f(r,a){if(1<=a.alpha){r.alpha<1&&(r=g(r,a));var t=p(a)+.05,n=p(r)+.05,o=t/n;return t<n&&(o=1/o),{ratio:Math.round(o),min:o,max:o}}var s={r:255,g:255,b:255,alpha:1},e={r:0,g:0,b:0,alpha:1},h=g(a,e),i=g(a,s),l=f(r,e).ratio,u=f(r,s).ratio,c=Math.max(l,u),b=1;return h.luminance>r.luminance?b=l:i.luminance<r.luminance&&(b=u),{ratio:Math.round((b+c)/2,2),min:b,max:c}}var l=r.extend({_color:null,init:function(r){this._color=e.clone(r)},toHexString:function(){return"#"+[this._color.r,this._color.g,this._color.b].map(function(r){return 1===(r=(r=parseInt(r,10)).toString(16)).length?"0"+r:r}).join("")},toRGBString:function(){var r=this._color,a=r.alpha<1;return"rgb"+(a?"a":"")+"("+r.r+", "+r.g+", "+r.b+(a?", "+r.alpha:"")+")"},toHSLString:function(){var r=this._color,a=r.alpha<1;return"hsl"+(a?"a":"")+"("+r.h+", "+r.s+"%, "+r.l+(a?"%, "+r.alpha:"%")+")"},toObject:function(){return e.clone(this._color)},cloneWith:function(r){var a=Object.assign(this.toObject(),r);return e.owns(r,"h")||e.owns(r,"s")||e.owns(r,"l")?l.fromHSL(a.h,a.s,a.l,a.alpha):e.owns(r,"r")||e.owns(r,"g")||e.owns(r,"b")?l.fromRGB(a.r,a.g,a.b,a.alpha):new l(a)}});return l.fromRGB=function(r,a,t,n){var o={r:parseInt(r,10),g:parseInt(a,10),b:parseInt(t,10),alpha:void 0===n?1:parseFloat(n,10)};return Object.assign(o,i(o)),new l(o)},l.fromHSL=function(r,a,t,n){var o={h:parseInt(r,10),s:parseFloat(a,10),l:parseFloat(t,10),alpha:void 0===n?1:parseFloat(n,10)};return Object.assign(o,s(o)),new l(o)},l.parse=function(r){"transparent"===r&&(r="rgba(0, 0, 0, 0)");var a={},t=r.test(/^(#?)((?:[A-Fa-f0-9]{3}){1,2})$/m),n=r.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/m);if(t)return(a=h(r)).alpha=1,Object.assign(a,i(a)),new l(a);if(n&&0<n.length){var o;n.shift();var s=n[0],e=n[5]?parseFloat(n[5],10):1;return"rgb"===s?o=l.fromRGB:"hsl"===s&&(o=l.fromHSL),o(n[2],n[3],n[4],e)}},l.checkContrast=function(r,a){var t,n=f(r.toObject(),a.toObject());return 0<=n.max&&n.min<3?t="fail":3<=n.max&&n.min<4.5?t="aa-large":4.5<=n.max&&n.min<7?t="aa":7<=n.max&&n.min<22&&(t="aaa"),{ratio:n.ratio,status:t}},l.__test__={hexToRgb:h,rgbToHsl:i,hslToRgb:s,layerColors:g,getLuminance:p,getContrast:f},e.namespace("Color",l,e)});

define("UWA/Fx",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Class/Timed","UWA/Element","UWA/Color"],function(o,c,t,n,r,e,s,f){"use strict";function h(t){return-1!==["borderColor","backgroundColor","color"].indexOf(c.camelCase(t))}function l(t){var n=Number(t);return isNaN(n)&&(n=parseInt(t,10)),isNaN(n)?0:n}var p=t.extend(n,e,r,{defaultOptions:{transition:"linear",duration:500,unit:"px",wait:!1},element:null,from:null,to:null,current:null,init:function(t,n){var r=this;r.element=t,r.from={},r.to={},r.queue=[],r.setOptions(n)},tween:function(t,n,r){var e={};return e[t]=[n,r],this.start(e)},fade:function(t){t=void 0!==t?t:"toggle";var n="opacity",r=s.getOpacity.call(this.element),e={opacity:[]};switch(t){case"in":e[n]=[r,1];break;case"out":e[n]=[r,0];break;case"show":e[n]=[1,1];break;case"hide":e[n]=[0,0];break;case"toggle":e[n]=r<1?[r,1]:[r,0];break;default:e[n]=[r,t]}return this.start(e)},start:function(t){var n=this;return n.options.wait&&n.hasAnimate("fx")?n.queue.push(t):(n.stop(),n.setSteps(t),n.dispatchEvent("onStart"),n.startTime=Date.now(),n.current={},n.animate()),n},pause:function(){return this.clearAnimate("fx"),this},stop:function(){var t=this;return t.pause(),t.from={},t.to={},t},setSteps:function(t){var n,r=this,e={},u={};for(n in t)if(t.hasOwnProperty(n))if(n=c.camelCase(n),Array.isArray(t[n])?(e[n]=t[n][0],u[n]=t[n][1]):(e[n]=s.getStyle.call(r.element,n),u[n]=t[n]),h(n)){var a=f.parse(e[n]).toObject(),i=f.parse(u[n]).toObject();e[n]=[a.r,a.g,a.b,a.alpha],u[n]=[i.r,i.g,i.b,i.alpha]}else e[n]=l(e[n]),u[n]=l(u[n]);r.from=e,r.to=u},compute:function(t,n){var r,e=this.options,u=e.transition,a=e.duration,i=o.typeOf(u);if("string"===i){if(!o.is(p.Transitions[u],"function"))throw new Error("Invalid UWA.FX transition option value.");u=p.Transitions[u]}else if("array"===i)u=p.Transitions.cubicBezier.apply(null,u);else if("function"!==i)throw new Error("Invalid UWA.FX transition option value.");if(r=0<a&&t!==n?u(this.currentTime,t,n-t,a):n,isNaN(r))throw new Error(c.format('Invalid UWA.FX transition computation value with from "{0}" to "{1}".',t,n));return r},animate:function(){var t,n=this,r=Date.now(),e=n.options.duration,u=n.startTime;r<u+e?n.currentTime=r-u:(n.currentTime=e,t=!0),n.dispatchEvent("onAnimate",[n.element,n.from,n.to]),t?(n.stop(),n.dispatchEvent("onComplete"),0<n.queue.length&&n.start(n.queue.shift()),n.lastTime=null):n.setAnimate("fx",n.animate),n.fps=1e3/(r-(n.lastTime||r)),n.lastTime=r},onAnimate:function(t,n,r){var e,u,a=this,i={};for(e in n)n.hasOwnProperty(e)&&(u=h(e)?"rgba("+Math.round(a.compute(n[e][0],r[e][0]))+","+Math.round(a.compute(n[e][1],r[e][1]))+","+Math.round(a.compute(n[e][2],r[e][2]))+","+a.compute(n[e][3],r[e][3])+")":a.compute(n[e],r[e]),a.current[e]!==u&&(i[e]=u));a.current=i,s.setStyles.call(t,i)}});function b(t,n){return((n.ax*t+n.bx)*t+n.cx)*t}function m(t,n,r){return function(t,n){return((n.ay*t+n.by)*t+n.cy)*t}(function(t,n,r){var e,u,a,i,o,c,s,f,h;for(i=t,e=0;e<8;e++){if(o=b(i,n)-t,Math.abs(o)<r)return i;if(f=i,c=(3*(h=n).ax*f+2*h.bx)*f+h.cx,Math.abs(c)<r)break;i-=o/c}if(a=1,(i=t)<(u=0))s=u;else if(a<i)s=a;else{for(;u<a;){if(o=b(i,n),Math.abs(o-t)<r)return i;o<t?u=i:a=i,i=.5*(a-u)+u}s=i}return s}(t,n,r),n)}return p.Transitions={linear:function(t,n,r,e){return r*t/e+n},quadIn:function(t,n,r,e){return r*(t/=e)*t+n},quadOut:function(t,n,r,e){return-r*(t/=e)*(t-2)+n},quadInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},cubicIn:function(t,n,r,e){return r*(t/=e)*t*t+n},cubicOut:function(t,n,r,e){return r*((t=t/e-1)*t*t+1)+n},cubicInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},quartIn:function(t,n,r,e){return r*(t/=e)*t*t*t+n},quartOut:function(t,n,r,e){return-r*((t=t/e-1)*t*t*t-1)+n},quartInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},quintIn:function(t,n,r,e){return r*(t/=e)*t*t*t*t+n},quintOut:function(t,n,r,e){return r*((t=t/e-1)*t*t*t*t+1)+n},quintInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},sineIn:function(t,n,r,e){return-r*Math.cos(t/e*(Math.PI/2))+r+n},sineOut:function(t,n,r,e){return r*Math.sin(t/e*(Math.PI/2))+n},sineInOut:function(t,n,r,e){return-r/2*(Math.cos(Math.PI*t/e)-1)+n},expoIn:function(t,n,r,e){return 0===t?n:r*Math.pow(2,10*(t/e-1))+n},expoOut:function(t,n,r,e){return t===e?n+r:r*(1-Math.pow(2,-10*t/e))+n},expoInOut:function(t,n,r,e){return 0===t?n:t===e?n+r:(t/=e/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},circIn:function(t,n,r,e){return-r*(Math.sqrt(1-(t/=e)*t)-1)+n},circOut:function(t,n,r,e){return r*Math.sqrt(1-(t=t/e-1)*t)+n},circInOut:function(t,n,r,e){return(t/=e/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},backIn:function(t,n,r,e,u){return r*(t/=e)*t*(((u=u||1.70158)+1)*t-u)+n},backOut:function(t,n,r,e,u){return r*((t=t/e-1)*t*(((u=u||1.70158)+1)*t+u)+1)+n},backInOut:function(t,n,r,e,u){return u=u||1.70158,(t/=e/2)<1?r/2*(t*t*((1+(u*=1.525))*t-u))+n:r/2*((t-=2)*t*((1+(u*=1.525))*t+u)+2)+n},elasticIn:function(t,n,r,e,u,a){var i;return 0===t?n:1==(t/=e)?n+r:(a=a||.3*e,i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),-u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)+n)},elasticOut:function(t,n,r,e,u,a){var i;return 0===t?n:1==(t/=e)?n+r:(a=a||.3*e,i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),u*Math.pow(2,-10*t)*Math.sin((t*e-i)*(2*Math.PI)/a)+r+n)},elasticInOut:function(t,n,r,e,u,a){var i;return 0===t?n:2==(t/=e/2)?n+r:(a=a||e*(.3*1.5),i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),t<1?u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)*-.5+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)*.5+r+n)},bounceIn:function(t,n,r,e){return r-p.Transitions.bounceOut(e-t,0,r,e)+n},bounceOut:function(t,n,r,e){return(t/=e)<1/2.75?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},bounceInOut:function(t,n,r,e){var u=p.Transitions;return t<e/2?.5*u.bounceIn(2*t,0,r,e)+n:.5*u.bounceOut(2*t-e,0,r,e)+.5*r+n},quinticBezier:function(t,n,r,e,u,a){var i=a-t,s=function(t,n,r,e,u,a){var i=5*(n-t),o=10*(r-t)-4*i,c=10*(e-t)+30*(n-r),s=5*(u+t)-20*(e+n)+30*r;return{a:a-t-s-c-o-i,b:s,c:c,d:o,e:i}}(t,(n-t)/i,(r-t)/i,(e-t)/i,(u-t)/i,i);return function(t,n,r,e){var u,a,i=t/e,o=i*i,c=o*t;return s.a||s.c?a=s.b||s.d?(u=o)*i:c:(s.b||s.d)&&(u=c),n+r*(s.a*o+s.b*o+s.c*a+s.d*u+s.e*i)}},cubicBezier:function(t,n,r,e){var o=function(t,n,r,e){var u=3*t,a=3*(r-t)-u,i=3*n,o=3*(e-n)-i;return{ax:1-u-a,bx:a,cx:u,ay:1-i-o,by:o,cy:i}}(t,n,r,e);return function(t,n,r,e){var u=t/e,a=function(t){return 1e3/60/t/4}(e),i=m(u,o,a);return n*(1-i)+(n+r)*i}}},o.namespace("Fx",p,o)});

define("UWA/Plugins/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(n,t,e){"use strict";var i=t.extend(e,{init:function(n,t){this.widget=n,this.environment=n.environment,this.setOptions(t)},dispatchEvent:function(n,t,e){this.environment.dispatchEvent(n,t,e)},addEvent:function(n,t,e,i){this.environment.addEvent(n,t,e||this,i)},addEvents:function(n,t,e){var i;for(i in n)n.hasOwnProperty(i)&&this.addEvent(i,n[i],t,e)},removeEvent:function(n,t){this.environment.removeEvent(n,t)}});return n.namespace("Plugins/Abstract",i,n)});

define("UWA/Controls/Abstract",["vendors/webcomponents/MutationObserver","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(r,t,e,n,o,i){"use strict";var s=[].forEach,a=new WeakMap,l=new WeakMap;function c(t,e){var n,o;for(n=0,o=t.length;n<o;n++){var r=t[n];if(1===r.nodeType){var i,s;e(r);var a=r.getElementsByTagName("*");for(i=0,s=a.length;i<s;i++)e(a[i])}}}function h(t){var e,n;try{n=(e=t&&(t.ownerDocument||t.document||t))&&e.documentElement}catch(t){}if(n&&!l.has(n)){var o=new r(function(t){function n(t,e,n){var o=a.get(t);o?o.dispatchEvent(e?"onInjected":"onRemoved",n):"IFRAME"===t.tagName&&h(t.contentWindow)}s.call(t,function(t){var e={nextSibling:t.nextSibling||null,previousSibling:t.previousSibling||null,parentNode:t.target};c(t.addedNodes,function(t){n(t,!0,e)}),c(t.removedNodes,function(t){n(t,!1,e)})})});l.set(n,o),o.observe(n,{childList:!0,subtree:!0})}}h(t.getGlobal());var u=e.extend(n,o,{elements:null,init:function(t){this.elements={},this.setOptions(t)},inject:function(t,e){var n=this.getContent();if(n){var o=a.get(n);if(o&&o!==this)throw new Error("This control container element is already owned by another control!");a.set(n,this),h(t),this.dispatchEvent("onPreInject",[t]),n.inject(t,e),this.dispatchEvent("onPostInject",[t]),this.dispatchEvent("onResize",[t])}return this},remove:function(){var t=this.getContent();return t&&t.remove(),this},getContent:function(){if(!this.elements.container&&!this.container)throw new Error("You don't have an elements.container or container.");return this.elements.container||this.container},getClassNames:function(){var t=this.constructor,e=i.toArray(arguments),n=this.options.className||"",o=i.splat(n).join(" ");for(e.length||(e=[""]),0<=e.indexOf("")&&!1!==this.options._root&&e.push("-root");t;)t.prototype.name&&(o+=" "+t.prototype.name+e.join(" "+t.prototype.name)),t=t.parent;return o},hide:function(){return this.getContent().hide(),this.dispatchEvent("onHide")},show:function(){return this.getContent().show(),this.dispatchEvent("onShow")},destroy:function(){var t,e=this.elements||{};for(t in this.container&&(e.container=this.container),this.elements.container&&a.delete(this.elements.container),e)e.hasOwnProperty(t)&&(e[t].destroy(),delete e[t]);this.removeEvents(),this.clearAllTimed&&this.clearAllTimed()}}),d=new WeakMap;return u._getClosestControlFromElement=function(t){for(;t;){var e=d.get(t);if(e)return e;t=t.parentNode}return null},u._getClosestControlsFromElement=function(t){for(var e=[];t;){var n=d.get(t);n&&e.indexOf(n)<0&&e.push(n),t=t.parentNode}return e},u._linkElementToControl=function(t,e){var n=d.get(e);if(n){if(n!==t)throw new Error("This element is already linked to another control")}else d.set(e,t)},t.namespace("Controls/Abstract",u,t)});

define("UWA/Controls/Pager",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(g,l,e){"use strict";var t=e.extend({offset:0,limit:0,max:0,length:0,loadingData:!1,defaultOptions:{className:"uwa-pager nv-pager",type:0,showPageLinks:!1,showMoreLink:!1,pageLinks:5,length:0,offset:0,limit:10,max:0,loadNext:null,prevLabel:"prev",nextLabel:"next",moreLabel:"more"},init:function(e){this._parent(e),e=this.options,this.offset=parseInt(e.offset,10),this.limit=parseInt(e.limit,10),this.max=parseInt(e.max,10),this.length=parseInt(e.length,10),this.buildSkeleton()},setOptions:function(e){return this._parent(e),(e=this.options).dataLength?e.length=e.dataLength:e.dataArray&&(e.length=e.dataArray.length),e.onChange&&this.addEvent("onOffsetChange",e.onChange),e.onMoreClick&&this.addEvent("onMoreClick",e.onMoreClick),(e.showPageLinks||e.pageLinks&&!e.type)&&(this.type=1),this},setLength:function(e){this.length=parseInt(e,10),this.setOffset(this.offset)},setOffset:function(e){var t=this,n=t.offset;return e=e<0?0:e,t.offset=Math.min(parseInt(e,10),t.max||t.length),n!==t.offset&&t.dispatchEvent("onOffsetChange",[t.offset]),t},setLimit:function(e){return this.limit=parseInt(e,10),this},getPageOffset:function(e){return Math.ceil((parseInt(e,10)||this.offset)/this.limit)},getPages:function(){return Math.ceil((this.max||this.length||1)/this.limit)},isLastPage:function(){var e=this,t=!e.max||e.length>=e.max,n=e.offset+e.limit>=e.length;return t&&n},buildSkeleton:function(){this.elements.container=g.createElement("div",{class:this.options.className}),this.dispatchEvent("onRefresh")},buildPageInfos:function(){var e=this.elements;e.pageInfos=g.createElement("span",{class:"pageInfos",html:g.createElement("span",{text:this.getPageOffset()+1+" / "+this.getPages()})}).inject(e.subContainer)},buildPageLinks:function(){var e,t,n=this.elements,i=this.options,s=this.injectPageLink.bind(this),a=this.injectPageSeparator.bind(this),o=i.pageLinks,l=this.getPages(),r=this.getPageOffset(),h=0,c=Math.round(o/2),f=c<=r&&o<=l?r-c+1:0;if(n.pageContainer=g.createElement("span",{class:"pageLinks"}),f<l)for(e=f;e<l&&h<o;e++)1<=f&&0===h&&(s(h),1<e&&a()),t=s(e),e===r&&t.addClassName("selected"),e<l-1&&h===o-1&&(e<l-2&&a(),s(l-1)),h++;n.pageContainer.inject(n.subContainer)},injectPageLink:function(e){var t=parseInt(e+1,10);return g.createElement("a",{class:"pageLink",href:"#page_"+t,text:t,events:{click:this.dispatchAsEventListener("onPageClick",e)}}).inject(this.elements.pageContainer)},injectPageSeparator:function(){return g.createElement("span",{class:"comas",text:" ... "}).inject(this.elements.pageContainer)},onRefresh:function(){var e=this.elements,t=this.options,n=this.isLastPage();e.container.empty(),e.subContainer=g.createElement("div"),e.prev=g.createElement("a",{class:"prev"+(0===this.offset?" disabled":""),href:"#prev",html:g.createElement("span",{text:g.i18n(t.prevLabel)}),events:{click:this.dispatchAsEventListener("onPrevClick")}}).inject(e.subContainer),n&&(t.showMoreLink||t.moreLink)?e.next=g.createElement("a",{class:"more",href:t.moreLink||"#more",html:g.createElement("span",{text:g.i18n(t.moreLabel)}),events:{click:this.dispatchAsEventListener("onMoreClick")}}).inject(e.subContainer):e.next=g.createElement("a",{class:"next"+(n?" disabled":""),href:"#next",html:g.createElement("span",{text:g.i18n(t.nextLabel)}),events:{click:this.dispatchAsEventListener("onNextClick")}}).inject(e.subContainer),1===t.type?this.buildPageLinks():2===t.type&&this.buildPageInfos(),e.subContainer.inject(e.container)},onOffsetChange:function(e){this.offset=e,this.dispatchEvent("onRefresh"),this.dispatchEvent("onChange",[e])},onPageClick:function(e,t){g.Event.preventDefault(e),this.loadingData||this.setOffset(this.limit*t)},onPrevClick:function(e){l.preventDefault(e);var t=l.findElement(e,"a");this.loadingData||t.hasClassName("disabled")||this.setOffset(this.offset-this.limit)},onNextClick:function(e){l.preventDefault(e);var n=this,t=n.options.loadNext,i=l.findElement(e,"a"),s=n.offset+n.limit,a=s+n.limit<=n.length;function o(){n.setOffset(s)}n.loadingData||n.isLastPage()||i.hasClassName("disabled")||(!t&&n.onNeedMoreData&&(t=function(e,t){n.onNeedMoreData(e),setTimeout(t.bind(null,null),6e4)}),!a&&t?(n.dispatchEvent("onLoadingStart"),t(n.length,function(e){e&&(n.length=e),o(),n.dispatchEvent("onLoadingEnd")})):o())},onMoreClick:function(){},onLoadingStart:function(){this.loadingData=!0,this.elements.subContainer.addClassName("loading")},onLoadingEnd:function(){this.loadingData=!1,this.elements.subContainer.removeClassName("loading")}});return g.namespace("Controls/Pager",t,g)});

define("UWA/Controls/Img",["UWA/Core","UWA/Controls/Abstract"],function(i,e){"use strict";var t=e.extend({defaultOptions:{className:"uwa-img",url:null,height:null,width:null},init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var e=this.options,t=this.elements;t.container=i.createElement("div",{class:e.className,styles:{width:e.width+"px",height:e.height+"px"}}),(t.image=i.createElement("img",{src:e.url,width:"100%",height:"100%",events:{error:this.dispatchAsEventListener("onError"),load:this.dispatchAsEventListener("onLoad"),resize:this.dispatchAsEventListener("onResize")}})).inject(t.container)}});return i.namespace("Controls/Img",t,i)});

define("UWA/Utils/Scroll",["vendors/webcomponents/WeakMap","UWA/Core","UWA/Element","UWA/Fx","UWA/Event"],function(e,n,u,t,c){"use strict";function r(e){return"body"===u.getTagName.call(e)}function s(e,t){for(;e&&1===e.nodeType&&(o=e,l=t,void 0,n=u.getStyle.call(o,l?"overflow-"+l:"overflow"),!r(o)&&"scroll"!==n&&"auto"!==n);)e=e.parentNode;var o,l,n;return e}function o(e,t){return s(e&&e.parentNode,t)}function g(e){r(e)&&(e=u.getWindow.call(e));var t=u.getScrolls.call(e);return n.owns(t,"x")&&(t.left=t.x,t.top=t.y),t}function h(e,t){r(e)&&(e=u.getWindow.call(e));var o=g(e);n.is(t.left)||(t.left=o.left),n.is(t.top)||(t.top=o.top),n.is(e,"window")?e.scrollTo(t.left,t.top):(e.scrollTop=t.top,e.scrollLeft=t.left)}var i=t.extend({setSteps:function(e){var t,o={},l={},n=g(this.element);for(t in e)Array.isArray(e[t])?(o[t]=e[t][0],l[t]=e[t][1]):(o[t]=n[t],l[t]=e[t]);this.from=o,this.to=l},onAnimate:function(e,t,o){var l,n={};for(l in t)n[l]=this.compute(t[l],o[l]);h(e,n)}}),a=new e;function l(e,t,o){o=n.extend({onComplete:null},o);var l=a.get(e);l&&(l.stop(),l.dispatchEvent("onComplete")),l=new i(e,{transition:"sineOut",duration:l?100:200,events:{onComplete:function(){a.delete(e),o.onComplete&&o.onComplete()}}}),a.set(e,l),l.start(t)}return n.namespace("Utils/Scroll",{scrollToElement:function(e,i){var a=(i=n.extend({top:!1,bottom:!1,margin:0,scrollable:null,smooth:!1,onComplete:null},i)).scrollable||o(e);if(a){var c=r(a),s=c?u.getSize.call(u.getWindow.call(e)):{width:a.clientWidth,height:a.clientHeight},f=u.getSize.call(e),t=u.getOffsets.call(e),p={top:t.y,left:t.x,bottom:0,right:0},m=g(a);[0,1].forEach(function(e){var t=e?"top":"left",o=e?"bottom":"right",l=e?"height":"width";p[t]-=c?m[t]:u.getOffsets.call(a)[e?"y":"x"],p[t]-=i.margin,p[o]=s[l]-p[t]-f[l]-2*i.margin;var n=p[t]<0||p[o]<0&&p[o]<-p[t],r=p[o]<0;i[o]||!n&&!i[t]?(i[o]||r)&&(m[t]-=p[o]):m[t]+=p[t]}),i.smooth?l(a,m,{onComplete:i.onComplete}):(h(a,m),i.onComplete&&i.onComplete())}},smoothScroll:l,preventParentScroll:function(e,t){var o=function(e,t){var o=s(c.getElement(t)),l=!1;if(this.isInjected(o))l=!0;else{var n=o.scrollHeight,r=o.clientHeight,i=o.scrollTop,a=c.wheelDelta(t);(r!==n||e&&!1===e.onlyScrollable)&&(a<0&&!(i+r<n)||0<a&&!(0<i))&&(l=!0)}l&&c.stop(t)}.bind(e,t);return u.addEvent.call(e,"mousewheel",o),function(){u.removeEvent.call(e,"mousewheel",o)}},getClosestScrollable:s,getParentScrollable:o},n)});

define("UWA/Controls/DropDown",["UWA/Core","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Utils/Client","UWA/Utils/Scroll"],function(n,s,i,l,t,e){"use strict";var o,a=t.Features.eventCapture;function r(t){return n.is(t,"function")?t():t}return(o=l.extend({name:"uwa-dropdown",defaultOptions:{position:{},positionOptions:{boundary:"auto"},global:!1},init:function(t){this._parent(t),this.clickOutsideEvent=function(t){var e=t&&s.getElement(t),n=this.elements.container,i=e.isInjected(n),o=l._getClosestControlsFromElement(e).some(function(t){return t.getContent().isInjected(n)});i||o||this.dispatchEvent("onClickOutside",[t])}.bind(this)},destroy:function(){this.hide(),this._parent()},getContent:function(){var t=this.elements;return t.container||(t.container=n.createElement("div",{class:this.getClassNames()+(this.options.global?" global":""),events:{click:this.dispatchEvent.bind(this,"onClick"),mouseleave:this.dispatchEvent.bind(this,"onMouseLeave")}}),this.options.global?(t.bacon=n.createElement("div",{class:this.getClassNames("-bacon")}).hide(),this._scrollPrevention=function(t){var e=s.getElement(t),n=this.getInnerElement();n===e||e.isInjected(n)||s.preventDefault(t)}.bind(this),e.preventParentScroll(t.container,{onlyScrollable:!1})):t.container.hide(),l._linkElementToControl(this,t.container),a||(t.capture=n.createElement("div",{styles:{width:"100%",height:"100%",position:"absolute",zIndex:1e3,top:0,left:0},events:{click:this.clickOutsideEvent}}))),t.bacon||t.container},onClick:function(t){s.stopPropagation(t),this.hide()},onPostInject:function(){this.updatePosition()},onShow:function(){this.options.global&&(this.elements.container.inject(document.body),i.addEvent.call(document.body,"mousewheel",this._scrollPrevention,null,!0)),this.updatePosition(),this.hasEvent("onClickOutside")&&(a?i.addEvent.call(document,"click",this.clickOutsideEvent,null,0,!0):this.elements.capture.inject(document.body))},onHide:function(){this.options.global&&(this.elements.container.remove(),i.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)),a?i.removeEvent.call(document,"click",this.clickOutsideEvent,!0):this.elements.capture.remove()},onRemoved:function(){var t=this.elements,e=t.bacon||t.container;e&&e.hide(),this.options.global&&t.container&&t.container.remove(),this._scrollPrevention&&i.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)},isOpen:function(){return!!this.elements.container&&"none"!==this.getContent().getStyle("display")},toggle:function(t){return n.is(t)||(t=!this.isOpen()),this[t?"show":"hide"](),this},setPosition:function(t,e){return n.extend(this.options,{position:t,positionOptions:e||{}},!0),this.updatePosition()},updatePosition:function(){return this.isOpen()&&(this.dispatchEvent("onPreUpdatePosition"),this.elements.container.setPosition(r(this.options.position),r(this.options.positionOptions))),this},getInnerElement:function(){return this.getContent(),this.elements.container}})).Pointy=o.extend({name:"uwa-pointydropdown",defaultOptions:{autoPosition:["below-center","right-center","left-center","above-center"],margin:12},updatePosition:function(){this.dispatchEvent("onPreUpdatePosition");var o,s,t,e,l=this.options,a=l.margin;return o=l.target?l.target.getDimensions():{width:0,height:0},s=this.elements.container.getDimensions(),t=l.autoPosition.map(function(t){var e=(t=t.split("-"))[0],n=t[1]||"center",i={x:0,y:0};return i.place=e,i.align=n,"below"===e?i.y=o.height+a:"above"===e?i.y=-s.outerHeight-a:"center"===n?i.y=o.height/2-s.outerHeight/2:"end"===n&&(i.y=Math.max(o.height,30)-s.outerHeight),"left"===e?i.x=-s.outerWidth-a:"right"===e?i.x=o.width+a:"center"===n?i.x=o.width/2-s.outerWidth/2:"end"===n&&(i.x=Math.max(o.width,30)-s.outerWidth),l.target||(i.x+=l.position.x||0,i.y+=l.position.y||0,"center"!==n&&("right"!==e&&"left"!==e||(i.y-=15),"above"!==e&&"below"!==e||(i.x-=15))),i}),this.isOpen()&&((e=this.elements.container).setPosition(t,n.merge({relative:l.target},this.options.positionOptions)),t=t[0],this._containerClassName&&e.removeClassName(this._containerClassName),this._containerClassName=t.place+" "+t.align,e.addClassName(this._containerClassName),this.updatePointPosition(t.place)),this},updatePointPosition:function(t){var e=this.options.target,n=this.elements.container,i=n.getSize(),o=n.getOffsets(),s=e?e.getSize():{height:0,width:0},l=e?e.getOffsets():this.options.position,a={bottom:null,left:null,right:null,top:null};l.x-=o.x,l.y-=o.y,"below"===t||"above"===t?(a.left=l.x+s.width/2,(a.left<10||a.left>i.width-10)&&(a.left=i.width/2),"below"===t?a.top=0:a.bottom=0):(a.top=l.y+s.height/2,(a.top<10||a.top>i.height-10)&&(a.top=i.height/2),"right"===t?a.left=0:a.right=0),this.elements.point.setStyles(a).setText({above:"j",below:"k",left:"m",right:"l"}[t]||" ").toggleClassName("side","left"===t||"right"===t)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var t=this.elements,e=this._parent();return t.inner||t.container.setContent(t.inner=n.createElement("div",{class:this.getClassNames("-inner")}),t.point=n.createElement("div",{class:this.getClassNames("-point")})),e}}),n.namespace("Controls/DropDown",o,n)});

define("UWA/Controls/Drag",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Utils","UWA/Utils/Client","UWA/Element","UWA/Event"],function(o,n,t,e,s,i,C,h){"use strict";function a(){}var r,l=i.Features.eventCapture;function c(t){return t.type.startsWith("touch")}function d(t,e){var i,s=t.offsetParent;s&&1===s.nodeType?((i=C.getOffsets.call(s)).y+=parseInt(C.getStyle.call(s,"border-top-width"),10)||0,i.x+=parseInt(C.getStyle.call(s,"border-left-width"),10)||0):i={x:0,y:0},t.setStyles({top:e.y-i.y+"px",left:e.x-i.x+"px"})}function p(t){for(var e,i=C.getComputedSize;t&&"inline"===C.getStyle.call(t,"display");)t=t.getParent();return t?((e=C.getOffsets.call(t)).maxX=e.x+t.offsetWidth-i.call(t,"border-right-width","padding-right"),e.maxY=e.y+t.offsetHeight-i.call(t,"border-bottom-width","padding-bottom"),e.x+=i.call(t,"border-left-width","padding-left"),e.y+=i.call(t,"border-top-width","padding-top")):e={x:0,y:0,maxX:0,maxY:0},e}return(r=t.extend(e,{defaultOptions:{mouseSnap:10,mouseDelay:0,touchSnap:20,touchDelay:300,delegate:"*",document:document},init:function(t){this.setOptions(t),void 0!==this.options.snap&&(o.warn("Controls/Drag snap option","Use the mouseSnap and touchSnap options instead."),this.options.mouseSnap=this.options.touchSnap=this.options.snap),void 0!==this.options.delay&&(o.warn("Controls/Drag delay option","Use the mouseDelay and touchDelay options instead."),this.options.mouseDelay=this.options.touchDelay=this.options.delay);var e=this.onMove.bind(this),i=this.onStop.bind(this),s=this.onStart.bind(this);this.documentEvents={touchmove:e,mousemove:e,touchend:i,mouseup:i,touchcancel:i},this.elementEvents={touchstart:s,mousedown:s},this.attach()},setOptions:function(t){return this._parent(t),t=this.options,this.root=n.extendElement(t.root||document.body),this.element=n.extendElement(t.element||this.root),this.document=t.document,l||(this.clickDiscarder||(this.clickDiscarder=n.createElement("div",{styles:{position:"absolute",height:"1px",width:"1px"}})),this.clickDiscarder.inject(this.root)),this},destroy:function(){this.detach(),l||this.clickDiscarder.destroy()},attach:function(){return C.addEvents.call(this.element,this.elementEvents),this},detach:function(){return this.reset(),C.removeEvents.call(this.element,this.elementEvents),this},start:a,move:l?a:function(t){d(this.clickDiscarder,t)},snap:function(t){l||(d(this.clickDiscarder,t),this.clickDiscarder.show());var e=n.Controls&&n.Controls.Scroller;(e=e&&e.activeScroller)&&e.onScrollStop(this.currentEvent)},stop:a,cancel:a,reset:function(){clearTimeout(this.startTimeout),l?this.snapped&&(this.document.addEventListener("click",h.stopPropagation,!0),setTimeout(function(){this.document.removeEventListener("click",h.stopPropagation,!0)}.bind(this),300)):this.clickDiscarder.hide(),this.snapped=!1,this.startOrigin=this.currentDelta=this.currentEvent=this.target=null,C.removeEvents.call(this.document,this.documentEvents)},onStart:function(t){var e=h.getElement(t);if((t.which||t.button||0)<2&&!this.target&&C.match.call(e,this.options.delegate,this.root)&&(this.currentEvent=t,this.target=e,this.startOrigin=h.getPosition(t),this.start(this.startOrigin),this.target)){C.addEvents.call(this.document,this.documentEvents);var i=c(t)?this.options.touchDelay:this.options.mouseDelay;i&&(this.startTimeout=setTimeout(this.onMove.bind(this,!1),i)),c(t)||h.preventDefault(t)}},onMove:function(t){var e,i;t?(this.currentEvent=t,this.snapped&&h.preventDefault(t)):(t=this.currentEvent,i=!0);var s=h.getPosition(t);if(this.currentDelta=e={x:s.x-this.startOrigin.x,y:s.y-this.startOrigin.y,distance:0},e.distance=Math.sqrt(e.x*e.x+e.y*e.y),!this.snapped){var o=c(t)?this.options.touchSnap:this.options.mouseSnap,n=c(t)?this.options.touchDelay:this.options.mouseDelay;(n?i&&e.distance<=o:!o||e.distance>o)?(this.snapped=!0,this.snap(s,e)):n&&(this.cancel(),this.reset())}this.snapped&&this.move(s,e)},onStop:function(t){this.currentEvent=t,this.snapped?(this.stop(),h.stop(t)):this.cancel(),this.reset()}})).Move=r.extend({init:function(t){this._parent(t),this.refreshCache=this.refreshCache.bind(this)},setOptions:function(t){return t&&!t.root&&(t.root=t.container),this._parent(t)},start:function(t){this._parent(t),this.context=Object.create(this),!1!==this.call("start")&&!0!==this.call("fixed",this.target)||this.reset()},snap:function(t,e){this._parent(t,e);var i,s=this.options;this.handles=this.call("handles")||this.target,s.centerHandles&&d(this.handles,{x:t.x-this.handles.offsetWidth/2-e.x,y:t.y-this.handles.offsetHeight/2-e.y}),this.startPosition=C.getOffsets.call(this.handles),this.options.overlay&&(i=this.document.body||this.document,this.overlay=n.createElement("div",{styles:{position:"absolute",top:0,left:0,width:i.offsetWidth+"px",height:i.offsetHeight+"px"}}).inject(i)),this.refreshCache()},refreshCache:function(){var t=this.options;if(this.zones=t.zones?this.getList(t.zones):[this.root],this.positions=this.zones.map(function(t){var e=p(t);return e.element=t,e}),t.container&&this.handles){var e=p(t.container),i=C.getDimensions.call(this.handles);this.limit={x:[e.x,e.maxX-i.outerWidth],y:[e.y,e.maxY-i.outerHeight]}}else this.limit={x:[-1/0,1/0],y:[-1/0,1/0]}},reset:function(){this._parent(),this.zone=null,this.startPosition=null,this.overlay&&(this.overlay.destroy(),this.overlay=null)},stop:function(){this._parent(),this.zone&&!1!==this.call("drop")||(this.setPosition(this.startOrigin,{x:0,y:0}),this.call("cancel")),this.call("stop")},move:function(t,e){var i,s,o,n;for(this._parent(t,e),this.setPosition(t,e),i=0,s=this.positions.length;i<s;i+=1)(n=this.positions[i]).x<=t.x&&t.x<=n.maxX&&n.y<=t.y&&t.y<=n.maxY&&(o=n.element);this.zone!==o&&(this.zone&&(this.call("leave"),this.placeholder&&(this.placeholder.remove(),this.placeholder=null,this.refreshCache())),(this.zone=o)&&(this.placeholder=this.call("enter"),this.refreshPlaceholderCache())),this.zone&&this.placeholder&&this.placePlaceholder(),this.call("move")},setPosition:function(t,e){var i,s,o,n,h=this.limited={},a={};for(s=0;s<2;s+=1)o=s?"x":"y",i=this.limit[o],a[o]=this.startPosition[o]+e[o],n=0,i[1]<a[o]?(n=i[1]-a[o],h[s?"right":"bottom"]=n):i[0]>a[o]&&(n=i[0]-a[o],h[s?"left":"top"]=n),n&&(t[o]+=n,a[o]+=n,e[o]+=n);d(this.handles,a)},getList:function(t){var e=n.typeOf(t);return"array"===e?t:"function"===e?t.apply(this,Array.prototype.slice.call(arguments,1)):this.root.getElements(t)},call:function(t,e){var i=this.options[t];if(i)return s.attempt(i,0,null,this.context,e)},refreshPlaceholderCache:function(){var t,e,i,s=(this.zone||this.root).childNodes,o=[];for(e=0,i=s.length;e<i;e+=1)1===(t=s[e]).nodeType&&t!==this.handles&&t!==this.placeholder&&(t.offsetHeight||t.offsetWidth)&&this.clickDiscarder!==t&&!0!==this.call("fixed",t)&&(o[o.length]={element:t,position:C.getOffsets.call(t)});this.placeholderCache=o},placePlaceholder:function(){for(var t,e,i,s,o,n,h,a,r,l,c,d,p,u="offsetWidth",f="offsetHeight",m=this.context.handles,v=this.context.placeholder,y=this.context.limited,g=this.zone||this.root,x=this.target,D=this.placeholderCache;x&&x.parentNode!==g;)x=x.parentNode;for(t=C.getOffsets.call(m),r={x:y.left?-1/0:y.right?1/0:t.x+m[u]/2,y:y.top?-1/0:y.bottom?1/0:t.y+m[f]/2},e=0,i=D.length;e<i;e+=1)t=(s=D[e]).position,(d=void 0===p||p>t.x)?c=void 0===p:l=!0,p=t.x+s.element[u],(d||t.x<=r.x)&&(c||t.y<=r.y)&&(o=e);void(n=0)!==o&&(t=(s=D[o]).position,n=(l?t.x+s.element[u]/2>r.x:t.y+s.element[f]/2>r.y)?o:o+1),h=D[n]&&D[n].element,a=D[n-1]&&D[n-1].element,x===m||!x||this.options.allowBesidePlaceholder||a!==x&&h!==x?(h?h!==v&&h.previousSibling!==v:a?a!==v&&a.nextSibling!==v:g.lastChild!==v)&&(h||a?v.inject(h||a,h?"before":"after"):v.inject(g),this.refreshPlaceholderCache(),this.refreshCache()):C.isInjected.call(v)&&(v.remove(),this.refreshPlaceholderCache(),this.refreshCache())}}),n.namespace("Controls/Drag",r,n)});

define("UWA/Controls/ThemedScroller",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Controls/Abstract","UWA/Controls/Drag","UWA/Class/Timed"],function(i,t,e,s,o,n){"use strict";var l=!1;function r(){if(!1!==l)return l;var t=i.createElement("div",{class:"uwa-themed-scroller-content no-native-scrollbars",styles:{width:"100px",height:"100px",position:"absolute",visibility:"hidden",top:"0",left:"0",overflow:"scroll"}});return document.body.appendChild(t),l=t.offsetWidth-t.clientWidth,document.body.removeChild(t),l}function a(t){t.event&&(t=t.event);var e,s=t.changedTouches||t.touches||[t],i={x:0,y:0},o=s.length;for(e=0;e<o;e++)i.x+=s[e].clientX/o,i.y+=s[e].clientY/o;return i}var c={delta:0,coef:1,active:!1,visible:!1,scrollSize:0,scrollPosition:0,offsetSize:0},h=o.extend({defaultOptions:{touchSnap:0,touchDelay:0},init:function(t,e){this._parent(e),this.scroller=t,this.direction=this.element.className.contains("scrollbar-y")?"y":"x"},_getInfos:function(){return this.scroller._infos[this.direction]},_getPosition:function(){var t=this.element.getBoundingClientRect()["y"===this.direction?"top":"left"];return a(this.currentEvent)[this.direction]-t},start:function(t){this._parent(t),this._getInfos().active=!0,this.scroller.update(),this.position=this._getPosition()},move:function(t,e){this._parent(t,e);var s=this._getInfos();s.delta=(this._getPosition()-this.position)*s.coef,s.active=!0,this.scroller.updateVisible()},stop:function(){this._parent(),this.scroller.updateActive(this.currentEvent)}}),d=s.extend(n,{name:"uwa-themed-scroller",options:{element:null,scrollbars:"auto",scrollbarsMargin:4,scrollbarsMinSize:50,shadows:!1},init:function(t){i.is(t)&&i.is(t.element)&&i.extendElement(t.element),this._parent(t),this._elementEvents={mousemove:this.updateActive.bind(this),mouseout:this.updateActive.bind(this)},"auto"===this.options.scrollbars&&(this.options.scrollbars=0===r()?"native":"virtual"),this._buildElements(),this._initElements(),this.initInfos()},initInfos:function(){this._infos={x:Object.create(c),y:Object.create(c)},this.setPeriodical("update",this.update,1e3),this.update()},destroy:function(){if(this.options.element){var t=this.elements.container;t.removeEvents(this._elementEvents).removeClassName(this.getClassNames()).setContent(this.elements.content.childNodes);var e=t.destroy;t.destroy=function(){},this._parent(),t.destroy=e}else this._parent()},onInjected:function(){this.initInfos()},_buildElements:function(){var t=this.options.element||i.createElement("div");this.elements.container=t,this.elements.content=i.createElement("div",{html:t.childNodes}).inject(t)},_initElements:function(){var t=this.elements.container,e=this.elements.content;t.addClassName(this.getClassNames()).addEvents(this._elementEvents);var s="native"===this.options.scrollbars,i=s?"native-scrollbars ":"no-native-scrollbars ";e.addClassName(i+this.getClassNames("-content")).addEvent("scroll",this.updateVisible.bind(this)),s||e.setStyles({right:-r(),bottom:-r()})},getInnerElement:function(){return this.elements.content},getScrollbar:function(t,e){var s=this.elements[t+"Scrollbar"];return!s&&e&&(s=this.elements[t+"Scrollbar"]=i.createElement("div",{class:this.getClassNames("-scrollbar","-scrollbar-"+t)}).inject(this.elements.container),new h(this,{element:s,root:this.elements.container}),s.clientHeight),s},getShadow:function(t,e){var s=this.elements[t+"Shadow"];return!s&&e&&(s=this.elements[t+"Shadow"]=i.createElement("div",{class:this.getClassNames("-shadow","-shadow-"+t)}).inject(this.elements.container)),s},showShadow:function(t,e){var s=this.getShadow(t,e);e?(100<e&&(e=100),s.setStyle("opacity",e/100).addClassName("active")):s&&s.removeClassName("active")},updateActive:function(t){if("virtual"===this.options.scrollbars){if("mouseout"===t.type||"touchend"===t.type)this._infos.x.active=this._infos.y.active=!1;else{var i=this.elements.container.getBoundingClientRect(),o=a(t);["x","y"].forEach(function(t,e){var s=i[e?"right":"bottom"];this._infos[t].active=n(s-12,o[e?"x":"y"],s)&&n(i[e?"top":"left"],o[t],i[e?"bottom":"right"])},this)}this.updateVisible()}function n(t,e,s){return t<e&&e<s}},updateVisible:function(){this._infos.x.visible=this._infos.y.visible=!0,this.setDelayed("scrollbars-visible",function(){this._infos.x.visible=this._infos.y.visible=!1,this.update()},1e3),this.update()},_read:function(t){var e=this._infos[t?"y":"x"],s=this.elements.content,i=r();e.scrollSize=s[t?"scrollHeight":"scrollWidth"],e.scrollPosition=s[t?"scrollTop":"scrollLeft"]+e.delta,e.offsetSize=s[t?"offsetHeight":"offsetWidth"]-i,e.scrollPosition<0?e.scrollPosition=0:e.scrollPosition>e.scrollSize-e.offsetSize&&(e.scrollPosition=e.scrollSize-e.offsetSize)},_write:function(t){var e=t?"y":"x",s=this._infos[e],i=this.options;if(s.delta&&(this.elements.content[t?"scrollTop":"scrollLeft"]=s.scrollPosition,s.delta=0),"virtual"===this.options.scrollbars){var o=s.scrollSize>s.offsetSize+1,n=this.getScrollbar(e,o);if(o&&s.scrollSize){var l=s.offsetSize-2*i.scrollbarsMargin,r=l*(s.offsetSize/s.scrollSize);r<i.scrollbarsMinSize&&(r=i.scrollbarsMinSize),s.coef=(s.scrollSize-s.offsetSize)/(l-r),n.style[t?"top":"left"]=i.scrollbarsMargin+s.scrollPosition/s.coef+"px",n.style[t?"height":"width"]=r+"px",n.toggleClassName("active",s.active).toggleClassName("visible",s.visible)}else n&&n.removeClassName("active").removeClassName("visible")}i.shadows&&s.offsetSize&&(this.showShadow(e+"-start",s.scrollPosition),this.showShadow(e+"-end",s.scrollSize-s.scrollPosition-s.offsetSize))},update:function(){this.setAnimate("update",function(){this._read(!1),this._read(!0),i.equals(this._previousInfos,this._infos)||(this._write(!1),this._write(!0),this._previousInfos=i.clone(this._infos))})}});return i.namespace("Controls/ThemedScroller",d,i)});

define("UWA/Controls/Input",["UWA/Core","UWA/Event","UWA/Element","UWA/Utils","UWA/Utils/Client","UWA/Utils/Scroll","UWA/Controls/Abstract","UWA/Controls/DropDown","UWA/Controls/ThemedScroller","UWA/Class/Timed"],function(l,c,o,a,r,t,e,n,s,i){"use strict";var u,h=e.extend({options:{className:"",element:null,attributes:{},value:"",clickable:!0,mixed:!1},name:"uwa-input",_hiddenInput:!0,init:function(e){if(this.constructor===h)throw new Error("Use a subclass of Input");this._parent(e);var t=e&&e.element,n=t&&t.parentNode,s=t&&t.nextSibling;n&&n.removeChild(t),this.events=null,this.getContent(),l.owns(e,"value")&&this.setValue(e.value),n&&this.inject(s||n,s&&"before")},buildSkeleton:function(){var e=this.elements;this._hiddenInput?(e.input=this.options.element||this.buildInput(),e.content=l.createElement("div",{class:this.getClassNames("-content")}),e.input.addClassName(this.getClassNames("-input")+" hidden-input"),e.container=(this.options.container||l.createElement("div")).addContent(e.input,e.content)):e.content=e.container=e.input=this.options.element||this.options.container||this.buildInput(),e.input.set(this.options.attributes),e.container.addClassName(this.getClassNames()),this.options.clickable||this.elements.container.addClassName("not-clickable"),this.setDisabled(this.isDisabled())},_syncEvents:function(e){var t=this,n=this.elements;function s(e){return t.dispatchEvent.bind(t,e)}t.events||(t.events={container:{mouseenter:s("onMouseEnter"),mouseleave:s("onMouseLeave"),mousedown:function(e){this.addClassName("active"),t.dispatchEvent("onMouseDown",[e])},mouseup:function(){this.removeClassName("active")},click:s("onClick")},input:{change:s("onChange"),keydown:s("onKeyDown"),focus:t.focus.bind(t,!0,!1),blur:t.focus.bind(t,!1,!1)}}),t.isDisabled()?(n.container.removeEvents(t.events.container),n.input.removeEvents(t.events.input)):(t._hiddenInput&&e||n.container.addEvents(t.events.container),n.input.addEvents(t.events.input))},buildInput:function(){return l.createElement("input",{type:"text"})},syncInput:function(){this._hiddenInput&&this.elements.content&&this.elements.content.setText(this.getValue())},focus:function(e,t){return void 0===e&&(e=!0),o.toggleClassName.call(this.elements.container,"focus",e),!1!==t&&this.elements.input[e?"focus":"blur"](),this},isDisabled:function(){return Boolean(this.elements.input.disabled)},setDisabled:function(e){return void 0===e&&(e=!0),this.elements.input.disabled=e,this.elements.container.toggleClassName("disabled",e),this._syncEvents(),this},getValue:function(){var e=this.elements.input,t=e.getTagName();return"input"===t||"textarea"===t?e.value:e.getText()},setValue:function(e){var t=this.elements.input,n=t.getTagName();return"input"===n||"textarea"===n?t.value=e:t.setText(e),this.syncInput(),this},getContent:function(){return this.elements.container||(this.buildSkeleton(),this.syncInput()),this.elements.container},getInputElement:function(){return this.elements.input},_dispatchOnChange:function(){this.isDisabled()?this.syncInput():c.dispatchEvent(this.elements.input,"change")},onMouseEnter:function(){this.elements.container.addClassName("hover")},onMouseLeave:function(){this.elements.container.removeClassName("hover")},onMouseDown:function(e){this._hiddenInput&&!r.Features.touchEvents&&(c.preventDefault(e),this.focus())},onChange:function(e){this.syncInput(),this._bubbleOnChange(e)},_bubbleOnChange:function(e){var t,n=this.elements.input.parentNode;if(!function(){if(void 0===u){u=!1;var e=document.createElement("div"),t=document.createElement("input");t.type="text",e.appendChild(t),e.style.display="none",document.body.appendChild(e),o.addEvent.call(e,"change",function(e){u=!0,c.stop(e)}),c.dispatchEvent(t,"change"),o.remove.call(e),o.removeEvents.call(e)}return u}())for(;n&&1===n.nodeType&&!1!==(e.event||e).returnValue;)(t=n._events&&n._events.change)&&t.handleEvent(e),n=n.parentNode},onKeyDown:function(){this.syncInput()}});return h._ToggleInput=h.extend({options:{mixed:!1},name:"uwa-toggle",init:function(e){e=e||{},this._parent(e),e.mixed&&this.setMixed()},buildSkeleton:function(){this._parent(),this.elements.content.addClassName("uwa-icon")},setMixed:function(e){return this.elements.container[!1!==e?"addClassName":"removeClassName"]("mixed"),this},isChecked:function(){return this.elements.input.checked},focus:function(e){return this._parent(e),this.syncInput(),this},check:function(e){return this.elements.input.checked=!1!==e,this.syncInput(),this}}),h.Radio=h._ToggleInput.extend({name:"uwa-radio",buildInput:function(){return l.createElement("input",{type:"radio"})},onClick:function(e){this._parent(e);var t=this.elements.input;t.checked||(t.checked=!0,this._dispatchOnChange())},syncInput:function(){var n=this.elements.input,e=n.name,s=!1;function t(e){var t=e.parentNode;t&&o.hasClassName.call(t,"uwa-radio")&&o.toggleClassName.call(t,"checked",e.checked),s|=n===e}e&&Array.prototype.forEach.call(document.getElementsByName(e),t),s||t(n)}}),h.Checkbox=h._ToggleInput.extend(i,{name:"uwa-checkbox",buildInput:function(){return l.createElement("input",{type:"checkbox"})},onClick:function(e){this._parent(e),this.hasDelayed("extern-change-prevention")||this.setDelayed("extern-change-prevention",function(){this.elements.input.checked=!this.elements.input.checked,this.syncInput(),this._dispatchOnChange()},1)},onChange:function(e){this._parent(e),this.setDelayed("extern-change-prevention",function(){},1)},syncInput:function(){this.elements.container.toggleClassName("checked",this.elements.input.checked)}}),h.Select=h.extend(i,{name:"uwa-select",options:{options:[]},init:function(e){this._parent(e),l.owns(e,"options")&&this.putOptions(e.options),l.owns(e,"value")&&this.setValue(e.value)},focus:function(e){return this._parent(e),!1===e&&this.elements.dropdown.hide(),this},buildInput:function(){return l.createElement("select")},buildSkeleton:function(){var e,o=this.elements;this._parent();var t=o.container.getDocument().body;o.content.addContent([e=l.createElement("div",{class:this.getClassNames("-split"),html:[{tag:"div",class:this.getClassNames("-text")},{tag:"div",class:this.getClassNames("-button"),html:{tag:"div",class:"uwa-icon uwa-icon-only"}}]})]),o.dropdown=new n({className:this.options.className,global:!0,_root:!1,position:function(){var e=o.dropdown.getInnerElement(),t=o.container.getBoundingClientRect(),n=t.top,s=r.getSize().height-t.top-t.height,i=s<n;return e.toggleClassName("uwa-select-dropdown-top",i),e.getElement("> .uwa-select-split").inject(e,i?"bottom":"top"),e.setStyle("width",t.width),o.scroller.getContent().setStyle("height",Math.min(o.options.offsetHeight,i?n:s)),o.scroller.update(),{x:t.left,y:o.container.getOffsets().y-(i?Math.min(t.top,o.options.offsetHeight):0)}},positionOptions:{fit:"resize-max",relative:t},events:{onShow:function(){o.container&&(o.container.addClassName("dropdown-visible"),this._scrollToSelected())}.bind(this),onHide:function(){o.container&&o.container.removeClassName("dropdown-visible")},onRemoved:function(){o.container&&o.container.removeClassName("dropdown-visible")}}}),o.dropdown.getInnerElement().addClassName("uwa-select-dropdown"),o.dropdown.inject(o.content),o.options=l.createElement("div",{class:this.getClassNames("-options"),events:{mousedown:this._selectionHandler.bind(this)}}),o.scroller=new s({shadows:!1}),o.scroller.getInnerElement().addContent(o.options),o.dropdown.getInnerElement().setContent([e.cloneNode(!0),o.scroller]),this._isSingleLine()&&o.container.addClassName("single-line")},getValue:function(){return this._getSelectedOptions().map(function(e){return e.value})},setValue:function(n){var s=[];return n=a.splat(n),this._getOptions().forEach(function(e,t){-1!==n.indexOf(e.value)&&s.push(t)}),this.setSelection(s)},setSelection:function(n){return this._isMultiple()||(n=n.slice(0,1)),this._getOptions().forEach(function(e,t){e.selected=-1!==n.indexOf(t)}),this._dispatchOnChange(),this},getSelection:function(){var n=[];return this._getOptions().forEach(function(e,t){e.selected&&n.push(t)}),n},_isMultiple:function(){return this.elements.input.multiple},_isSingleLine:function(){return this.options.singleLine},_getOptions:function(){return this.elements.input.getElements("option")},_getSelectedOptions:function(){return this._getOptions().filter(function(e){return e.selected})},_dispatchOnChange:function(){this.clearDelayed("on-change-debounce"),this._parent()},_selectionHandler:function(e){c.stop(e),this._isMultiple()||(this.elements.dropdown.hide(),this.elements.container.removeClassName("hover"));var t,n,s=c.findElement(e,".option,.optgroup"),i=0,o=[],l=s.hasClassName("option"),a=!1;s.getParent().getChildren().some(function(e){if(l){if(s===e)return o.push(i),!0}else if(a){if(!e.hasClassName("option"))return!0;o.push(i)}else s===e&&(a=!0);e.hasClassName("option")&&(i+=1)}),this._isMultiple()&&(t=this.getSelection(),l?-1===(n=t.indexOf(o[0]))?t.push(o[0]):t.splice(n,1):o.some(function(e){return t.indexOf(e)<0})?o.forEach(function(e){t.indexOf(e)<0&&t.push(e)}):t=t.filter(function(e){return o.indexOf(e)<0}),o=t),this.setSelection(o)},syncInput:function(){var e=this.elements.input,t=this.elements;!this._getOptions().length||this._getSelectedOptions().length||this._isMultiple()||(this._getOptions()[0].selected=!0);var s,n,i=this._getSelectedOptions().map(o.getText.call,o.getText).join(", ")||" ";t.content.getElement(".uwa-select-text").setText(i),t.dropdown.getInnerElement().getElement(".uwa-select-text").setText(i),t.options.empty(!0).setContent((n=Array.prototype.map.call(e.getElementsByTagName("*"),function(e){var t=o.getTagName.call(e),n=l.createElement("div",{class:t+(e.selected?" selected":""),text:e.label||o.getText.call(e)||" "});return"optgroup"===t?(s&&s.addClassName("selected"),s=n):e.selected||(s=null),n}),s&&s.addClassName("selected"),n))},_scrollToSelected:function(){var e=this.elements.dropdown&&this.elements.dropdown.getInnerElement().getElement(".option.selected");e&&t.scrollToElement(e)},onClick:function(e){this._parent(e),this.elements.dropdown.show()},onKeyDown:function(e){var t=c.whichKey(e),n=!0;"space"===t?this.elements.dropdown.show():"return"===t?this.elements.dropdown.toggle():"esc"===t?this.elements.dropdown.hide():n=!1,n?c.preventDefault(e):(this._parent(e),this.setDelayed("scroll-to-selected",this._scrollToSelected,1))},putOptions:function(e,t){var i=this.elements.input;function s(e,t){var n,s=i.getElementsByTagName("*");for(n=0;n<s.length;n+=1)if(s[n][e]===t)return s[n]}return t&&o.empty.call(i,!0),a.splat(e).forEach(function(e){var t,n=s("value",e.value);void 0!==e.label?(n=n||l.createElement("option"),o.set.call(n,{text:e.label,value:e.value,selected:e.selected}),e.group?(s("label",e.group)||i.appendChild(l.createElement("optgroup",{label:e.group}))).appendChild(n):i.appendChild(n)):n&&(t=n.parentNode,o.remove.call(n),t&&"optgroup"===o.getTagName.call(t)&&0===t.childNodes.length&&o.remove.call(t))}),this.syncInput(),this},removeOptions:function(e){this.putOptions(a.splat(e).map(function(e){return{value:"string"==typeof e?e:e.value}}))}}),h.File=h.extend({name:"uwa-file",buildInput:function(){return l.createElement("input",{type:"file"})},buildSkeleton:function(){this._parent(),this.options.buttonOnly?this.elements.content.addClassName("button-only"):this.elements.text=l.createElement("div",{class:this.getClassNames("-text")}),this.elements.content.addClassName(this.getClassNames("-split")).setContent([this.elements.text,l.createElement("div",{class:this.getClassNames("-button"),text:l.i18n("Browse...")})])},setValue:function(e){if(e)throw new Error("You can't set a value to a file input");var t,n=this.elements.input;n.value="",n.value&&((t=l.extendElement(l.clone(n))).inject(n,"before"),n.destroy(),this.elements.input=t,this._syncEvents(!0)),this.syncInput()},syncInput:function(){this.elements.text&&this.elements.text.setText(this.elements.input.value.replace(/^c:\\fakepath\\/i,"")||" ")}}),h.Text=h.extend(i,{name:"uwa-text",_hiddenInput:!1,options:{multiline:!1},buildInput:function(){return this.options.multiline?l.createElement("textarea"):l.createElement("input",{type:"text"})},buildSkeleton:function(){this._parent(),this.elements.input.addClassName(this.getClassNames("-text"))},onKeyDown:function(e){this._parent(e),this.setDelayed("placeholder-sync",this.syncInput,1)},onHide:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onShow:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onPostInject:function(){this.setDelayed("placeholder-sync",this.syncInput,50)},getInputElement:function(){return this.setDelayed("placeholder-sync",this.syncInput,1),this._parent()},syncInput:function(){var e=this.elements.input;r.Features.inputPlaceholder||(e.parentNode&&!this.getValue()&&e.getAttribute("placeholder")&&e.offsetHeight?this._showPlaceholder():this._hidePlaceholder())},_showPlaceholder:function(){var e,t,n=this.elements,s=n.input,i=s.getDimensions();n.placeholder||(this.setPeriodical("placeholder-sync",this.syncInput,1e3),n.placeholder=l.createElement("div",{class:this.getClassNames("-placeholder"),events:{click:this.focus.bind(this,!0)}})),i.width&&i.height?((t=s.getStyles(["font"])).height=i.innerHeight,t.width=i.innerWidth,"textarea"!==s.getTagName()&&(t.lineHeight=i.innerHeight+"px",t.whiteSpace="nowrap"),(e=s.getPosition()).x+=s.getComputedSize("marginLeft","paddingLeft","borderLeftWidth"),e.y+=s.getComputedSize("marginTop","paddingTop","borderTopWidth"),n.placeholder.set({text:s.getAttribute("placeholder"),styles:t}).setPosition(e),n.placeholder.previousSibling!==s&&n.placeholder.inject(s,"after")):this._hidePlaceholder()},_hidePlaceholder:function(){var e=this.elements.placeholder;e&&e.remove()}}),h.Password=h.Text.extend({options:{multiline:!1,attributes:{type:"password"}}}),h.Button=h.extend({name:"uwa-button",options:{className:"dark-grey"},_hiddenInput:!1,init:function(e){l.owns(e,"className")&&(e.className=e.className.replace(/\bblack\b/,"dark-grey"),/\b(?:iconl|iconr|icon-only)\b/.test(e.className)&&(e.className+=" uwa-icon"),/\b(?:dark-grey)\b/.test(e.className)&&(e.className+=" icon-separated")),this._parent(e),/\b(?:icon-only)\b/.test(this.options.className)&&this.setValue(" ")},buildInput:function(){return l.createElement("button",{type:"button"})}}),l.namespace("Controls/Input",h,l)});

define("UWA/Controls/Form",["UWA/Core","UWA/String","UWA/Utils","UWA/Event","UWA/Json","UWA/Controls/Abstract","UWA/Controls/Input"],function(v,g,b,o,E,e,y){"use strict";var t=e.extend({id:null,defaultOptions:{className:"uwa-form",fields:[],labelPreffix:":",nativeInputs:!1,darkBackground:!1},init:function(e){this._parent(e),this.id=b.random(10),this.buildSkeleton()},buildSkeleton:function(){var e,t,n,a=this,l=a.options,i=a.options.fields,s=a.fields,c=[],r=v.createElement("form",{class:l.className,id:this.id,events:{submit:function(e){o.stop(e),this.dispatchEvent("onSubmit",[e,this.getFormValues()])}.bind(this)}});for(l.nativeInputs||r.addClassName("uwa-form-uikit"),e=0,t=i.length;e<t;e++)"hidden"!==(n=i[e]).type&&(void 0===s[n.type]&&(n.type="text"),n.id="m_"+a.id+"_"+n.name,c.push(s[n.type](n,l,this)));v.createElement("fieldset",{html:c}).inject(r),a.elements.container=r},getFields:function(){var e=this.elements.container,t=b.toArray(e.getElementsByTagName("textarea")),n=b.toArray(e.getElementsByTagName("input")),a=b.toArray(e.getElementsByTagName("select"));return n.concat(a).concat(t)},getField:function(e){var t,n,a,l=this.getFields();for(t=0,n=l.length;t<n;t++)if((a=l[t]).name===e)return a},getFormValues:function(){var e,t,n={},a=this.getFields();for(e=0,t=a.length;e<t;e++){var l=a[e];switch(l.type){case"button":case"submit":break;case"password":""!==l.value&&(n[l.name]=l.value);break;case"checkbox":n[l.name]=Boolean(l.checked),"string"==typeof l.value&&(n[l.name]=String(n[l.name]));break;case"radio":l.checked&&(n[l.name]=l.value);break;default:"select"===l.getTagName()&&l.multiple?n[l.name]=l.getElements("option").filter(function(e){return e.selected}).map(function(e){return e.value}):n[l.name]=l.value}}return n},getFormValue:function(e){return this.getFormValues()[e]},setFormValues:function(e){var t,n,a,l,i=this.getFields();for(t=0,n=i.length;t<n;t++)if(a=i[t],e.hasOwnProperty(a.name))switch(l=e[a.name],a.type){case"password":case"button":case"submit":break;case"checkbox":a.checked=Boolean(l);break;case"radio":a.checked&&String(a.value)===l&&(a.checked=Boolean(l));break;default:a.value=l}},setFormValue:function(e,t){var n={};n[e]=t,this.setFormValues(n)},fields:{text:function(e,t,n){var a=v.createElement("input",{type:"text",id:e.id,class:e.type+" small",name:e.name,value:e.value||"",autocomplete:"off",autocorrect:"off",autocapitalize:"off"});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},{tag:"span",content:t.nativeInputs?a:new y.Text({_root:!1,element:a,className:"small"})}]})},password:function(e,t,n){var a=v.createElement("input",{type:"password",id:e.id,class:e.type,name:e.name,value:e.value||""});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},{tag:"span",content:t.nativeInputs?a:new y.Text({_root:!1,element:a,className:"small"})}]})},submit:function(e,t){var n=v.createElement("input",{id:e.id,class:e.type,type:"submit",name:e.name,value:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},button:function(e,t){var n=v.createElement("button",{id:e.id,class:e.type,name:e.name,text:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},reset:function(e,t){var n=v.createElement("button",{id:e.id,type:"reset",class:e.type,name:e.name,value:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},boolean:function(t,e,n){var a,l=t.id,i=v.createElement("div",{class:"field field"+g.ucfirst(t.type)}),s="string"!=typeof t.value||"true",c=t.value&&(!0===t.value||"true"===t.value);return v.createElement("label",{for:l,text:v.i18n(t.label||t.name)}).inject(i),a=v.createElement("input",{id:l,value:s,type:"checkbox",class:t.type+" "+(c?"checked":"unchecked"),name:t.name}),c&&(a.setAttribute("checked","checked"),a.defaultChecked=!0),a.addEvent("change",function(){var e=a.checked;a.addClassName(e?"checked":"unchecked"),a.removeClassName(e?"unchecked":"checked"),t.onchange&&this.dispatchEvent("onChange",[t.onchange,t.name,e?"true":"false"])}.bind(n)),v.createElement("span",{html:e.nativeInputs?a:new y.Checkbox({_root:!1,element:a,className:e.darkBackground?"green":""})}).inject(i),i},textarea:function(e,t,n){var a=v.createElement("textarea",{id:e.id,class:e.type+" small",name:e.name,text:e.value||""});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},t.nativeInputs?a:new y.Text({_root:!1,element:a})]})},range:function(e,t,n){var a,l,i,s,c=e.id,r=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:c,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(r),i=v.createElement("span").inject(r),s=v.createElement("select",{id:"m_"+n.id+"_"+e.name,class:"range",name:e.name}).inject(i),e.step=parseInt(e.step,10),e.max=parseInt(e.max,10),e.min=parseInt(e.min,10),0<e.step)for(a=e.min;a<=e.max;a+=e.step)l=v.createElement("option",{value:a,text:String(a)}),e.value&&parseInt(e.value,10)===a&&(l.setAttribute("selected","selected"),l.selected=!0),s.appendChild(l);return e.onchange&&s.addEvent("change",function(){this.dispatchEvent("onChange",[e.onchange,e.name,s.value])}.bind(n)),t.nativeInputs||new y.Select({_root:!1,element:s,className:"small"}),r},list:function(e,t,n){var a,l,i,s,c,r,o="m_"+n.id+"_"+e.name,u=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:o,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(u),c=v.createElement("span").inject(u),r=v.createElement("select",{id:"m_"+n.id+"_"+e.name,class:"list",name:e.name,multiple:Boolean(e.multiple)}).inject(c),v.is(e.options,"array")&&0<e.options.length){var m=b.splat(e.value).map(function(e){return String(e)});for(a=0,l=e.options.length;a<l;a++)(i=e.options[a]).label=i.label||i.value,s=v.createElement("option",{text:v.i18n(i.label),value:i.value}).inject(r),0<=m.indexOf(String(i.value))&&(s.setAttribute("selected","selected"),s.selected=!0);e.onchange&&r.addEvent("change",function(){this.dispatchEvent("onChange",[e.onchange,e.name,r.value])}.bind(n))}else u.hide();return t.nativeInputs||new y.Select({_root:!1,element:r,className:"small"}),u},checklist:function(e,t,n){var a,l,i,s,c,r=[],o="m_"+n.id+"_"+e.name,u=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:o,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(u),s=v.createElement("span",{class:e.type}).inject(u),c=v.createElement("input",{id:"m_"+n.id+"_"+e.name,name:e.name,type:"hidden",value:v.is(e.value,"array")?E.encode(e.value):e.value}).inject(s),v.is(e.options,"array")&&0<e.options.length){var m=v.is(e.value,"array")?e.value:E.decode(e.value),d=b.splat(m).map(function(e){return String(e)});for(a=0,l=e.options.length;a<l;a++){(i=e.options[a]).label=i.label||i.value;var f=0<=d.indexOf(String(i.value)),h=v.createElement("p").inject(s),p=v.createElement("input",{value:i.value,type:"checkbox",name:i.value,checked:f});r.push(p),p.addEvent("change",function(){var t=[];r.forEach(function(e){e.checked&&t.push(e.value)}),c.value=E.encode(t),e.onchange&&this.dispatchEvent("onChange",[e.onchange,e.name,c.value])}.bind(n)),v.createElement("span",{html:t.nativeInputs?p:new y.Checkbox({_root:!1,className:t.darkBackground?"green":"",element:p})}).inject(h),v.createElement("label",{text:v.i18n(i.label)}).inject(h)}}else u.hide();return u},html:function(e){return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"div",html:e.html}})},img:function(e){var t=v.i18n(e.label||e.name)||"";return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"img",src:e.src,height:e.height||"auto",width:e.width||"100%",alt:t,title:t}})}}});return v.namespace("Controls/Form",t,v)});

define("UWA/Widget",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Utils","UWA/Utils/Client","UWA/Data","UWA/Element"],function(o,r,i,e,t,n,a,s,u,h,l,f){"use strict";function d(e){if(!Array.isArray(e))throw new Error(e+" should be an array");e.forEach(function(e){if("string"!=typeof e)throw new Error(e+" should be a string")})}function c(t,e){if(t){if(t.multiple||"checklist"===t.type)try{e=function(t){if(!t)return[];var e;if(Array.isArray(t))e=t;else try{e=JSON.parse(t)}catch(e){throw new Error("While parsing JSON value `"+t+"`: "+e)}return d(e),e}(e)}catch(e){throw new Error("While decoding value for preference "+t.name+": "+e)}"boolean"===t.type&&"boolean"!=typeof e&&void 0!==e&&(e="false"!==e&&Boolean(e))}return e}var m,p,g=e.extend(t,n,a,s,{init:function(){var e=this,t=h.Locale;e.id=null,e.environment=null,e.launched=!1,e.title=null,e.icon=null,e.counter=0,e.counterType=null,e.metas={},e.preferences=[],e.defaultData=Object.create(null),e.data={},e.plugins=[],e.events={},e.menus=[],e.elements={},e.body=null,e.lang=t.lang,e.locale=t.locale,e.dir=t.dir,e.readOnly=!1,e.isEdit=!1},launch:function(e,t){var n=this;return n.launched=!1,void 0!==t&&(n.readOnly=Boolean(t)),n.initPreferences(),n.initPlugins(),n.setValues(e),n.dispatchEvent("onInitConfig",{metas:n.metas,plugins:n.plugins,preferences:n.getPreferences()}),n.dispatchEvent("beforeLoad"),n.addEventOnce("onLoad",function(){n.launched=!0},n,1),n.dispatchEvent("onLoad"),n.launched&&n.dispatchEvent("afterLoad"),n.launched},destroy:function(){var e,t=this,n=t.elements;for(e in t.clearDelayed(),t.clearPeriodical(),n)n.hasOwnProperty(e)&&n[e].destroy();t.removeEvent(),t.launched=!1},setOptions:function(e){var t,n,i=this;for(t in e)n="set"+r.capitalize(t),o.is(i[n],"function")&&i[n](e[t]);return i._parent(e)},setAutoRefresh:function(e){var t=this;(e=parseInt(e,10))&&0<e?t.setPeriodical("autoRefresh",t.dispatchEvent.bind(t,"onRefresh"),1e3*e*60):t.clearPeriodical("autoRefresh"),t.metas.autoRefresh=e},setCounter:function(e,t){var n=this;(n.counter!==e||o.is(t)&&n.counterType!==t)&&(n.counter=e,n.counterType=t,n.dispatchEvent("onUpdateCounter",[e,t]))},getTitle:function(){return o.is(this.title,"string")?r.stripTags(this.title):""},setTitle:function(e,t){var n=this;return(o.is(e,"string")||t&&n._titleUrl!==t)&&(n.title=e,n._titleUrl=t,n.dispatchEvent("onUpdateTitle",[e,t])),n.title},setIcon:function(e,t){var n=this;return e&&o.is(e,"string")&&(t&&(e=l.proxifyUrl(e,{proxy:"icon"})),n.icon!==e&&(n.icon=e,n.dispatchEvent("onUpdateIcon",[e]))),n.icon},setMenu:function(e){var t,n,i=this.environment,r=e.name.split("/"),a=r[0];if(2<r.length)throw new Error("Adding more than one submenu level is not supported by setMenu");(n=this.getMenu(e.name))?o.extend(n,e):(1<r.length?((t=this.getMenu(a))||(t={label:a},this.menus.push(t)),t.items||(t.items=[]),t.items):this.menus).push(e),this.setDelayed("onUpdateMenu",function(){i.dispatchEvent("onUpdateMenu",[this.menus])},20)},getMenu:function(t){var e,n;return o.is(t,"string")&&(n=t.split("/"),(e=i.detect(this.menus,function(e){return e.name===n[0]}))&&1<n.length&&(e=e.items&&i.detect(e.items,function(e){return e.name===t}))),e},removeMenu:function(t){var e,n,i,r;for(r=function(e){return e.name!==t},e=0,n=this.menus.length;e<n;e++){if((i=this.menus[e]).name===t){this.menus.remove(i);break}i.items&&(i.items=i.items.filter(r))}},setDir:function(e){var t=this.dir,n=this.elements.wrapper;return e="rtl"===e?"rtl":"ltr",n&&t!==e&&(n.setAttribute("dir",e),n.addClassName(e),n.removeClassName(t)),this.dir=e},setMetas:function(e){var t=this;return o.extend(t.metas,e),o.is(e.debugMode)&&(t.setDebugMode(e.debugMode),t.environment&&t.environment.setDebugMode(e.debugMode)),o.is(e.autoRefresh)&&t.setAutoRefresh(e.autoRefresh),t.metas},setBody:function(e){if(!this.body)throw new Error("Widget.body is not yet available");this.body.setContent(e)},addBody:function(e){this.body.addContent(e)},getElements:function(e){return this.body.getElements(e)},getElement:function(e){return this.body.getElement(e)},createElement:function(e,t){return o.createElement(e,t)},setStyle:function(e){var t=this,n=t.id?"#m_"+t.id:".moduleWrapper";t.id&&t.elements.wrapper.setAttribute("id","m_"+t.id),u.setCss(!1,e,n,t.getUrl())},mutate:function(e,t){var n=this.environment;if(!e)throw new Error("Missing or empty first param on widget.mutate");if(!n||!n.mutate)throw new Error("Current Environment do not support widget.mutate");n.mutate(e,t)},getUrl:function(){var e=window.location.href;return this.uwaUrl?this.uwaUrl:u.getQueryString(e,"uwaUrl",e)},addStar:function(e){var t=this.environment;t&&t.addStar&&t.addStar(e)},getViewportDimensions:function(){var t,e,n=this.elements,i=n.body,r=f.getDimensions,a=f.isInjected,s=f.getComputedSize,o=h.getSize(),u=r.call(n.wrapper),l=r.call(i),d=o.height,c=u.width;for(["header","footer"].forEach(function(e){(t=n[e])&&a.call(t)&&(d-=r.call(t).outerHeight)}),t=i,e=n.wrapper.parentNode;t!==n.wrapper?c-=s.call(t,"innerWidth","outerWidth"):c-=s.call(t,"innerWidth"),d-=s.call(t,"innerHeight","outerHeight"),(t=t.parentNode)&&t!==e;);return 0<l.maxHeight&&d>l.maxHeight?d=l.maxHeight:0<l.minHeight&&d<l.minHeight&&(d=l.minHeight),{height:d<0?240+d:d,width:c<0?320+c:c}},setPlugins:function(e){this.plugins=e},initPlugins:function(){var e,t,n,i=o.clone(this.plugins);for(e=0,t=i.length;e<t;e++)n=i[e],o.Plugins[n.name]&&(n.instance=new o.Plugins[n.name](this,n.options))},initPreferences:function(){this.setPreferences(this.preferences)},hasPreferences:function(){var e=this.preferences;return!this.readOnly&&0<e.length&&e.some(function(e){return"hidden"!==e.type})},_getRawPreference:function(t){return i.detect(this.preferences,function(e){return e.name===t})},getPreference:function(e){var t=this._getRawPreference(e);return t&&((t=o.clone(t)).value=this.getValue(e)),t},hasPreference:function(t){return this.preferences.some(function(e){return e.name===t})},addPreference:(p=["hidden","text","list","checklist","range","password","boolean"],function(n){var e,i=-1,t=this,r=t.preferences;!function(e){return e.name&&e.type&&-1!==p.indexOf(e.type)}(n)||(e=void 0!==(n=o.clone(n)).defaultValue,n.multiple&&"boolean"!=typeof n.multiple&&(n.multiple="true"===n.multiple),e&&(n.defaultValue=c(n,n.defaultValue)),r.forEach(function(e,t){n.name===e.name&&(i=t)}),n.label||(n.label=n.name),-1!==i?r[i]=n:r.push(n),t.defaultData[n.name]=n.defaultValue,t.launched&&t.dispatchEvent("onUpdatePreferences",[t.getPreferences()]))}),setPreferences:function(e){var t,n,i=this;for(i.preferences=[],i.defaultData={},i.launched&&0===e.length&&i.dispatchEvent("onUpdatePreferences",[i.getPreferences()]),t=0,n=e.length;t<n;t++)i.addPreference(e[t])},mergePreferences:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.hasPreference(e[t].name)||this.addPreference(e[t])},getPreferences:function(){var e,t,n,i,r,a,s=o.clone(this.preferences);for(e=0,t=s.length;e<t;e++)if((r=s[e]).value=this.getValue(r.name),r.label=o.i18n(r.label),o.is(r.options,"array"))for(n=0,i=r.options.length;n<i;n++)(a=r.options[n]).label=o.i18n(a.label);return s},getValue:function(e){var t=this,n=t.environment,i=t.data[e];return!o.is(i)&&n&&n.getData&&(i=c(t._getRawPreference(e),n.getData(e))),o.is(i)||(i=t.defaultData[e]),o.is(i)?t.data[e]=i:(i=void 0,delete t.data[e]),i},getInt:function(e){var t=this.getValue(e);return t="true"===t||!0===t?1:parseInt(t,10),isNaN(t)?0:t},getBool:(m=[1,"1","true",!0],function(e){return-1!==m.indexOf(this.getValue(e))}),setValue:function(e,t){var n=this,i=n.environment,r=n._getRawPreference(e),a=!0;return t=c(r,t),o.equals(n.data[e],t)||(o.is(t)?(t=o.clone(t),n.data[e]=t,i&&i.setData&&i.setData(e,function(e,t){return e&&(!e.multiple&&"checklist"!==e.type||(d(t),t=JSON.stringify(t))),t}(r,t),!!r&&o.equals(r.defaultValue,t))):(n.data.hasOwnProperty(e)?delete n.data[e]:a=!1,i&&i.deleteData?i.deleteData(e):i&&i.setData&&i.setData(e,void 0)),a&&n.dispatchEvent("onUpdateValue",[e,t])),t},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},deleteValue:function(e){return this.setValue(e)},toggleEdit:function(){this.dispatchEvent(this.isEdit?"endEdit":"onEdit")},dispatchEvent:function(e,t,n,i){var r=this.environment,a=!i&&r||"onLoad"===e||this.launched;return!i&&r?r.dispatchEvent(e,t,n):a&&this._parent(e,t,n),this},addEvent:function(e,t,n,i){var r=this,a="onLoad"===e&&r.launched;return r._parent(e,t,n,i),a&&(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})),r},addEventOnce:function(e,t,n,i){var r=this;return"onLoad"===e&&r.launched?(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})):r._parent(e,t,n,i),r},requestView:function(e){return o.is(e,"string")&&(e={type:e}),this.dispatchEvent("onViewRequest",[e]),this},getView:function(){return this._view||{type:"windowed"}},getAvailableViews:function(){var e=this.metas.availableViews||"";return i.invoke(e.split(";"),"trim").filter(function(e){return e}).map(function(e){var t,n=e.match(/\S*/)[0],i=e.slice(n.length).trim();if(i)try{t=JSON.parse(i)}catch(e){this.log("Failed to parse availableViews options")}return(t=t||{}).type=n,t},this)},onEdit:function(){this.isEdit=!0},endEdit:function(){this.isEdit=!1}});return o.namespace("Widget",g,o)});

define("UWA/Controls/WidgetPopupMenu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/DropDown"],function(i,o,s,a,t){"use strict";var e=t.extend({name:"uwa-widget-popup-menu",init:function(t){this._parent(),this.env=t,this.items=null},setTarget:function(t){return this.target=t,this},onClick:function(t){this._parent(t);var e=s.findElement(t,"li"),n=this.env.widget.getMenu(e.getAttribute("data-name"));n&&this.env.dispatchEvent("onMenuExecute",[n])},onClickOutside:function(t){s.getElement(t)!==this.target&&this.hide()},setPosition:function(){var t,e=this.env.html.moduleFrame||this.env.html.wrapper,n=o.getOffsets.call(e),i=o.getSize.call(e),s=o.getOffsets.call(this.target),a=o.getSize.call(this.target);return{x:s.x,y:s.y+a.height},t={boundary:{x:0,y:s.y+a.height,width:n.x+i.width,height:1/0}},this._parent(s,t)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var t=this.elements;return t.inner||this._parent().setContent(t.inner=i.createElement("menu",{type:"popup"})),t.container},setItems:function(t){return this.items=t,this},toggle:function(){this.getInnerElement().empty(),this.items.forEach(this.addItem,this),this.setPosition(),this._parent()},onShow:function(){this.target.addClassName("active"),this._parent()},onHide:function(){this.target.removeClassName("active"),this._parent()},addItem:function(t){var e,n;if(!1!==(i.is(t.visible,"function")?t.visible():!1!==t.visible))return e=i.createElement("li",{class:this.getClassNames("-item"),"data-name":t.name}),t.icon&&(n=i.createElement("span",{class:"uwa-icon uwa-icon-only"}),1===this._getUtf8StringLength(t.icon)?(n.set("data-icon",t.icon),n.addClassName("uwa-icon-unicode")):a.isAbsoluteUrl(t.icon)?n.adopt(i.createElement("img",{src:t.icon,width:16,height:16})):n.addClassName(t.icon),n.inject(e)),t.label&&i.createElement("span",{text:t.label}).inject(e),(i.is(t.disabled,"function")?t.disabled():!!t.disabled)&&e.addClassName("disabled"),e.inject(this.getInnerElement())},_getUtf8StringLength:function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)}});return i.namespace("Controls/WidgetPopupMenu",e,i)});

define("UWA/Utils/InterCom",["UWA/Core","UWA/String","UWA/Utils","UWA/Class","UWA/Dispatcher","UWA/Class/Events","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Debug","UWA/Json"],function(e,t,d,n,r,s,i,o,a,v){"use strict";function u(e,t){var n,r,s,i;for(n=0,r=e.length;n<r;n++)for(s=0,i=t.length;s<i;s++)if(t[s]===e[n])return!0;return!1}function c(e){return Boolean(e.UWA&&e.UWA.Utils&&e.UWA.Utils.InterCom)&&!e.UWA.Utils.InterCom._listener&&(e.UWA.Utils.InterCom._listener=new s),e.UWA.Utils.InterCom._listener}var l,g,h,p,f,E,k,m,b="subscribe",S="unSubscribe",A=e.getGlobal();function U(){f&&E.body&&0<p.length&&E.body.appendChild(p.shift()),0<p.length&&setTimeout(U,10)}function y(e){var t;try{t="string"==typeof e.data&&"{"===e.data[0]&&JSON.parse(e.data)}catch(e){}t&&t.type===m&&k.dispatch([t.payload,{origin:e.origin,source:e.source}])}return(l={getAdapter:function(e){var t,n,r,s=l.Adapters,i=e?d.splat(e):Object.keys(s);for(t=0,n=i.length;t<n&&!r;t++){if(e=i[t],!s.hasOwnProperty(e))throw new Error('Unable to get InterCom Adapter with name "'+e+'"');if(s[e].isAvailable(r)){r=s[e];break}}if(!r)throw new Error("Unable to get InterCom Adapter");return r}}).Adapters={PostMessage:(m="uwa-intercom",{isAvailable:function(){return A.postMessage&&A.location&&A.location.protocol&&t.contains(A.location.protocol,"http")},removeListener:function(e){k&&(k.remove(e),0===k.getNumListeners()&&(k.dispose(),k=void 0,A.addEventListener?A.removeEventListener("message",y,!1):A.attachEvent&&A.detachEvent("onmessage",y)))},addListener:function(e){k||(k=k||new r,A.addEventListener?A.addEventListener("message",y,!1):A.attachEvent&&A.attachEvent("onmessage",y)),k.add(e)},dispatchEvent:function(e,t,n){var r;if(t=t||((r=A.parent).postMessage?r:r.document.postMessage?r.document:void 0),n=n&&"*"!==n?d.buildUrl(A.location,n):"*",t&&t.postMessage){var s={type:m,payload:e};t.postMessage(JSON.stringify(s),n)}}}),FrameCallback:(h=0,p=[],f=!0,E=A.document,{isAvailable:function(){return g=c(A),Boolean(g)},removeListener:function(e){g.removeEvent("message",e)},addListener:function(e){g.addEvent("message",e)},dispatchEvent:function(e,t,n){!function(e){try{return e===A||e.location.host===A.location.host&&e.location.protocol===A.location.protocol}catch(e){}}(t)?function(e,t,n){var r,s,i=A.location.toString(),o=d.parseUrl(n),a=o.protocol+"://"+o.domain+"/intercom.html",c={info:e,origin:i};r="#"+Date.now()+h+++"&"+v.encode(c),(s=E.createElement("iframe")).setAttribute("src",a+r),s.style.position="absolute",s.style.top="-2000px",s.style.left="0px",s.onload=function(){f=!0,s.parentNode.removeChild(s)},p.push(s),setTimeout(U,10)}(e,0,n):function(e,t){var n=c(t);setTimeout(function(){n.dispatchEvent("message",[e,{origin:A.location.toString(),source:A}])})}(e,t)}})},l.Server=n.extend(i,a,{id:null,uuid:null,sockets:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!0},init:function(e,t){var n=this;n.setServerId(e),n.sockets={},n.listeners=new s,n.setOptions(t),n.options.autoconnect&&n.connect()},setServerId:function(e){var t=this,n=l.Server.Instances=l.Server.Instances||{};return t.uuid=t.uuid||d.getUUID(),n[e=e||t.uuid]&&(n[e].disconnect(),delete n[e]),n[t.id=e]=t},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=l.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var t=this;return t.adapter&&(Object.keys(t.sockets).forEach(function(e){t.unsubscribeSocket(e)}),t.adapter.removeListener(t.handleEvent)),t},handleEvent:function(e,t){var n,r,s,i=this,o=i.id,a=i.sockets,c=Object.keys(a);r=(n=t&&t.source&&t.origin&&e.event&&e.target&&e.origin&&e.target.servers&&Array.isArray(e.target.servers)&&e.target.sockets&&Array.isArray(e.target.sockets))&&a[e.origin.socket]&&a[e.origin.socket].uuid===e.uuid,s=n&&0===e.target.sockets.length&&-1!==e.target.servers.indexOf(o),n?s?(i.log('SERVER: server "'+o+'" accept message for event "'+e.event+'"'),e.event===b?r||i.subscribeSocket(e.origin.socket,t.source,t.origin,e.uuid):r&&(e.event===S?i.unsubscribeSocket(e.origin.socket):i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets))):r&&u(e.target.sockets,c)&&u([e.origin.socket],c)?(i.log('SERVER PREDISPATCH: server "'+o+'" dispatch event "'+e.event+'" from "'+e.origin.socket+'"'),i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets)):i.log('SERVER: server "'+o+'" refuse message for event "'+e.event+'"'):i.log('SERVER: server "'+o+'" refuse invalid message for event "'+e.event+'"')},subscribeSocket:function(e,t,n,r){var s=this,i=s.id;return s.log('SERVER: server "'+i+'" register new socket "'+e+'"'),s.sockets[e]={source:t,origin:n,uuid:r},s.dispatchEvent(b,{},void 0,e),s},unsubscribeSocket:function(e){var t=this,n=t.id;return t.sockets[e]&&(t.log('SERVER: server "'+n+'" unregister socket "'+e+'"'),t.dispatchEvent(S,{},void 0,e),delete t.sockets[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(r,s,i,e){var o=this,a=o.id,c=o.sockets,u=o.adapter,t={event:r,data:s,target:{sockets:e},origin:{socket:i,server:a},uuid:o.uuid};return e&&e.length?e=d.splat(e):-1!==(e=Object.keys(o.sockets)).indexOf(i)&&e.splice(e.indexOf(i),1),u||(o.connect(),u=o.adapter),0===e.length?o.log('SERVER: server "'+a+'" has no target socket for dispatchEvent "'+r+'"'):e.forEach(function(t){var e=c[t],n={event:r,data:s,target:{sockets:[t]},origin:{socket:i,server:a},uuid:o.uuid};o.log('SERVER: server "'+a+'" dispatchEvent "'+n.event+'" to "'+t+'"');try{u.dispatchEvent(n,e.source,e.origin)}catch(e){A.console&&A.console.error('InterCom server "'+a+'": error while dispatching to socket '+t+": "+e+"\nDeleting socket"),delete c[t]}}),o.listeners.dispatchEvent(r,[s,t]),o}}),l.Socket=n.extend(i,a,{id:null,uuid:null,servers:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!1},init:function(e,t){this.setSocketId(e),this.servers={},this.listeners=new s,this.setOptions(t)},setSocketId:function(e){var t=this,n=l.Socket.Instances=l.Socket.Instances||{};return t.uuid=t.uuid||d.getUUID(),n[e=e||t.uuid]&&(n[e].disconnect(),delete n[e]),n[t.id=e]=this,t},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=l.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var t=this;return t.adapter&&(Object.keys(t.servers).forEach(function(e){t.unsubscribeServer(e)}),t.adapter.removeListener(t.handleEvent)),t},handleEvent:function(e,t){var n,r,s,i,o=this,a=o.id,c=o.servers;r=(s=t&&t.source&&t.origin&&e&&e.event&&e.target&&e.origin&&e.origin.server&&c[e.origin.server]&&e.target.sockets&&Array.isArray(e.target.sockets))&&c[e.origin.server]&&c[e.origin.server].uuid===e.uuid,i=s&&0!==e.target.sockets.length&&-1!==e.target.sockets.indexOf(a),s?i?(n=o.servers[e.origin.server],o.log('SOCKET: socket "'+a+'" accept message for event "'+e.event+'"'),e.event===b?(r||(n.waiting=!1,n.uuid=e.uuid,n.queue.length&&(n.queue.forEach(function(e){o.adapter.dispatchEvent(e,n.source,n.origin)}),o.log('SOCKET: socket dispatch "'+n.queue.length+'" events in the queue for serverId "'+e.origin.server+'".'),n.queue=[])),o.listeners.dispatchEvent(e.event,[e.data,e])):r?e.event===S?delete o.servers[e.origin.server]:o.listeners.dispatchEvent(e.event,[e.data,e]):o.log('SOCKET: socket "'+a+'" refuse invalid uuid for event "'+e.event+'"')):o.log('SOCKET: socket "'+a+'" refuse message for event "'+e.event+'"'):o.log('SOCKET: socket "'+a+'" refuse invalid message for event "'+e.event+'"')},subscribeServer:function(e,t,n){return t=t||A.parent,n=n||A.location.toString(),this.servers[e]={waiting:!0,queue:[],source:t,origin:n},this.dispatchEvent(b,void 0,void 0,e),this},unsubscribeServer:function(e){var t=this,n=t.id;return t.servers[e]&&(t.log('SOCKET: socket "'+n+'" unregister server "'+e+'"'),t.dispatchEvent(S,{},void 0,e),delete t.servers[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(r,s,i,e){var o=this,a=o.id,c=o.servers,u=o.adapter;return e=e&&e.length?d.splat(e):Object.keys(o.servers),i=d.splat(i),u||(o.connect(),u=o.adapter),s=v.prune(s),e.forEach(function(e){var t=c[e],n={event:r,data:s,target:{servers:[e],sockets:i},origin:{socket:a},uuid:o.uuid};0===t.queue.length&&!t.waiting||r===b||r===S?(o.log('SOCKET: socket "'+a+'" dispatch event "'+r+'"'),u.dispatchEvent(n,t.source,t.origin)):(o.log('SOCKET: socket "'+a+'" queue event "'+r+'" for serverId "'+e+'"'),t.queue.push(n))}),o}}),e.namespace("Utils/InterCom",l,e)});

define("UWA/Embedded",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Class/Events","UWA/Utils","UWA/Utils/InterCom"],function(a,t,e,i,n,s,o,r){"use strict";function d(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])}function l(e,t){var i,n;for(n in t)t.hasOwnProperty(n)&&(i=t[n],"styles"===n?d(e,i):"html"===n?e.innerHTML=i:"text"===n?(e.innerHTML="",e.appendChild(document.createTextNode(i))):e.setAttribute(n,i))}function h(e,t,i){var n=document.createElement(e);return t&&l(n,t),i&&i.appendChild(n),n}function c(e){var t;if("object"!=typeof e)return!1;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return"boolean"==typeof e?!1===e?"0":"1":o.encodeUrl(e)}var p=e.extend(i,n,s,{url:"",id:null,data:null,version:a.version,elements:null,preferences:null,disableRemote:!0,defaultOptions:{container:null,className:"module",title:null,themeUrl:null,color:"white",height:"auto",width:"100%",maxHeight:!1,bookmarklet:!1,lang:null,id:null,readOnly:!1,data:{},buildHeader:!1,displayHeader:!0,displayFooter:!0,displayScroller:!1,displayEdit:!0,cache:null,useAsyncFrame:!1,useAppCache:!1,offlineMode:!1,autoLaunch:!0,subDomain:!1,subDomainPattern:"{id}.widget.",remoteName:"uwa.embedded",sandbox:!1,exposition:a.hosts.exposition,uwa:a.hosts.uwa},socket:null,init:function(e,t){this.url=e,this.data={},this.elements={},this.preferences=[],this._remoteQueue=[],this.startTime=(new Date).getTime(),this.setOptions(t);var i,n,s,o=typeof(t=this.options).container;if("string"==o?this.container=document.getElementById(t.container):"object"==o&&null!==this.options.container?this.container=t.container:(s=document.getElementById("UWA_ASYNC"),this.container=h("div",{id:this.id,class:t.className}),s?s.parentNode.insertBefore(this.container,s.nextSibling):(n=(i=document.getElementsByTagName("script"))[i.length-1]).parentNode.insertBefore(this.container,n)),!(p.Instances[this.id]=this).container)throw new Error("UWA.Embedded is unable to get container element with container "+this.container+".");if("string"!=typeof this.url)throw new Error("UWA.Embedded expect url defined has first param");this.log('Init new instance with container id "'+this.id+'" and widget url "'+this.url+'"'),this.render()},destroy:function(){},setOptions:function(e){return this._parent(e),(e=this.options).title&&(e.buildHeader=!0),e.buildHeader&&(e.displayHeader=!1),this.data=e.data||{},!e.id&&this.id||(this.id=e.id||this.generateId()),this},generateId:function(){for(var e;e="uwa-"+o.getCheckSum(this.url)+"-"+o.random(1,1e5),document.getElementById(e)&&null!==p.Instances[e];);return e},render:function(){var e,t={},i=this.options,n=this.container,s=navigator.userAgent.toLowerCase().match(/ip(?:ad|od|hone)/);t.wrapper=h("div",{class:"moduleWrapper"}),i.buildHeader&&(t.header=h("div",{class:"moduleHeader",styles:{position:"relative",overflow:"hidden",height:"23px",padding:"5px 5px 0 5px"}},t.wrapper),t.iconContainer=h("span",{styles:{padding:"0 5px 0 0"}},t.header),t.icon=h("img",{src:i.uwa+a.paths.img+"icon.png",class:"moduleIcon",height:16,width:16,styles:{border:"none",height:16,width:16}},t.iconContainer),t.title=h("span",{text:i.title||"Loading...",class:"moduleTitle",styles:{font:'bold 11px/20px "Lucida Grande",Tahoma,Helvetica,Arial,sans-serif',verticalAlign:"top"}},t.header)),t.body=h("div",{class:"moduleContent"},t.wrapper),e={id:"frame-"+this.id,frameBorder:0,width:"100%",scrolling:i.maxHeight||"auto"!==i.height?"auto":"no"},i.sandbox&&(e.sandbox="allow-same-origin allow-forms allow-scripts allow-popups"),t.iframe=h("iframe",e,t.body),d(t.iframe,{display:"block"}),i.bookmarklet&&(i.displayScroller=!0,i.height="100%",i.width="320px",d(t.wrapper,{position:"fixed",top:0,right:0,height:i.height,width:i.width,"z-index":99999998})),"auto"!==i.height&&(t.iframe.height=i.height),s&&i.displayScroller&&(t.iframe.scrolling="no"),this.elements=t,n.innerHTML="",n.appendChild(t.wrapper),i.useAsyncFrame?this.renderIframeAsync():this.renderIframe(),this.setChromeColor(i.color),this.initRemote()},renderIframe:function(){var e=this.elements.iframe,t=this.getIframeUrl();e.previousIframeUrl&&e.previousIframeUrl===t||(e.previousIframeUrl=t,e.src=t)},renderIframeAsync:function(){var e,t=this,i=JSON.stringify,n=t.options,s=t.elements.iframe.contentWindow.document,o=n.exposition+"/widget/amd/js?uwaUrl="+u(t.url),r={id:t.id,widgetDomain:window.location.toString().replace(/#.*$/,"")};n.cache&&(o+="&cache="+u(n.cache)),e=["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8" />','<script type="text/javascript">',"   var UWA = {hosts:"+i(a.hosts)+"},",'       curl = {apiName: "require"};',"<\/script>",'<script type="text/javascript" src="'+n.uwa+"/lib/vendors/curl.js?v="+t.version+'"><\/script>','<script type="text/javascript" src="'+o+"&v="+t.version+'"><\/script>',"</head>","<body>",'<script type="text/javascript">','   define("'+t.id+'", ["'+t.url+'"], function (widget) {',"       UWA.extend(widget, "+i(r)+");","   });","<\/script>","</body>","</html>"],s.open(),s.write(e.join("\n")),s.close()},getIframeUrl:function(){var e,t,i=this,n=[],s=i.options,o=i.data,r={uwaUrl:i.url,id:i.id,cache:s.cache,header:s.displayHeader,footer:s.displayFooter,scroller:s.displayScroller,displayEdit:s.displayEdit,autoLaunch:s.autoLaunch&&!s.offlineMode,useAppCache:s.useAppCache,offlineMode:s.offlineMode,chromeColor:s.color,widgetDomain:window.location.toString().replace(/#.*$/,""),themeUrl:s.themeUrl,lang:s.lang};if(!s.offlineMode)for(e in r.readOnly=s.readOnly,o)o.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=o[e]);for(e in r)r.hasOwnProperty(e)&&null!==r[e]&&n.push(e+"="+u(r[e]));if(2048<(t=i.getIframeDomain()+"?"+n.join("&")).length)throw new Error("UWA.Embedded iframe url is more than 2048 characters please implement UWA.Embedded using offlineMode=true.");return t},getIframeDomain:function(){var e,t=this.options,i=t.exposition;return t.subDomain&&(e=o.getCheckSum(this.url),i=i.replace("://","://"+t.subDomainPattern.replace("{id}",e))),i+="/widget/frame"},initRemote:function(){var e,n=this,t=n.options;n.socket||(p.Servers[t.remoteName]||(p.Servers[t.remoteName]=new r.Server(t.remoteName)),(e=new r.Socket(n.id+"-master")).subscribeServer(t.remoteName,window,window.location.toString()),e.addListener("widgetMessage",function(e){var t=e.args,i=t.shift();n.disableRemote=i,n.dispatchEvent(i,t),n.disableRemote=!1}),n.socket=e,n._runRemoteQueue())},_runRemoteQueue:function(){var e,t,i=this;i.socket&&0!==i._remoteQueue.length&&(t=i._remoteQueue.shift(),!0===i.disableRemote||i.disableRemote===t[0]?i.log("sendRemote message ignored: "+t):(e={id:i.id,args:t},i.log("sendRemote message: "+t),i.socket.dispatchEvent("environmentMessage",e,[e.id+"-slave"])),i._runRemoteQueue())},sendRemote:function(){this._remoteQueue.push(o.toArray(arguments)),this._runRemoteQueue()},launch:function(e,t){void 0!==t&&(this.options.readOnly=t),void 0!==e&&(this.data=e),this.disableRemote=!1,this.sendRemote("launchWidget",this.data,this.options.readOnly)},setChromeColor:function(e){this.dispatchEvent("onColorize",[e]),this.sendRemote("onColorize",e)},setTitle:function(e){this.dispatchEvent("onUpdateTitle",[e]),this.sendRemote("onUpdateTitle",e)},setIcon:function(e,t){this.dispatchEvent("onUpdateIcon",[e,t]),this.sendRemote("onUpdateIcon",e,t)},setValue:function(e,t){this.dispatchEvent("onUpdateValue",[e,t]),this.sendRemote("onUpdateValue",e,t)},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},resizeHeight:function(e,t){this.dispatchEvent("onResizeHeight",[e,t]),this.sendRemote("onResize")},resizeWidth:function(e,t){this.dispatchEvent("onResizeWidth",[e,t]),this.sendRemote("onResize")},onRegisterWidget:function(){var e=this.options;this.loadTime=(new Date).getTime(),this.disableRemote=!1,e.autoLaunch&&(e.offlineMode||e.useAsyncFrame)&&this.launch()},onUpdateTitle:function(e){this.title!==e&&(this.title=e,this.elements.title&&this.options.buildHeader&&null===this.options.title&&l(this.elements.title,{text:t.stripTags(e)}))},onUpdateIcon:function(e){if(this.icon!==e&&(this.icon=e,this.options.buildHeader)){var t=this.elements.icon,i=h("img",{src:e,onload:function(){t.src=e}});i.complete&&0<i.width&&(t.src=e)}},onUpdatePreferences:function(e){this.preferences=e},onUpdateValue:function(e,t){this.data[e]!==t&&(this.data[e]=t)},onResizeHeight:function(e,t){var i=this.options,n=i.maxHeight,s=n&&n<e;this.elements.iframe&&(t||"auto"===i.height)&&(this.elements.iframe.height=s?n:e)},onResizeWidth:function(e,t){var i=this.options;this.elements.iframe&&(t||"auto"===i.width)&&(this.elements.iframe.width=e)},onColorize:function(e){var t=this.options,i=this.elements;t.color=e,t.buildHeader&&(d(i.header,"transparent"!==e?{background:'url("'+t.uwa+a.paths.css+"themes/blueberry/img/moduleheader"+("white"!==e?"_"+e:"")+".png?v="+this.version+'") repeat-x scroll center top transparent'}:{background:null}),d(i.title,{color:"transparent"!==e?"white":"black"}))},onViewRequest:function(e){(e=e||{}).error="No view implementation in Embedded mode",this.sendRemote("onViewError",e)},getCode:function(e){var t,i,n,s,o=this.url,r=JSON.stringify,a=this.options,d={},l=["/lib/c/UWA/js/UWA_Embedded.js"],h={uwa:a.uwa,exposition:a.exposition};for(n in a)a.hasOwnProperty(n)&&"container"!==n&&null!==a[n]&&this.defaultOptions[n]!==a[n]&&(c(a[n])||(d[n]=a[n]));if(e&&1===l.length)s=['<script type="text/javascript">',"var UWA = {hosts:"+r(h)+"}, UWA_ASYNC = UWA_ASYNC || [];",'    UWA_ASYNC.push({url: "'+o+'",options:'+r(d)+"});","(function () {",'    var a = document.getElementsByTagName("script"), b = a[a.length - 1] || document.body.lastChild,','        c = b.parentNode, d = document.createElement("script"), e = document.createElement("div");','    e.id = "UWA_ASYNC"; d.type = "text/javascript"; d.async = true;','    d.src = ("https:" == document.location.protocol ? "https://" : "http://") + UWA.hosts.uwa.split("://")[1] + "'+l[0]+"?v="+this.version+'";',"    c.insertBefore(d, b); c.insertBefore(e, b)","})();","<\/script>"];else{for((s=[]).push('<script type="text/javascript"> var UWA = {hosts:'+r(h)+"}; <\/script>"),t=0,i=l.length;t<i;t++)s.push('<script type="text/javascript" src="'+a.uwa+l[t]+"?v="+this.version+'"><\/script>');s.push('<script type="text/javascript">'),s.push('var MyWidget = new UWA.Embedded("'+o+'"'+(c(d)?"":","+r(d))+");"),s.push("<\/script>")}return s.join("\n")}});return p.Instances={},p.Servers={},function(){var e,t,i;if(window.UWA_ASYNC)for(i=window.UWA_ASYNC,a.Widgets=a.Widgets||[],e=0,t=i.length;e<t;e++)a.Widgets[e]=new p(i[e].url,i[e].options||{})}(),a.namespace("Embedded",p,a)});

define("UWA/Promise",["UWA/Core","UWA/Utils","UWA/Class","UWA/Internal/Deprecate"],function(e,r,t,n){"use strict";var i=Promise;function o(e){this._promise=e instanceof i?e:new i(e)}function a(e){return function(){return o.cast(this._promise[e].apply(this._promise,arguments))}}function c(e){return function(){return o.cast(i[e].apply(i,arguments))}}var s=o.prototype=Object.create(i.prototype);return s.constructor=o,s.catch=a("catch"),s.then=a("then"),s.fail=s.catch,s.finally=function(e){var t=this;function r(){return o.cast(e()).then(function(){return t})}return this.then(r,r)},s.fin=s.finally,s.done=function(e,t){return this.then(e,t).fail(function(e){var t=o.deferred();return r.setImmediate(function(){throw r.setImmediate(function(){t.reject(e)}),e instanceof Error?e:new Error(e)}),t.promise})},s.spread=function(t,e){return this.then(function(e){return t[Array.isArray(e)?"apply":"call"](null,e)},e)},o.race=c("race"),o.all=function(e){return"number"!=typeof e.length?o.reject(new TypeError("Not an iterable")):o.cast(i.all(r.toArray(e)))},o.reject=c("reject"),o.resolve=c("resolve"),o.cast=function(e){return e instanceof o?e:e instanceof i?new o(e):o.resolve(e)},o.deferred=function(){var r={},e=new o(function(e,t){return r.resolve=e,r.reject=t,r});return r.promise=e,r},o.allSettled=function(e){return o.all(r.toArray(e).map(function(e){return e instanceof i?e.then(function(e){return{state:"fullfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fullfilled",value:e}}))},n.property(t,"Promise",{value:o,name:"UWA.Class.Promise",message:"Use UWA.Promise instead."}),e.namespace("Promise",o,e)});

define("UWA/Utils/Asset",["UWA/Promise","vendors/webcomponents/WeakMap"],function(t){"use strict";var n,s=new WeakMap;function u(e){return e.container.ownerDocument}function e(a,c){return function(i,o){return i=function(e){return(n=n||document.createElement("a")).href=e,n.href}(i),o=Object.assign({force:!1,timeout:6e4,container:document.head},o),function(e,t,n){if(t.force)return n();var r=u(t),i=s.get(r);return i||(i={},s.set(r,i)),i.hasOwnProperty(e)||(i[e]=n()),i[e]}(i,o,function(){var n,r,e=new t(function(e,t){n=c(i,o,e,t),r=setTimeout(function(){n(),t(new Error("Asset."+a+": Timeout while loading "+i))},o.timeout)});return e.fin(function(){clearTimeout(r)}),e})}}return{js:e("js",function(e,t,n,r){var i=u(t).createElement("script");return i.setAttribute("type","text/javascript"),i.addEventListener?(i.addEventListener("load",function(){n(i)}),i.addEventListener("error",function(){r(new Error("Asset.js: Error while loading "+e))})):i.attachEvent("onreadystatechange",function(){"loaded"!==i.readyState&&"complete"!==i.readyState||n(i)}),t.container.appendChild(i),i.src=e,function(){t.container.removeChild(i)}}),css:e("css",function(e,t,n,r){var i=u(t).createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.addEventListener?(i.addEventListener("load",function(){n(i.sheet)}),i.addEventListener("error",function(){r(new Error("Asset.css: Error while loading "+e))})):i.attachEvent("onload",function(){n(i.styleSheet)}),t.container.appendChild(i),i.setAttribute("href",e),function(){t.container.removeChild(i)}})}});

define("UWA/Environment",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Class/Options","UWA/Utils","UWA/Element","UWA/Event","UWA/Json","UWA/Data","UWA/Internal/StringMap","UWA/Widget","UWA/Controls/Form","UWA/Controls/WidgetPopupMenu","UWA/Embedded","UWA/Promise","UWA/Utils/Client","UWA/Utils/Asset"],function(c,i,o,e,t,n,s,r,a,l,d,u,h,p,f,v,m,g,w,E,y){"use strict";function b(e){var t=c.hosts.netvibes+"/subscribe.php",n={module:"UWA",moduleUrl:e.getUrl()};return e.getPreferences().forEach(function(e){n[e.name]=e.value}),t+"?"+a.toQueryString(n)}var W,U,A,C,x,V,R=Object.create(null),S=e.extend(t,n,s,r,{name:null,inited:!1,registered:!1,launched:!1,widget:null,html:null,features:{},views:{},menuClass:m,defaultOptions:{formOptions:{nativeInputs:!1},defaultView:{type:"windowed"},initialView:null},init:function(e){var t=this;t.setOptions(e),t.html={},t.view={},t.dispatchInit()},dispatchInit:function(){var e=this;e.setPeriodical("init",function(){document.body&&!e.inited&&(e.clearPeriodical("init"),e.dispatchEvent("onInit"),e.inited=!0)},100,!0)},hasFeature:function(e,t){var n,i=c.owns(this.features,e)&&this.features[e];if(!i)return!1;if(t)for(n in t)if(c.owns(t,n)&&(!c.owns(i,n)||t[n]!==i[n]))return!1;return!0},getWidget:function(){var e=this,t=e.widget||new f;return e.widget||e.registerWidget(t),t},registerWidget:function(n){var i=this;i.widget=n,i.setPeriodical("register",function(){if(i.inited&&!i.registered){var e,t=i.html;for(e in i.clearPeriodical("register"),n.environment=i,t)t.hasOwnProperty(e)&&t[e]!==window&&(n.elements[e]=c.extendElement(t[e]));n.body=t.body,c.Widgets=c.Widgets||{},c.Widgets.instances=c.Widgets.instances||[],c.Widgets.instances.push(n),i.dispatchEvent("onRegisterWidget"),i.registerMenus(),i.registered=!0}},100,!0)},launchWidget:function(e,t){var n=this;n.setPeriodical("launch",function(){n.isDataReady()&&n.registered&&(n.clearPeriodical("launch"),n.getWidget().launch(e,t))},100,!0)},destroy:function(){var e,t,n=this,i=n.html,o=n.widget;for(e in o&&(c.Widgets.instances.splice(c.Widgets.instances.indexOf(o),1),o.destroy(),n.widget=null),n.clearDelayed(),n.clearPeriodical(),i)i.hasOwnProperty(e)&&l.destroy.call(i[e]);for(t in n.view)n.view.hasOwnProperty(t)&&n.view[t]&&n.view[t].destroy();n.removeEvent(),n.registered=!1,n.launched=!1},onInit:function(){},onRegisterWidget:function(){var i=this,t=i.html,n=i.widget;i.data=new p,t.menus&&l.addEvent.call(t.menus,"click",function(e){var t=d.getElement(e),n=i.widget.getMenu(t.getAttribute("data-name"));n&&(i.dispatchEvent("onMenuExecute",[n]),n.items&&(i.popupMenu||(i.popupMenu=new i.menuClass(i).inject(document.body)),i.popupMenu.setTarget(t).setItems(n.items).toggle()))}),t.editAction&&(l.show.call(t.editAction),l.addEvent.call(t.editAction,"click",function(e){d.stop(e),i.dispatchEvent("toggleEdit")})),t.refreshAction&&(l.show.call(t.refreshAction),l.addEvent.call(t.refreshAction,"click",function(e){d.stop(e),i.dispatchEvent("onRefresh")})),t.shareAction&&(t.shareAction.href=b(n),l.addEvent.call(t.shareAction,"click",function(e){d.stop(e),i.dispatchEvent("onOpenURL",b(n))})),t.wrapper&&l.handleExternalLinks.call(t.wrapper,function(e,t){i.dispatchEvent("onOpenURL",[e,t])}),(t.viewport||t.wrapper)&&l.addEvent.call(t.viewport||t.wrapper,"resize",function(){i.dispatchEvent("onResize")}),l.addEvent.call(document,"keydown",function(e){var t=e.which||e.keyCode;i.dispatchEvent("onKeyboardAction",[t,e])}),t.body&&[E.Engine.name,E.Engine.name+E.Engine.version,E.Platform.name,E.Features.touchEvents?"touch":"no-touch",n.readOnly&&"readonly",i.name&&"environment-"+i.name].forEach(function(e){e&&l.addClassName.call(t.body,e)}),i.dispatchEvent("onResize"),i.dispatchEvent("onViewRequest",[i.options.initialView])},registerMenus:function(){var e=this.getWidget();e.setMenu({name:"options",icon:"options"}),e.readOnly||e.setMenu({name:"options/preferences",icon:"cogwheel",label:c.i18n("Settings"),onExecute:"toggleEdit"}),e.setMenu({name:"options/refresh",icon:"refresh",label:c.i18n("Refresh"),onExecute:"onRefresh"})},onUpdateMenu:function(e){var n=this.html;n.menus&&(e=e||this.widget.menus,n.menus.empty(),e.forEach(function(e){var t;!1!==(c.is(e.visible,"function")?e.visible():!1!==e.visible)&&(t=c.createElement("span",{class:"uwa-widget-menu-button","data-name":e.name}),e.help&&(t.set("title",e.help),t.set("uwa-tooltip",i.escapeHTML(e.help))),e.icon&&t.addClassName("uwa-icon "+e.icon),e.className&&t.addClassName(e.className),t.inject(n.menus),n.header&&n.header.set("data-menus-items",n.menus.childNodes.length))}))},onMenuExecute:function(e){c.is(e.onExecute,"string")&&this.widget.dispatchEvent(e.onExecute,[e])},isDataReady:function(){return!c.Storage||c.Storage.allInstancesReady()},getAllData:function(){return this.data.getAll()},getData:function(e){return this.log("getData:"+e),this.data.get(e)},setData:function(e,t){return this.log("setData:"+e+","+t),this.data.set(e,t)},deleteData:function(e){return this.log("deleteData:"+e),this.data.remove(e)},dispatchEvent:function(e,t,n,i){this.log("environment.event:"+e);var o=this.widget;!i&&o&&this.addEventOnce(e,o.dispatchEvent.bind(o,e,t,n,!0)),this._parent(e,t,n)},loadWidget:function(e,t){return t=c.extend({onFailure:function(e){throw e},onTimeout:function(e){throw e},onComplete:function(){}},t),e=a.buildUrl(window.location.toString(),e),t.embedded?this.loadEmbeddedWidget(e,t):this.loadInlinedWidget(e,t),this},loadInlinedWidget:(V={},x=function(t,n){var e=n.expositionError||n.error||n.errors;if(!e||c.is(e,"array")&&0===e.length){(n=this.convertSourceToJson(n)).className||(n.checksum||(n.checksum=a.getCRC32(t)),n.className="w-"+n.checksum),n.style&&(a.setCss(n.className,n.style,"."+n.className,t),delete n.style),"string"==typeof n.script&&(n.script=new Function("widget",n.script)),n.styles=this.filterExternalResources("style",n.styles||[]),n.scripts=this.filterExternalResources("script",n.scripts||[]);for(var i=[];n.styles.length;)i.push(y.css(a.buildUrl(t,n.styles.shift())));for(;n.scripts.length;)i.push(y.js(a.buildUrl(t,n.scripts.shift())));w.all(i).done(function(){var e=V[t];V[t]=n,c.is(e,"array")&&o.invoke(e,"onComplete",n)},function(e){P(t,"onFailure",e)})}else P(t,"onFailure",e)},function(n,e){var t=V[n],i=e.fetcher||"XML",o=e.onComplete,s=this;return e.onComplete=function(e){var t=s.getWidget();t.uwaUrl=n,t.setTitle(e.title),t.setIcon(e.icon),t.setMetas(e.metas),t.setPreferences(e.preferences),t.setPlugins(e.plugins),t.setBody(e.body),s.html.wrapper.addClassName(e.className),e.script&&e.script(t),o(t,s)},c.is(t,"object")?e.onComplete(t):(c.is(t,"array")?t.push(e):V[n]=[e],e=c.merge({onComplete:x.bind(this,n),onTimeout:P.bind(this,n,"onTimeout"),onFailure:P.bind(this,n,"onFailure")},e),c.is(i,"function")?i.call(this,n,e):!c.is(i,"string")||4<i.length?e.onComplete(i):"JSON"===(i=i.toUpperCase())?this.fetchJsonWidget(n,e):this.fetchXmlWidget(n,e)),this}),loadEmbeddedWidget:function(e,t){var o,s,r=this,n=l.setStyle,a={cache:t.cache,container:r.html.body,displayHeader:!1,displayFooter:!1,displayEdit:!0,autoLaunch:!1};return c.is(t.embedded,"object")&&c.extend(a,t.embedded),o=new g(e,a),n.call(r.html.body,"padding",0),n.call(o.elements.body,"padding",0),r.addEvent("onRegisterWidget",function(){var n={},i={onUpdateValue:!0,onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onShowEdit:!0,onKeyboardAction:!0,onViewError:!0,onViewChange:!0,onEdit:!0,endEdit:!0,onLoad:function(){o.launch(r.getAllData(),r.getWidget().readOnly)}};Object.keys(i).forEach(function(e){var t=i[e];!0===t&&(t=o.sendRemote.bind(o,e)),n[e]=t}),r.addEvents(n)}),s=r.getWidget(),o.addEvent("onRegisterWidget",function(){var n={},i={onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onHideEdit:!0,onShowEdit:!0,onOpenURL:!0,onViewRequest:!0,onInitConfig:function(e){e.preferences&&s.setPreferences(e.preferences),e.plugins&&s.setPlugins(e.plugins),e.metas&&s.setMetas(e.metas)},onUpdatePreferences:function(e){s.setPreferences(e)},onUpdateValue:function(e,t){s.setValue(e,t)}};a.displayEdit||c.merge(i,{onEdit:!0,endEdit:!0}),Object.keys(i).forEach(function(e){var t=i[e];!0===t&&(t=function(){s.dispatchEvent(e,arguments)}),n[e]=t}),o.addEvents(n),t.onComplete(s,r)}),r.embedded=o,r},convertSourceToJson:(W=["name","defaultValue","type","label","step","min","max"],U=["label","value"],A=/(java|ecma)script$/i,C={"widget:preferences":function(i,e){T(e,function(e){var t,n={};N(e,function(e,t){-1!==W.indexOf(e)&&(n[e]=t)}),n.name&&("list"!==n.type&&"checklist"!==n.type||(t=[],T(e,function(e){var n={};N(e,function(e,t){-1!==U.indexOf(e)&&(n[e]=t)}),n.label&&t.push(n)},!0),n.options=t),i.preferences.push(n))},!0)},"widget:plugins":function(t,n){T(n,function(e){var o={name:n.getAttribute("name"),options:{}};N(e,function(e,t){o[e]=t}),T(e,function(e){var i=e.getAttribute("name"),t=e.getAttribute("value");"widget:options"===e.tagName?(o.options[i]={},T(e,function(e){var t=e.getAttribute("name"),n=e.getAttribute("value");t&&(o.options[i][t]=n)},!0)):i&&(o.options[i]=t)},!0),o.name&&t.plugins.push(o)})},link:function(e,t,n){if(n.href){var i=n.rel;"icon"===i?e.icon=n.href:"stylesheet"!==i||n.href.contains("UWA/assets")||n.href.contains("standalone.css")||n.href.contains("uwa/style.css")||e.styles.push(n.href)}},meta:function(e,t,n){var i=n.content;i="false"!==i&&("true"===i||i),e.metas[n.name]=i},script:function(e,t,n){if(n.src||(n.language||n.type)&&!A.test(n.type)&&!n.language){if(!n.src||n.src.contains("Standalone")||n.src.contains("load.js.php"))return t;e.scripts.push(n.src)}else{var i="";T(t,function(e,t){i+=t}),/UWA(\s+)?=/.test(i)||(e.script+=i)}},title:function(n,e){T(e,function(e,t){n.title+=t})},style:function(n,e){T(e,function(e,t){n.style+=t})},fallback:function(i,e,t,n){var o;return"body"===n?((o=document.createElement("div")).className=e.className,i.body=o):o=document.createElement(n),N(e,function(e,t){o.setAttribute(e,t)}),T(e,function(e,t){switch(e.nodeType){case 1:var n=L(e,i);n&&o.appendChild(n);break;case 4:case 3:o.appendChild(document.createTextNode(t))}}),o}},function(t){if(c.is(t,"string"))try{t=a.loadXml(t)}catch(e){c.log("Invalid UWA XHTML source detected, fallback on HTML parsor."),t=a.loadHtml(t)}var e;return c.is(t,"object")?e=t:L(t,e={title:"",icon:"",preferences:[],plugins:[],metas:{},body:[],script:"",scripts:[],style:"",styles:[]}),e}),fetchJsonWidget:function(o,s){o in R||(R[o]=new w(function(e,t){var n,i={mode:"full",uwaUrl:o};c.debug&&(i.flush=1,i.mode="full_debug"),n=(s.server||c.hosts.exposition)+"/widget/json",u.request(n,{data:i,onComplete:e,onFailure:t,useJsonpRequest:!0,callback:o})})),R[o].then(s.onComplete,s.onError)},fetchXmlWidget:function(e,t){h.request(e,{cache:t.cache,type:"text",onFailure:t.onFailure,onTimeout:t.onTimeout,onComplete:t.onComplete})},filterExternalResources:function(e,t){return t},onRefresh:function(){var e=this.getWidget();e.data={},e.hasEvent("onRefresh")||e.dispatchEvent("onLoad",void 0,void 0,!0)},onUpdateIcon:function(e){var t=this.html;function n(){t.iconLoader.destroy(),delete t.iconLoader}t.icon&&(t.iconLoader&&n(),t.iconLoader=c.createElement("img",{styles:{display:"none"},events:{load:function(){t.icon.getElement("img").setAttribute("src",e),n()},error:function(){n()}}}).inject(this.html.wrapper),t.iconLoader.setAttribute("src",e))},onUpdateTitle:function(e){var t=this.html.title;t&&t.setHTML(e)},onUpdateCounter:function(e){var t=this.html.counter;t&&t.setText(e?"("+(!0===e?"●":e)+")":"")},onEdit:function(){var i=this,e=i.html,o=i.getWidget(),t=o.metas,n=o.getPreferences();if(e.edit){if(e.edit.empty(),o.hasPreferences()){if(e.preferences){var s=e.preferences.getFormValues();n.forEach(function(e){c.is(s[e.name])&&(e.value=s[e.name])})}n.push({type:"submit",name:"endEdit",value:c.i18n("Done")}),e.preferences&&e.preferences.destroy(),e.preferences=new v({nativeInputs:this.options.formOptions.nativeInputs,darkBackground:this.options.formOptions.darkBackground,fields:n,events:{onChange:function(e,t,n){o.setValue(t,n),i.embedded?i.embedded.sendRemote("dispatchEvent",e,t,n):i.dispatchEvent(e,[t,n])},onSubmit:function(e,t){var n=!1;i.addEventOnce("onUpdateValue",function(){n=!0}),Object.keys(t).forEach(function(e){o.setValue(e,t[e])}),i.dispatchEvent("endEdit"),n&&i.dispatchEvent("onRefresh")}}}).inject(e.edit)}t.author&&e.edit.addContent({tag:"div",class:"moduleInfos",html:[{tag:"p",html:[c.i18n("Widget by")+" ",{tag:"strong",html:t.website?{tag:"a",href:t.website,text:t.author}:{tag:"span",text:t.author}}]}]})}i.dispatchEvent("onShowEdit")},onShowEdit:function(){var e=this.html;e.wrapper&&e.wrapper.addClassName("onEdit")},endEdit:function(){this.dispatchEvent("onHideEdit")},onHideEdit:function(){var e=this.html;e.wrapper&&e.wrapper.removeClassName("onEdit")},onCloseEdit:function(){this.html.preferences.destroy(),this.html.preferences=null},onOpenURL:function(e){if(e=a.parseUrl(e),!window.open(e.source,"_blank"))return window.alert(i.format(c.i18n('Unable to open "{0}", Please turn off your popup blocker and try again.'),i.truncate(e.source,50))),!1},onViewRequest:function(e){var t,n=this;e=e||n.options.defaultView,e=c.clone(e),n.view.current&&n.view.current.event&&(e.previous=c.clone(n.view.current.event),delete e.previous.previous),n.view.current&&n.view.current.matchEvent(e)?k(n,e,"This view is already active."):(t=function e(t,n){var i=t.views[n.type],o=i&&new i(t,n);return o&&o.addEvents({onEnter:function(){t.view.next===this&&(O(t.view,"current",this),this.isSingle()&&(S._currentSingleView=this),t.view.next=null,k(t,this.event))},onLeave:function(){t.view.current===this&&(S._currentSingleView===this&&(S._currentSingleView=null),t.view.next||(t.view.next=e(t,t.options.defaultView)),t.view.next.enter())},onError:function(e){t.view.next===this&&(O(t.view,"next"),t.view.current.enter()),k(t,this.event,e)}})}(n,e))?t.isSingle()&&S._currentSingleView&&S._currentSingleView!==n.view.current?(k(n,e,"An environment is already in single view."),t.destroy()):(O(n.view,"next",t),n.view.current?n.view.current.leave():n.view.next.enter()):k(n,e,'No implementation available for the view "'+e.type+'".')},onViewChange:function(e){this.getWidget()._view=e},onViewError:function(e){this.log("View error: "+u.encode(e))}});function k(e,t,n){n&&(t.error=n),e.dispatchEvent(n?"onViewError":"onViewChange",[t])}function O(e,t,n){e[t]&&e[t].destroy(),e[t]=n}function T(e,t,n){var i,o,s,r=[].slice.call(e.childNodes);for(i=0,o=r.length;i<o;i++)s=r[i],n&&1!==s.nodeType||t(s,s.nodeValue)}function N(e,t){var n,i,o,s=e.attributes||[];for(n=0,i=s.length;n<i;n++)t((o=s[n]).name,o.value)}function L(e,t){9===e.nodeType&&(e=e.childNodes[0]);var n=e.nodeName.toLowerCase(),i={};return N(e,function(e,t){i[e]=t}),C[C.hasOwnProperty(n)?n:"fallback"](t,e,i,n)}function P(e,t,n){V[e]&&(o.invoke(V[e],t,n),delete V[e])}return S.AbstractView=e.extend(n,{event:null,environment:null,init:function(e,t){this.environment=e,this.event=t},destroy:function(){this.removeEvents(),S._currentSingleView===this&&(S._currentSingleView=null)},enter:function(){this.dispatchEvent("onEnter")},leave:function(){this.dispatchEvent("onLeave")},isSingle:function(){return!1},matchEvent:function(e){return this.event.type===e.type},onEnter:function(){var e=this.environment.html;e.wrapper&&e.body&&o.invoke([e.wrapper,e.body],"addClassName",this.event.type+"-view")},onLeave:function(){var e=this.environment.html;e.wrapper&&e.body&&o.invoke([e.wrapper,e.body],"removeClassName",this.event.type+"-view")}}),S.prototype.views.windowed=S.AbstractView.extend({}),E.Features.fullscreen&&(S.prototype.views.fullscreen=S.AbstractView.extend({enter:function(){var e,t=this,n=t.getTarget();e={fullscreenchange:function(){document.fullscreenElement===n?t.dispatchEvent("onEnter"):(t.dispatchEvent("onLeave"),l.removeEvents.call(document,e))},fullscreenerror:function(){t.dispatchEvent("onError",["Error while trying to set the fullscreen"]),l.removeEvents.call(document,e)}},l.addEvents.call(document,e),n.requestFullscreen()},leave:function(){document.fullscreenElement===this.getTarget()?document.exitFullscreen():this.dispatchEvent("onLeave")},isSingle:function(){return!0},getTarget:function(){var e=this.environment.html;return e.content||e.body}})),c.namespace("Environment",S,c)});

define("UWA/Class/Promise",["UWA/Core","UWA/Promise","UWA/Internal/Deprecate"],function(e,s,r){"use strict";return r.warn("Module UWA/Class/Promise","Use UWA/Promise instead"),e.namespace("Class/Promise",s,e,"replace")});

define("UWA/Utils/Cookie",["UWA/Core"],function(e){"use strict";var t,n,o={},r=window.document,i="nv.",a=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),c=null,u=null;function s(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?a:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e}function d(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,o=e.substr(0,t);try{n=decodeURIComponent(o)}catch(e){throw new Error('Could not decode cookie with key "'+o+'" ['+e+"]")}return{key:n,value:e.substr(t+1)}}function p(){c=function(e){for(var t={},n=e?e.split("; "):[],o=0;o<n.length;o++){var r=d(n[o]);void 0===t[i+r.key]&&(t[i+r.key]=r.value)}return t}(r.cookie),u=r.cookie}return o.defaults={path:"/",secure:!1},o.get=function(e){u!==r.cookie&&p();var t=c[i+e];return void 0===t?void 0:decodeURIComponent(t)},o.getAll=function(){u!==r.cookie&&p();var e={};for(var t in c)e[t.slice(i.length)]=decodeURIComponent(c[t]);return e},o.set=function(e,t,n){return(n=function(e){return{path:e&&e.path||o.defaults.path,domain:e&&e.domain||o.defaults.domain,expires:e&&e.expires||o.defaults.expires,secure:e&&void 0!==e.secure?e.secure:o.defaults.secure}}(n)).expires=s(void 0===t?-1:n.expires),r.cookie=function(e,t,n){var o=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return o+=(n=n||{}).path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",o+=n.secure?";secure":""}(e,t,n),o},o.expire=function(e,t){return o.set(e,void 0,t)},o.enabled=(t="cookie.js",n="1"===o.set(t,1).get(t),o.expire(t),n),e.namespace("Utils/Cookie",o,e)});

define("UWA/Storage/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Storage"],function(t,s,e){"use strict";var r=s.extend(e,{type:"Abstract",limit:-1,init:function(t,s){this.storage=t||{},this.database=null,this.data={},this.includes=[],this.storage.isReady=!1,this.setOptions(s)},isAvailable:function(){return!1},interruptAccess:function(){if(!this.storage.isReady)throw new Error("Storage Adapter "+this.type+" is not ready.");return!0},get:function(t){return this.interruptAccess(),this.data[t]||null},set:function(t,s){return this.interruptAccess(),this.data[t]=s},rem:function(t){this.interruptAccess();var s=this.data[t];return this.data[t]=null,s}});return t.namespace("Storage/Adapter/Abstract",r,t)});

define("UWA/Storage/Adapter/Cookies",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Cookie","UWA/Storage/Adapter/Abstract"],function(t,e,n,s,i){"use strict";var o=i.extend({type:"Cookies",limit:4096,defaultOptions:{path:"/",duration:100,expires:864e4,secure:!1,domain:""},init:function(t,e){var i=n.parseUrl(window.location);this.defaultOptions={domain:-1!==["80","443"].indexOf(i.port)&&i.domain,secure:"https"===i.protocol},this._parent(t,e),this.options.duration&&(this.options.expires=86400*this.options.duration,delete this.options.duration)},connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return s.enabled},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return this.interruptAccess(),s.get(t)},set:function(t,e){var i=this.options;return this.interruptAccess(),s.set(t,e,i)},rem:function(t){this.interruptAccess();var e=this.options,i=this.get(t);return s.expire(this.getKey(t),e),i}});return t.namespace("Storage/Adapter/Cookies",o,t)});

define("UWA/Storage/Adapter/Object",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Object",limit:0,connect:function(t){this.database=t,this.db={},this.storage.isReady=!0},isAvailable:function(){return!0},get:function(t){return this.db[t]},set:function(t,e){return this.interruptAccess(),this.db[t]=e},rem:function(t){this.interruptAccess();var e=this.get(t);return delete this.db[t],e}});return t.namespace("Storage/Adapter/Object",r,t)});

define("UWA/Environments/Standalone",["UWA/Core","UWA/Utils","UWA/Element","UWA/Environment","UWA/Storage/Adapter/Cookies","UWA/Storage/Adapter/Object"],function(i,a,r,e){"use strict";function f(o,e){var t="widget",n=[];return document.createElement(t+":"+e),o.getElementsByTagNameNS&&(n=o.getElementsByTagNameNS("http://www.netvibes.com/ns/",e)),0===n.length&&(n=o.getElementsByTagName(t+":"+e)),0===n.length&&(n=o.getElementsByTagName(e)),0===n.length&&o!==document&&(n=(n=f(document,e)).filter(function(e){for(var t=e,n=o.tagName;t.previousSibling&&t.tagName!==n;)t=t.previousSibling;return t===o&&e})),a.toArray(n)}var t=e.extend({name:"uwa",onInit:function(){var e=r.getElement.bind(document.querySelector("body"));e(".moduleUwa")||this.buildSkeleton(),this.html={viewport:window,wrapper:e(".module"),header:e(".moduleHeader"),content:e(".moduleWrapper"),body:e(".moduleContent"),edit:e(".moduleEdit"),menus:e(".moduleHeader > menu"),footer:e(".moduleFooter"),counter:e(".counter"),title:e(".title"),icon:e(".icon"),shareAction:e(".share"),refreshAction:e(".refresh"),editAction:e(".edit")}},getWidgetContent:function(){var t=document.head,e=f(document,"style");return[f(document,"preferences"),f(document,"plugins"),e].forEach(function(e){e.forEach(function(e){i.Element.isInjected.call(e,t)||t.appendChild(e)})}),r.getHTML.call(document.querySelector("body"))},buildSkeleton:function(){var e=i.hosts,t=i.i18n,n=e.uwa+i.paths.img+"icon.png",o=document.querySelector("body"),a=this.getWidgetContent();r.setContent.call(o,{tag:"div",class:"module moduleUwa",html:[{tag:"div",class:"moduleHeader",html:[{tag:"span",class:"icon",html:{tag:"img",height:16,width:16,src:n}},{tag:"span",class:"counter"},{tag:"span",class:"title",text:t(document.title)},{tag:"menu",type:"toolbar",class:"menus"}]},{tag:"div",class:"moduleWrapper",html:[{tag:"div",class:"moduleEdit"},{tag:"div",class:"moduleContent",html:a}]},{tag:"div",class:"moduleFooter",html:[{tag:"a",class:"powered",href:e.netvibes,text:t("© Netvibes")},{tag:"a",class:"share",href:e.ecosystem,text:t("Subscribe to this app")}]}]})},onRegisterWidget:function(){this._parent(),this.loadMetas(),this.loadPreferencesXML(),this.loadPluginsXML()},loadMetas:function(){var e,t,n,o,a,i,r=this.widget,l={};for(e=0,t=(i=document.getElementsByTagName("meta")).length;e<t;e++)n=(a=i[e]).getAttribute("name"),o="false"!==(o=a.getAttribute("content"))&&("true"===o||o),n&&(l[n]=o);for(r.setMetas(l),e=0,t=(i=document.getElementsByTagName("link")).length;e<t;e++)if("icon"===(a=i[e]).getAttribute("rel")){r.setIcon(a.getAttribute("href"));break}},loadPluginsXML:function(){var e,t,n,o,a=[],i=f(document,"plugin"),l=function(e,t){var n,o,a,i,r;for(t=t||{},n=0,o=(a=f(e,"option")).length;n<o;n++)t[r=(i=a[n]).getAttribute("name")]=i.getAttribute("value");for(n=0,o=(a=f(e,"options")).length;n<o;n++)t[r=(i=a[n]).getAttribute("name")]=l(i,t[r]);return t};for(e=0,t=i.length;e<t;e++)null!==(o=(n=i[e]).getAttribute("name"))&&a.push({name:o,options:l(n)});0<a.length&&this.widget.setPlugins(a)},loadPreferencesXML:function(){var e,t,n,o,a,i,r,l,s,u,d,c,g,m=[],h=f(document,"preference");for(e=0,t=h.length;e<t;e++){for(d={},n=0,o=(c=h[e]).attributes.length;n<o;n++)d[(g=c.attributes[n]).nodeName]=g.value;if(void 0!==d.defaultvalue&&(d.defaultValue=d.defaultvalue,delete d.defaultvalue),"list"===d.type)for(d.options=[],a=0,i=(s=f(c,"option")).length;a<i;a++){for(u={},r=0,l=s[a].attributes.length;r<l;r++)u[(g=s[a].attributes[r]).nodeName]=g.value;u.label&&u.hasOwnProperty("value")&&d.options.push(u)}d.name&&d.type&&m.push(d)}0<m.length&&this.widget.setPreferences(m)}});return i.namespace("Environments/Standalone",t,i)}),define("widget",["UWA/Core","UWA/Event","UWA/Widget","UWA/Environments/Standalone"],function(e,t,n,o){"use strict";var a=new n;return t.onDomReady(function(){var e=new o;e.registerWidget(a),e.launchWidget()}),e.namespace("widget",a)});

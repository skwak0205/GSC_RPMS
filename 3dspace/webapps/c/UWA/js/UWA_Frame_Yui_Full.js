void 0!==YUI&&(YUI._YUI=YUI);var YUI=function(){function e(e,t){return e&&e.hasOwnProperty&&e instanceof t}var t=0,s=this,r=arguments,a=r.length,i="undefined"!=typeof YUI_config&&YUI_config;if(e(s,YUI)?(s._init(),YUI.GlobalConfig&&s.applyConfig(YUI.GlobalConfig),i&&s.applyConfig(i),a||s._setup()):s=new YUI,a){for(;t<a;t++)s.applyConfig(r[t]);s._setup()}return s.instanceOf=e,s};!function(){function u(){}function e(e,t,s,r){e&&e.addEventListener?e.addEventListener(t,s,r):e&&e.attachEvent&&e.attachEvent("on"+t,s)}function t(e,t,s,r){if(e&&e.removeEventListener)try{e.removeEventListener(t,s,r)}catch(e){}else e&&e.detachEvent&&e.detachEvent("on"+t,s)}function w(e,t){var s=e.Env._loader,r=["loader-base"],a=YUI.Env.mods;return s?(s.ignoreRegistered=!1,s.onEnd=null,s.data=null,s.required=[],s.loadType=null):(s=new e.Loader(e.config),e.Env._loader=s),a&&a.loader&&(r=[].concat(r,YUI.Env.loaderExtras)),YUI.Env.core=e.Array.dedupe([].concat(YUI.Env.core,r)),s}function l(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])}var s,r,x="3.7.3",a="http://yui.yahooapis.com/",i="yui3-js-enabled",n="yui3-css-stamp",o=Array.prototype.slice,d={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},c="undefined"!=typeof window,p=c?window:null,g=c?p.document:null,h=g&&g.documentElement,f=h&&h.className,m={},b=(new Date).getTime(),y=function(){YUI.Env.windowLoaded=!0,YUI.Env.DOMReady=!0,c&&t(window,"load",y)},v={success:!0};for(r in h&&-1==f.indexOf(i)&&(f&&(f+=" "),f+=i,h.className=f),-1<x.indexOf("@")&&(x="3.5.0"),s={applyConfig:function(e){e=e||u;var t,s,r=this.config,a=r.modules,i=r.groups,n=r.aliases,o=this.Env._loader;for(s in e)e.hasOwnProperty(s)&&(t=e[s],a&&"modules"==s?l(a,t):n&&"aliases"==s?l(n,t):i&&"groups"==s?l(i,t):"win"==s?(r[s]=t&&t.contentWindow||t,r.doc=r[s]?r[s].document:null):"_yuid"==s||(r[s]=t));o&&o._config(e)},_config:function(e){this.applyConfig(e)},_init:function(){var o,e,t,u=this,s=YUI.Env,l=u.Env;if(u.version=x,!l){if(u.Env={core:["get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"],loaderExtras:["loader-rollup","loader-yui3"],mods:{},versions:{},base:a,cdn:a+x+"/build/",_idx:0,_used:{},_attached:{},_missed:[],_yidx:0,_uidx:0,_guidp:"y",_loaded:{},_BASE_RE:/(?:\?(?:[^&]*&)*([^&]*))?\b(simpleyui|yui(?:-\w+)?)\/\2(?:-(min|debug))?\.js/,parseBasePath:function(e,t){var s,r,a=e.match(t);return a&&(s=RegExp.leftContext||e.slice(0,e.indexOf(a[0])),r=a[3],a[1]&&(s+="?"+a[1]),s={filter:r,path:s}),s},getBase:s&&s.getBase||function(e){var t,s,r,a,i=g&&g.getElementsByTagName("script")||[],n=l.cdn;for(s=0,r=i.length;s<r;++s)if((a=i[s].src)&&(t=u.Env.parseBasePath(a,e))){o=t.filter,n=t.path;break}return n}},(l=u.Env)._loaded[x]={},s&&u!==YUI)l._yidx=++s._yidx,l._guidp=("yui_"+x+"_"+l._yidx+"_"+b).replace(/\./g,"_").replace(/-/g,"_");else if(YUI._YUI){for(t in s=YUI._YUI.Env,l._yidx+=s._yidx,l._uidx+=s._uidx,s)t in l||(l[t]=s[t]);delete YUI._YUI}u.id=u.stamp(u),m[u.id]=u}u.constructor=YUI,u.config=u.config||{bootstrap:!0,cacheUse:!0,debug:!0,doc:g,fetchCSS:!0,throwFail:!0,useBrowserConsole:!0,useNativeES5:!0,win:p},g&&!g.getElementById(n)&&((e=g.createElement("div")).innerHTML='<div id="'+n+'" style="position: absolute !important; visibility: hidden !important"></div>',YUI.Env.cssStampEl=e.firstChild,g.body?g.body.appendChild(YUI.Env.cssStampEl):h.insertBefore(YUI.Env.cssStampEl,h.firstChild)),u.config.lang=u.config.lang||"en-US",u.config.base=YUI.config.base||u.Env.getBase(u.Env._BASE_RE),o&&"mindebug".indexOf(o)||(o="min"),o=o?"-"+o:o,u.config.loaderPath=YUI.config.loaderPath||"loader/loader"+o+".js"},_setup:function(e){var t,s=this,r=[],a=YUI.Env.mods,i=s.config.core||[].concat(YUI.Env.core);for(t=0;t<i.length;t++)a[i[t]]&&r.push(i[t]);s._attach(["yui-base"]),s._attach(r),s.Loader&&w(s)},applyTo:function(e,t,s){if(!(t in d))return this.log(t+": applyTo not allowed","warn","yui"),null;var r,a,i,n=m[e];if(n){for(r=t.split("."),a=n,i=0;i<r.length;i+=1)(a=a[r[i]])||this.log("applyTo not found: "+t,"warn","yui");return a&&a.apply(n,s)}return null},add:function(e,t,s,r){r=r||{};var a,i,n,o=YUI.Env,u={name:e,fn:t,version:s,details:r},l={},d=o.versions;for(n in o.mods[e]=u,d[s]=d[s]||{},d[s][e]=u,m)m.hasOwnProperty(n)&&(l[(i=m[n]).id]||(l[i.id]=!0,(a=i.Env._loader)&&(a.moduleInfo[e]&&!a.moduleInfo[e].temp||a.addModule(r,e))));return this},_attach:function(e,t){var s,r,a,i,n,o,u,l,d,c=YUI.Env.mods,p=YUI.Env.aliases,g=this,h=YUI.Env._renderedMods,f=g.Env._loader,m=g.Env._attached,b=e.length,y=[];for(s=0;s<b;s++)if(a=c[r=e[s]],y.push(r),f&&f.conditions[r])for(l in f.conditions[r])f.conditions[r].hasOwnProperty(l)&&((d=f.conditions[r][l])&&(d.ua&&g.UA[d.ua]||d.test&&d.test(g)))&&y.push(d.name);for(b=(e=y).length,s=0;s<b;s++)if(!m[e[s]]){if(a=c[r=e[s]],p&&p[r]&&!a){g._attach(p[r]);continue}if(a){for(m[r]=!0,l=0;l<g.Env._missed.length;l++)g.Env._missed[l]===r&&(g.message("Found: "+r+" (was reported as missing earlier)","warn","yui"),g.Env._missed.splice(l,1));if(f&&h&&h[r]&&h[r].temp){for(l in f.getRequires(h[r]),n=[],f.moduleInfo[r].expanded_map)f.moduleInfo[r].expanded_map.hasOwnProperty(l)&&n.push(l);g._attach(n)}if(n=(i=a.details).requires,o=i.use,u=i.after,i.lang&&(n=n||[]).unshift("intl"),n)for(l=0;l<n.length;l++)if(!m[n[l]]){if(!g._attach(n))return!1;break}if(u)for(l=0;l<u.length;l++)if(!m[u[l]]){if(!g._attach(u,!0))return!1;break}if(a.fn)if(g.config.throwFail)a.fn(g,r);else try{a.fn(g,r)}catch(e){return g.error("Attach error: "+r,e,r),!1}if(o)for(l=0;l<o.length;l++)if(!m[o[l]]){if(!g._attach(o))return!1;break}}else f&&f.moduleInfo[r]&&(a=f.moduleInfo[r],t=!0),!t&&r&&-1===r.indexOf("skin-")&&-1===r.indexOf("css")&&(g.Env._missed.push(r),g.Env._missed=g.Array.dedupe(g.Env._missed),g.message("NOT loaded: "+r,"warn","yui"))}return!0},_delayCallback:function(t,s){var r=this,a=["event-base"];return"load"===(s=r.Lang.isObject(s)?s:{event:s}).event&&a.push("event-synthetic"),function(){var e=arguments;r._use(a,function(){r.on(s.event,function(){e[1].delayUntil=s.event,t.apply(r,e)},s.args)})}},use:function(){var e,s=o.call(arguments,0),r=s[s.length-1],t=this,a=0,i=t.Env,n=!0;if(t.Lang.isFunction(r)?(s.pop(),t.config.delayUntil&&(r=t._delayCallback(r,t.config.delayUntil))):r=null,t.Lang.isArray(s[0])&&(s=s[0]),t.config.cacheUse){for(;e=s[a++];)if(!i._attached[e]){n=!1;break}if(n)return s.length,t._notify(r,v,s),t}return t._loading?(t._useQueue=t._useQueue||new t.Queue,t._useQueue.add([s,r])):t._use(s,function(e,t){e._notify(r,t,s)}),t},_notify:function(e,t,s){if(!t.success&&this.config.loadErrorFn)this.config.loadErrorFn.call(this,this,e,t,s);else if(e)if(this.Env._missed&&this.Env._missed.length&&(t.msg="Missing modules: "+this.Env._missed.join(),t.success=!1),this.config.throwFail)e(this,t);else try{e(this,t)}catch(e){this.error("use callback error",e,s)}},_use:function(n,o){this.Array||this._attach(["yui-base"]);function e(e){var t,s,r=e||{success:!0,msg:"not dynamic"},a=!0,i=r.data;u._loading=!1,i&&(s=y,y=[],v=[],_(i),(t=y.length)&&[].concat(y).sort().join()==s.sort().join()&&(t=!1)),t&&i?(u._loading=!0,u._use(y,function(){u._attach(i)&&u._notify(o,r,i)})):(i&&(a=u._attach(i)),a&&u._notify(o,r,n)),u._useQueue&&u._useQueue.size()&&!u._loading&&u._use.apply(u,u._useQueue.next())}var t,s,r,a,u=this,l=YUI.Env,d=l.mods,i=u.Env,c=i._used,p=l.aliases,g=l._loaderQueue,h=n[0],f=u.Array,m=u.config,b=m.bootstrap,y=[],v=[],q=m.fetchCSS,_=function(e,t){var s,r,a,i,n,o=0,u=[];if(e.length){if(p){for(r=e.length,o=0;o<r;o++)p[e[o]]&&!d[e[o]]?u=[].concat(u,p[e[o]]):u.push(e[o]);e=u}for(r=e.length,o=0;o<r;o++)s=e[o],t||v.push(s),c[s]||(n=i=null,(a=d[s])?(c[s]=!0,i=a.details.requires,n=a.details.use):l._loaded[x][s]?c[s]=!0:y.push(s),i&&i.length&&_(i),n&&n.length&&_(n,1))}};if("*"!==h)return!d.loader&&!d["loader-base"]||u.Loader||u._attach(["loader"+(d.loader?"":"-base")]),b&&u.Loader&&n.length&&((s=w(u)).require(n),s.ignoreRegistered=!0,s._boot=!0,s.calculate(null,q?null:"js"),n=s.sorted,s._boot=!1),_(n),t=(t=y.length)&&(y=f.dedupe(y)).length,b&&t&&u.Loader?(u._loading=!0,(s=w(u)).onEnd=e,s.context=u,s.data=n,s.ignoreRegistered=!1,s.require(n),s.insert(null,q?null:"js")):b&&t&&u.Get&&!i.bootstrapped?(u._loading=!0,r=function(){u._loading=!1,g.running=!1,i.bootstrapped=!0,l._bootstrapping=!1,u._attach(["loader"])&&u._use(n,o)},l._bootstrapping?g.add(r):(l._bootstrapping=!0,u.Get.script(m.base+m.loaderPath,{onEnd:r}))):u._attach(n)&&e(),u;for(a in n=[],d)d.hasOwnProperty(a)&&n.push(a);return u._attach(n)&&e(),u},namespace:function(){for(var e,t,s,r,a=arguments,i=0;i<a.length;i++)if(e=this,-1<(r=a[i]).indexOf("."))for(t="YAHOO"==(s=r.split("."))[0]?1:0;t<s.length;t++)e[s[t]]=e[s[t]]||{},e=e[s[t]];else e[r]=e[r]||{},e=e[r];return e},log:u,message:u,dump:function(e){return""+e},error:function(e,t,s){var r,a=this;if(a.config.errorFn&&(r=a.config.errorFn.apply(a,arguments)),!r)throw t||new Error(e);return a.message(e,"error",""+s),a},guid:function(e){var t=this.Env._guidp+"_"+ ++this.Env._uidx;return e?e+t:t},stamp:function(e,t){var s;if(!e)return e;if(!(s=e.uniqueID&&e.nodeType&&9!==e.nodeType?e.uniqueID:"string"==typeof e?e:e._yuid)&&(s=this.guid(),!t))try{e._yuid=s}catch(e){s=null}return s},destroy:function(){var e=this;e.Event&&e.Event._unload(),delete m[e.id],delete e.Env,delete e.config}},YUI.prototype=s)s.hasOwnProperty(r)&&(YUI[r]=s[r]);YUI.applyConfig=function(e){e&&(YUI.GlobalConfig&&this.prototype.applyConfig.call(this,YUI.GlobalConfig),this.prototype.applyConfig.call(this,e),YUI.GlobalConfig=this.config)},YUI._init(),c?e(window,"load",y):y(),YUI.Env.add=e,YUI.Env.remove=t,"object"==typeof exports&&(exports.YUI=YUI)}(),YUI.add("yui-base",function(g,e){var r=g.Lang||(g.Lang={}),t=String.prototype,s=Object.prototype.toString,a={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},i=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,n=/^\s+|\s+$/g,o=/\{\s*\[(?:native code|function)\]\s*\}/i;r._isNative=function(e){return!!(g.config.useNativeES5&&e&&o.test(e))},r.isArray=r._isNative(Array.isArray)?Array.isArray:function(e){return"array"===r.type(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isDate=function(e){return"date"===r.type(e)&&"Invalid Date"!==e.toString()&&!isNaN(e)},r.isFunction=function(e){return"function"===r.type(e)},r.isNull=function(e){return null===e},r.isNumber=function(e){return"number"==typeof e&&isFinite(e)},r.isObject=function(e,t){var s=typeof e;return e&&("object"==s||!t&&("function"==s||r.isFunction(e)))||!1},r.isString=function(e){return"string"==typeof e},r.isUndefined=function(e){return void 0===e},r.isValue=function(e){var t=r.type(e);switch(t){case"number":return isFinite(e);case"null":case"undefined":return!1;default:return!!t}},r.now=Date.now||function(){return(new Date).getTime()},r.sub=function(e,s){return e.replace?e.replace(i,function(e,t){return r.isUndefined(s[t])?e:s[t]}):e},r.trim=t.trim?function(e){return e&&e.trim?e.trim():e}:function(t){try{return t.replace(n,"")}catch(e){return t}},r.trimLeft=t.trimLeft?function(e){return e.trimLeft()}:function(e){return e.replace(/^\s+/,"")},r.trimRight=t.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},r.type=function(e){return a[typeof e]||a[s.call(e)]||(e?"object":"null")};var u=g.Lang,l=Array.prototype,h=Object.prototype.hasOwnProperty;function d(t,s,e){var r,a;if(s=s||0,e||d.test(t))try{return l.slice.call(t,s)}catch(e){for(a=[],r=t.length;s<r;++s)a.push(t[s]);return a}return[t]}function c(){this._init(),this.add.apply(this,arguments)}(g.Array=d).dedupe=function(e){var t,s,r,a={},i=[];for(t=0,r=e.length;t<r;++t)s=e[t],h.call(a,s)||(a[s]=1,i.push(s));return i},d.each=d.forEach=u._isNative(l.forEach)?function(e,t,s){return l.forEach.call(e||[],t,s||g),g}:function(e,t,s){for(var r=0,a=e&&e.length||0;r<a;++r)r in e&&t.call(s||g,e[r],r,e);return g},d.hash=function(e,t){var s,r,a={},i=t&&t.length||0;for(s=0,r=e.length;s<r;++s)s in e&&(a[e[s]]=!(s<i&&s in t)||t[s]);return a},d.indexOf=u._isNative(l.indexOf)?function(e,t,s){return l.indexOf.call(e,t,s)}:function(e,t,s){var r=e.length;for((s=(0<(s=+s||0)||-1)*Math.floor(Math.abs(s)))<0&&(s+=r)<0&&(s=0);s<r;++s)if(s in e&&e[s]===t)return s;return-1},d.numericSort=function(e,t){return e-t},d.some=u._isNative(l.some)?function(e,t,s){return l.some.call(e,t,s)}:function(e,t,s){for(var r=0,a=e.length;r<a;++r)if(r in e&&t.call(s,e[r],r,e))return!0;return!1},d.test=function(e){var t=0;if(u.isArray(e))t=1;else if(u.isObject(e))try{!("length"in e)||e.tagName||e.scrollTo&&e.document||e.apply||(t=2)}catch(e){}return t},c.prototype={_init:function(){this._q=[]},next:function(){return this._q.shift()},last:function(){return this._q.pop()},add:function(){return this._q.push.apply(this._q,arguments),this},size:function(){return this._q.length}},g.Queue=c,YUI.Env._loaderQueue=YUI.Env._loaderQueue||new c;h=Object.prototype.hasOwnProperty;var f=g.Lang.isObject;g.cached=function(s,r,a){return r=r||{},function(e){var t=1<arguments.length?Array.prototype.join.call(arguments,"__"):String(e);return t in r&&(!a||r[t]!=a)||(r[t]=s.apply(s,arguments)),r[t]}},g.getLocation=function(){var e=g.config.win;return e&&e.location},g.merge=function(){for(var e,t,s=0,r=arguments.length,a={};s<r;++s)for(e in t=arguments[s])h.call(t,e)&&(a[e]=t[e]);return a},g.mix=function(e,t,s,r,a,i){var n,o,u,l,d,c,p;if(!e||!t)return e||g;if(a){if(2===a&&g.mix(e.prototype,t.prototype,s,r,0,i),u=1===a||3===a?t.prototype:t,p=1===a||4===a?e.prototype:e,!u||!p)return e}else u=t,p=e;if(n=s&&!i,r)for(l=0,c=r.length;l<c;++l)d=r[l],h.call(u,d)&&(o=!n&&d in p,i&&o&&f(p[d],!0)&&f(u[d],!0)?g.mix(p[d],u[d],s,null,0,i):!s&&o||(p[d]=u[d]));else{for(d in u)h.call(u,d)&&(o=!n&&d in p,i&&o&&f(p[d],!0)&&f(u[d],!0)?g.mix(p[d],u[d],s,null,0,i):!s&&o||(p[d]=u[d]));g.Object._hasEnumBug&&g.mix(p,u,s,g.Object._forceEnum,a,i)}return e};u=g.Lang,h=Object.prototype.hasOwnProperty;var p,m=g.Object=u._isNative(Object.create)?function(e){return Object.create(e)}:function(e){return _.prototype=e,new _},b=m._forceEnum=["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],y=m._hasEnumBug=!{valueOf:0}.propertyIsEnumerable("valueOf"),v=m._hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),q=m.owns=function(e,t){return!!e&&h.call(e,t)};function _(){}m.hasKey=q,m.keys=u._isNative(Object.keys)?Object.keys:function(e){if(!u.isObject(e))throw new TypeError("Object.keys called on a non-object");var t,s,r,a=[];if(v&&"function"==typeof e)for(s in e)q(e,s)&&"prototype"!==s&&a.push(s);else for(s in e)q(e,s)&&a.push(s);if(y)for(t=0,r=b.length;t<r;++t)q(e,s=b[t])&&a.push(s);return a},m.values=function(e){for(var t=m.keys(e),s=0,r=t.length,a=[];s<r;++s)a.push(e[t[s]]);return a},m.size=function(e){try{return m.keys(e).length}catch(e){return 0}},m.hasValue=function(e,t){return-1<g.Array.indexOf(m.values(e),t)},m.each=function(e,t,s,r){var a;for(a in e)(r||q(e,a))&&t.call(s||g,e[a],a,e);return g},m.some=function(e,t,s,r){var a;for(a in e)if((r||q(e,a))&&t.call(s||g,e[a],a,e))return!0;return!1},m.getValue=function(e,t){if(!u.isObject(e))return p;var s,r=g.Array(t),a=r.length;for(s=0;e!==p&&s<a;s++)e=e[r[s]];return e},m.setValue=function(e,t,s){var r,a=g.Array(t),i=a.length-1,n=e;if(0<=i){for(r=0;n!==p&&r<i;r++)n=n[a[r]];if(n===p)return p;n[a[r]]=s}return e},m.isEmpty=function(e){return!m.keys(Object(e)).length},YUI.Env.parseUA=function(e){function t(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))}var s,r=g.config.win,a=r&&r.navigator,i={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,accel:!1,webos:0,caja:a&&a.cajaVersion,secure:!1,os:null,nodejs:0,winjs:!("undefined"==typeof Windows||!Windows.System),touchEnabled:!1},n=e||a&&a.userAgent,o=r&&r.location,u=o&&o.href;return i.userAgent=n,i.secure=u&&0===u.toLowerCase().indexOf("https"),n&&(/windows|win32/i.test(n)?i.os="windows":/macintosh|mac_powerpc/i.test(n)?i.os="macintosh":/android/i.test(n)?i.os="android":/symbos/i.test(n)?i.os="symbos":/linux/i.test(n)?i.os="linux":/rhino/i.test(n)&&(i.os="rhino"),/KHTML/.test(n)&&(i.webkit=1),/IEMobile|XBLWP7/.test(n)&&(i.mobile="windows"),/Fennec/.test(n)&&(i.mobile="gecko"),(s=n.match(/AppleWebKit\/([^\s]*)/))&&s[1]&&(i.webkit=t(s[1]),i.safari=i.webkit,/PhantomJS/.test(n)&&(s=n.match(/PhantomJS\/([^\s]*)/))&&s[1]&&(i.phantomjs=t(s[1])),/ Mobile\//.test(n)||/iPad|iPod|iPhone/.test(n)?(i.mobile="Apple",(s=n.match(/OS ([^\s]*)/))&&s[1]&&(s=t(s[1].replace("_","."))),i.ios=s,i.os="ios",i.ipad=i.ipod=i.iphone=0,(s=n.match(/iPad|iPod|iPhone/))&&s[0]&&(i[s[0].toLowerCase()]=i.ios)):((s=n.match(/NokiaN[^\/]*|webOS\/\d\.\d/))&&(i.mobile=s[0]),/webOS/.test(n)&&(i.mobile="WebOS",(s=n.match(/webOS\/([^\s]*);/))&&s[1]&&(i.webos=t(s[1]))),/ Android/.test(n)&&(/Mobile/.test(n)&&(i.mobile="Android"),(s=n.match(/Android ([^\s]*);/))&&s[1]&&(i.android=t(s[1]))),/Silk/.test(n)&&((s=n.match(/Silk\/([^\s]*)\)/))&&s[1]&&(i.silk=t(s[1])),i.android||(i.android=2.34,i.os="Android"),/Accelerated=true/.test(n)&&(i.accel=!0))),(s=n.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/))&&s[1]&&s[2]?(i.chrome=t(s[2]),i.safari=0,"CrMo"===s[1]&&(i.mobile="chrome")):(s=n.match(/AdobeAIR\/([^\s]*)/))&&(i.air=s[0])),i.webkit||(/Opera/.test(n)?((s=n.match(/Opera[\s\/]([^\s]*)/))&&s[1]&&(i.opera=t(s[1])),(s=n.match(/Version\/([^\s]*)/))&&s[1]&&(i.opera=t(s[1])),/Opera Mobi/.test(n)&&(i.mobile="opera",(s=n.replace("Opera Mobi","").match(/Opera ([^\s]*)/))&&s[1]&&(i.opera=t(s[1]))),(s=n.match(/Opera Mini[^;]*/))&&(i.mobile=s[0])):(s=n.match(/MSIE\s([^;]*)/))&&s[1]?i.ie=t(s[1]):(s=n.match(/Gecko\/([^\s]*)/))&&(i.gecko=1,(s=n.match(/rv:([^\s\)]*)/))&&s[1]&&(i.gecko=t(s[1]))))),!r||!a||i.chrome&&i.chrome<6||(i.touchEnabled="ontouchstart"in r||"msMaxTouchPoints"in a&&0<a.msMaxTouchPoints),e||("object"==typeof process&&process.versions&&process.versions.node&&(i.os=process.platform,i.nodejs=t(process.versions.node)),YUI.Env.UA=i),i},g.UA=YUI.Env.UA||YUI.Env.parseUA(),g.UA.compareVersions=function(e,t){var s,r,a,i,n,o;if(e===t)return 0;for(r=(e+"").split("."),i=(t+"").split("."),n=0,o=Math.max(r.length,i.length);n<o;++n){if(s=parseInt(r[n],10),a=parseInt(i[n],10),isNaN(s)&&(s=0),isNaN(a)&&(a=0),s<a)return-1;if(a<s)return 1}return 0},YUI.Env.aliases={anim:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"],"anim-shape-transform":["anim-shape"],app:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","router","view","view-node-map"],attribute:["attribute-base","attribute-complex"],autocomplete:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"],base:["base-base","base-pluginhost","base-build"],cache:["cache-base","cache-offline","cache-plugin"],collection:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"],controller:["router"],dataschema:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"],datasource:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"],datatable:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"],"datatable-deprecated":["datatable-base-deprecated","datatable-datasource-deprecated","datatable-sort-deprecated","datatable-scroll-deprecated"],datatype:["datatype-date","datatype-number","datatype-xml"],"datatype-date":["datatype-date-parse","datatype-date-format","datatype-date-math"],"datatype-number":["datatype-number-parse","datatype-number-format"],"datatype-xml":["datatype-xml-parse","datatype-xml-format"],dd:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"],dom:["dom-base","dom-screen","dom-style","selector-native","selector"],editor:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"],event:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"],"event-custom":["event-custom-base","event-custom-complex"],"event-gestures":["event-flick","event-move"],handlebars:["handlebars-compiler"],highlight:["highlight-base","highlight-accentfold"],history:["history-base","history-hash","history-hash-ie","history-html5"],io:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"],json:["json-parse","json-stringify"],loader:["loader-base","loader-rollup","loader-yui3"],node:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"],pluginhost:["pluginhost-base","pluginhost-config"],querystring:["querystring-parse","querystring-stringify"],recordset:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"],resize:["resize-base","resize-proxy","resize-constrain"],slider:["slider-base","slider-value-range","clickable-rail","range-slider"],text:["text-accentfold","text-wordbreak"],widget:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]}},"3.7.3",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]}),YUI.add("get",function(c,e){var n,p,o,u=c.Lang;c.Get=p={cssOptions:{attributes:{rel:"stylesheet"},doc:c.config.linkDoc||c.config.doc,pollInterval:50},jsOptions:{autopurge:!0,doc:c.config.scriptDoc||c.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(e){var t,s,r,a,i;if(!e.abort)if(s=e,e=null,(i=this._pending)&&i.transaction.id===s)e=i.transaction,this._pending=null;else for(t=0,a=this._queue.length;t<a;++t)if((r=this._queue[t].transaction).id===s){e=r,this._queue.splice(t,1);break}e&&e.abort()},css:function(e,t,s){return this._load("css",e,t,s)},js:function(e,t,s){return this._load("js",e,t,s)},load:function(e,t,s){return this._load(null,e,t,s)},_autoPurge:function(e){e&&this._purgeNodes.length>=e&&this._purge(this._purgeNodes)},_getEnv:function(){var e=c.config.doc,t=c.UA;return this._env={async:e&&!0===e.createElement("script").async||10<=t.ie,cssFail:9<=t.gecko||0<=t.compareVersions(t.webkit,535.24),cssLoad:(!t.gecko&&!t.webkit||9<=t.gecko||0<=t.compareVersions(t.webkit,535.24))&&!(t.chrome&&t.chrome<=18),preservesScriptOrder:!!(t.gecko||t.opera||t.ie&&10<=t.ie)}},_getTransaction:function(e,t){var s,r,a,i,n=[];for(u.isArray(e)||(e=[e]),(t=c.merge(this.options,t)).attributes=c.merge(this.options.attributes,t.attributes),s=0,r=e.length;s<r;++s){if(a={attributes:{}},"string"==typeof(i=e[s]))a.url=i;else{if(!i.url)continue;c.mix(a,i,!1,null,0,!0),i=i.url}c.mix(a,t,!1,null,0,!0),a.type||(this.REGEX_CSS.test(i)?a.type="css":(this.REGEX_JS.test(i),a.type="js")),c.mix(a,"js"===a.type?this.jsOptions:this.cssOptions,!1,null,0,!0),a.attributes.id||(a.attributes.id=c.guid()),a.win?a.doc=a.win.document:a.win=a.doc.defaultView||a.doc.parentWindow,a.charset&&(a.attributes.charset=a.charset),n.push(a)}return new o(n,t)},_load:function(e,t,s,r){var a;return"function"==typeof s&&(r=s,s={}),(s=s||{}).type=e,s._onFinish=p._onTransactionFinish,this._env||this._getEnv(),a=this._getTransaction(t,s),this._queue.push({callback:r,transaction:a}),this._next(),a},_onTransactionFinish:function(){p._pending=null,p._next()},_next:function(){var e;this._pending||(e=this._queue.shift())&&(this._pending=e).transaction.execute(e.callback)},_purge:function(e){for(var t,s,r=this._purgeNodes,a=e!==r;s=e.pop();)s._yuiget_finished&&(s.parentNode&&s.parentNode.removeChild(s),a&&-1<(t=c.Array.indexOf(r,s))&&r.splice(t,1))}},p.script=p.js,p.Transaction=o=function(e,t){var s=this;s.id=o._lastId+=1,s.data=t.data,s.errors=[],s.nodes=[],s.options=t,s.requests=e,s._callbacks=[],s._queue=[],s._reqsWaiting=0,s.tId=s.id,s.win=t.win||c.config.win},o._lastId=0,o.prototype={_state:"new",abort:function(e){this._pending=null,this._pendingCSS=null,this._pollTimer=clearTimeout(this._pollTimer),this._queue=[],this._reqsWaiting=0,this.errors.push({error:e||"Aborted"}),this._finish()},execute:function(e){var t,s,r,a,i=this,n=i.requests,o=i._state;if("done"!==o){if(e&&i._callbacks.push(e),"executing"!==o){for(i._state="executing",i._queue=r=[],i.options.timeout&&(i._timeout=setTimeout(function(){i.abort("Timeout")},i.options.timeout)),i._reqsWaiting=n.length,t=0,s=n.length;t<s;++t)(a=n[t]).async||"css"===a.type?i._insert(a):r.push(a);i._next()}}else e&&e(i.errors.length?i.errors:null,i)},purge:function(){p._purge(this.nodes)},_createNode:function(e,t,s){var r,a,i=s.createElement(e);for(r in n||((a=s.createElement("div")).setAttribute("class","a"),n="a"===a.className?{}:{for:"htmlFor",class:"className"}),t)t.hasOwnProperty(r)&&i.setAttribute(n[r]||r,t[r]);return i},_finish:function(){var e,t,s,r=this.errors.length?this.errors:null,a=this.options,i=a.context||this;if("done"!==this._state){for(this._state="done",t=0,s=this._callbacks.length;t<s;++t)this._callbacks[t].call(i,r,this);e=this._getEventData(),r?(a.onTimeout&&"Timeout"===r[r.length-1].error&&a.onTimeout.call(i,e),a.onFailure&&a.onFailure.call(i,e)):a.onSuccess&&a.onSuccess.call(i,e),a.onEnd&&a.onEnd.call(i,e),a._onFinish&&a._onFinish()}},_getEventData:function(e){return e?c.merge(this,{abort:this.abort,purge:this.purge,request:e,url:e.url,win:e.win}):this},_getInsertBefore:function(e){var t,s,r=e.doc,a=e.insertBefore;return a?"string"==typeof a?r.getElementById(a):a:(a=(t=p._insertCache)[s=c.stamp(r)])?a:(a=r.getElementsByTagName("base")[0])?t[s]=a:(a=r.head||r.getElementsByTagName("head")[0])?(a.appendChild(r.createTextNode("")),t[s]=a.lastChild):t[s]=r.getElementsByTagName("script")[0]},_insert:function(e){var t,s,r=p._env,a=this._getInsertBefore(e),i="js"===e.type,n=e.node,o=this,u=c.UA;function l(){o._progress("Failed to load "+e.url,e)}function d(){t&&clearTimeout(t),o._progress(null,e)}n||(s=i?"script":!r.cssLoad&&u.gecko?"style":"link",n=e.node=this._createNode(s,e.attributes,e.doc)),i?(n.setAttribute("src",e.url),e.async?n.async=!0:(r.async&&(n.async=!1),r.preservesScriptOrder||(this._pending=e))):!r.cssLoad&&u.gecko?n.innerHTML=(e.attributes.charset?'@charset "'+e.attributes.charset+'";':"")+'@import "'+e.url+'";':n.setAttribute("href",e.url),i&&u.ie&&(u.ie<9||document.documentMode&&document.documentMode<9)?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=null,d())}:i||r.cssLoad?(10<=u.ie?(n.onerror=function(){setTimeout(l,0)},n.onload=function(){setTimeout(d,0)}):(n.onerror=l,n.onload=d),r.cssFail||i||(t=setTimeout(l,e.timeout||3e3))):this._poll(e),this.nodes.push(n),a.parentNode.insertBefore(n,a)},_next:function(){this._pending||(this._queue.length?this._insert(this._queue.shift()):this._reqsWaiting||this._finish())},_poll:function(e){var t,s,r,a,i,n=this,o=n._pendingCSS,u=c.UA.webkit;if(!e||((o=o||(n._pendingCSS=[])).push(e),!n._pollTimer)){for(n._pollTimer=null,t=0;t<o.length;++t)if(a=o[t],u){for(s=(i=a.doc.styleSheets).length,r=a.node.href;0<=--s;)if(i[s].href===r){o.splice(t,1),t-=1,n._progress(null,a);break}}else try{!!a.node.sheet.cssRules,o.splice(t,1),t-=1,n._progress(null,a)}catch(e){}o.length&&(n._pollTimer=setTimeout(function(){n._poll.call(n)},n.options.pollInterval))}},_progress:function(e,t){var s=this.options;e&&(t.error=e,this.errors.push({error:e,request:t})),t.node._yuiget_finished=t.finished=!0,s.onProgress&&s.onProgress.call(s.context||this,this._getEventData(t)),t.autopurge&&(p._autoPurge(this.options.purgethreshold),p._purgeNodes.push(t.node)),this._pending===t&&(this._pending=null),this._reqsWaiting-=1,this._next()}}},"3.7.3",{requires:["yui-base"]}),YUI.add("features",function(u,e){var l={};u.mix(u.namespace("Features"),{tests:l,add:function(e,t,s){l[e]=l[e]||{},l[e][t]=s},all:function(s,r){var e=l[s],a=[];return e&&u.Object.each(e,function(e,t){a.push(t+":"+(u.Features.test(s,t,r)?1:0))}),a.length?a.join(";"):""},test:function(e,t,s){s=s||[];var r,a,i,n=l[e],o=n&&n[t];return o&&(r=o.result,u.Lang.isUndefined(r)&&((a=o.ua)&&(r=u.UA[a]),!(i=o.test)||a&&!r||(r=i.apply(u,s)),o.result=r)),r}});var t=u.Features.add;t("load","0",{name:"app-transitions-native",test:function(e){var t=e.config.doc,s=t?t.documentElement:null;return!(!s||!s.style)&&("MozTransition"in s.style||"WebkitTransition"in s.style||"transition"in s.style)},trigger:"app-transitions"}),t("load","1",{name:"autocomplete-list-keys",test:function(e){return!(e.UA.ios||e.UA.android)},trigger:"autocomplete-list"}),t("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"}),t("load","3",{name:"dom-style-ie",test:function(e){var t=e.Features.test,s=e.Features.add,r=e.config.win,a=e.config.doc;return s("style","computedStyle",{test:function(){return r&&"getComputedStyle"in r}}),s("style","opacity",{test:function(){return a&&"opacity"in a.documentElement.style}}),!t("style","opacity")&&!t("style","computedStyle")},trigger:"dom-style"}),t("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"}),t("load","5",{name:"event-base-ie",test:function(e){var t=e.config.doc&&e.config.doc.implementation;return t&&!t.hasFeature("Events","2.0")},trigger:"node-base"}),t("load","6",{name:"graphics-canvas",test:function(e){var t=e.config.doc,s=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return(!(t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))||s)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"}),t("load","7",{name:"graphics-canvas-default",test:function(e){var t=e.config.doc,s=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return(!(t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))||s)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"}),t("load","8",{name:"graphics-svg",test:function(e){var t=e.config.doc,s=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(s||!r)},trigger:"graphics"}),t("load","9",{name:"graphics-svg-default",test:function(e){var t=e.config.doc,s=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(s||!r)},trigger:"graphics"}),t("load","10",{name:"graphics-vml",test:function(e){var t=e.config.doc,s=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!s||!s.getContext||!s.getContext("2d"))},trigger:"graphics"}),t("load","11",{name:"graphics-vml-default",test:function(e){var t=e.config.doc,s=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!s||!s.getContext||!s.getContext("2d"))},trigger:"graphics"}),t("load","12",{name:"history-hash-ie",test:function(e){var t=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange"in e.config.win)||!t||t<8)},trigger:"history-hash"}),t("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"}),t("load","14",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"}),t("load","15",{name:"selector-css2",test:function(e){var t=e.config.doc;return t&&!("querySelectorAll"in t)},trigger:"selector"}),t("load","16",{name:"transition-timer",test:function(e){var t=e.config.doc,s=t?t.documentElement:null,r=!0;return s&&s.style&&(r=!("MozTransition"in s.style||"WebkitTransition"in s.style||"transition"in s.style)),r},trigger:"transition"}),t("load","17",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"}),t("load","18",{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"}),t("load","19",{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"})},"3.7.3",{requires:["yui-base"]}),YUI.add("intl-base",function(o,e){var u=/[, ]/;o.mix(o.namespace("Intl"),{lookupBestLang:function(e,s){var t,r,a,i;function n(e){var t;for(t=0;t<s.length;t+=1)if(e.toLowerCase()===s[t].toLowerCase())return s[t]}for(o.Lang.isString(e)&&(e=e.split(u)),t=0;t<e.length;t+=1)if((r=e[t])&&"*"!==r)for(;0<r.length;){if(a=n(r))return a;if(!(0<=(i=r.lastIndexOf("-"))))break;r=r.substring(0,i),2<=i&&"-"===r.charAt(i-2)&&(r=r.substring(0,i-2))}return""}})},"3.7.3",{requires:["yui-base"]}),YUI.add("yui-log",function(e,t){var p=e,g="yui:log",h="undefined",f={debug:1,info:1,warn:1,error:1};p.log=function(e,t,s,r){var a,i,n,o,u,l=p,d=l.config,c=l.fire?l:YUI.Env.globalEvents;return d.debug&&(void 0!==(s=s||"")&&(i=d.logExclude,!(n=d.logInclude)||s in n?n&&s in n?a=!n[s]:i&&s in i&&(a=i[s]):a=1),a||(d.useBrowserConsole&&(o=s?s+": "+e:e,l.Lang.isFunction(d.logFn)?d.logFn.call(l,e,t,s):typeof console!=h&&console.log?(u=t&&console[t]&&t in f?t:"log",console[u](o)):typeof opera!=h&&opera.postError(o)),c&&!r&&(c!=l||c.getEvent(g)||c.publish(g,{broadcast:2}),c.fire(g,{msg:e,cat:t,src:s})))),l},p.message=function(){return p.log.apply(p,arguments)}},"3.7.3",{requires:["yui-base"]}),YUI.add("yui-later",function(l,e){var d=[];l.later=function(e,t,s,r,a){e=e||0,r=l.Lang.isUndefined(r)?d:l.Array(r),t=t||l.config.win||l;function i(){n||(o.apply?o.apply(t,r||d):o(r[0],r[1],r[2],r[3]))}var n=!1,o=t&&l.Lang.isString(s)?t[s]:s,u=a?setInterval(i,e):setTimeout(i,e);return{id:u,interval:a,cancel:function(){n=!0,this.interval?clearInterval(u):clearTimeout(u)}}},l.Lang.later=l.later},"3.7.3",{requires:["yui-base"]}),YUI.add("loader-base",function(k,e){function t(e,t,s){var r="2in3."+(e||"4")+"/"+(t||"2.9.0")+n,a=s&&s.base?s.base:o,i=s&&s.comboBase?s.comboBase:u;l.yui2.base=a+r,l.yui2.root=r,l.yui2.comboBase=i}function s(e,t){var s=(e||"gallery-2012.10.10-19-59")+n,r=t&&t.base?t.base:o,a=t&&t.comboBase?t.comboBase:u;l.gallery.base=r+s,l.gallery.root=s,l.gallery.comboBase=a}var r,n,a,o,u,i,l;YUI.Env[k.version]||(r=k.version,a=r+(n="/build/"),o=k.Env.base,u=o+"combo?",i={version:r,root:a,base:k.Env.base,comboBase:u,skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["cssreset","cssfonts","cssgrids","cssbase","cssreset-context","cssfonts-context"]},groups:{},patterns:{}},(l=i.groups)[r]={},l.gallery={ext:!1,combine:!0,comboBase:u,update:s,patterns:{"gallery-":{},"lang/gallery-":{},"gallerycss-":{type:"css"}}},l.yui2={combine:!0,ext:!1,comboBase:u,update:t,patterns:{"yui2-":{configFn:function(e){/-skin|reset|fonts|grids|base/.test(e.name)&&(e.type="css",e.path=e.path.replace(/\.js/,".css"),e.path=e.path.replace(/\/yui2-skin/,"/assets/skins/sam/yui2-skin"))}}}},s(),t(),YUI.Env[r]=i);function I(e,t,s,r){var a=e+"/"+t;return r||(a+="-min"),a+="."+(s||O)}var S={},j=[],U=YUI.Env,d=U._loaded,O="css",R="js",P="intl",c=k.version,L=k.Object,Y=L.each,M=k.Array,p=U._loaderQueue,g=U[c],A=k.Lang,F=U.mods;YUI.Env._cssLoaded||(YUI.Env._cssLoaded={}),k.Env.meta=g,k.Loader=function(e){var t=this;e=e||{},g.md5,t.context=k,t.base=k.Env.meta.base+k.Env.meta.root,t.comboBase=k.Env.meta.comboBase,t.combine=e.base&&-1<e.base.indexOf(t.comboBase.substr(0,20)),t.comboSep="&",t.maxURLLength=1024,t.ignoreRegistered=e.ignoreRegistered,t.root=k.Env.meta.root,t.timeout=0,t.forceMap={},t.allowRollup=!1,t.filters={},t.required={},t.patterns={},t.moduleInfo={},t.groups=k.merge(k.Env.meta.groups),t.skin=k.merge(k.Env.meta.skin),t.conditions={},t.config=e,t._internal=!0,t._populateCache(),t.loaded=d[c],t.async=!0,t._inspectPage(),t._internal=!1,t._config(e),t.forceMap=t.force?k.Array.hash(t.force):{},t.testresults=null,k.config.tests&&(t.testresults=k.config.tests),t.sorted=[],t.dirty=!0,t.inserted={},t.skipped={},t.tested={},t.ignoreRegistered&&t._resetModules()},k.Loader.prototype={_populateCache:function(){var e,t=g.modules,s=U._renderedMods;if(s&&!this.ignoreRegistered){for(e in s)s.hasOwnProperty(e)&&(this.moduleInfo[e]=k.merge(s[e]));for(e in s=U._conditions)s.hasOwnProperty(e)&&(this.conditions[e]=k.merge(s[e]))}else for(e in t)t.hasOwnProperty(e)&&this.addModule(t[e],e)},_resetModules:function(){var e,t,s,r,a,i=this;for(e in i.moduleInfo)if(i.moduleInfo.hasOwnProperty(e)){if(r=(s=i.moduleInfo[e]).name,(a=YUI.Env.mods[r]?YUI.Env.mods[r].details:null)&&(i.moduleInfo[r]._reset=!0,i.moduleInfo[r].requires=a.requires||[],i.moduleInfo[r].optional=a.optional||[],i.moduleInfo[r].supersedes=a.supercedes||[]),s.defaults)for(t in s.defaults)s.defaults.hasOwnProperty(t)&&s[t]&&(s[t]=s.defaults[t]);delete s.langCache,delete s.skinCache,s.skinnable&&i._addSkin(i.skin.defaultSkin,s.name)}},REGEX_CSS:/\.css(?:[?;].*)?$/i,FILTER_DEFS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"},COVERAGE:{searchExp:"-min\\.js",replaceStr:"-coverage.js"}},_inspectPage:function(){var e,t,s,r,a,i=this;for(a in i.moduleInfo)i.moduleInfo.hasOwnProperty(a)&&(e=i.moduleInfo[a]).type&&e.type===O&&i.isCSSLoaded(e.name)&&(i.loaded[a]=!0);for(a in F)F.hasOwnProperty(a)&&(e=F[a]).details&&(t=i.moduleInfo[e.name],s=e.details.requires,r=t&&t.requires,t?!t._inspected&&s&&r.length!==s.length&&delete t.expanded:t=i.addModule(e.details,a),t._inspected=!0)},_requires:function(e,t){var s,r,a,i,n=this.moduleInfo,o=n[e],u=n[t];if(!o||!u)return!1;if(r=o.expanded_map,(a=o.after_map)&&t in a)return!0;if((a=u.after_map)&&e in a)return!1;if(i=n[t]&&n[t].supersedes)for(s=0;s<i.length;s++)if(this._requires(e,i[s]))return!0;if(i=n[e]&&n[e].supersedes)for(s=0;s<i.length;s++)if(this._requires(t,i[s]))return!1;return!!(r&&t in r)||!(!o.ext||o.type!==O||u.ext||u.type!==O)},_config:function(e){var t,s,r,a,i,n,o,u,l=this,d=[];if(e)for(t in e)if(e.hasOwnProperty(t))if(r=e[t],"require"===t)l.require(r);else if("skin"===t)"string"==typeof r&&(l.skin.defaultSkin=e.skin,r={defaultSkin:r}),k.mix(l.skin,r,!0);else if("groups"===t){for(s in r)if(r.hasOwnProperty(s)&&(n=r[o=s],l.addGroup(n,o),n.aliases))for(a in n.aliases)n.aliases.hasOwnProperty(a)&&l.addAlias(n.aliases[a],a)}else if("modules"===t)for(s in r)r.hasOwnProperty(s)&&l.addModule(r[s],s);else if("aliases"===t)for(s in r)r.hasOwnProperty(s)&&l.addAlias(r[s],s);else"gallery"===t?this.groups.gallery.update(r,e):"yui2"===t||"2in3"===t?this.groups.yui2.update(e["2in3"],e.yui2,e):l[t]=r;if(i=l.filter,A.isString(i)&&(i=i.toUpperCase(),l.filterName=i,l.filter=l.FILTER_DEFS[i],"DEBUG"===i&&l.require("yui-log","dump")),l.filterName&&l.coverage&&"COVERAGE"===l.filterName&&A.isArray(l.coverage)&&l.coverage.length){for(t=0;t<l.coverage.length;t++)u=l.coverage[t],l.moduleInfo[u]&&l.moduleInfo[u].use?d=[].concat(d,l.moduleInfo[u].use):d.push(u);l.filters=l.filters||{},k.Array.each(d,function(e){l.filters[e]=l.FILTER_DEFS.COVERAGE}),l.filterName="RAW",l.filter=l.FILTER_DEFS[l.filterName]}},formatSkin:function(e,t){var s="skin-"+e;return t&&(s=s+"-"+t),s},_addSkin:function(e,t,s){var r,a,i,n,o=this.moduleInfo,u=this.skin,l=o[t]&&o[t].ext;return t&&(o[i=this.formatSkin(e,t)]||(a=(r=o[t]).pkg||t,n={skin:!0,name:i,group:r.group,type:"css",after:u.after,path:(s||a)+"/"+u.base+e+"/"+t+".css",ext:l},r.base&&(n.base=r.base),r.configFn&&(n.configFn=r.configFn),this.addModule(n,i))),i},addAlias:function(e,t){YUI.Env.aliases[t]=e,this.addModule({name:t,use:e})},addGroup:function(e,t){var s,r,a=e.modules;if(t=t||e.name,e.name=t,(this.groups[t]=e).patterns)for(s in e.patterns)e.patterns.hasOwnProperty(s)&&(e.patterns[s].group=t,this.patterns[s]=e.patterns[s]);if(a)for(s in a)a.hasOwnProperty(s)&&("string"==typeof(r=a[s])&&(r={name:s,fullpath:r}),r.group=t,this.addModule(r,s))},addModule:function(e,t){t=t||e.name,"string"==typeof e&&(e={name:t,fullpath:e});var s,r,a,i,n,o,u,l,d,c,p,g,h,f,m,b,y,v,q,_,w,x,E=this.conditions;if(this.moduleInfo[t]&&this.moduleInfo[t].temp&&(e=k.merge(this.moduleInfo[t],e)),e.name=t,!e||!e.name)return null;if(e.type||(e.type=R,(w=e.path||e.fullpath)&&this.REGEX_CSS.test(w)&&(e.type=O)),e.path||e.fullpath||(e.path=I(t,t,e.type)),e.supersedes=e.supersedes||e.use,e.ext="ext"in e?e.ext:!this._internal,s=e.submodules,(this.moduleInfo[t]=e).requires=e.requires||[],this.requires)for(r=0;r<this.requires.length;r++)e.requires.push(this.requires[r]);if(e.group&&this.groups&&this.groups[e.group]&&(_=this.groups[e.group]).requires)for(r=0;r<_.requires.length;r++)e.requires.push(_.requires[r]);if(e.defaults||(e.defaults={requires:e.requires?[].concat(e.requires):null,supersedes:e.supersedes?[].concat(e.supersedes):null,optional:e.optional?[].concat(e.optional):null}),e.skinnable&&e.ext&&e.temp&&(v=this._addSkin(this.skin.defaultSkin,t),e.requires.unshift(v)),e.requires.length&&(e.requires=this.filterRequires(e.requires)||[]),!e.langPack&&e.lang)for(p=M(e.lang),c=0;c<p.length;c++)b=p[c],g=this.getLangPackName(b,t),u=(u=this.moduleInfo[g])||this._addLangPack(b,e,g);if(s){for(r in n=e.supersedes||[],a=0,s)if(s.hasOwnProperty(r)){if((o=s[r]).path=o.path||I(t,r,e.type),o.pkg=t,o.group=e.group,o.supersedes&&(n=n.concat(o.supersedes)),u=this.addModule(o,r),n.push(r),u.skinnable){if(e.skinnable=!0,(y=this.skin.overrides)&&y[r])for(c=0;c<y[r].length;c++)v=this._addSkin(y[r][c],r,t),n.push(v);v=this._addSkin(this.skin.defaultSkin,r,t),n.push(v)}if(o.lang&&o.lang.length)for(p=M(o.lang),c=0;c<p.length;c++)b=p[c],g=this.getLangPackName(b,t),h=this.getLangPackName(b,r),u=(u=this.moduleInfo[g])||this._addLangPack(b,e,g),h in(f=f||M.hash(u.supersedes))||u.supersedes.push(h),e.lang=e.lang||[],b in(m=m||M.hash(e.lang))||e.lang.push(b),g=this.getLangPackName("",t),h=this.getLangPackName("",r),u=(u=this.moduleInfo[g])||this._addLangPack(b,e,g),h in f||u.supersedes.push(h);a++}e.supersedes=M.dedupe(n),this.allowRollup&&(e.rollup=a<4?a:Math.min(a-1,4))}if(l=e.plugins)for(r in l)l.hasOwnProperty(r)&&((d=l[r]).pkg=t,d.path=d.path||I(t,r,e.type),d.requires=d.requires||[],d.group=e.group,this.addModule(d,r),e.skinnable&&this._addSkin(this.skin.defaultSkin,r,t));if(e.condition)for(i=e.condition.trigger,YUI.Env.aliases[i]&&(i=YUI.Env.aliases[i]),k.Lang.isArray(i)||(i=[i]),r=0;r<i.length;r++)x=i[r],q=e.condition.when,E[x]=E[x]||{},E[x][t]=e.condition,q&&"after"!==q?"instead"===q&&(e.supersedes=e.supersedes||[],e.supersedes.push(x)):(e.after=e.after||[],e.after.push(x));return e.supersedes&&(e.supersedes=this.filterRequires(e.supersedes)),e.after&&(e.after=this.filterRequires(e.after),e.after_map=M.hash(e.after)),e.configFn&&!1===e.configFn(e)&&(delete this.moduleInfo[t],delete U._renderedMods[t],e=null),e&&(U._renderedMods||(U._renderedMods={}),U._renderedMods[t]=k.mix(U._renderedMods[t]||{},e),U._conditions=E),e},require:function(e){var t="string"==typeof e?M(arguments):e;this.dirty=!0,this.required=k.merge(this.required,M.hash(this.filterRequires(t))),this._explodeRollups()},_explodeRollups:function(){var e,t,s,r,a,i,n,o=this,u=o.required;if(!o.allowRollup){for(s in u)if(u.hasOwnProperty(s)&&(e=o.getModule(s))&&e.use)for(i=e.use.length,r=0;r<i;r++)if((t=o.getModule(e.use[r]))&&t.use)for(n=t.use.length,a=0;a<n;a++)u[t.use[a]]=!0;else u[e.use[r]]=!0;o.required=u}},filterRequires:function(e){if(e){k.Lang.isArray(e)||(e=[e]),e=k.Array(e);var t,s,r,a,i=[];for(t=0;t<e.length;t++)if((s=this.getModule(e[t]))&&s.use)for(r=0;r<s.use.length;r++)(a=this.getModule(s.use[r]))&&a.use&&a.name!==s.name?i=k.Array.dedupe([].concat(i,this.filterRequires(a.use))):i.push(s.use[r]);else i.push(e[t]);e=i}return e},getRequires:function(e){if(!e)return j;if(e._parsed)return e.expanded||j;var t,s,r,a,i,n,o,u,l,d,c,p,g,h,f,m,b,y,v=this.testresults,q=e.name,_=F[q]&&F[q].details,w=e.lang||e.intl,x=this.moduleInfo,E=k.Features&&k.Features.tests.load;if(e.temp&&_&&(c=e,(e=this.addModule(_,q)).group=c.group,e.pkg=c.pkg,delete e.expanded),y=!((!this.lang||e.langCache===this.lang)&&e.skinCache===this.skin.defaultSkin),e.expanded&&!y)return e.expanded;for(u=[],b={},d=this.filterRequires(e.requires),e.lang&&(u.unshift("intl"),d.unshift("intl"),w=!0),p=this.filterRequires(e.optional),e._parsed=!0,e.langCache=this.lang,e.skinCache=this.skin.defaultSkin,t=0;t<d.length;t++)if(!b[d[t]]&&(u.push(d[t]),b[d[t]]=!0,s=this.getModule(d[t]))){a=this.getRequires(s),w=w||s.expanded_map&&P in s.expanded_map;for(r=0;r<a.length;r++)u.push(a[r])}if(d=this.filterRequires(e.supersedes))for(t=0;t<d.length;t++)if(!b[d[t]]&&(e.submodules&&u.push(d[t]),b[d[t]]=!0,s=this.getModule(d[t]))){a=this.getRequires(s),w=w||s.expanded_map&&P in s.expanded_map;for(r=0;r<a.length;r++)u.push(a[r])}if(p&&this.loadOptional)for(t=0;t<p.length;t++)if(!b[p[t]]&&(u.push(p[t]),b[p[t]]=!0,s=x[p[t]])){a=this.getRequires(s),w=w||s.expanded_map&&P in s.expanded_map;for(r=0;r<a.length;r++)u.push(a[r])}if(o=this.conditions[q])if(e._parsed=!1,v&&E)Y(v,function(e,t){var s=E[t].name;b[s]||E[t].trigger!==q||e&&E[t]&&(b[s]=!0,u.push(s))});else for(t in o)if(o.hasOwnProperty(t)&&!b[t]&&((l=o[t])&&(!l.ua&&!l.test||l.ua&&k.UA[l.ua]||l.test&&l.test(k,d)))&&(b[t]=!0,u.push(t),s=this.getModule(t)))for(a=this.getRequires(s),r=0;r<a.length;r++)u.push(a[r]);if(e.skinnable){for(t in h=this.skin.overrides,YUI.Env.aliases)YUI.Env.aliases.hasOwnProperty(t)&&-1<k.Array.indexOf(YUI.Env.aliases[t],q)&&(f=t);if(h&&(h[q]||f&&h[f]))for(m=q,h[f]&&(m=f),t=0;t<h[m].length;t++)g=this._addSkin(h[m][t],q),this.isCSSLoaded(g,this._boot)||u.push(g);else g=this._addSkin(this.skin.defaultSkin,q),this.isCSSLoaded(g,this._boot)||u.push(g)}return e._parsed=!1,w&&(e.lang&&!e.langPack&&k.Intl&&(n=k.Intl.lookupBestLang(this.lang||"",e.lang),(i=this.getLangPackName(n,q))&&u.unshift(i)),u.unshift(P)),e.expanded_map=M.hash(u),e.expanded=L.keys(e.expanded_map),e.expanded},isCSSLoaded:function(e,t){if(!e||!YUI.Env.cssStampEl||!t&&this.ignoreRegistered)return!1;var s=YUI.Env.cssStampEl,r=!1,a=YUI.Env._cssLoaded[e],i=s.currentStyle;return void 0!==a?a:(s.className=e,(i=i||k.config.doc.defaultView.getComputedStyle(s,null))&&"none"===i.display&&(r=!0),s.className="",YUI.Env._cssLoaded[e]=r)},getProvides:function(e){var t,s,r=this.getModule(e);return r?(r&&!r.provides&&(t={},(s=r.supersedes)&&M.each(s,function(e){k.mix(t,this.getProvides(e))},this),t[e]=!0,r.provides=t),r.provides):S},calculate:function(e,t){(e||t||this.dirty)&&(e&&this._config(e),this._init||this._setup(),this._explode(),this.allowRollup?this._rollup():this._explodeRollups(),this._reduce(),this._sort())},_addLangPack:function(e,t,s){var r,a=t.name;return this.moduleInfo[s]||(r={path:I(t.pkg||a,s,R,!0),intl:!0,langPack:!0,ext:t.ext,group:t.group,supersedes:[]},t.root&&(r.root=t.root),t.base&&(r.base=t.base),t.configFn&&(r.configFn=t.configFn),this.addModule(r,s),e&&(k.Env.lang=k.Env.lang||{},k.Env.lang[e]=k.Env.lang[e]||{},k.Env.lang[e][a]=!0)),this.moduleInfo[s]},_setup:function(){var e,t,s,r,a,i,n=this.moduleInfo;for(e in n)n.hasOwnProperty(e)&&(r=n[e])&&(r.requires=M.dedupe(r.requires),r.lang&&(i=this.getLangPackName("",e),this._addLangPack(null,r,i)));for(s in a={},this.ignoreRegistered||k.mix(a,U.mods),this.ignore&&k.mix(a,M.hash(this.ignore)),a)a.hasOwnProperty(s)&&k.mix(a,this.getProvides(s));if(this.force)for(t=0;t<this.force.length;t++)this.force[t]in a&&delete a[this.force[t]];k.mix(this.loaded,a),this._init=!0},getLangPackName:function(e,t){return"lang/"+t+(e?"_"+e:"")},_explode:function(){var e,t,s,r,a=this.required,i={},n=this;for(s in n.dirty=!1,n._explodeRollups(),a=n.required)a.hasOwnProperty(s)&&(i[s]||(i[s]=!0,(e=n.getModule(s))&&((r=e.expound)&&(a[r]=n.getModule(r),t=n.getRequires(a[r]),k.mix(a,M.hash(t))),t=n.getRequires(e),k.mix(a,M.hash(t)))))},_patternTest:function(e,t){return-1<e.indexOf(t)},getModule:function(e){if(!e)return null;var t,s,r,a=this.moduleInfo[e],i=this.patterns;if(!a||a&&a.ext)for(r in i)if(i.hasOwnProperty(r)&&((t=i[r]).test||(t.test=this._patternTest),t.test(e,r))){s=t;break}return a?s&&a&&s.configFn&&!a.configFn&&(a.configFn=s.configFn,a.configFn(a)):s&&(t.action?t.action.call(this,e,r):(a=this.addModule(k.merge(s),e),s.configFn&&(a.configFn=s.configFn),a.temp=!0)),a},_rollup:function(){},_reduce:function(e){e=e||this.required;var t,s,r,a,i=this.loadType,n=!!this.ignore&&M.hash(this.ignore);for(t in e)if(e.hasOwnProperty(t)&&(a=this.getModule(t),((this.loaded[t]||F[t])&&!this.forceMap[t]&&!this.ignoreRegistered||i&&a&&a.type!==i)&&delete e[t],n&&n[t]&&delete e[t],r=a&&a.supersedes))for(s=0;s<r.length;s++)r[s]in e&&delete e[r[s]];return e},_finish:function(e,t){p.running=!1;var s=this.onEnd;s&&s.call(this.context,{msg:e,data:this.data,success:t}),this._continue()},_onSuccess:function(){var e,t,s,r,a,i=this,n=k.merge(i.skipped),o=[],u=i.requireRegistration;for(r in n)n.hasOwnProperty(r)&&delete i.inserted[r];for(r in i.skipped={},i.inserted)i.inserted.hasOwnProperty(r)&&(!(a=i.getModule(r))||!u||a.type!==R||r in YUI.Env.mods?k.mix(i.loaded,i.getProvides(r)):o.push(r));e=i.onSuccess,s=o.length?"notregistered":"success",t=!o.length,e&&e.call(i.context,{msg:s,data:i.data,success:t,failed:o,skipped:n}),i._finish(s,t)},_onProgress:function(e){var t;if(e.data&&e.data.length)for(t=0;t<e.data.length;t++)e.data[t]=this.getModule(e.data[t].name);this.onProgress&&this.onProgress.call(this.context,{name:e.url,data:e.data})},_onFailure:function(e){for(var t=this.onFailure,s=[],r=0,a=e.errors.length;r<a;r++)s.push(e.errors[r].error);s=s.join(","),t&&t.call(this.context,{msg:s,data:this.data,success:!1}),this._finish(s,!1)},_onTimeout:function(){var e=this.onTimeout;e&&e.call(this.context,{msg:"timeout",data:this.data,success:!1})},_sort:function(){for(var e,t,s,r,a,i,n,o=L.keys(this.required),u={},l=0;;){for(e=o.length,i=!1,r=l;r<e;r++){for(t=o[r],a=r+1;a<e;a++)if(!u[n=t+o[a]]&&this._requires(t,o[a])){s=o.splice(a,1),o.splice(r,0,s[0]),i=u[n]=!0;break}if(i)break;l++}if(!i)break}this.sorted=o},_insert:function(e,t,s,r){e&&this._config(e);var u,a,i=this.resolve(!r),l=this,d=0,c=0,p={};if(l._refetch=[],s&&(i[s===R?O:R]=[]),l.fetchCSS||(i.css=[]),i.js.length&&d++,i.css.length&&d++,a=function(e){c++;var t,s,r,a={},i=0,n=0,o="";if(e&&e.errors)for(i=0;i<e.errors.length;i++)a[o=e.errors[i].request?e.errors[i].request.url:e.errors[i]]=o;if(e&&e.data&&e.data.length&&"success"===e.type)for(i=0;i<e.data.length;i++)l.inserted[e.data[i].name]=!0,(e.data[i].lang||e.data[i].skinnable)&&(delete l.inserted[e.data[i].name],l._refetch.push(e.data[i].name));if(c===d){if(l._loading=null,l._refetch.length){for(i=0;i<l._refetch.length;i++)for(u=l.getRequires(l.getModule(l._refetch[i])),n=0;n<u.length;n++)l.inserted[u[n]]||(p[u[n]]=u[n]);if((p=k.Object.keys(p)).length){if(l.require(p),(r=l.resolve(!0)).cssMods.length){for(i=0;i<r.cssMods.length;i++)s=r.cssMods[i].name,delete YUI.Env._cssLoaded[s],l.isCSSLoaded(s)&&(l.inserted[s]=!0,delete l.required[s]);l.sorted=[],l._sort()}e=null,l._insert()}}e&&e.fn&&(t=e.fn,delete e.fn,t.call(l,e))}},this._loading=!0,!i.js.length&&!i.css.length)return c=-1,void a({fn:l._onSuccess});i.css.length&&k.Get.css(i.css,{data:i.cssMods,attributes:l.cssAttributes,insertBefore:l.insertBefore,charset:l.charset,timeout:l.timeout,context:l,onProgress:function(e){l._onProgress.call(l,e)},onTimeout:function(e){l._onTimeout.call(l,e)},onSuccess:function(e){e.type="success",e.fn=l._onSuccess,a.call(l,e)},onFailure:function(e){e.type="failure",e.fn=l._onFailure,a.call(l,e)}}),i.js.length&&k.Get.js(i.js,{data:i.jsMods,insertBefore:l.insertBefore,attributes:l.jsAttributes,charset:l.charset,timeout:l.timeout,autopurge:!1,context:l,async:l.async,onProgress:function(e){l._onProgress.call(l,e)},onTimeout:function(e){l._onTimeout.call(l,e)},onSuccess:function(e){e.type="success",e.fn=l._onSuccess,a.call(l,e)},onFailure:function(e){e.type="failure",e.fn=l._onFailure,a.call(l,e)}})},_continue:function(){!p.running&&0<p.size()&&(p.running=!0,p.next()())},insert:function(e,t,s){var r=this,a=k.merge(this);delete a.require,delete a.dirty,p.add(function(){r._insert(a,e,t,s)}),this._continue()},loadNext:function(){},_filter:function(e,t,s){var r=this.filter,a=t&&t in this.filters,i=a&&this.filters[t],n=s||(this.moduleInfo[t]?this.moduleInfo[t].group:null);return n&&this.groups[n]&&this.groups[n].filter&&(i=this.groups[n].filter,a=!0),e&&(a&&(r=A.isString(i)?this.FILTER_DEFS[i.toUpperCase()]||null:i),r&&(e=e.replace(new RegExp(r.searchExp,"g"),r.replaceStr))),e},_url:function(e,t,s){return this._filter((s||this.base||"")+e,t)},resolve:function(e,t){var s,r,a,i,n,o,u,l,d,c,p,g,h,f,m,b,y,v,q,_=[],w={},x=this,E=x.ignoreRegistered?{}:x.inserted,k={js:[],jsMods:[],css:[],cssMods:[]},I=x.loadType||"js";for((x.skin.overrides||"sam"!==x.skin.defaultSkin||x.ignoreRegistered)&&x._resetModules(),e&&x.calculate(),q=function(e){e&&(!1===(n=e.group&&x.groups[e.group]||S).async&&(e.async=n.async),i=e.fullpath?x._filter(e.fullpath,t[r]):x._url(e.path,t[r],n.base||e.base),!e.attributes&&!1!==e.async||(i={url:i,async:e.async},e.attributes&&(i.attributes=e.attributes)),k[e.type].push(i),k[e.type+"Mods"].push(e))},s=(t=t||x.sorted).length,g=x.comboBase,i=g,c={},r=0;r<s;r++){if(d=g,o=(a=x.getModule(t[r]))&&a.group,n=x.groups[o],o&&n){if(!n.combine||a.fullpath){q(a);continue}a.combine=!0,n.comboBase&&(d=n.comboBase),"root"in n&&A.isValue(n.root)&&(a.root=n.root),a.comboSep=n.comboSep||x.comboSep,a.maxURLLength=n.maxURLLength||x.maxURLLength}else if(!x.combine){q(a);continue}c[d]=c[d]||[],c[d].push(a)}for(u in c)if(c.hasOwnProperty(u)&&(w[u]=w[u]||{js:[],jsMods:[],css:[],cssMods:[]},s=(p=c[i=u]).length))for(r=0;r<s;r++)E[p[r]]||(!(a=p[r])||!a.combine&&a.ext?p[r]&&q(p[r]):(w[u].comboSep=a.comboSep,w[u].group=a.group,w[u].maxURLLength=a.maxURLLength,l=(A.isValue(a.root)?a.root:x.root)+(a.path||a.fullpath),l=x._filter(l,a.name),w[u][a.type].push(l),w[u][a.type+"Mods"].push(a)));for(u in w)for(I in y=w[h=u].comboSep||x.comboSep,v=w[h].maxURLLength||x.maxURLLength,w[h])if(I===R||I===O){if(f=w[h][I],p=w[h][I+"Mods"],s=f.length,b=(m=h+f.join(y)).length,v<=h.length&&(v=1024),s)if(v<b){for(_=[],t=0;t<s;t++)_.push(f[t]),(m=h+_.join(y)).length>v&&(a=_.pop(),m=h+_.join(y),k[I].push(x._filter(m,null,w[h].group)),_=[],a&&_.push(a));_.length&&(m=h+_.join(y),k[I].push(x._filter(m,null,w[h].group)))}else k[I].push(x._filter(m,null,w[h].group));k[I+"Mods"]=k[I+"Mods"].concat(p)}return w=null,k},load:function(e){if(e){var t=this,s=t.resolve(!0);t.data=s,t.onEnd=function(){e.apply(t.context||t,arguments)},t.insert()}}}},"3.7.3",{requires:["get","features"]}),YUI.add("loader-rollup",function(e,t){e.Loader.prototype._rollup=function(){var e,t,s,r,a,i,n,o,u=this.required,l=this.moduleInfo;if(this.dirty||!this.rollups)for(e in this.rollups={},l)l.hasOwnProperty(e)&&(s=this.getModule(e))&&s.rollup&&(this.rollups[e]=s);for(;;){for(e in i=!1,this.rollups)if(this.rollups.hasOwnProperty(e)&&!u[e]&&(!this.loaded[e]||this.forceMap[e])){if(r=(s=this.getModule(e)).supersedes||[],a=!1,!s.rollup)continue;for(t=n=0;t<r.length;t++){if(o=l[r[t]],this.loaded[r[t]]&&!this.forceMap[r[t]]){a=!1;break}if(u[r[t]]&&s.type===o.type&&(a=++n>=s.rollup))break}a&&(i=u[e]=!0,this.getRequires(s))}if(!i)break}}},"3.7.3",{requires:["loader-base"]}),YUI.add("loader-yui3",function(e,t){YUI.Env[e.version].modules=YUI.Env[e.version].modules||{"align-plugin":{requires:["node-screen","node-pluginhost"]},anim:{use:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"]},"anim-base":{requires:["base-base","node-style"]},"anim-color":{requires:["anim-base"]},"anim-curve":{requires:["anim-xy"]},"anim-easing":{requires:["anim-base"]},"anim-node-plugin":{requires:["node-pluginhost","anim-base"]},"anim-scroll":{requires:["anim-base"]},"anim-shape":{requires:["anim-base","anim-easing","anim-color","matrix"]},"anim-shape-transform":{use:["anim-shape"]},"anim-xy":{requires:["anim-base","node-screen"]},app:{use:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","router","view","view-node-map"]},"app-base":{requires:["classnamemanager","pjax-base","router","view"]},"app-content":{requires:["app-base","pjax-content"]},"app-transitions":{requires:["app-base"]},"app-transitions-css":{type:"css"},"app-transitions-native":{condition:{name:"app-transitions-native",test:function(e){var t=e.config.doc,s=t?t.documentElement:null;return!(!s||!s.style)&&("MozTransition"in s.style||"WebkitTransition"in s.style||"transition"in s.style)},trigger:"app-transitions"},requires:["app-transitions","app-transitions-css","parallel","transition"]},"array-extras":{requires:["yui-base"]},"array-invoke":{requires:["yui-base"]},arraylist:{requires:["yui-base"]},"arraylist-add":{requires:["arraylist"]},"arraylist-filter":{requires:["arraylist"]},arraysort:{requires:["yui-base"]},"async-queue":{requires:["event-custom"]},attribute:{use:["attribute-base","attribute-complex"]},"attribute-base":{requires:["attribute-core","attribute-events","attribute-extras"]},"attribute-complex":{requires:["attribute-base"]},"attribute-core":{requires:["oop"]},"attribute-events":{requires:["event-custom"]},"attribute-extras":{requires:["oop"]},autocomplete:{use:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"]},"autocomplete-base":{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]},"autocomplete-filters":{requires:["array-extras","text-wordbreak"]},"autocomplete-filters-accentfold":{requires:["array-extras","text-accentfold","text-wordbreak"]},"autocomplete-highlighters":{requires:["array-extras","highlight-base"]},"autocomplete-highlighters-accentfold":{requires:["array-extras","highlight-accentfold"]},"autocomplete-list":{after:["autocomplete-sources"],lang:["en"],requires:["autocomplete-base","event-resize","node-screen","selector-css3","shim-plugin","widget","widget-position","widget-position-align"],skinnable:!0},"autocomplete-list-keys":{condition:{name:"autocomplete-list-keys",test:function(e){return!(e.UA.ios||e.UA.android)},trigger:"autocomplete-list"},requires:["autocomplete-list","base-build"]},"autocomplete-plugin":{requires:["autocomplete-list","node-pluginhost"]},"autocomplete-sources":{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]},base:{use:["base-base","base-pluginhost","base-build"]},"base-base":{after:["attribute-complex"],requires:["base-core","attribute-base"]},"base-build":{requires:["base-base"]},"base-core":{requires:["attribute-core"]},"base-pluginhost":{requires:["base-base","pluginhost"]},button:{requires:["button-core","cssbutton","widget"]},"button-core":{requires:["attribute-core","classnamemanager","node-base"]},"button-group":{requires:["button-plugin","cssbutton","widget"]},"button-plugin":{requires:["button-core","cssbutton","node-pluginhost"]},cache:{use:["cache-base","cache-offline","cache-plugin"]},"cache-base":{requires:["base"]},"cache-offline":{requires:["cache-base","json"]},"cache-plugin":{requires:["plugin","cache-base"]},calendar:{lang:["de","en","fr","ja","nb-NO","pt-BR","ru","zh-HANT-TW"],requires:["calendar-base","calendarnavigator"],skinnable:!0},"calendar-base":{lang:["de","en","fr","ja","nb-NO","pt-BR","ru","zh-HANT-TW"],requires:["widget","substitute","datatype-date","datatype-date-math","cssgrids"],skinnable:!0},calendarnavigator:{requires:["plugin","classnamemanager","datatype-date","node","substitute"],skinnable:!0},charts:{requires:["charts-base"]},"charts-base":{requires:["dom","datatype-number","datatype-date","event-custom","event-mouseenter","event-touch","widget","widget-position","widget-stack","graphics"]},"charts-legend":{requires:["charts-base"]},classnamemanager:{requires:["yui-base"]},"clickable-rail":{requires:["slider-base"]},collection:{use:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"]},console:{lang:["en","es","ja"],requires:["yui-log","widget"],skinnable:!0},"console-filters":{requires:["plugin","console"],skinnable:!0},controller:{use:["router"]},cookie:{requires:["yui-base"]},"createlink-base":{requires:["editor-base"]},cssbase:{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},"cssbase-context":{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},cssbutton:{type:"css"},cssfonts:{type:"css"},"cssfonts-context":{type:"css"},cssgrids:{optional:["cssreset","cssfonts"],type:"css"},"cssgrids-base":{optional:["cssreset","cssfonts"],type:"css"},"cssgrids-units":{optional:["cssreset","cssfonts"],requires:["cssgrids-base"],type:"css"},cssreset:{type:"css"},"cssreset-context":{type:"css"},dataschema:{use:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"]},"dataschema-array":{requires:["dataschema-base"]},"dataschema-base":{requires:["base"]},"dataschema-json":{requires:["dataschema-base","json"]},"dataschema-text":{requires:["dataschema-base"]},"dataschema-xml":{requires:["dataschema-base"]},datasource:{use:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"]},"datasource-arrayschema":{requires:["datasource-local","plugin","dataschema-array"]},"datasource-cache":{requires:["datasource-local","plugin","cache-base"]},"datasource-function":{requires:["datasource-local"]},"datasource-get":{requires:["datasource-local","get"]},"datasource-io":{requires:["datasource-local","io-base"]},"datasource-jsonschema":{requires:["datasource-local","plugin","dataschema-json"]},"datasource-local":{requires:["base"]},"datasource-polling":{requires:["datasource-local"]},"datasource-textschema":{requires:["datasource-local","plugin","dataschema-text"]},"datasource-xmlschema":{requires:["datasource-local","plugin","datatype-xml","dataschema-xml"]},datatable:{use:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"]},"datatable-base":{requires:["datatable-core","datatable-table","datatable-head","datatable-body","base-build","widget"],skinnable:!0},"datatable-base-deprecated":{requires:["recordset-base","widget","substitute","event-mouseenter"],skinnable:!0},"datatable-body":{requires:["datatable-core","view","classnamemanager"]},"datatable-column-widths":{requires:["datatable-base"]},"datatable-core":{requires:["escape","model-list","node-event-delegate"]},"datatable-datasource":{requires:["datatable-base","plugin","datasource-local"]},"datatable-datasource-deprecated":{requires:["datatable-base-deprecated","plugin","datasource-local"]},"datatable-deprecated":{use:["datatable-base-deprecated","datatable-datasource-deprecated","datatable-sort-deprecated","datatable-scroll-deprecated"]},"datatable-head":{requires:["datatable-core","view","classnamemanager"]},"datatable-message":{lang:["en"],requires:["datatable-base"],skinnable:!0},"datatable-mutable":{requires:["datatable-base"]},"datatable-scroll":{requires:["datatable-base","datatable-column-widths","dom-screen"],skinnable:!0},"datatable-scroll-deprecated":{requires:["datatable-base-deprecated","plugin"]},"datatable-sort":{lang:["en"],requires:["datatable-base"],skinnable:!0},"datatable-sort-deprecated":{lang:["en"],requires:["datatable-base-deprecated","plugin","recordset-sort"]},"datatable-table":{requires:["datatable-core","datatable-head","datatable-body","view","classnamemanager"]},datatype:{use:["datatype-date","datatype-number","datatype-xml"]},"datatype-date":{use:["datatype-date-parse","datatype-date-format","datatype-date-math"]},"datatype-date-format":{lang:["ar","ar-JO","ca","ca-ES","da","da-DK","de","de-AT","de-DE","el","el-GR","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-JO","en-MY","en-NZ","en-PH","en-SG","en-US","es","es-AR","es-BO","es-CL","es-CO","es-EC","es-ES","es-MX","es-PE","es-PY","es-US","es-UY","es-VE","fi","fi-FI","fr","fr-BE","fr-CA","fr-FR","hi","hi-IN","id","id-ID","it","it-IT","ja","ja-JP","ko","ko-KR","ms","ms-MY","nb","nb-NO","nl","nl-BE","nl-NL","pl","pl-PL","pt","pt-BR","ro","ro-RO","ru","ru-RU","sv","sv-SE","th","th-TH","tr","tr-TR","vi","vi-VN","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-Hant-TW"]},"datatype-date-math":{requires:["yui-base"]},"datatype-date-parse":{},"datatype-number":{use:["datatype-number-parse","datatype-number-format"]},"datatype-number-format":{},"datatype-number-parse":{},"datatype-xml":{use:["datatype-xml-parse","datatype-xml-format"]},"datatype-xml-format":{},"datatype-xml-parse":{},dd:{use:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"]},"dd-constrain":{requires:["dd-drag"]},"dd-ddm":{requires:["dd-ddm-base","event-resize"]},"dd-ddm-base":{requires:["node","base","yui-throttle","classnamemanager"]},"dd-ddm-drop":{requires:["dd-ddm"]},"dd-delegate":{requires:["dd-drag","dd-drop-plugin","event-mouseenter"]},"dd-drag":{requires:["dd-ddm-base"]},"dd-drop":{requires:["dd-drag","dd-ddm-drop"]},"dd-drop-plugin":{requires:["dd-drop"]},"dd-gestures":{condition:{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"},requires:["dd-drag","event-synthetic","event-gestures"]},"dd-plugin":{optional:["dd-constrain","dd-proxy"],requires:["dd-drag"]},"dd-proxy":{requires:["dd-drag"]},"dd-scroll":{requires:["dd-drag"]},dial:{lang:["en","es"],requires:["widget","dd-drag","event-mouseenter","event-move","event-key","transition","intl"],skinnable:!0},dom:{use:["dom-base","dom-screen","dom-style","selector-native","selector"]},"dom-base":{requires:["dom-core"]},"dom-core":{requires:["oop","features"]},"dom-deprecated":{requires:["dom-base"]},"dom-screen":{requires:["dom-base","dom-style"]},"dom-style":{requires:["dom-base"]},"dom-style-ie":{condition:{name:"dom-style-ie",test:function(e){var t=e.Features.test,s=e.Features.add,r=e.config.win,a=e.config.doc;return s("style","computedStyle",{test:function(){return r&&"getComputedStyle"in r}}),s("style","opacity",{test:function(){return a&&"opacity"in a.documentElement.style}}),!t("style","opacity")&&!t("style","computedStyle")},trigger:"dom-style"},requires:["dom-style"]},dump:{requires:["yui-base"]},editor:{use:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"]},"editor-base":{requires:["base","frame","node","exec-command","editor-selection"]},"editor-bidi":{requires:["editor-base"]},"editor-br":{requires:["editor-base"]},"editor-lists":{requires:["editor-base"]},"editor-para":{requires:["editor-para-base"]},"editor-para-base":{requires:["editor-base"]},"editor-para-ie":{condition:{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"},requires:["editor-para-base"]},"editor-selection":{requires:["node"]},"editor-tab":{requires:["editor-base"]},escape:{requires:["yui-base"]},event:{after:["node-base"],use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"]},"event-base":{after:["node-base"],requires:["event-custom-base"]},"event-base-ie":{after:["event-base"],condition:{name:"event-base-ie",test:function(e){var t=e.config.doc&&e.config.doc.implementation;return t&&!t.hasFeature("Events","2.0")},trigger:"node-base"},requires:["node-base"]},"event-contextmenu":{requires:["event-synthetic","dom-screen"]},"event-custom":{use:["event-custom-base","event-custom-complex"]},"event-custom-base":{requires:["oop"]},"event-custom-complex":{requires:["event-custom-base"]},"event-delegate":{requires:["node-base"]},"event-flick":{requires:["node-base","event-touch","event-synthetic"]},"event-focus":{requires:["event-synthetic"]},"event-gestures":{use:["event-flick","event-move"]},"event-hover":{requires:["event-mouseenter"]},"event-key":{requires:["event-synthetic"]},"event-mouseenter":{requires:["event-synthetic"]},"event-mousewheel":{requires:["node-base"]},"event-move":{requires:["node-base","event-touch","event-synthetic"]},"event-outside":{requires:["event-synthetic"]},"event-resize":{requires:["node-base","event-synthetic"]},"event-simulate":{requires:["event-base"]},"event-synthetic":{requires:["node-base","event-custom-complex"]},"event-tap":{requires:["node-base","event-base","event-touch","event-synthetic"]},"event-touch":{requires:["node-base"]},"event-valuechange":{requires:["event-focus","event-synthetic"]},"exec-command":{requires:["frame"]},features:{requires:["yui-base"]},file:{requires:["file-flash","file-html5"]},"file-flash":{requires:["base"]},"file-html5":{requires:["base"]},frame:{requires:["base","node","selector-css3","yui-throttle"]},"gesture-simulate":{requires:["async-queue","event-simulate","node-screen"]},get:{requires:["yui-base"]},graphics:{requires:["node","event-custom","pluginhost","matrix","classnamemanager"]},"graphics-canvas":{condition:{name:"graphics-canvas",test:function(e){var t=e.config.doc,s=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return(!(t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))||s)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"},requires:["graphics"]},"graphics-canvas-default":{condition:{name:"graphics-canvas-default",test:function(e){var t=e.config.doc,s=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return(!(t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))||s)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"}},"graphics-svg":{condition:{name:"graphics-svg",test:function(e){var t=e.config.doc,s=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(s||!r)},trigger:"graphics"},requires:["graphics"]},"graphics-svg-default":{condition:{name:"graphics-svg-default",test:function(e){var t=e.config.doc,s=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,r=t&&t.createElement("canvas");return t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(s||!r)},trigger:"graphics"}},"graphics-vml":{condition:{name:"graphics-vml",test:function(e){var t=e.config.doc,s=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!s||!s.getContext||!s.getContext("2d"))},trigger:"graphics"},requires:["graphics"]},"graphics-vml-default":{condition:{name:"graphics-vml-default",test:function(e){var t=e.config.doc,s=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!s||!s.getContext||!s.getContext("2d"))},trigger:"graphics"}},handlebars:{use:["handlebars-compiler"]},"handlebars-base":{requires:["escape"]},"handlebars-compiler":{requires:["handlebars-base"]},highlight:{use:["highlight-base","highlight-accentfold"]},"highlight-accentfold":{requires:["highlight-base","text-accentfold"]},"highlight-base":{requires:["array-extras","classnamemanager","escape","text-wordbreak"]},history:{use:["history-base","history-hash","history-hash-ie","history-html5"]},"history-base":{requires:["event-custom-complex"]},"history-hash":{after:["history-html5"],requires:["event-synthetic","history-base","yui-later"]},"history-hash-ie":{condition:{name:"history-hash-ie",test:function(e){var t=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange"in e.config.win)||!t||t<8)},trigger:"history-hash"},requires:["history-hash","node-base"]},"history-html5":{optional:["json"],requires:["event-base","history-base","node-base"]},imageloader:{requires:["base-base","node-style","node-screen"]},intl:{requires:["intl-base","event-custom"]},"intl-base":{requires:["yui-base"]},io:{use:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"]},"io-base":{requires:["event-custom-base","querystring-stringify-simple"]},"io-form":{requires:["io-base","node-base"]},"io-nodejs":{condition:{name:"io-nodejs",trigger:"io-base",ua:"nodejs"},requires:["io-base"]},"io-queue":{requires:["io-base","queue-promote"]},"io-upload-iframe":{requires:["io-base","node-base"]},"io-xdr":{requires:["io-base","datatype-xml-parse"]},json:{use:["json-parse","json-stringify"]},"json-parse":{requires:["yui-base"]},"json-stringify":{requires:["yui-base"]},jsonp:{requires:["get","oop"]},"jsonp-url":{requires:["jsonp"]},"lazy-model-list":{requires:["model-list"]},loader:{use:["loader-base","loader-rollup","loader-yui3"]},"loader-base":{requires:["get","features"]},"loader-rollup":{requires:["loader-base"]},"loader-yui3":{requires:["loader-base"]},matrix:{requires:["yui-base"]},model:{requires:["base-build","escape","json-parse"]},"model-list":{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]},"model-sync-rest":{requires:["model","io-base","json-stringify"]},node:{use:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"]},"node-base":{requires:["event-base","node-core","dom-base"]},"node-core":{requires:["dom-core","selector"]},"node-deprecated":{requires:["node-base"]},"node-event-delegate":{requires:["node-base","event-delegate"]},"node-event-html5":{requires:["node-base"]},"node-event-simulate":{requires:["node-base","event-simulate","gesture-simulate"]},"node-flick":{requires:["classnamemanager","transition","event-flick","plugin"],skinnable:!0},"node-focusmanager":{requires:["attribute","node","plugin","node-event-simulate","event-key","event-focus"]},"node-load":{requires:["node-base","io-base"]},"node-menunav":{requires:["node","classnamemanager","plugin","node-focusmanager"],skinnable:!0},"node-pluginhost":{requires:["node-base","pluginhost"]},"node-screen":{requires:["dom-screen","node-base"]},"node-scroll-info":{requires:["base-build","dom-screen","event-resize","node-pluginhost","plugin"]},"node-style":{requires:["dom-style","node-base"]},oop:{requires:["yui-base"]},overlay:{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0},panel:{requires:["widget","widget-autohide","widget-buttons","widget-modality","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod"],skinnable:!0},parallel:{requires:["yui-base"]},pjax:{requires:["pjax-base","pjax-content"]},"pjax-base":{requires:["classnamemanager","node-event-delegate","router"]},"pjax-content":{requires:["io-base","node-base","router"]},"pjax-plugin":{requires:["node-pluginhost","pjax","plugin"]},plugin:{requires:["base-base"]},pluginhost:{use:["pluginhost-base","pluginhost-config"]},"pluginhost-base":{requires:["yui-base"]},"pluginhost-config":{requires:["pluginhost-base"]},profiler:{requires:["yui-base"]},querystring:{use:["querystring-parse","querystring-stringify"]},"querystring-parse":{requires:["yui-base","array-extras"]},"querystring-parse-simple":{requires:["yui-base"]},"querystring-stringify":{requires:["yui-base"]},"querystring-stringify-simple":{requires:["yui-base"]},"queue-promote":{requires:["yui-base"]},"range-slider":{requires:["slider-base","slider-value-range","clickable-rail"]},recordset:{use:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"]},"recordset-base":{requires:["base","arraylist"]},"recordset-filter":{requires:["recordset-base","array-extras","plugin"]},"recordset-indexer":{requires:["recordset-base","plugin"]},"recordset-sort":{requires:["arraysort","recordset-base","plugin"]},resize:{use:["resize-base","resize-proxy","resize-constrain"]},"resize-base":{requires:["base","widget","event","oop","dd-drag","dd-delegate","dd-drop"],skinnable:!0},"resize-constrain":{requires:["plugin","resize-base"]},"resize-plugin":{optional:["resize-constrain"],requires:["resize-base","plugin"]},"resize-proxy":{requires:["plugin","resize-base"]},router:{optional:["querystring-parse"],requires:["array-extras","base-build","history"]},scrollview:{requires:["scrollview-base","scrollview-scrollbars"]},"scrollview-base":{requires:["widget","event-gestures","event-mousewheel","transition"],skinnable:!0},"scrollview-base-ie":{condition:{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"},requires:["scrollview-base"]},"scrollview-list":{requires:["plugin","classnamemanager"],skinnable:!0},"scrollview-paginator":{requires:["plugin","classnamemanager"]},"scrollview-scrollbars":{requires:["classnamemanager","transition","plugin"],skinnable:!0},selector:{requires:["selector-native"]},"selector-css2":{condition:{name:"selector-css2",test:function(e){var t=e.config.doc;return t&&!("querySelectorAll"in t)},trigger:"selector"},requires:["selector-native"]},"selector-css3":{requires:["selector-native","selector-css2"]},"selector-native":{requires:["dom-base"]},"shim-plugin":{requires:["node-style","node-pluginhost"]},slider:{use:["slider-base","slider-value-range","clickable-rail","range-slider"]},"slider-base":{requires:["widget","dd-constrain","event-key"],skinnable:!0},"slider-value-range":{requires:["slider-base"]},sortable:{requires:["dd-delegate","dd-drop-plugin","dd-proxy"]},"sortable-scroll":{requires:["dd-scroll","sortable"]},stylesheet:{requires:["yui-base"]},substitute:{optional:["dump"],requires:["yui-base"]},swf:{requires:["event-custom","node","swfdetect","escape"]},swfdetect:{requires:["yui-base"]},tabview:{requires:["widget","widget-parent","widget-child","tabview-base","node-pluginhost","node-focusmanager"],skinnable:!0},"tabview-base":{requires:["node-event-delegate","classnamemanager","skin-sam-tabview"]},"tabview-plugin":{requires:["tabview-base"]},test:{requires:["event-simulate","event-custom","json-stringify"]},"test-console":{requires:["console-filters","test","array-extras"],skinnable:!0},text:{use:["text-accentfold","text-wordbreak"]},"text-accentfold":{requires:["array-extras","text-data-accentfold"]},"text-data-accentfold":{requires:["yui-base"]},"text-data-wordbreak":{requires:["yui-base"]},"text-wordbreak":{requires:["array-extras","text-data-wordbreak"]},transition:{requires:["node-style"]},"transition-timer":{condition:{name:"transition-timer",test:function(e){var t=e.config.doc,s=t?t.documentElement:null,r=!0;return s&&s.style&&(r=!("MozTransition"in s.style||"WebkitTransition"in s.style||"transition"in s.style)),r},trigger:"transition"},requires:["transition"]},uploader:{requires:["uploader-html5","uploader-flash"]},"uploader-deprecated":{requires:["event-custom","node","base","swf"]},"uploader-flash":{requires:["swf","widget","substitute","base","cssbutton","node","event-custom","file-flash","uploader-queue"]},"uploader-html5":{requires:["widget","node-event-simulate","substitute","file-html5","uploader-queue"]},"uploader-queue":{requires:["base"]},view:{requires:["base-build","node-event-delegate"]},"view-node-map":{requires:["view"]},widget:{use:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]},"widget-anim":{requires:["anim-base","plugin","widget"]},"widget-autohide":{requires:["base-build","event-key","event-outside","widget"]},"widget-base":{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:!0},"widget-base-ie":{condition:{name:"widget-base-ie",trigger:"widget-base",ua:"ie"},requires:["widget-base"]},"widget-buttons":{requires:["button-plugin","cssbutton","widget-stdmod"]},"widget-child":{requires:["base-build","widget"]},"widget-htmlparser":{requires:["widget-base"]},"widget-locale":{requires:["widget-base"]},"widget-modality":{requires:["base-build","event-outside","widget"],skinnable:!0},"widget-parent":{requires:["arraylist","base-build","widget"]},"widget-position":{requires:["base-build","node-screen","widget"]},"widget-position-align":{requires:["widget-position"]},"widget-position-constrain":{requires:["widget-position"]},"widget-skin":{requires:["widget-base"]},"widget-stack":{requires:["base-build","widget"],skinnable:!0},"widget-stdmod":{requires:["base-build","widget"]},"widget-uievents":{requires:["node-event-delegate","widget-base"]},yql:{requires:["jsonp","jsonp-url"]},"yql-nodejs":{condition:{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"}},"yql-winjs":{condition:{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"}},yui:{},"yui-base":{},"yui-later":{requires:["yui-base"]},"yui-log":{requires:["yui-base"]},"yui-throttle":{requires:["yui-base"]}},YUI.Env[e.version].md5="a28e022ad022130f7a4fb4ac77a2f1df"},"3.7.3",{requires:["loader-base"]}),YUI.add("yui",function(e,t){},"3.7.3",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]});

!function(c){var i,h,a,s,l,o,p,g,e="0.8.11",f="curl",d="define",r="data-curl-run",u=c.document,v=u&&(u.head||u.getElementsByTagName("head")[0]),x=v&&v.getElementsByTagName("base")[0]||null,m={},y={},j={},b="addEventListener"in c?{}:{loaded:1,complete:1},w={},n=w.toString,E={},I={},A=!1,t=/^\/|^[^:]+:\/\/|^[A-Za-z]:[\\/]/,S=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,C=/\/\*[\s\S]*?\*\/|\/\/.*?[\n\r]/g,D=/require\s*\(\s*(["'])(.*?[^\\])\1\s*\)|[^\\]?(["'])/g,P=/\s*,\s*/;function R(){}function M(e,t){return 0==n.call(e).indexOf("[object "+t)}function O(e){return"."==e.charAt(0)}function T(e){return t.test(e)}function N(e,t){return U(e)+"/"+t}function U(e){return e&&"/"==e.charAt(e.length-1)?e.substr(0,e.length-1):e}function F(e,t){var o,n,r,i,u;return o=1,O(n=e)&&(i=!0,n=n.replace(S,function(e,t,n,r){return n&&o++,r||""})),i?(u=(r=t.split("/")).length-o)<0?e:(r.splice(u,o),r.concat(n||[]).join("/")):n}function k(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:0<=t&&e.substr(0,t)}}function L(){}function q(e,t){L.prototype=e||w;var n=new L;for(var r in L.prototype=w,t)n[r]=t[r];return n}function z(){var r,i,t;function o(e,t,n){i.push([e,t,n])}function u(e,t){for(var n,r,o=0;n=i[o++];)(r=n[e])&&r(t)}i=[],t=function(e,n){o=e?function(e,t){e&&e(n)}:function(e,t){t&&t(n)},t=R,u(e?0:1,n),u=R,i=l},(r=this).then=function(e,t,n){return o(e,t,n),r},this.resolve=function(e){r.resolved=e,t(!0,e)},this.reject=function(e){r.rejected=e,t(!1,e)},this.progress=function(e){u(2,e)}}function B(e){return e instanceof z||e instanceof H}function _(e,t,n,r){return B(e)?e.then(t,n,r):t(e)}function $(e,t,n){var r;return function(){return 0<=--e&&t&&(r=t.apply(l,arguments)),0==e&&n&&n(r),r}}function J(){var e,t;return i="",M((e=[].slice.call(arguments))[0],"Object")&&(t=W(e.shift())),new H(e[0],e[1],e[2],t)}function W(e,t,n){var r,o;if(i="",e&&(g.setApi(e),h=g.config(e),"preloads"in e&&(r=new H(e.preloads,l,n,A,!0),g.nextTurn(function(){A=r})),o=e.main))return new H(o,t,n)}function H(e,t,n,r,o){var i,u;u=g.createContext(h,l,[].concat(e),o),this.then=this.then=i=function(t,n){return _(u,function(e){t&&t.apply(l,e)},function(e){if(!n)throw e;n(e)}),this},this.next=function(e,t,n){return new H(e,t,n,u)},this.config=W,(t||n)&&i(t,n),g.nextTurn(function(){_(o||A,function(){_(r,function(){g.getDeps(u)},n)})})}function Q(e){var t,n,r;if((t=e.id)==l&&(o!==l?o={ex:"Multiple anonymous defines encountered"}:(t=g.getCurrentDefName())||(o=e)),t!=l){if(n=E[t],t in E||(r=g.resolvePathInfo(t,h),n=g.createResourceDef(r.config,t),E[t]=n),!B(n))return void("object"==typeof console&&console.error("duplicate define: "+t));n.useNet=!1,g.defineResource(n,e)}}function Z(){Q(g.fixArgs(arguments))}p={require:(g={toAbsId:function(e,t,n){var r,o,i;return O(r=F(e,t))||((r=(o=(i=k(r)).pluginId)||i.resourceId)in n.pathMap&&(r=n.pathMap[r].main||r),o&&(o.indexOf("/")<0&&!(o in n.pathMap)&&(r=N(n.pluginPath,o)),r=r+"!"+i.resourceId)),r},createContext:function(u,e,t,c){var a;function s(e,t){var n,r,o;return n=g.toAbsId(e,a.id,u),t&&(r=k(n)).pluginId?(o=E[r.pluginId],r.resourceId="normalize"in o?o.normalize(r.resourceId,s,a.config)||"":s(r.resourceId),r.pluginId+"!"+r.resourceId):n}function n(e,t,n){var r,o,i;if(r=t&&function(){t.apply(l,arguments[0])},M(e,"String")){if(r)throw new Error("require(id, callback) not allowed");if(o=s(e,!0),i=E[o],!(o in E))throw new Error("Module not resolved: "+o);return B(i)&&i.exports||i}_(g.getDeps(g.createContext(u,a.id,e,c)),r,n)}return(a=new z).id=e||"",a.isPreload=c,a.depNames=t,a.config=u,(a.require=n).toUrl=function(e){return g.resolvePathInfo(s(e,!0),u).url},a.toAbsId=s,a},createResourceDef:function(e,t,n){var r,o,i;return r=g.createContext(e,t,l,n),o=r.resolve,i=$(1,function(e){r.deps=e;try{return g.executeDefFunc(r)}catch(e){r.reject(e)}}),r.resolve=function(e){_(n||A,function(){o(E[r.id]=I[r.url]=i(e))})},r.exportsReady=function(e){_(n||A,function(){r.exports&&(i(e),r.progress(y))})},r},createPluginDef:function(e,t,n,r){return g.createContext(e,n,l,r)},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||((t=e.module={id:e.id,uri:g.getDefUrl(e),exports:g.getCjsExports(e),config:function(){return e.config}}).exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=g.checkToAddJsExt(e.require.toUrl(e.id),e.config))},setApi:function(e){var t,n,r,o,i,u;if(t=f,n=d,r=o=c,i=" already exists",e&&(u=e.overwriteApi||e.overwriteApi,t=e.apiName||e.apiName||t,r=e.apiContext||e.apiContext||r,n=e.defineName||e.defineName||n,o=e.defineContext||e.defineContext||o,a&&M(a,"Function")&&(c[f]=a),a=null,s&&M(s,"Function")&&(c[d]=s),s=null,!u)){if(r[t]&&r[t]!=J)throw new Error(t+i);if(o[n]&&o[n]!=Z)throw new Error(n+i)}r[t]=J,o[n]=Z},config:function(e){var t,p,d,n;function r(e,t){var n,r,o,i,u,c,a,s,f;for(var l in e)M(o=e[l],"String")&&(o={path:e[l]}),o.name=o.name||l,u=p,n=(i=k(U(o.name))).resourceId,(r=i.pluginId)&&((u=d[r])||((u=d[r]=q(p)).pathMap=q(p.pathMap),u.pathList=[]),delete e[l]),s=t,f=void 0,(a=o).path=U(a.path||a.location||""),s&&(O(f=a.main||"./main")||(f="./"+f),a.main=F(f,a.name+"/")),a.config=a.config,(c=a).config&&(c.config=q(p,c.config)),c.specificity=n.split("/").length,n?(u.pathMap[n]=c,u.pathList.push(n)):u.baseUrl=g.resolveUrl(o.path,p)}function o(e){var n=e.pathMap;e.pathRx=new RegExp("^("+e.pathList.sort(function(e,t){return n[t].specificity-n[e].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}for(n in"baseUrl"in e&&(e.baseUrl=e.baseUrl),"main"in e&&(e.main=e.main),"preloads"in e&&(e.preloads=e.preloads),"pluginPath"in e&&(e.pluginPath=e.pluginPath),("dontAddFileExt"in e||e.dontAddFileExt)&&(e.dontAddFileExt=new RegExp(e.dontAddFileExt||e.dontAddFileExt)),(p=q(t=h,e)).pathMap=q(t.pathMap),d=e.plugins||{},p.plugins=q(t.plugins),p.paths=q(t.paths,e.paths),p.packages=q(t.packages,e.packages),p.pathList=[],r(e.packages,!0),r(e.paths,!1),d){var i=g.toAbsId(n+"!","",p);p.plugins[i.substr(0,i.length-1)]=d[n]}for(n in d=p.plugins){d[n]=q(p,d[n]);var u=d[n].pathList;u&&(d[n].pathList=u.concat(p.pathList),o(d[n]))}for(n in t.pathMap)p.pathMap.hasOwnProperty(n)||p.pathList.push(n);return o(p),p},resolvePathInfo:function(e,t){var n,r,o,i;return n=t.pathMap,o=T(e)?e:e.replace(t.pathRx,function(e){return r=n[e]||{},i=r.config,r.path||""}),{config:i||h,url:g.resolveUrl(o,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!T(e)?N(n,e):e},checkToAddJsExt:function(e,t){return e+((t||h).dontAddFileExt.test(e)?"":".js")},loadScript:function(t,n,r){var o=u.createElement("script");return o.onload=o.onreadystatechange=function(e){"load"!=(e=e||c.event).type&&!b[o.readyState]||(delete j[t.id],o.onload=o.onreadystatechange=o.onerror="",n())},o.onerror=function(e){r(new Error("Syntax or http error: "+t.url))},o.type=t.mimetype||"text/javascript",o.charset="utf-8",o.async=!t.order,o.src=t.url,j[t.id]=o,v.insertBefore(o,x),o},extractCjsDeps:function(e){var o,i=[];return("string"==typeof e?e:e.toSource?e.toSource():e.toString()).replace(C,"").replace(D,function(e,t,n,r){return r?o=o==r?l:o:o||i.push(n),""}),i},fixArgs:function(e){var t,n,r,o,i,u;return i=e.length,o=M(r=e[i-1],"Function")?r.length:-1,2==i?M(e[0],"Array")?n=e[0]:t=e[0]:3==i&&(t=e[0],n=e[1]),!n&&0<o&&(u=!0,n=["require","exports","module"].slice(0,o).concat(g.extractCjsDeps(r))),{id:t,deps:n||[],res:0<=o?r:function(){return r},cjs:u}},executeDefFunc:function(e){var t,n;return n=e.cjs?e.exports:l,(t=e.res.apply(n,e.deps))===l&&e.exports&&(t=e.module?e.exports=e.module.exports:e.exports),t},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,g.getDeps(e)},getDeps:function(u){var e,t,r,n,o,c,a;function i(e,t,n){r[t]=e,n&&c(e,t)}for(r=[],n=(t=u.depNames).length,0==t.length&&f(),c=$(n,i,function(){u.exportsReady&&u.exportsReady(r)}),a=$(n,i,f),e=0;e<n;e++)(o=t[e])in p?(a(p[o](u),e,!0),u.exports&&u.progress(m)):o?s(o,e):a(l,e,!0);return u;function s(e,t){var n,r,o,i;n=$(1,function(e){r(e),a(e,t)}),r=$(1,function(e){c(e,t)}),(i=B(o=g.fetchDep(e,u))&&o.exports)&&r(i),_(o,n,u.reject,u.exports&&function(e){o.exports&&(e==m?r(o.exports):e==y&&n(o.exports))})}function f(){u.resolve(r)}},fetchResDef:function(t){return g.getDefUrl(t),g.loadScript(t,function(){var e=o;o=l,!1!==t.useNet&&(!e||e.ex?t.reject(new Error(e&&e.ex||"define() missing or duplicated: "+t.url)):g.defineResource(t,e))},t.reject),t},fetchDep:function(e,t){var i,u,n,r,o,c,a,s,f,l,p,d;return i=t.toAbsId,u=t.isPreload,n=t.config||h,(o=i(e))in E?c=o:(r=k(o),s=r.resourceId,c=r.pluginId||s,f=g.resolvePathInfo(c,n)),o in E||(d=g.resolvePathInfo(s,n).config,r.pluginId?a=c:(a=d.moduleLoader||d.moduleLoader||d.loader||d.loader)&&(s=c,c=a,f=g.resolvePathInfo(a,n))),c in E?l=E[c]:f.url in I?l=E[c]=I[f.url]:((l=g.createResourceDef(d,c,u)).url=g.checkToAddJsExt(f.url,f.config),E[c]=I[f.url]=l,g.fetchResDef(l)),c==a&&(r.pluginId&&n.plugins[r.pluginId]&&(d=n.plugins[r.pluginId]),p=new z,_(l,function(e){var t,n,r;if(r=e.dynamic,s="normalize"in e?e.normalize(s,i,l.config)||"":i(s),t=E[n=a+"!"+s],!(n in E)){t=g.createPluginDef(d,n,s,u),r||(E[n]=t);function o(e){r||(E[n]=e),t.resolve(e)}(o.resolve=o).reject=o.error=t.reject,e.load(s,t.require,o,d)}p!=t&&_(t,p.resolve,p.reject,p.progress)},p.reject)),p||l},getCurrentDefName:function(){var e;if(!M(c.opera,"Opera"))for(var t in j)if("interactive"==j[t].readyState){e=t;break}return e},findScript:function(e){var t,n,r=0;for(t=u&&(u.scripts||u.getElementsByTagName("script"));t&&(n=t[r++]);)if(e(n))return n},extractDataAttrConfig:function(){var e,n="";return(e=g.findScript(function(e){var t;return(t=e.getAttribute(r))&&(n=t),t}))&&e.setAttribute(r,""),n},bootScript:function(){var e=i.split(P);function t(){g.loadScript({url:e.shift()},n,n)}function n(){i&&(e.length?(g.nextTurn(r),t()):r("run.js script did not run."))}function r(e){throw new Error(e||"Primary run.js failed. Trying fallback.")}e.length&&t()},nextTurn:function(e){setTimeout(e,0)}}).getCjsRequire,exports:g.getCjsExports,module:g.getCjsModule},J.version=e,J.config=W,Z.amd={plugins:!0,jQuery:!0,curl:e},h={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:/\?|\.js\b/,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/},a=c[f],s=c[d],a&&M(a,"Object")?(c[f]=l,W(a)):g.setApi(),(i=g.extractDataAttrConfig())&&g.nextTurn(g.bootScript),E[f]=J,E["curl/_privileged"]={core:g,cache:E,config:function(){return h},_define:Q,_curl:J,Promise:z}}(this.window||"undefined"!=typeof global&&global||this),function(e,t,c){define("curl/plugin/js",["curl/_privileged"],function(u){"use strict";var d,h,g={},v=[],x=t&&1==t.createElement("script").async,m=/\?|\.js\b/;function y(e,t,n){var r,o,i;r=(new Date).valueOf()+(e.timeoutMsec||3e5),n&&e.exports&&setTimeout(function e(){o||(r<new Date?n():setTimeout(e,10))},10),i=u.core.loadScript(e,function(){o=!0,e.exports&&(e.resolved=c(e.exports)),!e.exports||e.resolved?t(i):n()},function(e){o=!0,n(e)})}return d=u.Promise,{dynamic:!0,normalize:function(e,t,n){var r=e.indexOf("!");return 0<=r?t(e.substr(0,r))+e.substr(r):t(e)},load:function(e,t,n,r){var o,i,u,c,a,s,f,l;function p(e){(n.error||function(e){throw e})(e)}o=0<e.indexOf("!order"),u=0<(i=e.indexOf("!exports="))?e.substr(i+9):r.exports,c=!("prefetch"in r)||r.prefetch,e=o||0<i?e.substr(0,e.indexOf("!")):e,a=(a=r.dontAddFileExt||r.dontAddFileExt)?new RegExp(a):m,s=t.toUrl(e),a.test(s)||(s=function(e,t){return e.lastIndexOf(".")<=e.lastIndexOf("/")?e+"."+t:e}(s,"js")),s in g?g[s]instanceof d?g[s].then(n,p):n(g[s]):(f={name:e,url:s,order:o,exports:u,timeoutMsec:r.timeout},g[s]=l=new d,l.then(function(e){g[s]=e,n(e)},p),o&&!x&&h?(v.push([f,l]),c&&(f.mimetype="text/cache",y(f,function(e){e&&e.parentNode.removeChild(e)},function(){}),f.mimetype="")):(h=h||o,function t(n,r){y(n,function(){var e=v.shift();h=0<v.length,e&&t.apply(null,e),r.resolve(n.resolved||!0)},function(e){r.reject(e)})}(f,l)))},cramPlugin:"../cram/js"}})}(0,this.document,function(){try{return eval(arguments[0])}catch(e){return}}),function(e){"use strict";var v,x,t="createElement",i=e.setTimeout,o=e.document,n=o&&o.createStyleSheet&&!(10<=o.documentMode),u=[],c=[],a=[],s=12,f="HTTP or network error.",l={};function p(e,t){l[e]=l[e]||t}function m(){var e;return(e=o[t]("link")).rel="stylesheet",e.type="text/css",e}function d(e){var t,n,r;if(!e.href||o.readyState&&"complete"!=o.readyState)return!1;t=!1;try{(n=e.sheet)&&!(t=null===(r=n.cssRules))&&r&&(n.insertRule("-curl-css-test {}",0),n.deleteRule(0),t=!0)}catch(e){t="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(e.message)}return t}function h(e){e.onload=e.onerror=r}function g(e){return e.onload==r||!e.onload}function r(){}o&&(v=o.head||o.getElementsByTagName("head")[0],x=n?function(e,t,n){var r;a.push({url:e,cb:t,eb:function(){n(new Error(f))}}),(r=function(){var e;!(e=c.shift())&&u.length<s&&(e=o.createElement("style"),u.push(e),v.appendChild(e));return e}())&&function e(t){var n,r;n=a.shift();r=t.styleSheet;n?(t.onload=function(){n.cb(n.ss),e(t)},t.onerror=function(){n.eb(),e(t)},n.ss=r.imports[r.addImport(n.url)]):(h(t),o=t,c.push(o));var o}(r)}:function(e,t,n,r){var o;(function(e,t,n){function r(){g(e)||(h(e),n(e.sheet))}(function(e,t){e.onload=function(){p("load",!0),t()}})(e,r),function e(t,n,r){if(l.load)return;d(t)?r(t.sheet):g(t)||i(function(){e(t,n,r)},n)}(e,t,r)})(o=m(),r,t),function(e,t,n){function r(){g(e)||(h(e),n(new Error(f)))}(function(e,t){e.onerror=function(){p("error",!0),t()}})(e,r),function(){if(l.error);}()}(o,0,n),o.href=e,v.appendChild(o)}),define("curl/plugin/css",{normalize:function(e,t){var n,r;if(!e)return e;r=[];for(var o=0,i=(n=e.split(",")).length;o<i;o++)r.push(t(n[o]));return r.join(",")},load:function(e,t,n,r){var o,i,u,c,a,s,f,l;function p(e){1<i.length&&o.push(e),0==--a&&n(1==i.length?e:o)}function d(e){(n.reject||function(e){throw e})(e)}for(o=[],i=(e||"").split(","),u=r.cssWatchPeriod||50,c=r.cssNoWait,a=i.length,s=0;s<i.length;s++){var h,g;e=i[s],f=t.toUrl(e),l="css",h=f.lastIndexOf(".")<=f.lastIndexOf("/")?f+"."+l:f,c?((g=m()).href=h,v.appendChild(g),p(g.sheet||g.styleSheet)):x(h,p,d,u)}},cramPlugin:"../cram/css"})}(this),define("curl-cache-bust",["curl/_privileged"],function(o){var i=o.core.loadScript;o.core.loadScript=function(e,t,n){var r=o.config().urlArgs;return r&&(e.url+=(0<=e.url.indexOf("?")?"&":"?")+r),i(e,t,n)}});

define("UWA/Internal/Polyfill/NativeObjects",[],function(){"use strict";var t=Function("return this")();if(!t.UWA_SKIP_POLYFILLS){var e,r,n,p,s,o,i,c,a,l=Function.prototype.call,u=Object.prototype,f=Array.prototype,h=Object("a"),y="a"!==h[0]||!(0 in h);Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}var r,n,o=this,i=Array.prototype.slice;if("function"!=typeof o)throw new TypeError("Function.prototype.bind called on incompatible "+o);return r=i.call(arguments,1),n=function(){var t;return t=this instanceof n?(t=o.apply(this,r.concat(i.call(arguments))),Object(t)===t?t:this):o.apply(e,r.concat(i.call(arguments)))},o.prototype&&(t.prototype=o.prototype,n.prototype=new t,t.prototype=null),n}),n="\t\n\v\f\r \u2028\u2029\ufeff",String.prototype.trim&&!n.trim()||(n="["+n+"]",e=new RegExp("^"+n+n+"*"),r=new RegExp(n+n+"*$"),String.prototype.trim=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(e,"").replace(r,"")}),s=String.prototype.split,2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||1<".".split(/()()/).length?(p=void 0===/()??/.exec("")[1],String.prototype.split=function(t,e){var r,n,o,i,c,a,l,u=this;function f(){var t;for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(c[t]=void 0)}if(void 0===t&&0===e)r=[];else if("[object RegExp]"!==M(t))r=s.apply(u,[t,e]);else{for(r=[],n=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),o=0,t=new RegExp(t.source,n+"g"),u=String(u),p||(i=new RegExp("^"+t.source+"$(?!\\s)",n)),e=void 0===e?-1>>>0:e>>>0;(c=t.exec(u))&&!(o<(a=c.index+c[0].length)&&(r.push(u.slice(o,c.index)),!p&&1<c.length&&c[0].replace(i,f),1<c.length&&c.index<u.length&&Array.prototype.push.apply(r,c.slice(1)),l=c[0].length,o=a,r.length>=e));)t.lastIndex===c.index&&t.lastIndex++;o===u.length?!l&&t.test("")||r.push(""):r.push(u.slice(o)),r=r.length>e?r.slice(0,e):r}return r}):"0".split(void 0,0).length&&(String.prototype.split=function(t,e){return void 0===t&&0===e?[]:s.apply(this,[t,e])}),function(){if("".substr&&"b"!=="0b".substr(-1)){var r=String.prototype.substr;String.prototype.substr=function(t,e){return r.call(this,t<0&&(t=this.length+t)<0?0:t,e)}}}(),String.prototype.repeat||(String.prototype.repeat=(o=function(t,e){var r;return e<1?r="":e%2?r=o(t,e-1)+t:(r=o(t,e/2),r+=r),r},function(t){var e=String(A(this));if((t=N(t))<0||t===1/0)throw new RangeError("Invalid String#repeat value");return o(e,t)})),String.prototype.startsWith||(String.prototype.startsWith=function(t){var e,r,n=String(A(this));if("[object RegExp]"===M(t))throw new TypeError('Cannot call method "startsWith" with a regex');return t=String(t),e=1<arguments.length?arguments[1]:void 0,r=Math.max(N(e),0),n.slice(r,r+t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t){var e,r,n,o,i=String(A(this));if("[object RegExp]"===M(t))throw new TypeError('Cannot call method "endsWith" with a regex');return t=String(t),e=i.length,n=void 0===(r=1<arguments.length?arguments[1]:void 0)?e:N(r),o=Math.min(Math.max(n,0),e),i.slice(o-t.length,o)===t}),String.prototype.codePointAt||(String.prototype.codePointAt=function(t){var e,r,n=String(A(this)),o=n.length,i=N(t);if(!(i<0||o<=i))return(e=n.charCodeAt(i))<55296||56319<e||i+1===o?e:(r=n.charCodeAt(i+1))<56320||57343<r?e:1024*(e-55296)+(r-56320)+65536}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===M(t)}),2!==[1,2].splice(0).length&&(i=f.splice,c=f.slice,f.splice=function(t,e){var r=[],n=c.call(arguments);return n.length&&(n[0]=void 0===t?0:t,n[1]=void 0===e?this.length-t:e,r=i.apply(this,n)),r}),1!==[].unshift(0)&&(a=f.unshift,f.unshift=function(){return a.apply(this,arguments),this.length}),f.indexOf&&-1===[0,1].indexOf(1,2)||(f.indexOf=function(t,e){var r=0,n=D(this),o=n.length>>>0;if(!o)return-1;for(1<arguments.length&&(r=N(e)),r=0<=r?r:Math.max(0,o+r);r<o;r++)if(I(n,r)&&n[r]===t)return r;return-1}),f.lastIndexOf&&-1===[0,1].lastIndexOf(0,-3)||(f.lastIndexOf=function(t,e){var r=D(this),n=r.length>>>0,o=n-1;if(!n)return-1;for(1<arguments.length&&(o=Math.min(o,N(e))),o=0<=o?o:n-Math.abs(o);0<=o;o--)if(I(r,o)&&t===r[o])return o;return-1}),f.every||(f.every=function(t,e){var r,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)if(I(n,r)&&!t.call(e,n[r],r,n))return!1;return!0}),f.some||(f.some=function(t,e){var r,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)if(I(n,r)&&t.call(e,n[r],r,n))return!0;return!1}),f.forEach||(f.forEach=function(t,e){var r=0,n=D(this),o=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(;r<o;)I(n,r)&&t.call(e,n[r],r,this),r++}),f.map||(f.map=function(t,e){var r,n=D(this),o=n.length>>>0,i=Array(o);if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)I(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}),f.filter||(f.filter=function(t,e){var r,n,o=D(this),i=o.length>>>0,c=[];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<i;r++)I(o,r)&&(n=o[r],t.call(e,n,r,o)&&c.push(n));return c}),f.reduce||(f.reduce=function(t,e){var r,n=0,o=D(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");if(2<=arguments.length)r=e;else for(;;){if(I(o,n)){r=o[n++];break}if(++n>=i)throw new TypeError("reduce of empty array with no initial value")}for(;n<i;n++)I(o,n)&&(r=t(r,o[n],n,o));return r}),f.reduceRight||(f.reduceRight=function(t,e){var r,n=D(this),o=n.length>>>0,i=o-1;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(!o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");if(2<=arguments.length)r=e;else for(;;){if(I(n,i)){r=n[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;I(n,i)&&(r=t(r,n[i],i,n)),i--;);return r}),f.includes||(f.includes=function(t,e){if(null===this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0==n)return!1;for(var o=0|e,i=Math.max(0<=o?o:n-Math.abs(o),0);i<n;){if(r[i]===t)return!0;i++}return!1});var g,b,d,w,O,j,v,S,E,m=l.bind(u.hasOwnProperty),T="__proto__",x=function(t){var e=typeof t;return("object"==e||"function"==e)&&null!==t};if((O=m(u,"__defineGetter__"))&&(g=l.bind(u.__defineGetter__),b=l.bind(u.__defineSetter__),d=l.bind(u.__lookupGetter__),w=l.bind(u.__lookupSetter__)),Object.assign||(Object.assign=function(t){var e,r=D(t);if(1===arguments.length)return r;for(e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n){var o,i=D(n),c=Object.getOwnPropertyNames(i);for(o=0;o<c.length;o++)r[c[o]]=i[c[o]]}}return r}),Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}),Object.setPrototypeOf||(Object.setPrototypeOf=function(){var r;function e(t,e){return function(t,e){if("function"!=typeof t&&"object"!=typeof t||null===t)throw new TypeError("can not set prototype on a non-object");if("function"!=typeof e&&"object"!=typeof e&&null!==e)throw new TypeError("can only set prototype to an object or null")}(t,e),r.call(t,e),t}try{(r=Object.getOwnPropertyDescriptor(u,T).set).call({},null)}catch(t){if(u!=={}[T])return;r=function(t){this[T]=t},e.polyfill=e(e({},null),u)instanceof Object}return e}()),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t[T]||(t.constructor?t.constructor.prototype:u)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){var r,n,o,i;if(!x(t))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object:"+t);if(m(t,e))return n={enumerable:!0,configurable:!0},O&&(r=t[T],t[T]=u,o=d(t,e),i=w(t,e),t[T]=r,o||i)?(o&&(n.get=o),i&&(n.set=i)):n.value=t[e],n}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){if(!x(t))throw new TypeError("Object.getOwnPropertyNames called on a non-object:"+t);return Object.keys(t)}),Object.create||(Object.create=function(t,e){function r(){}var n;return null===t?n={__proto__:null}:(r.prototype=t,(n=new r)[T]=t),void 0!==e&&Object.defineProperties(n,e),n}),j=Object.defineProperty,v=j&&C({}),S=j&&void 0===t.document||C(t.document.createElement("div")),E=j&&!v||!S&&Object.defineProperty,j&&!E||(Object.defineProperty=function(t,e,r){var n;if(!x(t))throw new TypeError("Object.defineProperty called on non-object: "+t);if(!x(r))throw new TypeError("Property description must be an object: "+r);if(E)try{return E.call(Object,t,e,r)}catch(t){}if(m(r,"value"))O&&(d(t,e)||w(t,e))?(n=t[T],t[T]=u,delete t[e],t[e]=r.value,t[T]=n):t[e]=r.value;else{if(!O)throw new TypeError("getters & setters can not be defined on this javascript engine");m(r,"get")&&g(t,e,r.get),m(r,"set")&&b(t,e,r.set)}return t}),Object.defineProperties||(Object.defineProperties=function(t,e){if(!x(t))throw new TypeError("Object.defineProperties called on a non-object");var r;for(r in e)m(e,r)&&Object.defineProperty(t,r,e[r]);return t}),Object.seal||(Object.seal=function(t){if(!x(t))throw new TypeError("Object.seal called on a non-object");return t}),Object.freeze||(Object.freeze=function(t){if(!x(t))throw new TypeError("Object.freeze called on a non-object");return t}),Object.preventExtensions||(Object.preventExtensions=function(t){if(!x(t))throw new TypeError("Object.preventExtensions called on a non-object");return t}),Object.isSealed||(Object.isSealed=function(t){if(!x(t))throw new TypeError("Object.isSealed called on a non-object");return!1}),Object.isFrozen||(Object.isFrozen=function(t){if(!x(t))throw new TypeError("Object.isFrozen called on a non-object");return!1}),Object.isExtensible)try{Object.isExtensible(42)}catch(t){var P=Object.isExtensible;Object.isExtensible=function(t){try{return P(t)}catch(t){return!1}}}else Object.isExtensible=function(t){var e,r;if(!x(t))return!1;for(r="";m(t,r);)r+="?";return t[r]=!0,e=m(t,r),delete t[r],e};Object.keys||(Object.keys=function(t){if(!x(t))throw new TypeError("Object.keys called on a non-object");var e,r,n,o,i=[],c=!m({toString:null},"toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=a.length;for(n in t)m(t,n)&&i.push(n);if(c)for(e=0,r=l;e<r;e++)m(t,o=a[e])&&i.push(o);return i}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date=function(y){var t,n=[0,31,59,90,120,151,181,212,243,273,304,334,365],g=new RegExp("^(\\d{4}|[-+]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");function b(t,e){var r=1<e?1:0;return n[e]+Math.floor((t-1969+r)/4)-Math.floor((t-1901+r)/100)+Math.floor((t-1601+r)/400)+365*(t-1970)}function u(t,e,r,n,o,i,c){var a,l=arguments.length;return this instanceof y?((a=1===l&&String(t)===t?new y(u.parse(t)):7<=l?new y(t,e,r,n,o,i,c):6<=l?new y(t,e,r,n,o,i):5<=l?new y(t,e,r,n,o):4<=l?new y(t,e,r,n):3<=l?new y(t,e,r):2<=l?new y(t,e):1<=l?new y(t):new y).constructor=u,a):y.apply(this,arguments)}for(t in y)u[t]=y[t];return u.now=y.now,u.UTC=y.UTC,((u.prototype=y.prototype).constructor=u).parse=function(t){var e,r,n,o,i,c,a,l,u,f,p,s,h=g.exec(t);return h?(e=Number(h[1]),r=Number(h[2]||1)-1,n=Number(h[3]||1)-1,o=Number(h[4]||0),i=Number(h[5]||0),c=Number(h[6]||0),a=Math.floor(1e3*Number(h[7]||0)),l=!h[4]||h[8]?0:Number(new y(1970,0)),u="-"===h[9]?1:-1,f=Number(h[10]||0),p=Number(h[11]||0),o<(0<i||0<c||0<a?24:25)&&i<60&&c<60&&a<1e3&&-1<r&&r<12&&f<24&&p<60&&-1<n&&n<b(e,1+r)-b(e,r)&&-864e13<=(s=1e3*(60*((s=60*(24*(b(e,r)+n)+o+f*u))+i+p*u)+c)+a+l)&&s<=864e13?s:NaN):y.parse.apply(this,arguments)},u}(Date);try{-1===new Date(-621987552e5).toISOString().indexOf("-000001")&&delete Date.prototype.toISOString}catch(t){}Date.prototype.toISOString||(Date.prototype.toISOString=function(){var t,e,r,n,o=this;if(!isFinite(o))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(t=[o.getUTCMonth()+1,o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()],n=((n=o.getUTCFullYear())<0?"-":9999<n?"+":"")+("00000"+Math.abs(n)).slice(0<=n&&n<=9999?-4:-6),e=t.length;e--;)(r=t[e])<10&&(t[e]="0"+r);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+o.getUTCMilliseconds()).slice(-3)+"Z"});var _=!0;try{new Date(NaN).toJSON()}catch(t){_=!1}Date.prototype.toJSON&&_||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError("toISOString property is not callable");try{return this.toISOString()}catch(t){return null}})}function N(t){var e=Number(t);return isNaN(e)?e=0:0===e&&!isFinite(e)||(e=(e<0?-1:1)*Math.floor(Math.abs(e))),e}function D(t){if(null==t)throw new TypeError(t+" is not a object");return t&&y&&t instanceof String?t.split(""):Object(t)}function I(t,e){return e in t}function M(t){return Object.prototype.toString.call(t)}function A(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t);return t}function C(t){try{return Object.defineProperty(t,"sentinel",{}),t.hasOwnProperty("sentinel")}catch(t){}}});

define("UWA/Internal/Immediate",function(){"use strict";var a,i,n,r=new Function("return this")();return r.setImmediate&&r.clearImmediate?{set:r.setImmediate.bind(r),clear:r.clearImmediate.bind(r)}:r.addEventListener&&r.postMessage?(a="uwa-setImmediate",i={},n=0,r.addEventListener("message",function(e){var t;try{t="string"==typeof e.data&&"{"===e.data[0]&&JSON.parse(e.data)}catch(e){}t&&t.type===a&&e.source===r&&(e.stopPropagation(),i[t.id]&&(i[t.id](),delete i[t.id]))},!0),{set:function(e){var t=n++;return i[t]=e,r.postMessage(JSON.stringify({type:a,id:t}),"*"),t},clear:function(e){delete i[e]}}):{set:function(e){return r.setTimeout(e,0)},clear:r.clearTimeout}});

define("UWA/Internal/Polyfill/Promise",["UWA/Internal/Immediate"],function(n){"use strict";var a,e=new Function("return this")();e.UWA_SKIP_POLYFILLS||"function"!=typeof e.Promise&&((a=e.Promise=function(e){var r,t,n,o=this;if(!o||"object"!=typeof o)throw new TypeError("bad promise");if(void 0!==o._status)throw new TypeError("promise already initialized");if(!c(e))throw new TypeError("not a valid resolver");o._status="unresolved",o._resolveReactions=[],o._rejectReactions=[],r=function(e){"unresolved"===o._status&&(n=o._resolveReactions,o._result=e,i(o,n,"has-resolution"))},t=function(e){"unresolved"===o._status&&(n=o._rejectReactions,o._result=e,i(o,n,"has-rejection"))};try{e(r,t)}catch(e){t(e)}return o}).prototype={constructor:a,catch:function(e){return this.then(void 0,e)},then:function(e,r){var t,n,o,i=this;if(!function(e){return e instanceof a}(i))throw new TypeError("not a promise");switch(t=new l,c(r)||(r=function(e){throw e}),c(e)||(e=function(e){return e}),n={capability:t,handler:function(t,n,o){return function(e){if(e===t)return o(new TypeError("self resolution"));var r=new l;return s(e,r)?r.promise.then(n,o):n(e)}}(i,e,r)},o={capability:t,handler:r},i._status){case"unresolved":i._resolveReactions.push(n),i._rejectReactions.push(o);break;case"has-resolution":u([n],i._result);break;case"has-rejection":u([o],i._result);break;default:throw new TypeError("unexpected")}return t.promise}},a.all=function(e){var c=new l,r=c.resolve,t=c.reject,s=[],u={count:1};try{f(e).forEach(function(e,r){var t,n,o=e._result,i=e._status;(t="has-resolution"===i?a.resolve(o):"has-rejection"===i?a.reject(o):e)&&(n=function(r,t,n,o){var i=!1;return function(e){i||(i=!0,t[r]=e,0==--o.count&&(0,n.resolve)(t))}}(r,s,c,u),u.count++,t.then(n,c.reject))}),0==--u.count&&r(s)}catch(e){t(e)}return c.promise},a.race=function(e){var o,r=new l,i=r.resolve,c=r.reject;try{f(e).forEach(function(e){var r,t=e._result,n=e._status;r="has-resolution"===n&&"has-rejection"!==o?i(t):"has-rejection"===n&&"has-resolution"!==o&&"has-rejection"!==o?c(t):e,o=n,r&&r.then(i,c)})}catch(e){c(e)}return r.promise},a.reject=function(e){var r=new l;return(0,r.reject)(e),r.promise},a.resolve=function(e){if(e instanceof a)return e;var r=new l;return(0,r.resolve)(e),r.promise});function o(e){return null!=e&&Object(e)===e}function c(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function l(e){if(e){if(!c(e))throw new TypeError("bad promise constructor")}else e=a;var r,t=this;if(t.promise=Object.create(e.prototype||null),r=e.call(t.promise,function(e,r){t.resolve=e,t.reject=r}),!c(t.resolve)||!c(t.reject))throw new TypeError("bad promise constructor");if(o(r)&&r!==t.promise)throw new TypeError("bad promise constructor")}function s(e,r){if(!o(e))return!1;try{var t=e.then;if(!c(t))return!1;t.call(e,r.resolve,r.reject)}catch(e){r.reject(e)}return!0}function u(e,r){e.forEach(function(e){n.set(function(e,r){var t,n=r.handler,o=r.capability,i=o.resolve,c=o.reject;try{if((t=n(e))===o.promise)throw new TypeError("self resolution");s(t,o)||i(t)}catch(e){c(e)}}.bind(null,r,e))})}function i(e,r,t){n.clear(e._updateStatus),e._status=t,e._updateStatus=n.set(function(){e._resolveReactions=void 0,e._rejectReactions=void 0,u(r,e._result)})}function f(e){return function(e){if(Array.isArray(e))return e;if("number"!=typeof e.length)throw new TypeError("bad iterable");return Array.prototype.slice.call(e)}(e).map(function(e){return e instanceof a?e:a.resolve(e)})}});

define("UWA/Core",["UWA/Internal/Polyfill/NativeObjects","UWA/Internal/Polyfill/Promise"],function(){"use strict";var p,r,n,a,o,c=new Function("return this")(),i=Object.prototype.hasOwnProperty,y=Object.prototype.toString,l=c.UWA||{};return p={version:"1.3.RC4",hosts:function(){var e,t=c.document,r=t&&t.location&&"https:"===t.location.protocol?"https://":"http://",n=l.hosts,o={netvibes:"netvibes.com",uwa:"uwa.{netvibes}",exposition:"{uwa}",ecosystem:"eco.{netvibes}"};function a(e,t){return o[t].split("//")[1]}for(e in o)i.call(o,e)&&(n&&i.call(n,e)?o[e]=n[e]:o[e]=r+o[e].replace(/\{(\w+)\}/g,a));return o}(),paths:function(){var e,t=l.paths,r={lib:"/lib/",js:"/lib/UWA/js/",css:"/lib/c/UWA/assets/css/",img:"/lib/c/UWA/assets/img/"};for(e in r)i.call(r,e)&&t&&i.call(t,e)&&(r[e]=t[e]);return r}(),debug:Boolean(l.debug),namespace:function(e,t,r,n){r=r||c;var o,a,i=e.split("/");for(o=0,a=i.length;o<a;o++){e=i[o];var l=Boolean(r[e]);if(o===a-1){if(l){if(!n)throw new Error('Duplicate NameSpace "'+i.join(".")+'" into "'+r+'"');if("extend"===n)t=p.extend(r[e],t);else if("replace"===n)t=p.extend(t,r[e]);else{if(!0!==n)throw new Error("Unknown mode "+n);t=p.extend(r[e],t,!0)}}r[e]=t}else l||(r[e]={});r=r[e]}return t},getGlobal:function(){return c},extend:function(e,t,r){var n;for(n in t=t||{})if(i.call(t,n))if(r&&p.is(t[n],"plain"))p.is(e[n],"plain")||(e[n]={}),p.extend(e[n],t[n],r);else try{e[n]=t[n]}catch(e){}return e},merge:function(e,t){var r;for(r in t)i.call(t,r)&&(void 0!==e[r]&&null!==e[r]||(e[r]=t[r]));return e},clone:function(e,t){var r,n,o,a;switch(a=!0!==t&&!1!==t||t,p.typeOf(e)){case"array":if(a)for(r=[],n=0,o=e.length;n<o;n++)r[n]=p.clone(e[n],!0);else r=e.slice();break;case"object":if(a)for(n in r={},e)i.call(e,n)&&(r[n]=p.clone(e[n],!0));else r=p.extend({},e);break;case"date":r=new Date(e);break;case"element":r=e.cloneNode(a);break;default:r=e}return r},result:function(e,t,r){var n;return p.is(e)&&(n=e[t]),void 0===n&&(n=r),p.is(n,"function")?n.call(e):n},typeOf:(o={Null:!1,Undefined:!1,Function:"function",AsyncFunction:"function",String:"string",Array:"array",Date:"date",RegExp:"regexp",Number:"number",Boolean:"boolean",Error:"error",Arguments:"arguments",Blob:"blob",ArrayBuffer:"arraybuffer",FormData:"formdata",HTMLDocument:"document",XMLDocument:"document",Document:"document",global:"window",Window:"window",DOMWindow:"window",Math:"object",MouseEvent:"event",NodeList:"nodelist",Int8Array:"typedarray",Uint8Array:"typedarray",Uint8ClampedArray:"typedarray",Int16Array:"typedarray",Uint16Array:"typedarray",Int32Array:"typedarray",Uint32Array:"typedarray",Float32Array:"typedarray",Float64Array:"typedarray",DataView:"dataview",File:"file"},function(e){var t={}.toString.call(e).slice(8,-1);if(null==e)return!1;if("Function"===t&&"function"==typeof e.extend&&"function"==typeof e.singleton)return"class";if("Number"===t&&isNaN(e))return!1;if("Object"===t&&e&&"number"==typeof e.nodeType)return"element";var r=o[t];return void 0!==r?r:"Event"===t.slice(-5)?"event":"Element"===t.slice(-7)?"element":e.$extended&&e.event?"event":"Object"===t&&c.DataView&&e instanceof c.DataView?"dataview":"object"}),is:(a=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){var r,n,o=!1;for(r=0,n=e.length;r<n;r++)if(e[r]===t){o=!0;break}return o?r:-1},function(e,t){var r,n;if(void 0===t)r="number"==typeof e?!isNaN(e):null!=e;else{if(t="array"===p.typeOf(t)?t:[t],r=!1,-1!==a(t,"finite")&&(r=isFinite(e)),r||-1===a(t,"plain")||(r=function(e){if(!e||"object"!==p.typeOf(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e)if(!i.call(e,t))return!1;return!0}(e)),!r){var o=a(t,"arraybufferview");0<=o&&(t=t.slice()).splice(o,1,"typedarray","dataview")}r||!1===(n=p.typeOf(e))||(r=-1!==a(t,n))}return r}),equals:function(e,t){return function e(t,r,n,o){var a,i,l,c,s,u,f;if(t===r)f=0!==t||1/t==1/r;else if(null==t||null==r)f=t===r;else if((a=y.call(t))!==y.call(r))f=!1;else if("[object String]"===a)f=String(t)===String(r);else if("[object Number]"===a)f=t!=Number(t)?r!=Number(r):0==t?1/t==1/r:t==Number(r);else if("[object Date]"===a||"[object Boolean]"===a)f=Number(t)===Number(r);else if("[object RegExp]"===a)f=t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.ignoreCase===r.ignoreCase;else if("object"!=typeof t||"object"!=typeof r)f=!1;else{for(i=n.length;i--;)n[i]===t&&(f=o[i]===r);if(void 0===f){if(n.push(t),o.push(r),"[object Array]"===a)for(f=(l=t.length)===r.length;f&&0<l;)f=e(t[--l],r[l],n,o);else if((c=t.constructor)===(s=r.constructor)||"[object Function]"===y.call(c)&&c instanceof c&&"[object Function]"===y.call(s)&&s instanceof s){for(u in f=!(l=0),t)if(p.owns(t,u)&&(l++,!(f=p.owns(r,u)&&e(t[u],r[u],n,o))))break;if(f){for(u in r)if(p.owns(r,u)&&!l--)break;f=!l}}else f=!1;n.pop(),o.pop()}}return f}(e,t,[],[])},owns:function(e,t){return p.is(e)&&i.call(e,t)},log:function(e,t){t=t||"log",c.console?c.console[t](e):c.opera&&c.opera.postError&&c.opera.postError(e)},i18n:(n={},function(e,t){return t=t||(c.navigator?c.navigator.language||c.navigator.systemLanguage:"default"),r=n[t]=n[t]||{},"object"==typeof e?p.extend(r,e):r[e]||e}),driver:c.Dojo?"Dojo":c.MooTools?"Mootools":c.Prototype?"Prototype":c.jQuery?"jQuery":c.YAHOO?"Yui":"Alone"},define.amd&&define.amd.curl&&(c.require||c.curl)({apiName:"require",paths:{UWA:p.hosts.uwa+p.paths.js,vendors:p.hosts.uwa+p.paths.lib+"/vendors"}}),p.namespace("UWA",p,c,!0)});

define("UWA/Event",["UWA/Core"],function(i){"use strict";var l,u,n={onDomReady:function(n,a){a=a||window;var o=!1,e=!0,c=window.document,r=c.documentElement,t=Boolean(c.addEventListener),l=t?"addEventListener":"attachEvent",i=t?"removeEventListener":"detachEvent",u=t?"":"on";function d(e){var t=e.type;"complete"!==c.readyState&&"interactive"!==c.readyState||(c[i](u+"DOMContentLoaded",d,!1),c[i](u+"readystatechange",d,!1),window[i](u+"load",d,!1),o||(o=!0,n.call(a,t||e)))}if("complete"===c.readyState)setTimeout(n.bind(a,"lazy"),1);else{if(c.createEventObject&&r.doScroll){try{e=!window.frameElement}catch(e){}e&&!function t(){try{r.doScroll("left"),d("poll")}catch(e){setTimeout(t,50)}}()}c[l](u+"DOMContentLoaded",d,!1),c[l](u+"readystatechange",d,!1),window[l](u+"load",d,!1)}},dispatchEvent:function(e,t,n){var a,o,c,r=9===e.nodeType?e:e.ownerDocument||e.document,l={canBubble:!0,cancelable:!0,view:r.defaultView||r.parentWindow,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null,keyCode:null,charCode:null,touches:null,targetTouches:null,changedTouches:null,scale:1,rotation:0};if(n=i.merge(n||{},l),r.createEvent){if(c="click"===t||"dblclick"===t||"contextmenu"===t||0===t.indexOf("mouse")?(o="MouseEvent",[t,n.canBubble,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget]):0===t.indexOf("touch")?(o="TouchEvent",[t,n.canBubble,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.touches,n.targetTouches,n.changedTouches,n.scale,n.rotation]):0===t.indexOf("key")?(o="KeyboardEvent",[t,n.canBubble,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode]):(o="HTMLEvents",[t,n.canBubble,n.cancelable]),a=r.createEvent(o),"KeyboardEvent"===o&&"function"==typeof a.initKeyEvent?o="KeyEvent":"HTMLEvents"===o&&"function"!=typeof a.initHTMLEvents&&(o="Event"),"function"!=typeof a["init"+o])throw new Error("Unsuported Event type "+o);a["init"+o].apply(a,c),e.dispatchEvent(a)}else if(r.createEventObject){a=r.createEventObject(),i.extend(a,n);try{e.fireEvent("on"+t,a)}catch(e){throw new Error("Unsuported Event type "+t)}}return a},getElement:function(e){var t=e._uwaTarget||e.target||e.srcElement;return"DOMCharacterDataModified"===e.type||!t||3!==t.nodeType&&4!==t.nodeType||(t=t.parentNode),i.extendElement(t)},findElement:function(e,t){return n.getElement(e).getClosest(t)},getPosition:function(e,t){var n;t="number"==typeof t?{touchIndex:t}:t||{};var a=e.changedTouches||e.touches,o="client"===t.relativeTo,c=o?"clientX":"pageX",r=o?"clientY":"pageY";if(a)if(void 0!==t.touchIndex&&a[t.touchIndex])n={x:a[t.touchIndex][c],y:a[t.touchIndex][r]};else{n={x:0,y:0};for(var l=0,i=a.length;l<i;l++)n.x+=a[l][c],n.y+=a[l][r];n.x/=i,n.y/=i}else n={x:e[c],y:e[r]};return n},stopPropagation:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1,void 0!==e.cancelable&&!0!==e.cancelable||void 0!==e.defaultPrevented||(e.defaultPrevented=!0)},stop:function(e){n.preventDefault(e),n.stopPropagation(e)},isDefaultPrevented:function(e){return e.defaultPrevented||!0!==e.returnValue&&void 0!==e.returnValue},whichButton:function(e){var t=e.button,n=e.which;return!n&&i.is(t)&&(n=[0,1,3,1,2][t]||0),n-1},whichKey:(l=["alt","ctrl","meta","shift"],u={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},function(e){var t,n,a,o=e.which||e.keyCode,c="keypress"!==e.type&&u[o],r=[];for(t=0,n=l.length;t<n;t++)e[(a=l[t])+"Key"]&&c!==a&&r.push(a);return c?r.push(c):o&&0===e.type.indexOf("key")&&r.push(String.fromCharCode(o).toLowerCase()),r.join("+")}),wheelDelta:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}};return i.namespace("Event",n,i)});

define("UWA/Function",["UWA/Core"],function(n){"use strict";var t={always:function(n){return function(){return n}}};return n.namespace("Function",t,n)});

define("UWA/Internal/Deprecate",["UWA/Core"],function(i){"use strict";var n={},l={warn:function(e,r,t){t=t||"warn",i.debug&&!n.hasOwnProperty(e)&&(i.log(e+" is deprecated."+(r?" "+r:""),t),n[e]=!0)},alias:function(e,r,t){if(!i.debug)return t;function n(){return l.warn(e,r),t&&t.apply(this,arguments)}return t&&(n.prototype=t.prototype),n},property:function(e,r,t){var n=t?t.value:void 0;if(i.debug){var a=t&&t.name||r;Object.defineProperty(e,r,{get:function(){return l.warn(a,t&&t.message),n},set:function(e){l.warn(a,t&&t.message),n=e}})}else e[r]=n},uncurryAlias:function(u,e,c,s){Object.keys(u).forEach(function(a){var i=u[a];Object.defineProperty(e,a,{value:function(e,r,t){switch(l.warn(s+"#"+a,"Use "+c+"."+a+"(value, ...) instead"),arguments.length){case 0:return i.call(u,this);case 1:return i.call(u,this,e);case 2:return i.call(u,this,e,r);case 3:return i.call(u,this,e,r,t);default:var n=[].slice.call(arguments);return n.unshift(this),i.apply(u,n)}},writable:!0})})}};return l});

define("UWA/String",["UWA/Core","UWA/Internal/Deprecate"],function(UWA,Deprecate){"use strict";var Module={},a,q,r,t,u,E,F,G,X,Y,Z,da,ea,wa;function H(e){return E[e]}function parseColorToArray(e){var r,t,a=!1,n=(e=e.replace(/\s+/g,"")).match(/^rgb(a?)\(((?:\d{1,3},)*\d{1,3})\)/);if(n)a=n[2].split(",").map(function(e){return parseInt(e,10)}),(!n[1]&&3!==a.length||n[1]&&4!==a.length)&&(a=!1);else if(n=e.match(/^#?((?:[a-f0-9]{3}){1,2})$/i)){r=3===n[1].length?1:2,a=[];for(var i=0;i<n[1].length;i+=r)t=parseInt(n[1].substr(i,r),16),1==r&&(t=16*t+t),a.push(t)}else"transparent"===e&&(a=[0,0,0,0]);return a}function FakeString(){return Deprecate.warn("UWA/String as a constructor","Use the native String instead."),String.apply(null,arguments)}return Module.isEmail=(a=/^([a-zA-Z0-9_.\-+])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,function(e){return a.test(e)}),Module.truncate=function(e,r,t){return r=r||30,t=void 0===t?"...":t,e.length>r?e.slice(0,r-t.length)+t:String(e)},Module.cut=function(e,r,t){if(r=r||30,t=void 0===t?"...":t,e.length<=r)return String(e);var a,n=-1,i=t.length;for(a=r-i;0<=a;a--)if(-1!==".,;!? ".indexOf(e.charAt(a))){n=a;break}return n<0&&(n=r-i),e.slice(0,n)+t},Module.escapeRegExp=function(e){return e.replace(/\\/g,"\\\\").replace(/([-.*+?^$()[\]{}|])/g,"\\$1")},Module.stripTags=function(e){return e.replace(/ on\w+="[^"]*"/g,"").replace(/<(?!\s*\/?\s*(div|br|dt|dd|th|td|p|pre|h1|h2|h3|h4|h5)\b)[^>]*>/gi,"").replace(/<\/?[^>]+>/gi," ").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},Module.stripScripts=function(string,evaluate){var scripts="",text=string.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,r){return scripts+=r+"\n",""});return!0===evaluate?eval(scripts):UWA.is(evaluate,"function")&&evaluate(scripts.trim(),text),text},Module.stripComments=(q=/^\/\/.*/gm,r=/^\/\*[\S\s]*?\*\//gm,function(e){return e.replace(q,"").replace(r,"")}),Module.escapeHTMLEntities=(t={},u={apos:39,minus:8722,circ:710,tilde:732,Scaron:352,lsaquo:8249,OElig:338,lsquo:8216,rsquo:8217,ldquo:8220,rdquo:8221,bull:8226,ndash:8211,mdash:8212,trade:8482,scaron:353,rsaquo:8250,oelig:339,Yuml:376,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,sbquo:8218,bdquo:8222,dagger:8224,Dagger:8225,hellip:8230,permil:8240,prime:8242,Prime:8243,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,hibar:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254},function(e){var r,a,n;if(function(e){return e.match(/&([a-z]+;)/gi)}(e))for(r in u)u.hasOwnProperty(r)&&(t[n=r]||(t[n]=new RegExp("&"+n+";","g")),a=t[n],e=e.replace(a,"&#"+u[r]+";"));return String(e)}),Module.globToRegex=function(e){var r=Module.escapeRegExp(e).replace(/\\\*/g,".*").replace(/\\\?/g,".").replace(/\\\{/g,"(").replace(/\\\}/g,")").replace(/,/g,"|");return new RegExp("^"+r+"$")},Module.escapeHTML=(E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},F=/[&<>"'/]/g,G=/[<>/]/g,function(e,r){return String(e).replace(r?G:F,H)}),Module.unescapeHTML=function(e){var r=document.createElement("div");return r.innerHTML=Module.stripTags(e).replace(/"/g,"&quot;"),r.childNodes[0]?r.childNodes[0].nodeValue:""},Module.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},Module.lcfirst=function(e){return e.charAt(0).toLowerCase()+e.substr(1)},Module.capitalize=function(e){for(var r=e.toUpperCase(),t=e.toLowerCase(),a=!1,n="",i=0;i<e.length;i++)r[i]===t[i]?(n+=e[i],a=!1):a?n+=e[i]:(n+=r[i],a=!0);return n},Module.camelCase=(X=/([A-Z]+)/g,Y=/[-_\s](.)/g,Z=/[-_\s]/g,function(e){return e=String(e).replace(X,function(e,r){return r.substr(0,1).toUpperCase()+r.toLowerCase().substr(1,r.length)}).replace(Y,function(e,r){return r.toUpperCase()}).replace(Z,"").trim(),Module.lcfirst(e)}),Module.unCamelCase=(da=/([a-z])([A-Z])/g,ea=/\b([A-Z]+)([A-Z])([a-z])/,function(e,r){return r=r||"-",e.toString().replace(da,"$1"+r+"$2").replace(ea,"$1"+r+"$2$3").toLowerCase()}),Module.rgbToHex=function(e,r){var t=parseColorToArray(e);return t=t&&(r?t.map(function(e){return parseInt(e.toString(16),10)}):0===t[3]?"transparent":"#"+t.slice(0,3).map(function(e){return("0"+e.toString(16)).slice(-2)}).join(""))},Module.hexToRgb=function(e,r){var t=parseColorToArray(e);return t&&!r&&(t=(3===t.length?"rgb(":"rgba(")+t.join(", ")+")"),t},Module.format=(wa=/\{(\d+)\}/g,function(e){var t=arguments;return e.replace(wa,function(e,r){return t[Number(r)+1]})}),Module.parseRelativeTime=function(e,r){var t,a,n,i,u=new Date,o=UWA.i18n;return u=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),"number"!=typeof r&&(r=0),a=(t=e.match(/^(\d\d\d\d)-(\d\d)-(\d\d) (\d\d):(\d\d):(\d\d)$/))?new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]).getTime():/^\d{13}$/.test(e)?parseInt(e,10):/^\d{10}$/.test(e)?1e3*parseInt(e,10):Date.parse(e.replace(/\//g,"-")),r*=3600,n=(new Date-a)/1e3+r,i=(u-a)/1e3+r,!isNaN(n)&&(n<60?o("less than a minute ago"):n<120?o("about a minute ago"):n<2700?Module.format(o("{0} minutes ago"),Math.round(n/60)):n<5400?o("about an hour ago"):i<0?Module.format(o("about {0} hours ago"),Math.round(n/3600)):i<86400?o("yesterday"):Module.format(o("{0} days ago"),Math.ceil(i/86400)))},Module.makeClickable=function(e){var u=/((\w+:\/\/(\w+(:\w+)?@)?)|\bwww\.)[^\s<$]+/,o=/([/:\w+_-]+(\.[\w+_-]+)*@[\w.-]+)/;return e.replace(/(^|[\s>])([^\s<>"']+?)(?=$|[\s<])/gm,function(e,r,t){if(u.test(t)){var a=t.replace(/([.!?:)\]]$)/,""),n=t;return/^www\./.test(a)&&(a="http://"+a),r+'<a href="'+a+'" target="_blank">'+n+"</a>"}if(o.test(t)){var i=t;return/^[\w]+:\/\//.test(i)||(i='<a href="mailto:'+i+'">'+i+"</a>"),r+i}return e})},Module.contains=function(e,r,t){var a;return UWA.is(t,"string")?(e=t+e+t,r=t+r+t):UWA.is(t,"number")&&(a=t),-1!==e.indexOf(r,a)},Module.highlight=function(e){return Deprecate.warn("UWA.String.highlight"),e},Module.test=function(e,r,t){return Deprecate.warn("UWA.String.test","Use regexp.test(string) instead"),("string"==typeof r?new RegExp(r,t):r).test(e)},Deprecate.uncurryAlias(Module,String.prototype,"UWA.String","String"),Object.assign(FakeString,Module),UWA.namespace("String",FakeString,UWA)});

define("UWA/Array",["UWA/Core","UWA/Internal/Deprecate"],function(r,n){"use strict";var a={};function e(){return n.warn("UWA/Array as a constructor","Use the native Array instead."),Array.apply(null,arguments)}return a.equals=function(r,a){n.warn("UWA.Array.equals","Use UWA.equals instead");var e,t=r.length;if(!a||t!==a.length)return!1;for(e=0;e<t;e++)if(r[e]!==a[e])return!1;return!0},a.detect=function(r,a,e){var t,n;for(t=0,n=r.length;t<n;t++)if(a.call(e,r[t],t,r))return r[t]},a.invoke=function(r,a){var e=Array.prototype.slice.call(arguments,2);return r.map(function(r){return r[a].apply(r,e)})},a.erase=function(r,a){for(var e=r.length;e--;)r[e]===a&&r.splice(e,1);return r},n.uncurryAlias(a,Array.prototype,"UWA.Array","Array"),e.isArray=n.alias("UWA/Array.isArray","Use the native Array.isArray instead",Array.isArray),["splice","slice"].forEach(function(r){e.prototype[r]=n.alias("UWA/Array#"+r,"Use the native Array#"+r+" instead",Array.prototype[r])}),Object.assign(e,a),r.namespace("Array",e,r)});

define("UWA/Date",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";var n,r,a,o={};function u(e,t,n){return Array((n||2)-String(e).length+1).join(t||0)+e}function i(e){return parseInt(e,10)}function c(){t.warn("UWA/Date as a constructor","Use the native Date instead.");var e=Array.prototype.slice.call(arguments);return e.unshift(null),new(Date.bind.apply(Date,e))}return o.strftime=(n=e.i18n,r={a:[n("Sun"),n("Mon"),n("Tue"),n("Wed"),n("Thu"),n("Fri"),n("Sat")],A:[n("Sunday"),n("Monday"),n("Tuesday"),n("Wednesday"),n("Thursday"),n("Friday"),n("Saturday")],b:[n("Jan"),n("Feb"),n("Mar"),n("Apr"),n("May"),n("Jun"),n("Jul"),n("Aug"),n("Sep"),n("Oct"),n("Nov"),n("Dec")],B:[n("January"),n("February"),n("March"),n("April"),n("May"),n("June"),n("July"),n("August"),n("September"),n("October"),n("November"),n("December")],c:n("%a %b %e %Y %T"),p:[n("AM"),n("PM")],P:[n("am"),n("pm")],x:n("%m/%d/%y"),X:n("%T")},a={a:function(e){return r.a[e.getDay()]},A:function(e){return r.A[e.getDay()]},b:function(e){return r.b[e.getMonth()]},B:function(e){return r.B[e.getMonth()]},c:r.c,C:function(e){return u(i(e.getFullYear()/100))},d:function(e){return u(e.getDate())},D:"%m/%d/%y",e:function(e){return u(e.getDate()," ")},F:"%Y-%m-%d",g:function(e){return u(a.G(e)%100)},G:function(e){var t=e.getFullYear(),n=i(a.V(e)),r=i(a.W(e));return n<r?t++:0===r&&52<=n&&t--,t},h:"%b",H:function(e){return u(e.getHours())},I:function(e){return u(e.getHours()%12||12)},j:function(e){return u(i((new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" GMT")-new Date(e.getFullYear()+"/1/1 GMT"))/6e4/60/24)+1,0,3)},l:function(e){return u(e.getHours()%12||12," ")},m:function(e){return u(e.getMonth()+1)},M:function(e){return u(e.getMinutes())},n:"\n",p:function(e){return r.p[12<=e.getHours()?1:0]},P:function(e){return r.P[12<=e.getHours()?1:0]},r:"%I:%M:%S %p",R:"%H:%M",s:function(e){return i(e/1e3)},S:function(e){return u(e.getSeconds())},t:"\t",T:"%H:%M:%S",u:function(e){return e.getDay()||7},U:function(e){return u(i((i(a.j(e))+(6-e.getDay()))/7))},V:function(e){var t=i(a.W(e)),n=new Date(e.getFullYear()+"/1/1").getDay(),r=t+(4<n||n<=1?0:1);return 53===r&&new Date(e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=a.V(new Date(e.getFullYear()-1+"/12/31"))),u(r,0)},w:function(e){return e.getDay()},W:function(e){return u(i((i(a.j(e))+(7-a.u(e)))/7))},x:r.x,X:r.X,y:function(e){return u(e.getFullYear()%100)},Y:function(e){return e.getFullYear()},z:function(e,t){var n=t?0:e.getTimezoneOffset();return(0<n?"-":"+")+u(i(Math.abs(n/60)))+u(n%60)},Z:function(e,t){var n;return t?n="UTC":4<(n=e.toString().replace(/^.*:\d\d( GMT[+\-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"")).length&&(n=a.z(e)),n},"%":"%"},function(n,e,r){var u;return u=r?new Date(Number(n)+6e4*n.getTimezoneOffset()):n,e.replace(/%[A-Za-z%]/g,function(e){var t=a[e.slice(1)];return void 0===t?e:"string"==typeof t?"%"!==t&&0<=t.indexOf("%")?o.strftime(n,t,r):t:t(u,r)})}),t.uncurryAlias(o,Date.prototype,"UWA.Date","Date"),["now","parse","UTC"].forEach(function(e){c[e]=t.alias("UWA/Date."+e,"Use the native Date."+e+" instead",Date[e])}),Object.assign(c,o),e.namespace("Date",c,e)});

define("UWA/Object",["UWA/Core","UWA/Internal/Deprecate"],function(e,t){"use strict";function n(){return t.warn("UWA/Object as a constructor","Use the native Object instead."),Object.apply(null,arguments)}return["assign","create","defineProperty","defineProperties","freeze","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys","preventExtensions","seal","setPrototypeOf"].forEach(function(e){n[e]=t.alias("UWA/Object."+e,"Use the native Object."+e+" instead",Object[e])}),e.namespace("Object",n,e)});

define("UWA/Utils",["UWA/Core","UWA/Array","UWA/Internal/Immediate"],function(c,a,e){"use strict";var s,D,r,t,i,n,o,l,u,B,p,A,C,f,d,F,E,h,m,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=c.getGlobal();return s={buildUrl:(m=y.location&&y.location.protocol?y.location.protocol:"http:",function(e,t){if(e=String(e),t=String(t),!s.isAbsoluteUrl(e))throw new Error("First argument should be a absolute url.");"//"===e.substring(0,2)&&(e=m+e);var r,n,o=String(e).split("://"),a=o[0],i=o[1].split("/"),c=i[0],l="";if("//"===t.substring(0,2))e=a+":"+t;else if(1<t.split("://").length)e=t;else if("/"===t.substring(0,1))e=a+"://"+c+t;else{for(r=1,n=i.length-1;r<n;r++)l+="/"+i[r];e=a+"://"+c+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(l+"/"+t)}return e}),parseUrl:(E=["source","subprotocol","protocol","authority","user","password","domain","port","path","directoryPath","fileName","query","anchor"],h=new RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:/]+)(?::([^/]*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?"),function(e){var t,r=h.exec(e),n={};for(t=0;t<E.length;t++)n[E[t]]=r[t]||"";return n.subprotocol&&(n.source=n.source.substr(n.subprotocol.length+1)),n.port||(n.port="https"===n.protocol?"443":"80"),n.directoryPath&&0<n.directoryPath.length&&(n.directoryPath=n.directoryPath.replace(/\/?$/,"/")),n.domain=n.domain.toLocaleLowerCase(),n.protocol=n.protocol.toLocaleLowerCase(),n}),composeUrl:function(e){var t="";return e.protocol&&(t=e.protocol+"://",e.subprotocol&&(t=e.subprotocol+":"+t)),e.domain?(t+=e.domain,!e.port||"http"===e.protocol&&80===parseInt(e.port,10)||"https"===e.protocol&&443===parseInt(e.port,10)||(t+=":"+e.port)):e.authority&&(t+=e.authority),e.path&&(t+=e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t},matchUrl:function(e,t){var r,n,o=s.isAbsoluteUrl(e),a=s.isAbsoluteUrl(t);return!o&&!a||(o?a||(t=s.buildUrl(e,t)):e=s.buildUrl(t,e),r=s.parseUrl(e),n=s.parseUrl(t),["domain","protocol","port"].every(function(e){return r[e]===n[e]||"protocol"===e&&(""===r[e]||""===n[e])}))},isAbsoluteUrl:(F=/^((https?|ftp|file):)?\/\//,function(e){return F.test(e)}),isValidUrl:(C="(\\/(?!/)([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))*)*(\\?(([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#(([a-z0-9._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF!\\$&'\\(\\)\\*\\+,;=:@-]|(?:%[\\da-f]{2}))|[\\uE000-\\uF8FF]|\\/|\\?)*)?",f=new RegExp("^(?:((?:https?|ftp|file):)?//)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:[a-z\\u00a1-\\uffff0-9]+-)*[a-z\\u00a1-\\uffff0-9]+(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-)*[a-z\\u00a1-\\uffff0-9]+)*\\.(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?"+C+"$","i"),d=new RegExp("^"+C+"$","i"),function(e){return(s.isAbsoluteUrl(e)?f:d).test(e)}),encodeUrl:function(e){return encodeURIComponent(e).replace(/\./g,"%2e")},parseQuery:function(e){var t=e.substring(e.indexOf("?")+1).split(/[&;]/),r={};return t.length&&t.forEach(function(e){var t=e.indexOf("=")+1,n=t?e.substr(t):"",o=t?e.substr(0,t-1).match(/([^\][]+|(\B)(?=\]))/g):[e],a=r;o&&(n=decodeURIComponent(n),o.forEach(function(e,t){e=decodeURIComponent(e);var r=a[e];t<o.length-1?a=a[e]=r||{}:Array.isArray(r)?r.push(n):a[e]=c.is(r)?[r,n]:n}))}),r},toQueryString:function(e,t){var r,n,o,a,i=c.is;if(i(e,"string"))a=e;else if(i(e.toQueryString,"function"))a=e.toQueryString();else{for(r in a=[],e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"["+r+"]"),i(n)&&(i(n,"object")||i(n,"array")?o=s.toQueryString(n,r):i(n,"function")||(o=s.encodeUrl(r)+"="+s.encodeUrl(n))),o&&a.push(o),o=void 0);a=a.join("&")}return a},getQueryString:function(e,t,r){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp(t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1]):r},loadXml:(B=/<(DOCTYPE|xml)[^><]*>|<.(DOCTYPE|xml)[^><]*>/g,p=/(<(style|script)[^>]*>)([\u0001-\uFFFF]*?)(<\/(style|script)>)/gim,A=/<!\[CDATA\[/,function(e,t){var r,n,o,a,i;if("object"==typeof e&&e.nodeType)r=e;else if(e=(e=e.replace(B,"")).replace(p,function(){var e=arguments,t=e[1],r=e[3],n=e[4];return A.test(r)||(r="<![CDATA[\n"+r+"\n]]>"),t+r+n}),y.DOMParser)try{if(i=(r=(r=new y.DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("parsererror")[0])throw new Error(i.textContent||i.innerText)}catch(e){throw new Error("Invalid XML: "+e.message)}else{if(!y.ActiveXObject)throw new Error("No native XML parser available.");if((r=new y.ActiveXObject("MSXML2.DOMDocument")).setProperty("SelectionLanguage","XPath"),r.validateOnParse=!1,r.resolveExternals=!1,r.preserveWhiteSpace=!1,r.async=!1,r.loadXML(e),0!==r.parseError.errorCode)throw new Error("Invalid XML: "+r.parseError.line+", "+r.parseError.reason)}return t&&(r=y.XSLTProcessor?((n=new y.XSLTProcessor).importStylesheet(s.loadXml(t)),n.transformToDocument(r,document)):((n=new y.ActiveXObject("Msxml2.FreeThreadedDOMDocument")).loadXML(s.xmlToString(t)),(o=new y.ActiveXObject("Msxml2.XSLTemplate")).stylesheet=n,(a=o.createProcessor()).input=r,a.transform(),s.loadXml(a.output))),r}),loadHtml:(l=new RegExp("</?(script|embed|object|frameset|frame|iframe|meta|link|style)(.|\n)*?>","img"),u=new RegExp("<([a-z][a-z0-9]*)(?:[^>]*(\\s(src|href|title|style|alt|height|width|data-([a-z][a-z0-9]*))=['\"][^'\"]*['\"]))?[^>]*?(\\/?)>","im"),function(e){var t,r,n,o;if(y.DOMParser)try{t=(new y.DOMParser).parseFromString(e,"text/html")}catch(e){}if(!t&&document.implementation.createHTMLDocument)try{(r=(t=document.implementation.createHTMLDocument("")).documentElement).innerHTML=e,n=r.firstElementChild,1===r.childElementCount&&"html"===n.localName.toLowerCase()&&t.replaceChild(n,r)}catch(e){t=null}if(e=function(e){return e=(e=e.replace(l,"")).replace(u,"<$1$2$4>")}(e),!t&&y.ActiveXObject)try{(t=new y.ActiveXObject("htmlfile")).write(e),t.close()}catch(e){t=null}return t||((o=document.createElement("iframe")).style.display="none",document.body.appendChild(o),(t=o.contentDocument||o.contentWindow.document).write(e),t.close(),document.body.removeChild(o)),t}),xmlToHtml:function(e){"string"==typeof e&&(e=s.loadXml(e)),9===e.nodeType&&(e=e.childNodes[0]);var t,r,n,o,a=e.nodeName.toLowerCase(),i=document.createElement(a),c=e.childNodes,l=e.attributes||[];for(n=0,o=l.length;n<o;n++)t=l[n],i.setAttribute(t.name,t.value);for(n=0,o=c.length;n<o;n++)switch((r=c[n]).nodeType){case 1:i.appendChild(s.xmlToHtml(r));break;case 3:"style"===a&&i.styleSheet?i.styleSheet.cssText=r.nodeValue:i.appendChild(document.createTextNode(r.nodeValue));break;case 4:case 8:"script"===a?i.text=r.nodeValue:i.appendChild(document.createComment(r.nodeValue))}return i},xmlToString:function(e,t){var r;return r="string"==typeof e?e:y.XMLSerializer?(r=new y.XMLSerializer).serializeToString(e):e.xml,t&&(r=function(i){var c,l,s,u,D=0;return c=i.trim().replace(/(>)(\s+)?(<)(\/*)/g,"$1\r\n$3$4").split(">\r\n"),i="",c.forEach(function(e,t){var r,n=0,o="",a="\r\n";for(t!==c.length-1&&(e+=">"),s=u,u=l,l=/(<!\[CDATA\[)|(\]\]>)/.test(c[t+1]||""),e.match(/.+<\/\w[^>]*>$/)?n=0:e.match(/^<\/\w/)?0!==D&&(D-=1):e.match(/^<\w[^>]*[^/]>.*$/)&&(n=1),r=0;r<D;r++)o+="  ";(l||u&&!l)&&(a=""),(u||s&&!u)&&(o=""),i+=o+e+a,D+=n}),i}(r)),r.trim()},setCss:function(e,t,r,n){r=r?r.trim():"",t=Array.isArray(t)?t.join("\n"):String(t),e=e||s.getCheckSum(t);var o=function(e){for(var t=/\{/g,r=/\}/g,n=0,o=r.test(e),a=t.test(e),i=[],c={children:i};;)if(a&&t.lastIndex<r.lastIndex){var l={prefix:e.slice(n,t.lastIndex-1),parent:c,content:"",children:[]};c.children.push(l),c=l,n=t.lastIndex,a=t.test(e)}else{if(!o)break;c.content=e.slice(n,r.lastIndex-1),c.parent&&(c=c.parent),n=r.lastIndex,o=r.test(e)}return i}(t=t.replace(/\/\*[\s\S]*?\*\//g,""));return r&&(function r(e,n){e.forEach(function(e){var t=e.prefix.trim();"@"!==t[0]&&!1!==n&&(e.selectors=a.invoke(t.split(","),"trim")),r(e.children,!t.startsWith("@keyframes"))})}(o),function l(e,s){e.forEach(function(e){var t,r,n,o,a,i,c;if(e.selectors)for(t=0,r=e.selectors.length;t<r;t++)e.selectors[t]=(n=s,o=e.selectors[t],i=a=void 0,c=o.match(/^[\s\S]*(?:^|\s)(?:body|html)\b(\S*)/),(i=(i=c?(a=o.slice(0,c[0].length).trim()+" ",o.slice(c[0].length).trim()):(a="",o)).replace(/^\.module\b\S*\s/,"")).startsWith(n+" ")||(i=n+" "+i),a+i);else l(e.children,s)})}(o,r)),n&&function(e,r){e.forEach(function(e){e.content=e.content.replace(/\burl\(["']?([\s\S]*?)["']?\)/g,function(e,t){return s.isAbsoluteUrl(t)||(t=s.buildUrl(r,t)),'url("'+t+'")'})})}(o,n),function(e,t){var r=document.getElementById(t);r||((r=document.createElement("style")).setAttribute("id",t),r.setAttribute("type","text/css"),document.getElementsByTagName("head").item(0).appendChild(r)),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(t=function t(e){return e.map(function(e){return(e.selectors?e.selectors.join(",\n")+" ":e.prefix)+"{"+t(e.children)+e.content+"}"}).join("\n")}(o),e),t},toArray:function(e){var t,r,n=typeof e,o=[];if("string"==n)o=e.split("");else if("object"==n&&!1===Array.isArray(e))if(void 0!==e.length)for(t=0,r=e.length;t<r;t++)o[t]=e[t];else for(t in e)e.hasOwnProperty(t)&&o.push(e[t]);else e&&(o=Array.prototype.slice.call(e));return o},splat:function(e){return c.is(e)?Array.isArray(e)?e:c.is(e,"arguments")?s.toArray(e):[e]:[]},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},getUniqueId:(n=0,o=Math.pow(32,4),function(e){return n++,(e||"u")+("0000"+((Math.random()*o|0)*o+n).toString(32)).slice(-8)}),getCheckSum:function(e,t){var r,n;for(t=t||305419896,r=0,n=(e=String(e)).length;r<n;r++)t+=e.charCodeAt(r)*r;return Math.abs(parseInt(t,10)).toString(36)},getCRC32:(i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",function(e){var t,r,n=0,o=0;for(n^=-1,t=0,r=(e=String(e)).length;t<r;t++)o=255&(n^e.charCodeAt(t)),n=n>>>8^"0x"+i.substr(9*o,8);return-1^n}),base64Encode:(t=y.btoa||function(e){for(var t,r,n,o,a,i,c,l=e.length,s="",u=0;u<l;)o=(t=e.charCodeAt(u++))>>2,a=(3&t)<<4|(r=e.charCodeAt(u++))>>4,i=(15&r)<<2|(n=e.charCodeAt(u++))>>6,c=63&n,isNaN(r)?i=c=64:isNaN(n)&&(c=64),s=s+g.charAt(o)+g.charAt(a)+g.charAt(i)+g.charAt(c);return s},function(e){return e=String(e),t(function(e){return unescape(encodeURIComponent(e))}(e))}),base64Decode:(D=/[^A-Za-z0-9+/=]/g,r=y.atob||function(e){var t,r,n,o,a,i,c,l,s="",u=0;if("string"!=typeof e&&(e=String(e)),(t=(e=e.replace(D,"")).length)%4==1)throw new Error("InvalidCharacterError: DOM Exception 5");for(;u<t;)a=g.indexOf(e.charAt(u++)),i=g.indexOf(e.charAt(u++)),c=u<t&&g.indexOf(e.charAt(u++)),l=u<t&&g.indexOf(e.charAt(u++)),r=a<<2|i>>4,s+=String.fromCharCode(r),!1!==c&&64!==c&&(n=(15&i)<<4|c>>2,s+=String.fromCharCode(n)),!1!==l&&64!==l&&(o=(3&c)<<6|l,s+=String.fromCharCode(o));return s},function(e){var t=r(e);try{t=function(e){return decodeURIComponent(escape(e))}(t)}catch(e){}return t}),attempt:function(e,t,r){var n,o=Array.prototype.slice.call(arguments,3);if(c.debug)n=e.apply(r,o);else try{n=e.apply(r,o)}catch(e){t?n=t.apply(r,[e].concat(o)):c.log("Error in Utils.attempt: "+e)}return n},memoize:function(t,r){var n={},o=Array.prototype.slice;return r=r||JSON.stringify,function(){var e=r(o.call(arguments));return n.hasOwnProperty(e)||(n[e]=t.apply(this,arguments)),n[e]}},getOwnPropertyMatchName:function(e,t){var r,n;if(t=String(t),e.hasOwnProperty(t))n=t;else for(r in t=t.toLowerCase(),e)if(e.hasOwnProperty(r)&&r.toLowerCase()===t){n=r;break}return n},getOwnPropertyMatchValue:function(e,t){var r=s.getOwnPropertyMatchName(e,t);return r?e[r]:void 0},setImmediate:e.set,clearImmediate:e.clear,random:function(e,t){return c.is(t)||(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}},c.namespace("Utils",s,c,!0)});

define("UWA/Class",["UWA/Core"],function(u){"use strict";function i(){}var p=!1,n=/xyz/.test(function(){u.xyz()}),e=n?/\b_parent\b/:/^/,l=n?/\b_previous\b/:/^/,c="__uwaPrivateConstructor",f=function(){};function y(r,o,a,n){a._original&&(a=a._original);var t,p=e.test(a),s=l.test(a);return p||s?("function"!=typeof o&&(o=n?f:r||f),"function"!=typeof r&&(r=s?f:o),(t=function(){var n,t,i,e=this;return null!=e?(p&&(t=e._parent,e._parent=r),s&&(i=e._previous,e._previous=o),n=a.apply(e,arguments),p&&(e._parent=t),s&&(e._previous=i)):n=a.apply(e,arguments),n}).displayName="(method wrapper)",t._original=a,t):a}function h(n){return function(){this._previous.apply(this,arguments),n.apply(this,arguments)}}return i.extend=function(){var n,t;return p=!0,n=new this,p=!1,t=function(){!p&&this[c]&&this[c].apply(this,arguments)},n.constructor=t,u.extend(t,{prototype:n,parent:this,extend:i.extend,singleton:i.singleton,implement:i.implement}),t.implement.apply(t,arguments),t},i.implement=function(){var n,t,i,e,r,o,a,p=this,s=p.prototype||p;for(n=0,t=arguments.length;n<t;n+=1){var l;for(e in i=arguments[n],"class"===(r=u.typeOf(i))||"function"===r?("function"===r&&(i.prototype[c]=h(i)),i=i.prototype):i.init&&(i[c]=i.init,delete i.init),l=i.name?i.name:s.name?u.owns(s,"name")?s.name:"("+s.name+" inheritor)":"(anonymous class)",i)"constructor"!==e&&(o=i[e],u.is(o,"function")?(a=("class"===r?arguments[n]:p).parent,o.displayName=l+"#"+(e===c?"init":e),s[e]=y(a&&a.prototype&&a.prototype[e],u.owns(s,e)&&s[e],o,"class"===r)):u.is(o,"plain")?(u.owns(s,e)||(s[e]=u.is(s[e],"plain")?u.clone(s[e]):{}),u.extend(s[e],o,!0)):s[e]=o)}return p},i.singleton=function(){var i,e=this.extend.apply(this,arguments),n=e.prototype,r=!1,o=[];function t(n){i[n]=function(){if(!r){if("throw"===i.uninitializedCalls)throw new Error("Singleton called before being initialized");if("ignore"===i.uninitializedCalls)return;i.init()}return i[n].apply(this,arguments)}}for(var a in p=!0,i=new e,p=!1,n)"function"==typeof n[a]&&"init"!==a&&"constructor"!==a&&(o.push(a),t(a));return i.init=function(){if(r)throw new Error("Singleton is already initialized");var n,t;for(r=!0,n=0,t=o.length;n<t;n++)delete i[o[n]];return e.apply(this,arguments),this},i},u.namespace("Class",i,u)});

define("UWA/Dispatcher",["UWA/Core","UWA/Utils","UWA/Class"],function(c,s,e){"use strict";var i=c.Class.extend({Binding:null,bindings:null,shouldPropagate:!0,active:!0,dispatching:0,init:function(){this.bindings=[]},registerListener:function(e,i,n,t){if(!(c.is(e,"function")||c.is(e,"object")&&c.is(e.handleEvent,"function")))throw new Error("listener is a required param of add() and addOnce() and should be a Function or an object implementing the EventListener interface.");var r,s,o=this;if(r=o.indexOfListener(e,n),s=o.bindings[r]){if(s.isOnce!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else s=new this.Binding(o,e,i,n,t),o.addBinding(s);return s},addBinding:function(e){for(var i=this.bindings,n=i.length;i[--n]&&e.priority<=i[n].priority;);i.splice(n+1,0,e)},indexOfListener:function(e,i){for(var n=this.bindings,t=n.length;t--;)if(n[t].listener===e&&(void 0===i||n[t].context===i))return t;return-1},add:function(e,i,n){return this.registerListener(e,!1,i,n)},addOnce:function(e,i,n){return this.registerListener(e,!0,i,n)},remove:function(e,i){var n,t,r=this;if(!(c.is(e,"function")||c.is(e,"object")&&c.is(e.handleEvent,"function")))throw new Error("listener is a required param of remove() and should be a Function or an object implementing the EventListener interface.");if(-1!==(n=r.indexOfListener(e,i)))if(t=r.bindings[n],r.dispatching&&!t.isOnce){var s=r.bindings.indexOf(t);-1!==s&&r.bindings.splice(s,1)}else t.destroy();return e},removeAll:function(e){var i,n=this.bindings,t=n.length;if(e)for(;t--;)(i=n[t]).context===e&&i.destroy();else{for(;t--;)n[t].destroy();n.length=0}},getNumListeners:function(){return this.bindings.length},getListeners:function(){return this.bindings.map(function(e){return e.listener})},halt:function(){this.shouldPropagate=!1},dispatch:function(e,i){var n,t,r=this;if(r.active){e=s.toArray(e),t=r.bindings.slice(),r.shouldPropagate=!0,r.dispatching++;try{for(n=t.length-1;0<=n&&!1!==t[n].execute(e,i)&&r.shouldPropagate;n--);}finally{if(r.dispatching--,r.bindings)for(n=0;n<t.length;n++)r.bindings.indexOf(t[n])<0&&t[n].destroy()}}},dispose:function(){var e=this;e.removeAll(),e.active=!1,delete e.bindings},toString:function(){return"[Dispatcher active: "+this.active+" numListeners: "+this.getNumListeners()+"]"}});return i.Binding=i.prototype.Binding=e.extend({listener:null,isOnce:!1,context:null,dispatcher:null,priority:0,active:!0,init:function(e,i,n,t,r){var s=this;s.listener=i,s.isOnce=n,s.context=t,s.dispatcher=e,s.priority=r||0},execute:function(e,i){var n,t=this,r=t.listener,s=c.is(t.context)?t.context:i;return t.active&&(t.isOnce&&t.detach(),n="function"==typeof r.handleEvent?r.handleEvent.apply(void 0===s?r:s,e||[]):r.apply(s,e||[])),n},detach:function(){var e=this;return e.dispatcher&&e.dispatcher.remove(e.listener,e.context),e.listener},getListener:function(){return this.listener},dispose:function(){this.destroy()},destroy:function(){var e,i=this,n=i.dispatcher;n&&(e=n.bindings.indexOf(i),i.active=!1,-1!==e&&n.bindings.splice(e,1),delete i.dispatcher),delete i.isOnce,delete i.listener,delete i.context},toString:function(){return"[Dispatcher.Binding isOnce: "+this.isOnce+", active: "+this.active+"]"}}),c.namespace("Dispatcher",i,c)});

define("UWA/Utils/Client",["UWA/Core","UWA/Utils"],function(e,n){"use strict";var r,c,d,s,l,m,u,w,h,p,g,v,t,o,i,a,f=e.getGlobal(),b=Boolean(f.window),E=Boolean(b&&window.document),x=Boolean(b&&window.navigator),S=Boolean(b&&window.matchMedia),B=(c=["","moz","Moz","MOZ","webkit","Webkit","WebKit","WEBKIT","ms","Ms","MS","o","O"],function(e,n,t){var o,i,a,r,d,s,l=n.indexOf("{}");for(o=(a=0<=l?(i=n.slice(0,l),n.slice(l+2)):(i="",n)).charAt(0).toUpperCase()+a.slice(1),r=0,d=c.length;r<d&&!((s=i+c[r]+a)in e)&&!((s=i+c[r]+o)in e);r++);if(r<d)return t?s:e[s]});function y(){return x&&navigator.userAgent.toLowerCase()||""}return(r={Engine:{name:"unknown",version:0},Platform:{name:"unknown"},Features:{window:b,document:E,navigator:x,xpath:E&&Boolean(document.evaluate),json:b&&Boolean(window.JSON),orientation:b&&Boolean(window.orientation),querySelector:E&&Boolean(document.querySelector),fullscreen:Boolean(B(document,"exitFullscreen")||B(document,"cancelFullScreen")),inputPlaceholder:void 0!==document.createElement("input").placeholder,cors:b&&"withCredentials"in new window.XMLHttpRequest,touchEvents:b&&Boolean("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),pointerEvents:x&&Boolean(navigator.msPointerEnable||navigator.pointerEnabled),mutationEvents:Boolean(E&&document.implementation&&document.implementation.hasFeature("MutationEvents","2.0"))||b&&window.MutationEvent,eventCapture:b&&Boolean(window.addEventListener),flexboxCSS:E&&Boolean(B(document.createElement("div").style,"flexBasis",!0)),filterCSS:E&&!(document.documentElement&&document.documentElement.style.filter),opacityCSS:E&&!(document.documentElement&&document.documentElement.style.opacity),transitionsCSS:E&&Boolean(B(document.createElement("div").style,"transition",!0)),stickyCSS:E&&(a=document.createElement("div").style,a.position="-webkit-sticky",a.position="sticky",Boolean(a.position)),matrixCSS:(i=b&&B(window,"CSSMatrix"),Boolean(i)&&void 0!==(new i).m11),dragAndDrop:b&&!(window.System&&window.System.Gadget),mediaQueryList:S,touch:b&&x&&function(){var e=!1;if("maxTouchPoints"in navigator)e=0<navigator.maxTouchPoints;else if("msMaxTouchPoints"in navigator)e=0<navigator.msMaxTouchPoints;else{var n=window.matchMedia&&matchMedia("(pointer:coarse)");if(n&&"(pointer:coarse)"===n.media)e=Boolean(n.matches);else if("orientation"in window)e=!0;else{var t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return Boolean(e)}()},Locale:(t=(x&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||"en-US").toLowerCase().split("-"),o=t[0]||"en",{lang:o,locale:t[1]||"us",dir:-1!==["ar","he"].indexOf(o)?"rtl":"ltr"}),detect:(d=/(opera|ie|firefox|chrome|version)[\s/:]([\w\d.]+)[\s/:](safari|version)[\s/:]([\w\d.]+)[\s/:](vivaldi|opr|mms|edg)[\s/:]([\w\d.]+)/,s=/(opera|ie|firefox|chrome|version)[\s/:]([\w\d.]+)?.*?(safari|version[\s/:]([\w\d.]+)|$)/,l=/(webkit)\s\/:(\w\d\.+)/,m=/(trident)\/.*rv:([\d.]+)/,u=/ip(?:ad|od|hone)/,w=/webos|wossystem/,h=/blackberry/,p=/android/,g=/\bphantomjs\b/i,v=/mac|win|linux/,function(){var e,n,t,o,i,a;r.Engine=(a=y(),o="ie"===(n=a.match(d)||a.match(s)||a.match(l)||a.match(m)||(f.process?[null,"nodeJS",f.process.version]:[null,"unknown",0]))[1]&&E&&document.documentMode||("opera"===n[1]&&n[4]?n[4]:n[2]),i=parseInt(o,10),n[5]&&n[6]?(t=n[5],o=n[6],i=parseInt(o,10)):t="version"===n[1]?n[3]:n[1],"trident"===t?t="ie":"opr"===t?t="opera":"mms"===t?t="opera-neon":"edg"===t&&(t="edge"),(e={name:t,version:i,fullVersion:o})[t]=i,e[t+i]=!0,e.webkit=Boolean(a.match(/webkit/)),e),r.Platform=function(){var e,n=function(){var e=(x&&navigator.platform.toLowerCase()||"").split(" ")[0],n=y(),t=new RegExp("win64","gi"),o=new RegExp("x64","gi"),i=new RegExp("wow64","gi");return e.match(/win32/i)&&(t.test(n)||o.test(n)||i.test(n))&&(e="win64"),e}(),t=y();(e={name:u.test(t)?"ios":w.test(t)?"webos":h.test(t)?"blackberry":p.test(t)?"android":g.test(t)?"phantomjs":v.test(n)||f.process?n:"other"})[e.name]=!0;var o=t.match(/ipad/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return e.ipad=Boolean(o),e.tablet=e.ipad||Boolean(t.match(/tablet/))||Boolean(t.match(/sm-t\d+/i)),e.windows=0===e.name.indexOf("win"),"macintel"===e.name&&o&&r.Features.touch&&(e.name="ios",e.macintel=!1,e.ios=!0),e}(),E&&(document.documentElement.className+=" "+r.Engine.name+" "+r.Engine.name+r.Engine.version+" "+r.Platform.name)}),isOnline:function(e,n){return void 0!==e&&n?(r.onLine=Boolean(e),setTimeout(function(){delete r.onLine},n)):void 0===r.onLine&&(r.Platform.phantomjs||!x||void 0===navigator.onLine?r.onLine=!0:r.onLine=!0===navigator.onLine),r.onLine},getOrientation:b&&window.self===window.top&&window.orientation?function(){var e=window.orientation;return 90===Math.abs(e)?"landscape":"portrait"}:function(){var e=r.getSize();return e.width/e.height<1?"portrait":"landscape"},getSize:function(){var e,n,t=0,o=0;return b&&"number"==typeof window.innerWidth?(t=window.innerWidth,o=window.innerHeight):E&&(e=document.documentElement,n=document.body,e&&(e.clientWidth||e.clientHeight)?(t=e.clientWidth,o=e.clientHeight):n&&(n.clientWidth||n.clientHeight)&&(t=n.clientWidth,o=n.clientHeight)),{width:t,height:o}},getScrolls:function(){var e=0,n=0;return b&&"number"==typeof window.pageYOffset&&(n=window.pageYOffset,e=window.pageXOffset),{y:n,x:e}},getScrollbarWidth:n.memoize(function(){var e,n,t=0;return E&&(e=document.documentElement,(n=document.createElement("div")).style.cssText="width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px;",e.appendChild(n),t=n.offsetWidth-n.clientWidth,e.removeChild(n)),t}),addStar:function(e,n){if(b)if(window.sidebar)window.sidebar.addPanel(n,e,"");else if(window.external)window.external.AddFavorite(e,n);else if(window.opera&&window.print)return!0},getVendorProperty:B}).detect(),e.namespace("Utils/Client",r,e)});

define("UWA/Ajax",["UWA/Core","UWA/Utils","UWA/String"],function(p,d,u){"use strict";var c,l={getRequest:function(e,t){var r,n,o,s=(t=p.merge(t||{},{url:e,method:"GET",async:!0,responseType:"text",onComplete:function(){},onFailure:function(e){throw e},onTimeout:function(e){throw e},onCancel:function(){}})).method||"GET",a=t.headers||{},i=t.authentication,u=l.onStateChange;if(/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i.test(s)&&(s=s.toUpperCase()),t.data&&(p.is(t.data,["string","arraybufferview","formdata","blob"])||(t.data=d.toQueryString(t.data)),"GET"===s&&(e+=(-1<e.indexOf("?")?"&":"?")+t.data,t.url=e,delete t.data)),t.cors||(d.getOwnPropertyMatchName(a,"X-Requested-With")||(a["X-Requested-With"]="XMLHttpRequest"),d.getOwnPropertyMatchName(a,"X-Requested-Method")||(a["X-Requested-Method"]=s)),"POST"!==s||d.getOwnPropertyMatchName(a,"Content-Type")||p.is(t.data,["arraybufferview","formdata","blob"])||(a["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),i&&(i.username&&i.password?e=(o=e.split("://"))[0]+"://"+i.username+":"+i.password+"@"+o[1]:e+=(-1<e.indexOf("?")?"&":"?")+d.toQueryString(i)),n=t.cors?l.createCORSRequest():l.createRequest()){if(n.cancel=function(){n.aborted=!0,n.abort()},n.addEventListener&&t.onProgress&&n.addEventListener("progress",function(e){t.onProgress(e)}),n.open(s,e,t.async),t.responseTypeSupport="responseType"in n&&"json"!==t.responseType&&(t.async||"undefined"==typeof window),t.responseTypeSupport)try{n.responseType=t.responseType}catch(e){n.responseType="text"}if(t.withCredentialsSupport="withCredentials"in n&&(t.async||"undefined"==typeof window),t.withCredentials){if(!t.withCredentialsSupport)return void t.onFailure(new Error("XMLHttpRequest does not support withCredentials."));n.withCredentials=t.withCredentials}if(t.timeout&&(n.timeoutTimer=setTimeout(function(){n.timedout=!0,n.abort()},t.timeout)),t.cors?(n.onerror=function(){p.merge(n,{readyState:4,status:500}),u(n,t)},n.onload=function(){p.merge(n,{readyState:4,status:200}),u(n,t)}):n.onreadystatechange=u.bind(l,n,t),n.setRequestHeader)for(r in a)a.hasOwnProperty(r)&&n.setRequestHeader(r,a[r]);return n}t.onFailure(new Error("Unable to initiate XMLHttpRequest object."))},createRequest:function(){var e;return window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXObject&&(e=new window.ActiveXObject("Msxml2.XMLHTTP")),e},createCORSRequest:function(){var e;return window.XMLHttpRequest&&!(e=new window.XMLHttpRequest).withCredentials&&window.XDomainRequest&&(e=new window.XDomainRequest),e},request:function(e,t){var r;return t=t||{},(r=l.getRequest(e,t)).send(t.data||null),t.async||l.onStateChange(r,t),r},parseResponseHeaders:function(e){var t,r,n,o,s,a,i={};if(e)for(a=e.split("\r\n"),t=0;t<a.length;t++)0<(r=(s=a[t]).indexOf(": "))&&(n=s.substring(0,r),o=s.substring(r+2),i[n]=o);return i},onStateChange:(c="UWA_Platform_",function(e,t){var r,n,o,s;if(e.aborted)t.onCancel(e,t);else if(e.timedout)t.onTimeout(new Error("Request timed out after "+t.timeout+" ms"),e,t);else if(4===e.readyState){if(e.timeoutTimer&&clearTimeout(e.timeoutTimer),e.completed)return;var a=e.completed=!0;if(e.status<=0){var i=d.parseUrl(d.buildUrl(window.location,t.url)).protocol;a="http"!==i&&"https"!==i}else 400<=e.status&&(a=!1);if(a){n=w(e);try{r=f(e,t)}catch(e){String((o=e).type).startsWith(c)&&(n=e.headers,r=e.body),t.onFailure(e,r,n)}finally{o||t.onComplete(r,n)}}else{s=new Error(u.format('NetworkError: url "{0}" return ResponseCode with value "{1}".',t.fromDataRequest||t.url,e.status||0)),n=w(e);try{r=f(e,t)}catch(e){String(e.type).startsWith(c)&&(Object.assign(s,e),n=e.headers,r=e.body)}t.onFailure(s,r,n)}!function(e,t){t.cors?(e.onerror=null,e.onload=null):e.onreadystatechange=null}(e,t)}})};function s(e){var t,r=e;if(p.is(r,"string")&&r.contains(c))try{r=u.stripComments(r),r=JSON.parse(r)}catch(e){r=!1}if(r&&r.error&&String(r.error.type).startsWith(c))return t=new Error(u.format("ProxyError: {0}",r.error.message)),p.merge(t,r.error),t}function f(t,e){var r,n,o=e.responseTypeSupport?t.responseType:e.responseType;if(e.responseTypeSupport){if("text"===o||""===o)r=t.responseText;else try{r=t.response}catch(e){throw new Error(u.format('InvalidResponseError: request has probably invalid "Content-type" header require by responseType "{0}" causing: "{1}".',t.responseType,e))}if(e.fromDataRequest&&(n=s(r)),n)throw n}else{if(e.fromDataRequest&&(n=s(t.responseText)),n)throw n;"text"===o||""===o?r=t.responseText:"json"===o?r=0===(r=String(t.responseText).trim()).length?null:(r=u.stripComments(r),JSON.parse(r)):"document"===o?r=t.responseXML:"arraybuffer"===o?r=function(e){var t,r,n=new ArrayBuffer(2*e.length),o=new Uint16Array(n);for(t=0,r=e.length;t<r;t++)o[t]=e.charCodeAt(t);return n}(t.responseText):"blob"===o&&(r=new Blob([t.responseText],{type:t.getResponseHeader("Content-Type")}))}return r}function w(e){return l.parseResponseHeaders(e.getAllResponseHeaders())}return p.namespace("Ajax",l,p)});

define("UWA/Json",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Client","UWA/Ajax"],function(UWA,UWAString,Utils,Client,Ajax){"use strict";var Json={jsonp:{},encode:JSON.stringify,decode:JSON.parse,prune:function(e,t){var a=[],o=t&&t.toJSON||function(e){return UWA.is(e)&&UWA.is(e.toJSON,"function")?e.toJSON():e},s=t&&t.fallback||function(){return null};return function e(t){var r,n;switch(t=o(t),UWA.typeOf(t)){case"string":case"number":case"boolean":return t;case"array":return-1!==a.indexOf(t)?s(t,"circular"):(a.push(t),r=t.map(e),a.pop(),r);case"object":if(!UWA.is(t,"plain"))return s(t,"unsupported");if(-1!==a.indexOf(t))return s(t,"circular");for(n in a.push(t),r={},t)UWA.owns(t,n)&&(r[n]=e(t[n]));return a.pop(),r;default:return null===t?t:s(t,"unsupported")}}(e)},isJson:function(e){var t=!1;if(UWA.is(e,"string"))try{JSON.parse(e),t=!0}catch(e){}return t},xmlToJson:function(e){function t(){return this.nodeValue}function r(){return parseInt(this.nodeValue,10)}var n,a,o,s,i,l;if("string"==typeof e&&(e=Utils.loadXml(e)),e.attributes&&0!==e.attributes.length||!e.childNodes||1!==e.childNodes.length||-1===e.childNodes[0].nodeName.indexOf("#")){if(o={},e.attributes)for(n=0,a=e.attributes.length;n<a;n++)o[l=(i=e.attributes[n]).nodeName]?(o[l]=Utils.splat(o[l]),o[l].push(i.nodeValue)):o[l]=i.nodeValue;for(n=0,a=e.childNodes.length;n<a;n++)o[l=(s=e.childNodes[n]).nodeName]?(o[l]=Utils.splat(o[l]),o[l].push(Json.xmlToJson(s))):-1===l.indexOf("#")?o[l]=Json.xmlToJson(s):0<s.nodeValue.trim().length&&(o.nodeValue=s.nodeValue,o.toString=t,o.valueOf=r)}else o=e.childNodes[0].nodeValue;return o},path:function(){var valueStr="VALUE",pathStr="PATH",sepStr=";",queryPath="$",regExps=[/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,/'?\.'?|\['?/g,/;;;|;;/g,/;$|'?\]|'$/g,/#([0-9]+)/g,/^\$;?/,/(^|[^\\])@/g,/\\@/g,/^[0-9*]+$/,/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,/^\(.*?\)$/,/^\?\(.*?\)$/,/^\?\((.*?)\)$/,/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/,/,/,/'?,'?/];function normalize(e){var n=[];return e.replace(regExps[0],function(e,t,r){return"[#"+(n.push(t||r)-1)+"]"}).replace(regExps[1],sepStr).replace(regExps[2],";..;").replace(regExps[3],"").replace(regExps[4],function(e,t){return n[t]}).replace(regExps[5],"")}function run(obj,query,val){var queryEval="var valueEval = arguments[2];"+query.replace(regExps[6],"$1valueEval").replace(regExps[7],"@");try{return obj&&val&&eval(queryEval)}catch(e){throw new SyntaxError("UWA.Json.path error: "+e.message+' for query "'+query+'"')}}function asPath(e){var t,r,n=e.split(sepStr),a=queryPath;for(t=1,r=n.length;t<r;t++)a+=regExps[8].test(n[t])?"["+n[t]+"]":"['"+n[t]+"']";return a}function store(e,t,r,n){return e&&(r[r.length]=n===pathStr?asPath(e):t),Boolean(e)}function walk(e,t,r,n,a){var o,s,i,l=UWA.typeOf(r);if("array"===l)for(o=0,s=r.length;o<s;o++)r.hasOwnProperty(o)&&a(o,e,t,r,n);else if("object"===l)for(i in r)r.hasOwnProperty(i)&&a(i,e,t,r,n)}function slice(e,t,r,n,a,o){if(Array.isArray(r)){var s,i=r.length,l=0,u=1,c=i;for(e.replace(regExps[9],function(e,t,r,n){l=parseInt(t||l,10),c=parseInt(r||c,10),u=parseInt(n||u,10)}),l=l<0?Math.max(0,l+i):Math.min(i,l),c=c<0?Math.max(0,c+i):Math.min(i,c),s=l;s<c;s+=u)trace(s+sepStr+t,r,n,a,o)}}function trace(e,o,t,s,i){if(""!==e){var r,n,a,l=e.split(sepStr),u=l.shift();if(l=l.join(sepStr),o&&o.hasOwnProperty(u))trace(l,o[u],t+sepStr+u,s,i);else if("*"===u)walk(u,l,o,t,function(e,t,r,n,a){trace(e+sepStr+r,n,a,s,i)});else if(".."===u)trace(l,o,t,s,i),walk(u,l,o,t,function(e,t,r,n,a){"object"==typeof n[e]&&trace("..;"+r,n[e],a+sepStr+e,s,i)});else if(regExps[10].test(u))trace(e=run(o,u,o,t.substr(t.lastIndexOf(sepStr)+1))+sepStr+l,o,t,s,i);else if(regExps[11].test(u))walk(u,l,o,t,function(e,t,r,n,a){run(o,t.replace(regExps[12],"$1"),Array.isArray(n)?n[e]:n,e)&&trace(e+sepStr+r,n,a,s,i)});else if(regExps[13].test(u))slice(u,l,o,t,s,i);else if(regExps[14].test(u))for(n=0,a=(r=u.split(regExps[15])).length;n<a;n++)trace(e=r[n]+sepStr+l,o,t,s,i)}else store(t,o,s,i)}return function(e,t,r){var n=[],a=r&&r.resultType||valueStr;return e&&t&&(a===valueStr||a===pathStr)&&trace(normalize(t),e,queryPath,n,a),!!n.length&&n}}(),request:function(e,r){var t,n,a,o,s,i,l,u,c,p,f,d,m,h=!!(r=r||{}).useJsonpRequest||!Utils.matchUrl(e,window.location)&&(UWA.Data&&UWA.Data.useJsonpRequest&&!UWA.Data.allowCrossOriginRequest),g=e,v=Client.isOnline,w=Json.jsonp,y={fromDataRequest:!1,useOfflineCache:!1,async:!0,timeout:!1,callback:"jsonp"+(Date.now()+Utils.random(1,1e4)),callbackName:"callback",callbackMode:"function",callbackModeName:"callbackMode",onCancel:function(){},onFailure:function(e){throw e},onComplete:function(){}};if(!1===(r=UWA.merge(r||{},y)).timeout?r.useOfflineCache?r.timeout=15e3:r.timeout=25e3:r.timeout=parseInt(r.timeout,10),r.data&&(e+=(-1<e.indexOf("?")?"&":"?")+Utils.toQueryString(r.data)),n=r.callback.replace(/[^a-zA-Z0-9_]/g,"$"),(a=r.callbackMode)&&(e=e.replace(/\=(\?|%3F)/g,"="+n),e+=(-1<e.indexOf("?")?"&":"?")+r.callbackName+"="+n,e+="&"+r.callbackModeName+"="+a),2048<e.length)throw new Error("Proxified url is more than 2048 characters, you should consider using POST and CORS Ajax.");return o=r.onFailure,i=r.onTimeout||o,s=r.onComplete,l=r.useOfflineCache,u=r.fromDataRequest,r.onFailure=function(e){if(Json.cleanRequest(n,r),l&&!1===u){var t=Json.getFromCache(g);UWA.is(t)?(v()&&v(!1,5e3),s(t)):o(e)}else o(e)},r.onTimeout=function(e){if(Json.cleanRequest(n,r),l&&!1===u){var t=Json.getFromCache(g);UWA.is(t)?(v()&&v(!1,5e3),s(t)):i(e)}else i(e)},r.onComplete=function(e){Json.cleanRequest(n,r);try{if(u&&e&&e.error&&e.error.type&&"UWA_Platform_Exposition"===e.error.type)throw new Error(UWAString.format('ObjectError: url "{0}" return Error with value "{1}"',u,e.error.message||e.error));s(e)}catch(e){o(e)}},r.cache<0&&(e+=(-1<e.indexOf("?")?"&":"?")+"_="+Date.now()),l&&!1===v()?r.onFailure(new Error("Network is Offline")):t=h?(w[n]={readyState:!1,options:r},m="object"===a?(f=Date.now(),d=13,function(){var e,t=Date.now();void 0!==window[n]?(w[n].readyState="loaded",r.onComplete(window[n])):t>f+r.timeout?(e=t-f,r.onTimeout(new Error("Request timed out after "+e+"ms with timeout value "+r.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}):(window[n]=function(e){void 0!==w[n]&&(w[n].data=e,w[n].readyState="loaded")},f=Date.now(),d=13,function(){var e,t=Date.now();"loaded"===w[n].readyState?r.onComplete(w[n].data):t>f+r.timeout?(e=t-f,r.onTimeout(new Error("Timout request after "+e+"ms with timeout value "+r.timeout+" ms"))):w[n].poll=setTimeout(m.bind(this),d)}),c=document.getElementsByTagName("head")[0],(p=UWA.createElement("script",{type:"text/javascript",src:e,async:r.async})).addEvent("error",function(){r.onFailure(new Error("Syntax or http error: "+e))}),p.inject(c),w[n].script=p,m(r),{jsonId:n,script:p,cancel:function(){w[n].aborted=!0,Json.cleanRequest(n)}}):Ajax.request(e,UWA.merge({headers:{Accept:"application/json,text/javascript,*/*","X-Request":"JSON"},onComplete:function(e){var t;a&&!Json.isJson(e)&&(t="object"===a?e.match(/=\s\(?([\s\S]*?)\)?;?\s*$/):e.match(/\(([\s\S]*?)\);?\s*$/))&&(e=t[1]);Json.isJson(e)?r.onComplete(UWA.Json.decode(e)):r.onFailure(new Error('Invalid JSON Response: "'+e+'"'))},onFailure:r.onFailure},r)),t},cleanRequest:function(e){var t,r=document.getElementsByTagName("head")[0],n=Json.jsonp[e];n&&(t=n.options,clearTimeout(n.poll),"object"!==t.callbackMode&&(window[e]=function(){try{delete window[e]}catch(e){}}),n.script&&(r.removeChild(n.script),delete n.script),n.aborted&&t.onCancel(null,t))}};return UWA.namespace("Json",Json,UWA)});

define("UWA/Class/Options",["UWA/Core","UWA/Class"],function(s,t){"use strict";var n=t.extend({setOptions:function(t){var n=this;return t=t||{},n.hasOwnProperty("options")||(n.options=s.clone(n.defaultOptions||n.options||{})),t.events&&n.addEvents&&n.addEvents(t.events),s.extend(n.options,t,!0),n},setOption:function(t,n){var s={};return s[t]=n,this.setOptions(s)},getOption:function(t,n){var s=this.options;return void 0!==s[t]?s[t]:n}});return s.namespace("Options",n,t)});

define("UWA/Class/Debug",["UWA/Core","UWA/Class"],function(t,e){"use strict";var u=e.extend({debugMode:!1,setDebugMode:function(e){return this.debugMode=!0===e||"true"===e,this},log:function(e){return!0===this.debugMode&&t.log(e),this}});return t.namespace("Debug",u,e)});

define("UWA/Storage",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Json"],function(r,s,e,t,a,n){"use strict";var i=e.extend(t,a,{AdaptersInstances:null,currentAdapter:null,defaultOptions:{database:"default",adapter:null,adapterOptions:{},availableAdapters:[]},internalKeys:{keysIndex:"_keysIndex",lastUpdate:"_lastUpdate"},isReady:!1,init:function(e){r.warn("UWA/Storage");var t,a=this;a.AdaptersInstances={},i.Instances.push(a),a.setOptions(e),(t=a.options.adapter)&&"auto"!==t?a.setCurrentAdapter(t):a.setCurrentAdapterFromDetected()},initAvailableAdapters:function(){var e,t=this,a=t.options.availableAdapters,r=i.Adapter;if(0===a.length)for(e in r)r.hasOwnProperty(e)&&"Abstract"!==e&&a.push(e);a.forEach(function(e){t.getAdapterInstance(e)})},isAvailableAdapter:function(t){var e,a=this,r=!1;try{(e=a.getAdapterInstance(t))&&e.isAvailable()?(r=!0,a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is available')):a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is not available')}catch(e){a.log('UWA.Storage:detectAvailableAdapter: "'+t+'" is not available cause: '+e)}return r},getAdapterInstance:function(e){var t=this,a=t.AdaptersInstances;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for getAdapterInstance.');if(!(a[e]||(a[e]=new i.Adapter[e](t,t.options.adapterOptions),a[e]instanceof i.Adapter.Abstract)))throw new Error("UWA.Storage.Adapter."+e+" is not an instance of UWA.Storage.Adapter.Abstract");return a[e]},detectAvailableAdapter:function(){var t=this,e=t.options,a=[];t.initAvailableAdapters(),e.availableAdapters.forEach(function(e){t.isAvailableAdapter(e)&&a.push(e)}),e.availableAdapters=a},setCurrentAdapterFromDetected:function(){var e=this,t=e.options;if(e.detectAvailableAdapter(),!(0<t.availableAdapters.length))throw new Error("UWA.Storage: No adapter available detected.");e.setCurrentAdapter(t.availableAdapters[0])},setCurrentAdapter:function(e){var t,a=this;if("string"!=typeof e)throw new Error('Bad adapterName param value "'+e+'" for setCurrentAdapter.');a.isAvailableAdapter(e)?((t=a.getAdapterInstance(e)).connect(a.options.database),a.log("UWA.Storage:setCurrentAdapter: "+e+";"),a.adapter=e,a.currentAdapter=t):(a.log('UWA.Storage:setCurrentAdapter: "'+e+'" fail fallback in auto detect mode'),a.setCurrentAdapterFromDetected())},store:function(e,t){var a,r=this,n=r.currentAdapter;return n&&(a=r.safeResurrect(n.get(e)),1===arguments.length?r.log('Get Key "'+e+'" with value "'+a+'"'):a!==t&&(a=r.safeStore(t),r.log('Update Key "'+e+'" with value "'+t+'" and stored value "'+a+'"'),a=n.set(e,a))),a},remove:function(e){var t=this;return!!t.currentAdapter&&(t._updateLastUpdateDate(),t._removeKeyFromKeysIndex(e),t.safeResurrect(t.currentAdapter.rem(e)))},get:function(e,t){var a,r,n=this;return t?(a=n._getKeysIndex()).hasOwnProperty(e)&&Date.now()-a[e]<=t&&(r=n.store(e)):r=n.store(e),r},set:function(e,t){var a=this;return a._updateLastUpdateDate(),a._addKeyToKeysIndex(e),a.store(e,t)},getAll:function(){var t=this,e=Object.keys(this._getKeysIndex()),a={};return e.forEach(function(e){a[e]=t.get(e)}),a},safeStore:function(e){return n.encode(e)},safeResurrect:function(t){if(!s.is(t,"undefined"))try{n.isJson(t)&&(t=n.decode(t))}catch(e){s.log("unsafe Resurrect JSON with value: "+t),s.log(e)}return t},getLastUpdateDate:function(e){var t;return t=e?this._getKeysIndex()[e]:this.get(this.internalKeys.lastUpdate),(new Date).setTime(t)},_getKeysIndex:function(){var t,a,e=this,r=e.safeResurrect(e.currentAdapter.get(this.internalKeys.keysIndex)),n=s.typeOf(r);return e.log("Get all keys from keysIndex"),"array"===n?(t={},a=e.getLastUpdateDate(),r.forEach(function(e){t[e]=a}),r=t):"object"!==n&&(r={}),r},_removeKeyFromKeysIndex:function(e){var t,a=this._getKeysIndex(),r={};for(t in this.log('Remove key "'+e+'" from keysIndex'),a)a.hasOwnProperty(t)&&t!==e&&(r[t]=a[t]);this._storeKeysIndex(r)},_addKeyToKeysIndex:function(e){var t=this._getKeysIndex();this.log('Add key "'+e+'" to keysIndex'),t[e]=Date.now(),this._storeKeysIndex(t)},_storeKeysIndex:function(e){this.currentAdapter.set(this.internalKeys.keysIndex,this.safeStore(e))},_updateLastUpdateDate:function(){var e=Date.now();return this.currentAdapter.set(this.internalKeys.lastUpdate,this.safeStore(e)),e}});return i.Instances=[],s.merge(i,{allInstancesReady:function(){return i.Instances.every(function(e){return e.isReady})}}),s.namespace("Storage",i,s)});

define("UWA/Internal/StringMap",["UWA/Class"],function(t){"use strict";function i(t){return"_x_"+t}return t.extend({init:function(){this._data={}},get:function(t){return this._data[i(t)]},set:function(t,n){return this._data[i(t)]=n,this},getAll:function(){var t={};for(var n in this._data)t[n.slice(3)]=this._data[n];return t},remove:function(t){return delete this._data[i(t)],this}})});

define("UWA/Class/Events",["UWA/Core","UWA/Class","UWA/Dispatcher","UWA/Utils"],function(n,e,i,a){"use strict";var t;function c(n,e,t){var r=n._dispatchers,s=r&&r[e]||new i;return t||((r=r||(n._dispatchers=Object.create(null)))[e]=s),s}return t=e.extend({dispatchEvent:function(n,e,t){var r,s,i=this;return void 0===t&&(t=i),e=a.splat(e),r=c(i,n),"function"==typeof i[n]&&r.addOnce(i[n],t,1),"onAnyEvent"!==n&&i.hasEvent("onAnyEvent")?(s=c(i,"onAnyEvent"),"function"==typeof i.onAnyEvent&&s.addOnce(i.onAnyEvent,t),s.addOnce(function(){r.dispatch(e,t)}),s.dispatch([n].concat(e),t)):r.dispatch(e,t),i},dispatchAsEventListener:function(e,t,r){var s=this;return void 0===r&&(r=s),t=a.splat(t),function(n){s.dispatchEvent(e,[n].concat(t),r)}},addEvent:function(n,e,t,r){return c(this,n).add(e,t,r),this},addEventOnce:function(n,e,t,r){return c(this,n).addOnce(e,t,r),this},addEvents:function(n,e,t){var r;for(r in n)n.hasOwnProperty(r)&&this.addEvent(r,n[r],e,t);return this},removeEvent:function(n,e,t){var r,s=this,i=s._dispatchers,a=i&&i[n];if(n)a&&(e?a.remove(e,t):a.removeAll(t),0===a.getNumListeners()&&delete i[n]);else for(r in i)s.removeEvent(r,e,t);return s},removeEvents:function(n){var e,t=this;if(n)for(e in n)n.hasOwnProperty(e)&&t.removeEvent(e,n[e]);else t.removeEvent();return t},hasEvent:function(n,e){var t,r=this;return t=function(n){return!!(c(r,n,!0).getNumListeners()||!e&&r[n])},(n?[n]:Object.keys(r._dispatchers||{})).some(t)}}),n.namespace("Events",t,e)});

define("UWA/Data",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Ajax","UWA/Json","UWA/Internal/StringMap","UWA/Class/Events"],function(y,g,e,C,x,t,w){"use strict";var q,O,T,E,U,r,n,o=new t,v={proxies:(r=y.hosts,n=r.exposition+"/proxy/",y.merge(r.proxies||{},{ajax:n+"ajax",resolve:n+"resolve",xml:n+"xml",spreadsheet:n+"spreadsheet",soap:n+"soap",feed:n+"feed",icon:n+"icon",richIcon:n+"richIcon",rss:n+"feed"})),useJsonpRequest:!0,allowCrossOriginRequest:!1,useOfflineCache:!1,request:(q=/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i,O=/json|document|blob|arraybuffer|text/,T=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,E=e.isOnline,U={text:function(e){return"string"!=typeof e&&(e=x.encode(e)),e},json:function(e){if("string"==typeof e&&(e=x.decode(e)),!y.is(e,["object","array"]))throw new Error('Invalid JSON Response: "'+String(e)+'"');return e},xml:function(e){return"string"==typeof e&&(e=g.loadXml(e)),e},document:function(e){return"string"==typeof e&&(e=g.loadHtml(e)),e},blob:function(e,t){var r=g.getOwnPropertyMatchValue(t,"Content-Type")||"text/plain";return"string"==typeof e&&(e=T.test(e)?function(e,t){var r,n,o=";base64,",a=e.indexOf(o)+o.length,s=e.substring(a),u=window.atob(s),i=u.length,d=new Uint8Array(i);for(r=0;r<i;++r)d[r]=u.charCodeAt(r);return(n=new BlobBuilder).append(d.buffer),n.getBlob(t)}(e,r):new Blob([e],{type:r})),e},arraybuffer:function(e){return"string"==typeof e&&(e=new ArrayBuffer(12)),e}},function(e,t){if(!e)throw new Error("Bad or missing url argument.");t=t||{};var o,r,n,a,s,u,i,d,c,p,h,l,f=window.location,m={timeout:25e3,method:"GET",type:"text",proxy:!1,async:!0,headers:{},useMergeRequest:!0,useOfflineCache:v.useOfflineCache,allowCrossOriginRequest:v.allowCrossOriginRequest,useJsonpRequest:v.useJsonpRequest,onComplete:function(){},onCancel:function(){},onFailure:function(e){throw e}};return t.requestHeaders&&(t.headers=t.requestHeaders,delete t.requestHeaders),t.postBody?(t.method="POST",t.data=t.postBody,delete t.postBody):t.parameters&&(t.method="POST",t.data=t.parameters,delete t.parameters),t.auth&&(t.authentication=t.auth,delete t.auth),"html"===t.type?t.type="document":"feed"===t.type&&(t.type="json"),(t=y.merge(t,m)).type=U[t.type]?t.type:m.type,t.timeout=parseInt(t.timeout,10),q.test(t.method)&&(t.method=t.method.toUpperCase()),"json"===t.type&&(g.getOwnPropertyMatchName(t.headers,"Accept")||(t.headers.Accept="application/json,text/javascript,*/*"),g.getOwnPropertyMatchName(t.headers,"X-Request")||(t.headers["X-Request"]="JSON")),d=t.type,c=t.useOfflineCache,p=t.allowCrossOriginRequest,h=t.useJsonpRequest,l=e,t.proxy?(e=v.proxifyUrl(e,t),h=h&&!1===g.matchUrl(e,f)&&!1===p):!1===g.matchUrl(e,f)&&!1===p?(h=h&&!1===g.matchUrl(v.proxies.ajax,f),e=v.proxifyUrl(e,y.extend(t,{proxy:"ajax"}))):h=!1,v.requests=v.requests||{},s=function(e,t){var r={url:e,timeout:t.timeout,method:t.method,type:t.type,proxy:t.proxy,async:t.async,data:t.data,headers:t.headers};return"GET"===t.method&&!1!==t.useMergeRequest||(r.uuid=g.getUUID()),y.Json.encode(r)}(e,t),r={onComplete:t.onComplete,onFailure:t.onFailure,onCancel:t.onCancel,onTimeout:t.onTimeout||t.onFailure},v.requests[s]?(o=v.requests[s]).addEvents(r):((o=v.requests[s]=new w).addEvents(r),u=function(e,t){var r=e;delete v.requests[s],g.attempt(function(){return h&&(t=e.headers,e=function(e){var t=e.body;return T.test(t)&&(t=g.base64Decode(t)),t}(e)),e=U[d](e,t),c&&v.storeInCache(l,r),!0},function(){return i("onFailure",arguments),!1})&&o.dispatchEvent("onComplete",[e,t])},i=function(e,t){var r,n=!0;delete v.requests[s],c&&(r=v.getFromCache(l),y.is(r)&&(n=!1,function(e){E()&&E(!1,e||5e3)}(),u(r))),n&&o.dispatchEvent(e,t)},n={method:t.method,data:t.data,headers:t.headers,fromDataRequest:l,timeout:t.timeout,async:t.async,withCredentials:t.withCredentials,onComplete:function(e,t){u(e,t)},onFailure:function(){i("onFailure",arguments)},onCancel:function(){i("onCancel",arguments)},onTimeout:function(){i("onTimeout",arguments)},onProgress:t.onProgress},c&&!1===E()?n.onFailure(new Error("Network is Offline")):h?(t.data&&0<t.data.length&&-1!==["POST","PUT"].indexOf(t.method)&&(e+=-1!==e.indexOf("?")?"&":"?","POST"===t.method?e+=g.toQueryString(t.data,"postData"):"PUT"===t.method&&(e+=g.toQueryString(t.data,"rawData")),delete n.data,delete n.method),a=x.request(e,n)):(d&&O.test(d)&&(n.responseType=d),o.xhr=a=C.request(e,n)),o.url=l,o.options=t,o.cancel=a.cancel),o}),proxifyUrl:function(e,t){if(!e)throw new Error("Bad or missing url argument.");var r,n=[],o=t.proxy,a=g.toQueryString,s=v.proxies;if(!o||!s[o])throw new Error("Invalid proxy");if(r=s[o],0===e.indexOf(r))return e;if(t.data&&t.method&&"GET"===t.method.toUpperCase()&&(e+=(-1<e.indexOf("?")?"&":"?")+a(t.data),delete t.data),"object"==typeof t[o]&&(n.push(a(t[o])),delete t[o]),t.type&&(n.push(a({type:t.type})),delete t.type),"object"==typeof t.authentication&&n.push(a(t.authentication)),t.cache&&(n.push(a({cache:parseInt(t.cache,10)})),t.cache<0&&n.push(Date.now())),t.headers&&(n.push(a(t.headers,"headers")),delete t.headers),t.connect&&n.push(a({connect:t.connect})),t.service&&n.push(a({service:t.service})),t.wid&&n.push(a({wid:t.wid})),t.method&&n.push(a({method:t.method})),n.push(a({url:e})),2048<(e=r+"?"+n.join("&")).length)throw new Error("Proxified url is more than 2048 characters, that is the limit for most of the browsers.");return e},getFeed:function(e,t){return v.request(e,{method:"GET",proxy:"feed",type:"json",onComplete:t})},getXml:function(e,t){return v.request(e,{method:"GET",type:"xml",onComplete:t})},getText:function(e,t){return v.request(e,{method:"GET",type:"text",onComplete:t})},getJson:function(e,t){return v.request(e,{method:"GET",type:"json",onComplete:t})},getCache:function(){return o},storeInCache:function(e,t){t=g.toArray(t).filter(function(e){return y.is(e)&&!e.nodeType}),v.getCache().set(g.getCheckSum(e),t)},getFromCache:function(e){return v.getCache().get(g.getCheckSum(e))}};return y.namespace("Data",v,y)});

define("vendors/webcomponents/WeakMap",function(){function e(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}var a,n;return"undefined"==typeof WeakMap&&(a=Object.defineProperty,n=Date.now()%1e9,e.prototype={set:function(e,n){var t=e[this.name];return t&&t[0]===e?t[1]=n:a(e,this.name,{value:[e,n],writable:!0}),this},get:function(e){var n;return(n=e[this.name])&&n[0]===e?n[1]:void 0},delete:function(e){var n=e[this.name];return!(!n||n[0]!==e||(n[0]=n[1]=void 0,0))},has:function(e){var n=e[this.name];return!!n&&n[0]===e}},window.WeakMap=e),window.WeakMap});

define("vendors/webcomponents/MutationObserver",["./WeakMap"],function(){return function(e){var n,d=new WeakMap;if(/Trident/.test(navigator.userAgent))n=setTimeout;else if(window.setImmediate)n=window.setImmediate;else{var r=[],i=String(Math.random());window.addEventListener("message",function(e){if(e.data===i){var t=r;r=[],t.forEach(function(e){e()})}}),n=function(e){r.push(e),window.postMessage(i,"*")}}var a=!1,s=[];function o(){a=!1;var e=s;s=[],e.sort(function(e,t){return e.uid_-t.uid_});var r=!1;e.forEach(function(e){var t=e.takeRecords();!function(r){r.nodes_.forEach(function(e){var t=d.get(e);t&&t.forEach(function(e){e.observer===r&&e.removeTransientObservers()})})}(e),t.length&&(e.callback_(t,e),r=!0)}),r&&o()}function c(e,t){for(var r=e;r;r=r.parentNode){var i=d.get(r);if(i)for(var n=0;n<i.length;n++){var a=i[n],s=a.options;if(r===e||s.subtree){var o=t(s);o&&a.enqueue(o)}}}}var v,l,t=0;function u(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++t}function h(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(e,t){return v=new h(e,t)}function b(e){return l||((l=function(e){var t=new h(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(v)).oldValue=e,l)}function g(e,t){return e===t?e:l&&function(e){return e===l||e===v}(e)?l:null}function p(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}u.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r,i=d.get(e);i||d.set(e,i=[]);for(var n=0;n<i.length;n++)if(i[n].observer===this){(r=i[n]).removeListeners(),r.options=t;break}r||(r=new p(this,e,t),i.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=d.get(e),r=0;r<t.length;r++){var i=t[r];if(i.observer===this){i.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},p.prototype={enqueue:function(e){var t=this.observer.records_,r=t.length;if(0<t.length){var i=g(t[r-1],e);if(i)return void(t[r-1]=i)}else!function(e){s.push(e),a||(a=!0,n(o))}(this.observer);t[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=d.get(e);t||d.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=d.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,i=e.target;(a=new f("attributes",i)).attributeName=t,a.attributeNamespace=r;var n=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;c(i,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(r)))return e.attributeOldValue?b(n):a});break;case"DOMCharacterDataModified":var a=f("characterData",i=e.target);n=e.prevValue;c(i,function(e){if(e.characterData)return e.characterDataOldValue?b(n):a});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":i=e.relatedNode;var s,o,d=e.target;o="DOMNodeInserted"===e.type?(s=[d],[]):(s=[],[d]);var u=d.previousSibling,h=d.nextSibling;(a=f("childList",i)).addedNodes=s,a.removedNodes=o,a.previousSibling=u,a.nextSibling=h,c(i,function(e){if(e.childList)return a})}v=l=void 0}},e.JsMutationObserver=u,e.MutationObserver||(e.MutationObserver=u)}(this),window.MutationObserver});

define("UWA/Element",["UWA/Internal/Deprecate","UWA/Core","UWA/String","UWA/Array","UWA/Utils","UWA/Utils/Client","UWA/Dispatcher","UWA/Json","UWA/Event","vendors/webcomponents/MutationObserver"],function(i,g,l,o,d,E,e,a,s,t){"use strict";var n,c=Boolean("object"==typeof MooTools&&MooTools.version),r=E.getVendorProperty,h=document.documentElement,C=function(e,t){return i.warn("new Element(...)","Use Element.create instead"),C.create(e,t)};function u(e){var t="#document"===e.nodeName;for(var n in t&&i.warn("UWA.extendElement(document)"),C)C.hasOwnProperty(n)&&"create"!==n&&"extend"!==n&&(t&&n in e||(e[n]=C[n]))}C.create=function(e,t){var n=function(e,t){var n,i;return"iframe"===e&&t&&void 0!==t.name?((n=document.createElement("div")).innerHTML="<"+e+' name="'+t.name+'"/>',i=n.firstChild,delete t.name):"object"===e&&t&&void 0!==t.classid?(i=t.html?(i=document.createElement("div"),C.setHTML.call(i,t.html),C.getHTML.call(i)):"",(n=document.createElement("div")).innerHTML="<"+e+' classid="'+t.classid+'">'+i+"</"+e+">",i=n.firstChild,delete t.html,delete t.classid):i=document.createElement(e),i}(e,t);return C.extend(n),g.is(t,"object")&&C.set.call(n,t),n},C.extend=(n={getProperty:window.Element.prototype.getProperty,getSize:function(){var e;return(e="body"===C.getTagName.call(this)?g.Utils.Client.getSize():C.getSize.call(this)).x=e.width,e.y=e.height,e},getCoordinates:function(e){var t=e?this.getPosition(e):this.getOffsets(),n=this.getSize(),i={left:t.x,top:t.y,width:n.x,height:n.y};return i.right=i.left+i.width,i.bottom=i.top+i.height,i}},function(e){return e&&!e._isUwaExtended&&(c?function(e){delete e.fireEvent,u(e),g.extend(e,n)}(e):u(e),e._isUwaExtended=!0),e}),g.createElement=C.create,g.extendElement=C.extend;var f,m,p,v=(f=document.createElement("div"),m=/(^|,)/g,p=/(?:^|,)\s*[>+~]/,function(e,t,n,i){var o,r,a,l,s=i||p.test(t);return s?(n?(r=n.parentNode,l="uwa-private-get-element-selector-root-"+(1e8*Math.random()|0),n.setAttribute(l,"true"),o="["+l+"] ",i||r||(r=C.extend(f).grab(n))):(o="* ",r=n),t=t.replace(m,"$1"+o)):r=n,a=i?(C[e]||i[e]).call(i,t):(C[e]||r[e]).call(r,t),n&&s&&(n.removeAttribute(l),r===f&&r.removeChild(n)),a});function y(e){var t=e?e.indexOf(" "):-1;return t<0?{name:e}:{name:e.slice(0,t),selector:e.slice(t+1)}}var w,b,x,S,T,W,L,O,D,N,H,M,P,z,A,F,k,j,B,U,_,R,I,$,q,V,K,X,Y,G,J,Q,Z,ee,te,ne,ie=e.extend({Binding:e.Binding.extend({delegates:null,direct:!1,element:null,init:function(){this._parent.apply(this,arguments),this.delegates=[]},addDelegate:function(e){e?this.delegates.push(e):this.direct=!0},removeDelegate:function(t){t?this.delegates=this.delegates.filter(function(e){return e!==t}):this.direct=!1,this.direct||this.delegates.length||this.detach()},execute:function(e,t){var n,i,o,r;if(this.active){if(this.delegates.length)for(n=this.delegates.join(","),i=e[0],o=s.getElement(i);o&&o!==this.element&&!1!==r;)C.match.call(o,n,this.element)&&(i._uwaTarget=o,r=this._parent(e,t),i._uwaTarget=null),o=o.parentNode;this.direct&&!1!==r&&(r=this._parent(e,t))}return r},destroy:function(){this._parent(),delete this.element}}),init:function(e){this._parent(),this.element=e},addDelegation:function(e,t,n,i){var o=this.add(e,n,i);return o.addDelegate(t),o.element=this.element,o},removeDelegation:function(e,t){if(e){var n=this.bindings[this.indexOfListener(e)];n&&n.removeDelegate(t)}else o.invoke(this.bindings.slice(),"removeDelegate",t)},dispose:function(){this._parent(),delete this.element}});function oe(e){var t="string"==typeof e.className?e.className:e.getAttribute("class");return t||""}function re(e,t){"string"==typeof e.className?e.className=t:e.setAttribute("class",t)}function ae(e){s.preventDefault(e)}function le(e){var t=e.ownerDocument.defaultView;return t?t.getComputedStyle(e,null):e.currentStyle}function se(e,t){return C.getStyle.call(e,t)}function de(){var e,t,n,i=document.body,o=parseInt(se(i,"marginTop"),10),r=document.createElement("div");r.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i.insertBefore(r,i.firstChild),t=(e=r.firstChild).firstChild,n=e.nextSibling.firstChild.firstChild,x=5!==t.offsetTop,S=5===n.offsetTop,t.style.position="fixed",t.style.top="20px",T=20===t.offsetTop||15===t.offsetTop,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",W=-5===t.offsetTop,L=i.offsetTop!==o,i.removeChild(r)}function ce(e){var t=e.offsetTop,n=e.offsetLeft;return void 0===x&&de(),L&&(t+=parseFloat(se(e,"marginTop"))||0,n+=parseFloat(se(e,"marginLeft"))||0),{x:n,y:t}}function he(e){return C.getStyle.call(e,"display")}function ue(e){var t=[];return e.replace(/['"]/g,"").split(",").forEach(function(e){t.push('"'+e.trim()+'"')}),t.join(", ")}function fe(e){var t=function(e,t){var n,i,o,r,a=e+t;if(Y[a])n=Y[a];else{for(i in n=!1,r=document.createElement("div").style,G)if(o=G[i]+t,r[e]=o,r[e]===o&&""!==o&&!E.Engine.ie){n=o;break}Y[a]=n}return n}("cursor",e);return e=!1!==t?t:E.Engine.opera?"move":"url("+g.hosts.uwa+g.paths.css+"/base/cursor/"+("grabbing"===e?"closedhand":"openhand")+".cur)"+(E.Engine.ie?"":" 4 4")+", move"}function me(e){return/^(?:body|html)$/i.test(e.tagName)}function pe(e){return e&&("static"!==C.getStyle.call(e,"position")||me(e))}function ge(e){return pe(e)||/^(?:table|td|th)$/i.test(e.tagName)}function ve(n,i){"function"==typeof i?i=i():void 0===i&&(i=(i=r(h,"on{}"+n,!0))&&i.slice(2)),n!==i&&(C.Events[n]=function(e,t){if(!i)throw new Error("The event "+n+" is not supported on this platform");C.addEvent.call(t,i,e.handleEvent,!0),e.events[i]=e.handleEvent})}function ye(e){var t;return(t=g.is(e,["window","document"])?[(t=E.getSize()).width,t.height,0,0]:[e.scrollWidth,e.scrollHeight,e.offsetWidth,e.offsetHeight]).join("x")}function we(){clearTimeout(ee),te.dispatch(),0<te.getNumListeners()&&(ee=setTimeout(we,ne))}function be(){window.document&&(window.document.body&&g.extendElement(window.document.body),window.document.documentElement&&g.extendElement(window.document.documentElement))}return Object.assign(C,{set:function(e,t){var n,i,o=this;if(Z||(Z={html:C.setHTML,events:C.addEvents,id:function(e){this.id=e},class:function(e){this.className=e},value:function(e){this.value=e}},["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"].forEach(function(t){Z[t.toLowerCase()]=function(e){this[t]=Boolean(e)}})),g.is(e,"object"))for(n in e)e.hasOwnProperty(n)&&C.set.call(o,n,e[n]);else i=C["set"+l.capitalize(e)],g.is(i,"function")?i.apply(o,Array.prototype.slice.call(arguments,1)):Z.hasOwnProperty(e)&&!1!==Z[e].call(o,t)||o.setAttribute(e,t);return o},setAttributes:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},getTagName:function(){var e=this.tagName||this.nodeName;return e?e.toLowerCase():""},setText:function(e){return C.empty.call(this),C.appendText.call(this,e)},appendText:function(e){var t=C.getDocument.call(this);return this.appendChild(t.createTextNode(e)),this},getText:function(){return"string"==typeof this.textContent?this.textContent:"string"==typeof this.innerText?this.innerText:""},setContent:function(){return C.empty.call(this),C.addContent.apply(this,arguments)},addContent:function(){var e=C.getDocument.call(this),t=e.createDocumentFragment();return function e(t,n,i){var o,r,a,l;for(g.is(t,"nodelist")&&(t=[].slice.call(t)),o=0,r=t.length;o<r;o++)if(l=t[o])if(l.nodeType)i.appendChild(l);else if("string"==typeof l||"number"==typeof l)if(/<|&#?\w+;/.test(l))for(a=n.createElement("div"),C.setHTML.call(a,l);a.firstChild;)i.appendChild(a.firstChild);else i.appendChild(n.createTextNode(l));else"function"!=typeof l.inject||Array.isArray(l)?"number"==typeof l.length?e(l,n,i):"object"==typeof l?(a=l.tag||"div",delete l.tag,i.appendChild(C.create(a,l)),l.tag=a):i.appendChild(n.createTextNode(l)):l.inject(i)}(arguments,e,t),this.appendChild(t),this},setHTML:function(t){var e,n=this;if("string"!=typeof t)C.setContent.call(n,t);else try{e=l.escapeHTMLEntities(t).replace('<?xml version="1.0" encoding="UTF-8"?>',"").replace(/&(?!#?[a-z0-9]+;)/gi,"&#38;"),n.innerHTML=e}catch(e){g.log("UWA.Element.setHTML error cause: "+e+' with HTML value "'+t+'"');try{n.innerHTML=l.stripTags(String(t))}catch(e){C.setText.call(n,t)}}return n},getHTML:function(){var e=this.innerHTML;return E.Engine.ie&&(e=e.replace(/< *(\/ *)?(\w+)/g,function(e){return e.toLowerCase()})),e},inject:function(e,t){var n,i=this,o=C.getDocument.call(i);return"bottom"===(t=t||"bottom")?e.appendChild(i):"top"===t?e.insertBefore(i,e.firstChild):((n=e.parentNode)||11===e.nodeType||(n=o.createDocumentFragment()).appendChild(e),n&&("after"===t?n.lastChild===e?n.appendChild(i):n.insertBefore(i,e.nextSibling):"before"===t&&n.insertBefore(i,e))),i},grab:function(e,t){return C.inject.call(e,this,t),this},isInjected:h.contains?function(e){return(e=e||this.ownerDocument.documentElement)!==this&&(!e.contains||e.contains(this))}:h.compareDocumentPosition?function(e){return e=e||this.ownerDocument.documentElement,Boolean(16&e.compareDocumentPosition(this))}:function(e){var t=this;for(e=e||t.ownerDocument.documentElement;(t=t.parentNode)&&t.parentNode;);return t===e},empty:function(e){for(var t;this.firstChild;)t=this.firstChild,e?C.destroy.call(t):this.removeChild(t);return this},remove:function(){var e=C.getParent.call(this);return e&&e.removeChild(this),this},destroy:function(){var e,t,n,i=this,o=C.remove,r=C.destroy,a=C.getChildren.call(i);for(t=0,n=a.length;t<n;t+=1)a[t].destroy&&r.call(a[t]);C.removeEvents.call(i),i!==(e=C.getDocument.call(i))&&i!==e.documentElement&&i!==e.body&&i!==C.getWindow.call(i)&&o.call(i)},getParent:function(e){var t=this.parentNode;if(e)for(;t&&1===t.nodeType&&!C.match.call(t,e);)t=t.parentNode;return t&&1!==t.nodeType&&(t=null),t?C.extend(t):null},getParents:function(e){for(var t=[],n=this;;){var i=n.getParent(e);if(!i)return t;t.push(i),n=i}},getClosest:function(e){return C.match.call(this,e)?this:C.getParent.call(this,e)},getChildren:function(){return Array.prototype.filter.call(this.childNodes,function(e){return 1===e.nodeType}).map(C.extend)},getDocument:function(){return 9===this.nodeType?this:this.ownerDocument||this.document},getWindow:function(){var e=C.getDocument.call(this);return e&&(e.defaultView||e.parentWindow)},getOffsetParent:function(){var e,t=this,n=C.getDocument.call(t),i=t.offsetParent||n&&n.body,o=C.getStyle.call(t,"position");if(!me(t)&&"fixed"!==o)if(void 0===Q&&function(){var e=document.createElement("div"),t=document.createElement("div");e.style.height="0",e.appendChild(t),Q=t.offsetParent===e}(),Q){for(e="static"===o?ge:pe;void 0!==(t=t.parentNode);)if(e(t)){i=t;break}}else try{i=t.offsetParent}catch(e){}return i=i&&C.extend(i)},getElements:function(e){return Array.prototype.map.call(v("querySelectorAll",e,this),C.extend,g)},getElement:function(e){return C.extend(v("querySelector",e,this))},match:function(e,t){return v("matchesSelector",e,t,this)},hasClassName:function(e){var t=oe(this);return Boolean(t&&l.contains(t,e," "))},addClassName:function(e){return C.hasClassName.call(this,e)||re(this,(oe(this).trim()+" "+e).trim()),this},removeClassName:function(e){return re(this,oe(this).replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)"),"$1").trim()),this},toggleClassName:function(e,t){var n=g.is(t)?t:!C.hasClassName.call(this,e);return g.Element[n?"addClassName":"removeClassName"].call(this,e)},setStyle:function(e,t){var n={};return n[e]=t,C.setStyles.call(this,n)},setStyles:(Y={},G={none:"",firefox:"-moz-",opera:"-o-",trident:"-ms-",webkit:"-webkit-"},J={columnCount:1,flex:1,flexGrow:1,flexShrink:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,widows:1,zIndex:1,zoom:1,fillOpacity:1,strokeOpacity:1},function(e){var t,n,i,o,r=this.style,a=[];for(o in e)e.hasOwnProperty(o)&&(i=e[o],"opacity"===(o=l.camelCase(o))?C.setOpacity.call(this,i):(""!==i&&null!==i&&isFinite(i)&&void 0===J[o]?i+="px":"none"===i&&"userSelect"===o&&void 0!==r.MozUserSelect?i="-moz-none":"fontFamily"===o?i=ue(i):"cursor"===o&&("grabbing"!==i&&"grab"!==i||(i=fe(i))),a.push({name:C.getStyleName.call(this,o),value:i})));for(t=0,n=a.length;t<n;t++){o=a[t].name,i=a[t].value;try{r[o]=i||0===i?i:""}catch(e){g.log('Unable to set style "'+o+'" with value "'+i+'"')}}return this}),getStyle:function(e,t){return C.getStyles.call(this,[e],t)[e]},getStyles:(K=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,X=/^margin/,document.defaultView&&document.defaultView.getComputedStyle?$=function(e,t,n){var i,o,r,a,l,s,d,c=e.ownerDocument,h=c.defaultView,u=C.getWindow.call(e).getComputedStyle(e,null),f=e.style;if(h&&u)for(i=0,o=t.length;i<o;i++)a=t[i],""!==(l=u[s=C.getStyleName.call(e,a)])&&"auto"!==l||C.isInjected.call(e,c.documentElement)||(l=f[s]),void 0===q&&(d=void 0,(d=document.createElement("div")).style.margin="1%",document.body.appendChild(d),q="1%"===(window.getComputedStyle(d,null)||{marginTop:0}).marginTop,document.body.removeChild(d)),q&&X.test(s)&&K.test(l)&&(r=f.width,f.width=l,l=u.width,f.width=r),n[a]=void 0!==l?l:f[a]||"";return n}:document.documentElement.currentStyle&&($=function(e,t,n){var i,o,r,a,l,s,d,c=e.currentStyle,h=e.runtimeStyle,u=e.style;for(i=0,o=t.length;i<o;i++)a=t[i],d=C.getStyleName.call(e,a),l=c&&c[d],K.test(l)&&(r=u.left,(s=h&&h.left)&&(h.left=c.left),u.left="fontSize"===d?"1em":l||0,l=u.pixelLeft+"px",u.left=r,s&&(h.left=s)),n[a]=void 0!==l?l:e.style[a]||"";return n}),function(e,t){var n={};return-1===e.indexOf("opacity")||V||(V=!0,n.opacity=C.getOpacity.call(this,t),e.splice(e.indexOf("opacity"),1),V=!1),n=!1===t?function(e,t,n){var i,o,r,a=e.style;for(i=0,o=t.length;i<o;i++)n[r=t[i]]=a[r]||"";return n}(this,e,n):$(this,e,n)}),getStyleName:(_=E.Engine,R=_.name,I=["box-sizing","box-shadow","transform","transform-style","transition","transition-timing-function","transition-duration","transition-delay","transition-property","border-image","border-radius","text-stroke","font-smoothing","text-fillcolor","text-shadow","perspective","appearance","touch-callout","overflow-scrolling","mask","user-select"],d.memoize(function(e,t){var n,i,o=[],r={firefox:"-moz",opera:"-o",ie:t?"-ms":"ms",chrome:"-webkit",safari:"-webkit"};if("string"==typeof e){if("float"===(e=l.unCamelCase(e)))n=_.ie?"style-float":"css-float";else if(-1!==I.indexOf(e)){if(r[R])n=r[R]+"-"+e,o.push(n);else for(i in r)r.hasOwnProperty(i)&&(n=r[i]+"-"+e,-1===o.indexOf(n)&&o.push(n));n=0===(o=o.filter(function(e){return void 0!==h.style[l.camelCase(e)]})).length?e:o.shift()}else n=e;t||(n=l.camelCase(n))}else n=e;return n},function(e){return e.join(".")})),getOpacity:(k=function(){},j=E.Features.opacityCSS,B=E.Features.filterCSS,U=/alpha\(opacity=([\d.]+)\)/i,B&&!j?k=function(e,t){var n,i=1;return(n=C.getStyle.call(e,"filter",t).replace(/ /g,"").match(U))&&(i=n[1]/100),i}:j&&(k=function(e,t){var n=1,i=e.style,o=C.getStyle;return void 0!==i.opacity?n=o.call(e,"opacity",t):void 0!==i.MozOpacity&&(n=o.call(e,"MozOpacity",t)),parseFloat(Math.round(100*n)/100,10)}),function(e){return k(this,e)}),setOpacity:(A=function(){},F=E.Features.opacityCSS,E.Features.filterCSS&&!F?A=function(e,t,n){var i;n=(t.zoom=1)===n?"":"alpha(opacity="+100*n+")",t.MsFilter=n,t.filter=n,i=t.display,t.display="none",e.offsetHeight,t.display=i}:F&&(A=function(e,t,n){void 0!==t.opacity?t.opacity=n:void 0!==t.MozOpacity&&(t.MozOpacity=n)}),function(e){var t=this.style;return null!==e&&(e=1<(e=parseFloat(e,10))?1:e<1e-5?0:e),A(this,t,e),this}),hide:function(){return C.setStyle.call(this,"display","none")},show:(z=d.memoize(function(e){var t,n=document,i=n.body,o=n.createElement(e);return i.appendChild(o),t=he(o),i.removeChild(o),"none"!==t&&""!==t||(M||((M=n.createElement("iframe")).frameBorder=M.width=M.height=0),i.appendChild(M),P&&M.createElement||((P=(M.contentWindow||M.contentDocument).document).write(("CSS1Compat"===n.compatMode?"<!doctype html>":"")+"<html><body>"),P.close()),o=P.createElement(e),P.body.appendChild(o),t=he(o),i.removeChild(M)),t}),function(){var e,t=this;return t.style&&("none"===(e=t.style.display)&&(e=t.style.display=""),""===e&&(t.style.display="none"===he(t)&&z(t.nodeName)||"")),t}),toggle:function(e){var t=g.is(e)?e:C.isHidden.call(this);return g.Element[t?"show":"hide"].call(this)},isHidden:function(){return"none"===C.getStyle.call(this,"display")},setTranslate:(H=E.Features.transitionsCSS?E.Features.matrixCSS?function(e,t){return{transform:"translate3d("+t+"px,"+e+"px, 0)"}}:function(e,t){return{transform:"translate("+t+"px,"+e+"px)"}}:function(e,t){return{top:e,left:t}},function(e,t){var n;return n=H(e=e||0,t=t||0),C.setStyles.call(this,n),this}),getComputedSize:(N={borderWidth:["borderLeftWidth","borderRightWidth"],borderHeight:["borderBottomWidth","borderTopWidth"],paddingWidth:["paddingLeft","paddingRight"],paddingHeight:["paddingTop","paddingBottom"],marginWidth:["marginLeft","marginRight"],marginHeight:["marginTop","marginBottom"],innerWidth:["borderWidth","paddingWidth"],innerHeight:["borderHeight","paddingHeight"],outerWidth:["marginWidth"],outerHeight:["marginHeight"]},function(){var e,t,n,i,o=d.toArray(arguments),r=0;for(e=0;e<o.length;e++)n=l.camelCase(o[e]),N[n]?(o.splice(e,1),o=o.concat(N[n]),e--):o.splice(e,1,n);for(i=C.getStyles.call(this,o),e=0,t=o.length;e<t;e++)n=o[e],r+=parseFloat(i[n],10)||0;return r}),getScrolls:function(){var e,t,n,i=this;return g.is(i,["window","document"])?t=E.getScrolls():(n=i.style,t={width:i.scrollWidth,height:i.scrollHeight,top:i.scrollTop,left:i.scrollLeft},void 0===D&&function(){var e=document.createElement("div"),t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="1px",e.style.overflow="visible",e.innerHTML="x",t.appendChild(e),h.appendChild(t),D=1===e.scrollWidth,h.removeChild(t)}(),D&&-1!==["","visible"].indexOf(C.getStyle.call(i,"overflow"))&&(e=n.overflow,n.overflow="hidden",t.width=i.scrollWidth,n.overflow=e)),t},getOffsets:(O=/^t(?:able|d|h)$/i,void 0!==document.documentElement.getBoundingClientRect?function(){if(this===this.ownerDocument.body)return ce(this);var e,t,n,i,o,r,a,l=this,s=C.getWindow.call(l),d=s.webkitConvertPointFromNodeToPage;if(l.getBoundingClientRect){i=C.getDocument.call(l).body,o=h.clientTop||i.clientTop||0,r=h.clientLeft||i.clientLeft||0,a=E.getScrolls();try{n=l.getBoundingClientRect()}catch(e){}t=n&&C.isInjected.call(l,h)?(e=n.left+a.x-o,n.top+a.y-r):(e=n?n.left:0,n?n.top:0)}else d&&(e=(n=d(l,new s.WebKitPoint(0,0))).x,t=n.y);return{x:e,y:t}}:function(){if(this===this.ownerDocument.body)return ce(this);var e,t=this,n=t.offsetParent,i=C.getDocument.call(t).body,o=le(t),r=t.offsetTop,a=t.offsetLeft;for(void 0===x&&de(),t=t.parentNode;t&&t!==i&&t!==h&&11!==t.nodeType&&(!T||"fixed"!==o.position);)e=le(t),a-=t.scrollLeft,r-=t.scrollTop,t===n&&(a+=t.offsetLeft,r+=t.offsetTop,!x||S&&O.test(t.nodeName)||(a+=parseFloat(e.borderLeftWidth)||0,r+=parseFloat(e.borderTopWidth)||0),n=t.offsetParent),W&&"visible"!==e.overflow&&(a+=parseFloat(e.borderLeftWidth)||0,r+=parseFloat(e.borderTopWidth)||0),o=e,t=t.parentNode;return"relative"!==o.position&&"static"!==o.position||(a+=i.offsetLeft,r+=i.offsetTop),T&&"fixed"===o.position&&(a+=Math.max(h.scrollLeft,i.scrollLeft),r+=Math.max(h.scrollTop,i.scrollTop)),{x:a,y:r}}),getPosition:function(e,t){var n,i,o,r,a,l,s,d=this,c=C.getOffsetParent,h=C.getOffsets,u=C.getComputedSize,f=C.getSize,m=C.isInjected,p={x:0,y:0};if(!(e=e||c.call(d))||!m.call(d))return p;if(s=h.call(d),e!==C.getDocument.call(d)&&(n=/^(?:body|html)$/i.test(e.nodeName)?p:h.call(e),s.x-=parseFloat(u.call(d,"marginLeft"))||0,s.y-=parseFloat(u.call(d,"marginTop"))||0,n.x+=parseFloat(u.call(e,"borderLeftWidth"))||0,n.y+=parseFloat(u.call(e,"borderTopWidth"))||0,s.x-=n.x,s.y-=n.y,l=g.typeOf(t)))for("string"===l&&(t={x:t,y:t}),i=f.call(d),o=0;o<2;o+=1)a=o?"width":"height","center"===t[r=o?"x":"y"]?s[r]+=i[a]/2:(1===o&&"right"===t[r]||0===o&&"bottom"===t[r])&&(s[r]+=i[a]);return s},setPosition:(b={full:function(e,t){var n=C.getSize.call(this),i=e.x+e.width-t.x-n.width,o=e.y+e.height-t.y-n.height;i<0&&(t.x=Math.max(0,t.x+i)),o<0&&(t.y+=o)},"resize-max":function(e,t){C.setStyles.call(this,{maxWidth:e.x+e.width-t.x,maxHeight:e.y+e.height-t.y})},none:function(){}},function(e,t){t=t||{};var i,o,n=this,r=C.getDocument.call(n).body,a=C.getOffsetParent.call(n)||r,l=C.getOffsets.call(a),s=C.getOffsets.call(t.relative||a);return i=function(e,t,n,i,o){var r,a;switch(g.typeOf(i)){case!1:break;case"object":a={x:i.x+n.x,y:i.y+n.y,width:i.width,height:i.height};break;case"element":r=i;break;default:for(r=C.getOffsetParent.call(e);r&&r!==t&&1===r.nodeType&&"visible"===C.getStyle.call(r,"overflow");)r=r.parentNode;r&&1===r.nodeType||(r=t)}return r&&(r===t?a=g.merge(E.getScrolls(),E.getSize()):((a=C.getOffsets.call(r)).width=r.offsetWidth,a.height=r.offsetHeight)),a&&(a.x+=o,a.y+=o,a.width-=2*o,a.height-=2*o),a}(n,r,s,t.boundary,t.boundaryMargin||0),"number"==typeof e.length&&(o=C.getSize.call(n),d.splat(e).forEach(function(e){var t=s.x+e.x,n=s.y+e.y;e.score=(Math.min(i.x+i.width,t+o.width)-Math.max(i.x,t))*(Math.min(i.y+i.height,n+o.height)-Math.max(i.y,n))}),e.sort(function(e,t){return t.score-e.score}),e=e[0]),e={x:e.x+s.x,y:e.y+s.y},i&&(t.fit?"string"==typeof t.fit&&g.owns(b,t.fit)&&(t.fit=b[t.fit]):t.fit=b.full,e.x=Math.max(i.x,Math.min(e.x,i.x+i.width)),e.y=Math.max(i.y,Math.min(e.y,i.y+i.height)),t.fit.call(this,i,e)),C.setStyles.call(n,{top:e.y-l.y,left:e.x-l.x}),n}),getSize:function(){var e,t,n,i,o,r,a=this;return g.is(a,["window","document"])?E.getSize():(r=C.getStyle.bind(a),n=a.style,i=a.offsetWidth,o=a.offsetHeight,"none"===r("display")&&0===i&&0===o&&(t=n.display,e=n.visibility,n.visibility="visible",n.display="block",i=a.offsetWidth,o=a.offsetHeight,n.display=t,n.visibility=e),{width:i,height:o})},getDimensions:function(){var e,t=C.getSize.call(this),n=t.width,i=t.height,o=C.getStyles.call(this,["maxWidth","maxHeight","minWidth","minHeight","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","borderBottomWidth","borderTopWidth","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"]);for(e in o)o[e]=parseFloat(o[e],10)||0;return{width:n,height:i,maxWidth:o.maxWidth||-1,maxHeight:o.maxHeight||-1,minWidth:o.minWidth||-1,minHeight:o.minHeight||-1,innerWidth:n-(o.borderLeftWidth+o.borderRightWidth+o.paddingLeft+o.paddingRight),innerHeight:i-(o.borderBottomWidth+o.borderTopWidth+o.paddingTop+o.paddingBottom),outerWidth:n+o.marginLeft+o.marginRight,outerHeight:i+o.marginTop+o.marginBottom}},isInViewport:function(e,t,n,i){var o,r,a,l,s,d,c=this,h=C.getOffsets,u=h.call(e),f=h.call(c),m=e.offsetHeight,p=e.offsetWidth,g=c.offsetWidth,v=c.offsetHeight,y=f.y,w=f.x,b=y+c.offsetHeight,x=w+c.offsetWidth;return s=t?(l=w<u.x+p&&w+g>u.x,y<u.y+m&&y+v>u.y):(l=w>=u.x&&w+g<=u.x+p,y>=u.y&&y+v<=u.y+m),d="x"===i?l:"y"===i?s:l&&s,n&&(o=E.getScrolls(),r=E.getSize(),a={top:o.y,bottom:o.y+r.height,right:o.x+r.width,left:o.x},d=d&&y<a.bottom&&w<a.right&&a.top<b&&a.left<x),d},setData:function(e,t){var n,i=this,o=g.typeOf(t),r=g.typeOf(e);if("string"===r&&o)t=a.encode(t),i.dataset?i.dataset[l.camelCase(e)]=t:(e="data-"+l.unCamelCase(e),i.setAttribute?i.setAttribute(e,t):i[e]=t);else if("object"===r&&!o)for(n in e)e.hasOwnProperty(n)&&C.setData.call(i,n,e[n]);return i},getData:function(e){var t,n=this;return g.is(e,"string")&&(t=n.dataset?n.dataset[l.camelCase(e)]:(e="data-"+l.unCamelCase(e),n.getAttribute?n.getAttribute(e,t):n[e]=t)),g.is(t)?a.decode(t):void 0},removeData:function(e){var t=this;return g.is(e,"string")&&(t.dataset?t.dataset.hasOwnProperty(l.camelCase(e))&&delete t.dataset[l.camelCase(e)]:(e="data-"+l.unCamelCase(e),t.removeAttribute?t.removeAttribute(e):t[e]=null)),t},handleExternalLinks:function(o){return C.addEvent.call(this,"click",function(e){if(!s.isDefaultPrevented(e)&&!s.whichKey(e)){for(var t,n=s.getElement(e),i=String(window.location).split("#")[0];n&&!t;)t="a"===C.getTagName.call(n)&&n.getAttribute("href")||C.getData.call(n,"href"),n=C.getParent.call(n);t&&0!==t.indexOf(i+"#")&&0!==t.indexOf("#")&&0!==t.indexOf("javascript")&&(o(t),s.stop(e))}}),this},addEvent:function(e,t,n,i,o){e=y(e);var r=this,a=t&&"function"==typeof t.handleEvent?t:r,l=function(e,t,n,i){g.is(e,"window")&&"resize"===t&&(n=!0);var o,r,a=e._events||{},l=!n&&C.Events[t],s=l?t+"Custom":t,d=a[s];return d||(r=new ie(e),a[s]=d={dispatcher:r,handleEvent:function(t){if(c){var e=window.DOMEvent||window.Event;t=new e(t),["offsetY","offsetX","relatedTarget","button","metaKey","altKey","shiftKey","ctrlKey","clientY","clientX","screenY","screenX","which","pageY","pageX","layerY","layerX","charCode","keyCode","timeStamp","cancelable","bubbles","target","type","detail","wheelDelta","touches","changedTouches"].forEach(function(e){g.owns(t,e)||(t[e]=t.event[e])})}void 0===t.timeStamp&&(t.timeStamp=Date.now()),r.dispatch([t])},events:{},bindings:[],timers:[]},o=d.handleEvent,e._events=a,l?l(d,e,{target:e,type:t}):e.addEventListener?e.addEventListener(t,o,i||!1):(e.attachEvent("on"+t,o),window.attachEvent("onunload",function(){e.detachEvent("on"+t,o)}))),d}(this,e.name,n,o);return l.dispatcher.addDelegation(t,e.selector,a,i),"load"===e.name&&r.tagName&&"img"===r.tagName.toLowerCase()&&r.complete&&0<r.width&&l.dispatcher.dispatch(),r},addEvents:function(e,t,n,i){var o;for(o in e)e.hasOwnProperty(o)&&C.addEvent.call(this,o,e[o],t,n,i);return this},triggerEvent:function(e){var t=(this._events||{})[e],n={target:this,timeStamp:Date.now(),type:e};return t&&t.handleEvent(n),this},removeEvent:function(e,t,n){if(!g.is(e))return C.removeEvents.call(this);e=y(e);var i,o,r,a,l,s=this,d=s._events&&s._events[e.name+"Custom"],c=d?e.name+"Custom":e.name,h=s._events&&s._events[c];if(h&&(a=h.dispatcher,t||e.selector?a.removeDelegation(t,e.selector):a.removeAll(),0===a.getNumListeners())){for(r in delete s._events[c],l=h.events)l.hasOwnProperty(r)&&C.removeEvent.call(s,r,l[r]);if(h.timers)for(i=0,o=h.timers.length;i<o;i++)clearTimeout(h.timers[i]);if(h.bindings)for(i=0,o=h.bindings.length;i<o;i++)h.bindings[i].dispose();d||(s.removeEventListener?s.removeEventListener(c,h.handleEvent,n):s.detachEvent("on"+c,h.handleEvent)),a.dispose()}return s},removeEvents:function(e,t){var n,i=void 0!==e,o=i?e:this._events;for(n in o)o.hasOwnProperty(n)&&C.removeEvent.call(this,n,i?e[n]:null,t);return this},fillParent:function(e,t){e=e||"height";var n=t||C.getParent.call(this),i=C.setStyle.bind(this),o=l.ucfirst(e);return n&&(i("height",1e4+"px"),i("height",n["offset"+o]-n["scroll"+o]+1e4+"px")),this},setSelectable:function(e){return this.setAttribute("unselectable",e?"off":"on"),C.setStyles.call(this,{userSelect:e?"":"none",touchCallout:e?"":"none"}),C[e?"removeEvent":"addEvent"].call(this,"selectstart",ae),this},requestFullscreen:(w=r(h,"requestFullscreen")||r(h,"requestFullScreen"),w?function(){return w.call(this,1)}:function(){throw new Error("Element#requestFullscreen is not available in this platform")})}),C.Events={mouseleave:function(e,t,n){var i=e.handleEvent;t.addEventListener?(e.handleEvent=function(e){var t=e.relatedTarget;this===t||function(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}(this,t)||i.call(this,n)},C.addEvent.call(t,"mouseout",e.handleEvent),e.events.mouseout=e.handleEvent):(C.addEvent.call(t,"mouseleave",i,!0),e.events.onmouseleave=i)},mouseenter:function(e,t,n){var i=e.handleEvent;t.addEventListener?(e.handleEvent=function(e){var t=e.relatedTarget;this===t||function(e,t){var n=!1;if(e!==t){for(;t&&t!==e;)t=t.parentNode;n=e===t}return n}(this,t)||i.call(this,n)},C.addEvent.call(t,"mouseover",e.handleEvent),e.events.mouseover=e.handleEvent):(C.addEvent.call(t,"mouseenter",i,!0),e.events.mouseenter=i)},mousewheel:function(e,t){var n=e.handleEvent,i=E.Engine.firefox?"DOMMouseScroll":"mousewheel";e.handleEvent=function(e){(e=e||window.event).wheel=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3,n(e)},C.addEvent.call(t,i,e.handleEvent,!0),e.events[i]=e.handleEvent},update:function(n,e,i){new t(function(e){var t=e[0];n.handleEvent(Object.assign(i,{record:t}))}).observe(e,{childList:!0,subtree:!0})},resize:(te=new e,ne=200,function(n,i,o){var r,a=ye(i),e="orientationchange";0<n.bindings.length||(n.timers=[r],window===i&&g.is(window[e])&&(C.addEvent.call(i,e,we),n.events[e]=we),n.bindings=[te.add(function(){var e=ye(i),t=g.is(i,["window","document"])||C.isInjected.call(i);a!==e&&t&&(a=e,clearTimeout(r),r=setTimeout(function(){n.handleEvent(o)},220))})],we())})},ve("fullscreenchange"),ve("fullscreenerror"),ve("transitionEnd",function(){var e,t=document.createElement("fakeelement"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&g.is(t.style[e]))return n[e]}),h.matchesSelector||(C.matchesSelector=r(h,"matchesSelector")),document.exitFullscreen=r(document,"exitFullscreen")||r(document,"cancelFullScreen")||function(){throw new Error("Element#requestFullscreen is not available in this platform")},"fullscreenEnabled"in document||(document.fullscreenEnabled=r(document,"fullscreenEnabled")),function(){var e="fullscreenElement",t=r(document,e,!0)||r(document,"fullScreenElement",!0)||r(document,"currentFullScreenElement",!0);if(t&&t!==e)try{C.addEvent.call(document,"fullscreenchange",function(){document[e]=document[t]}),document[e]=document[t]}catch(e){}}(),be(),s.onDomReady(be),g.namespace("Element",C,g,!0)});

define("UWA/Class/Timed",["UWA/Core","UWA/Class","UWA/Utils","UWA/Utils/Client"],function(e,i,m,t){"use strict";var a,u=1,r=t.getVendorProperty(window,"cancelAnimationFrame")||clearTimeout,n=t.getVendorProperty(window,"requestAnimationFrame")||function(e){return setTimeout(e,1e3/60)};function l(o,s,c,d){return function(i,e,t,a,r){var n=this,l=n;return"function"==typeof i&&(r=a,a=t,t=e,e=i,l=i=u++),e=m.attempt.bind(null,e,function(e){throw n[o](i),new Error("The "+s.slice(0,-1)+' "'+i+'" failed with error "'+e+'".')},r||n),n[o](i),n[s]=n[s]||Object.create(null),n[s][i]=c(function(){d&&n[o](i),e()},t),a&&e(),l}}function o(a,r){return function(e){var i,t=this[a];if(t)if(void 0===e)for(i in t)r(t[i]),delete t[i];else t[e]&&(r(t[e]),delete t[e]);return this}}function s(t){return function(e){var i=this[t];return Boolean(i&&i[e])}}return a=i.extend({setPeriodical:l("clearPeriodical","periodicals",window.setInterval),clearPeriodical:o("periodicals",window.clearInterval),hasPeriodical:s("periodicals"),setDelayed:l("clearDelayed","delays",window.setTimeout,!0),clearDelayed:o("delays",window.clearTimeout),hasDelayed:s("delays"),setAnimate:l("clearAnimate","animates",n,!0),clearAnimate:o("animates",r),hasAnimate:s("animates"),setImmediate:l("clearImmediate","immediates",m.setImmediate,!0),clearImmediate:o("immediates",m.clearImmediate),hasImmediate:s("immediates"),clearAllTimed:function(){return this.clearImmediate(),this.clearAnimate(),this.clearDelayed(),this.clearPeriodical(),this}}),e.namespace("Timed",a,i)});

define("UWA/Color",["UWA/Core","UWA/Class"],function(e,r){"use strict";function h(r){return"#"===r.charAt(0)&&(r=r.substring(1)),3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)}}function i(r){(r=e.clone(r)).r/=255,r.g/=255,r.b/=255;var a={},t=Math.min(r.r,r.g,r.b),n=Math.max(r.r,r.g,r.b),o=n-t,s=(n+t)/2;return a.l=s,n===t?(a.h=0,a.s=0):(a.h=s,a.s=s,a.s=.5<a.l?o/(2-n-t):o/(n+t),n===r.r?a.h=(r.g-r.b)/o+(r.g<r.b?6:0):n===r.g?a.h=(r.b-r.r)/o+2:n===r.b&&(a.h=(r.r-r.g)/o+4),a.h/=6),a.h=Math.round(360*a.h),a.s=Math.round(100*a.s),a.l=Math.round(100*a.l),a}function s(r){var a={},t=(1-Math.abs(r.l/50-1))*r.s/100,n=t*(1-Math.abs(r.h/60%2-1)),o=Math.floor(r.h/60),s=r.l/100-t/2;switch(o){case 0:a.r=t,a.g=n,a.b=0;break;case 1:a.r=n,a.g=t,a.b=0;break;case 2:a.r=0,a.g=t,a.b=n;break;case 3:a.r=0,a.g=n,a.b=t;break;case 4:a.r=n,a.g=0,a.b=t;break;case 5:case 6:a.r=t,a.g=0,a.b=n}return a.r=Math.round(255*(a.r+s)),a.g=Math.round(255*(a.g+s)),a.b=Math.round(255*(a.b+s)),a}function g(a,t){var n=(a=e.clone(a)).alpha;if(1<=n)return a;return["r","g","b"].forEach(function(r){a[r]=a[r]*n+t[r]*t.alpha*(1-n)}),a.alpha=Math.round(n+t.alpha*(1-n)),a}function p(r){var a=[r.r,r.g,r.b,r.alpha].map(function(r){return(r/=255)<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)});return.2126*a[0]+.7152*a[1]+.0722*a[2]}function f(r,a){if(1<=a.alpha){r.alpha<1&&(r=g(r,a));var t=p(a)+.05,n=p(r)+.05,o=t/n;return t<n&&(o=1/o),{ratio:Math.round(o),min:o,max:o}}var s={r:255,g:255,b:255,alpha:1},e={r:0,g:0,b:0,alpha:1},h=g(a,e),i=g(a,s),l=f(r,e).ratio,u=f(r,s).ratio,c=Math.max(l,u),b=1;return h.luminance>r.luminance?b=l:i.luminance<r.luminance&&(b=u),{ratio:Math.round((b+c)/2,2),min:b,max:c}}var l=r.extend({_color:null,init:function(r){this._color=e.clone(r)},toHexString:function(){return"#"+[this._color.r,this._color.g,this._color.b].map(function(r){return 1===(r=(r=parseInt(r,10)).toString(16)).length?"0"+r:r}).join("")},toRGBString:function(){var r=this._color,a=r.alpha<1;return"rgb"+(a?"a":"")+"("+r.r+", "+r.g+", "+r.b+(a?", "+r.alpha:"")+")"},toHSLString:function(){var r=this._color,a=r.alpha<1;return"hsl"+(a?"a":"")+"("+r.h+", "+r.s+"%, "+r.l+(a?"%, "+r.alpha:"%")+")"},toObject:function(){return e.clone(this._color)},cloneWith:function(r){var a=Object.assign(this.toObject(),r);return e.owns(r,"h")||e.owns(r,"s")||e.owns(r,"l")?l.fromHSL(a.h,a.s,a.l,a.alpha):e.owns(r,"r")||e.owns(r,"g")||e.owns(r,"b")?l.fromRGB(a.r,a.g,a.b,a.alpha):new l(a)}});return l.fromRGB=function(r,a,t,n){var o={r:parseInt(r,10),g:parseInt(a,10),b:parseInt(t,10),alpha:void 0===n?1:parseFloat(n,10)};return Object.assign(o,i(o)),new l(o)},l.fromHSL=function(r,a,t,n){var o={h:parseInt(r,10),s:parseFloat(a,10),l:parseFloat(t,10),alpha:void 0===n?1:parseFloat(n,10)};return Object.assign(o,s(o)),new l(o)},l.parse=function(r){"transparent"===r&&(r="rgba(0, 0, 0, 0)");var a={},t=r.test(/^(#?)((?:[A-Fa-f0-9]{3}){1,2})$/m),n=r.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/m);if(t)return(a=h(r)).alpha=1,Object.assign(a,i(a)),new l(a);if(n&&0<n.length){var o;n.shift();var s=n[0],e=n[5]?parseFloat(n[5],10):1;return"rgb"===s?o=l.fromRGB:"hsl"===s&&(o=l.fromHSL),o(n[2],n[3],n[4],e)}},l.checkContrast=function(r,a){var t,n=f(r.toObject(),a.toObject());return 0<=n.max&&n.min<3?t="fail":3<=n.max&&n.min<4.5?t="aa-large":4.5<=n.max&&n.min<7?t="aa":7<=n.max&&n.min<22&&(t="aaa"),{ratio:n.ratio,status:t}},l.__test__={hexToRgb:h,rgbToHsl:i,hslToRgb:s,layerColors:g,getLuminance:p,getContrast:f},e.namespace("Color",l,e)});

define("UWA/Fx",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Class/Timed","UWA/Element","UWA/Color"],function(o,c,t,n,r,e,s,f){"use strict";function h(t){return-1!==["borderColor","backgroundColor","color"].indexOf(c.camelCase(t))}function l(t){var n=Number(t);return isNaN(n)&&(n=parseInt(t,10)),isNaN(n)?0:n}var p=t.extend(n,e,r,{defaultOptions:{transition:"linear",duration:500,unit:"px",wait:!1},element:null,from:null,to:null,current:null,init:function(t,n){var r=this;r.element=t,r.from={},r.to={},r.queue=[],r.setOptions(n)},tween:function(t,n,r){var e={};return e[t]=[n,r],this.start(e)},fade:function(t){t=void 0!==t?t:"toggle";var n="opacity",r=s.getOpacity.call(this.element),e={opacity:[]};switch(t){case"in":e[n]=[r,1];break;case"out":e[n]=[r,0];break;case"show":e[n]=[1,1];break;case"hide":e[n]=[0,0];break;case"toggle":e[n]=r<1?[r,1]:[r,0];break;default:e[n]=[r,t]}return this.start(e)},start:function(t){var n=this;return n.options.wait&&n.hasAnimate("fx")?n.queue.push(t):(n.stop(),n.setSteps(t),n.dispatchEvent("onStart"),n.startTime=Date.now(),n.current={},n.animate()),n},pause:function(){return this.clearAnimate("fx"),this},stop:function(){var t=this;return t.pause(),t.from={},t.to={},t},setSteps:function(t){var n,r=this,e={},u={};for(n in t)if(t.hasOwnProperty(n))if(n=c.camelCase(n),Array.isArray(t[n])?(e[n]=t[n][0],u[n]=t[n][1]):(e[n]=s.getStyle.call(r.element,n),u[n]=t[n]),h(n)){var a=f.parse(e[n]).toObject(),i=f.parse(u[n]).toObject();e[n]=[a.r,a.g,a.b,a.alpha],u[n]=[i.r,i.g,i.b,i.alpha]}else e[n]=l(e[n]),u[n]=l(u[n]);r.from=e,r.to=u},compute:function(t,n){var r,e=this.options,u=e.transition,a=e.duration,i=o.typeOf(u);if("string"===i){if(!o.is(p.Transitions[u],"function"))throw new Error("Invalid UWA.FX transition option value.");u=p.Transitions[u]}else if("array"===i)u=p.Transitions.cubicBezier.apply(null,u);else if("function"!==i)throw new Error("Invalid UWA.FX transition option value.");if(r=0<a&&t!==n?u(this.currentTime,t,n-t,a):n,isNaN(r))throw new Error(c.format('Invalid UWA.FX transition computation value with from "{0}" to "{1}".',t,n));return r},animate:function(){var t,n=this,r=Date.now(),e=n.options.duration,u=n.startTime;r<u+e?n.currentTime=r-u:(n.currentTime=e,t=!0),n.dispatchEvent("onAnimate",[n.element,n.from,n.to]),t?(n.stop(),n.dispatchEvent("onComplete"),0<n.queue.length&&n.start(n.queue.shift()),n.lastTime=null):n.setAnimate("fx",n.animate),n.fps=1e3/(r-(n.lastTime||r)),n.lastTime=r},onAnimate:function(t,n,r){var e,u,a=this,i={};for(e in n)n.hasOwnProperty(e)&&(u=h(e)?"rgba("+Math.round(a.compute(n[e][0],r[e][0]))+","+Math.round(a.compute(n[e][1],r[e][1]))+","+Math.round(a.compute(n[e][2],r[e][2]))+","+a.compute(n[e][3],r[e][3])+")":a.compute(n[e],r[e]),a.current[e]!==u&&(i[e]=u));a.current=i,s.setStyles.call(t,i)}});function b(t,n){return((n.ax*t+n.bx)*t+n.cx)*t}function m(t,n,r){return function(t,n){return((n.ay*t+n.by)*t+n.cy)*t}(function(t,n,r){var e,u,a,i,o,c,s,f,h;for(i=t,e=0;e<8;e++){if(o=b(i,n)-t,Math.abs(o)<r)return i;if(f=i,c=(3*(h=n).ax*f+2*h.bx)*f+h.cx,Math.abs(c)<r)break;i-=o/c}if(a=1,(i=t)<(u=0))s=u;else if(a<i)s=a;else{for(;u<a;){if(o=b(i,n),Math.abs(o-t)<r)return i;o<t?u=i:a=i,i=.5*(a-u)+u}s=i}return s}(t,n,r),n)}return p.Transitions={linear:function(t,n,r,e){return r*t/e+n},quadIn:function(t,n,r,e){return r*(t/=e)*t+n},quadOut:function(t,n,r,e){return-r*(t/=e)*(t-2)+n},quadInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},cubicIn:function(t,n,r,e){return r*(t/=e)*t*t+n},cubicOut:function(t,n,r,e){return r*((t=t/e-1)*t*t+1)+n},cubicInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},quartIn:function(t,n,r,e){return r*(t/=e)*t*t*t+n},quartOut:function(t,n,r,e){return-r*((t=t/e-1)*t*t*t-1)+n},quartInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},quintIn:function(t,n,r,e){return r*(t/=e)*t*t*t*t+n},quintOut:function(t,n,r,e){return r*((t=t/e-1)*t*t*t*t+1)+n},quintInOut:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},sineIn:function(t,n,r,e){return-r*Math.cos(t/e*(Math.PI/2))+r+n},sineOut:function(t,n,r,e){return r*Math.sin(t/e*(Math.PI/2))+n},sineInOut:function(t,n,r,e){return-r/2*(Math.cos(Math.PI*t/e)-1)+n},expoIn:function(t,n,r,e){return 0===t?n:r*Math.pow(2,10*(t/e-1))+n},expoOut:function(t,n,r,e){return t===e?n+r:r*(1-Math.pow(2,-10*t/e))+n},expoInOut:function(t,n,r,e){return 0===t?n:t===e?n+r:(t/=e/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},circIn:function(t,n,r,e){return-r*(Math.sqrt(1-(t/=e)*t)-1)+n},circOut:function(t,n,r,e){return r*Math.sqrt(1-(t=t/e-1)*t)+n},circInOut:function(t,n,r,e){return(t/=e/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},backIn:function(t,n,r,e,u){return r*(t/=e)*t*(((u=u||1.70158)+1)*t-u)+n},backOut:function(t,n,r,e,u){return r*((t=t/e-1)*t*(((u=u||1.70158)+1)*t+u)+1)+n},backInOut:function(t,n,r,e,u){return u=u||1.70158,(t/=e/2)<1?r/2*(t*t*((1+(u*=1.525))*t-u))+n:r/2*((t-=2)*t*((1+(u*=1.525))*t+u)+2)+n},elasticIn:function(t,n,r,e,u,a){var i;return 0===t?n:1==(t/=e)?n+r:(a=a||.3*e,i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),-u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)+n)},elasticOut:function(t,n,r,e,u,a){var i;return 0===t?n:1==(t/=e)?n+r:(a=a||.3*e,i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),u*Math.pow(2,-10*t)*Math.sin((t*e-i)*(2*Math.PI)/a)+r+n)},elasticInOut:function(t,n,r,e,u,a){var i;return 0===t?n:2==(t/=e/2)?n+r:(a=a||e*(.3*1.5),i=(u=u||1)<Math.abs(r)?(u=r,a/4):a/(2*Math.PI)*Math.asin(r/u),t<1?u*Math.pow(2,10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)*-.5+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*e-i)*(2*Math.PI)/a)*.5+r+n)},bounceIn:function(t,n,r,e){return r-p.Transitions.bounceOut(e-t,0,r,e)+n},bounceOut:function(t,n,r,e){return(t/=e)<1/2.75?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},bounceInOut:function(t,n,r,e){var u=p.Transitions;return t<e/2?.5*u.bounceIn(2*t,0,r,e)+n:.5*u.bounceOut(2*t-e,0,r,e)+.5*r+n},quinticBezier:function(t,n,r,e,u,a){var i=a-t,s=function(t,n,r,e,u,a){var i=5*(n-t),o=10*(r-t)-4*i,c=10*(e-t)+30*(n-r),s=5*(u+t)-20*(e+n)+30*r;return{a:a-t-s-c-o-i,b:s,c:c,d:o,e:i}}(t,(n-t)/i,(r-t)/i,(e-t)/i,(u-t)/i,i);return function(t,n,r,e){var u,a,i=t/e,o=i*i,c=o*t;return s.a||s.c?a=s.b||s.d?(u=o)*i:c:(s.b||s.d)&&(u=c),n+r*(s.a*o+s.b*o+s.c*a+s.d*u+s.e*i)}},cubicBezier:function(t,n,r,e){var o=function(t,n,r,e){var u=3*t,a=3*(r-t)-u,i=3*n,o=3*(e-n)-i;return{ax:1-u-a,bx:a,cx:u,ay:1-i-o,by:o,cy:i}}(t,n,r,e);return function(t,n,r,e){var u=t/e,a=function(t){return 1e3/60/t/4}(e),i=m(u,o,a);return n*(1-i)+(n+r)*i}}},o.namespace("Fx",p,o)});

define("UWA/Plugins/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(n,t,e){"use strict";var i=t.extend(e,{init:function(n,t){this.widget=n,this.environment=n.environment,this.setOptions(t)},dispatchEvent:function(n,t,e){this.environment.dispatchEvent(n,t,e)},addEvent:function(n,t,e,i){this.environment.addEvent(n,t,e||this,i)},addEvents:function(n,t,e){var i;for(i in n)n.hasOwnProperty(i)&&this.addEvent(i,n[i],t,e)},removeEvent:function(n,t){this.environment.removeEvent(n,t)}});return n.namespace("Plugins/Abstract",i,n)});

define("UWA/Controls/Abstract",["vendors/webcomponents/MutationObserver","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(r,t,e,n,o,i){"use strict";var s=[].forEach,a=new WeakMap,l=new WeakMap;function c(t,e){var n,o;for(n=0,o=t.length;n<o;n++){var r=t[n];if(1===r.nodeType){var i,s;e(r);var a=r.getElementsByTagName("*");for(i=0,s=a.length;i<s;i++)e(a[i])}}}function h(t){var e,n;try{n=(e=t&&(t.ownerDocument||t.document||t))&&e.documentElement}catch(t){}if(n&&!l.has(n)){var o=new r(function(t){function n(t,e,n){var o=a.get(t);o?o.dispatchEvent(e?"onInjected":"onRemoved",n):"IFRAME"===t.tagName&&h(t.contentWindow)}s.call(t,function(t){var e={nextSibling:t.nextSibling||null,previousSibling:t.previousSibling||null,parentNode:t.target};c(t.addedNodes,function(t){n(t,!0,e)}),c(t.removedNodes,function(t){n(t,!1,e)})})});l.set(n,o),o.observe(n,{childList:!0,subtree:!0})}}h(t.getGlobal());var u=e.extend(n,o,{elements:null,init:function(t){this.elements={},this.setOptions(t)},inject:function(t,e){var n=this.getContent();if(n){var o=a.get(n);if(o&&o!==this)throw new Error("This control container element is already owned by another control!");a.set(n,this),h(t),this.dispatchEvent("onPreInject",[t]),n.inject(t,e),this.dispatchEvent("onPostInject",[t]),this.dispatchEvent("onResize",[t])}return this},remove:function(){var t=this.getContent();return t&&t.remove(),this},getContent:function(){if(!this.elements.container&&!this.container)throw new Error("You don't have an elements.container or container.");return this.elements.container||this.container},getClassNames:function(){var t=this.constructor,e=i.toArray(arguments),n=this.options.className||"",o=i.splat(n).join(" ");for(e.length||(e=[""]),0<=e.indexOf("")&&!1!==this.options._root&&e.push("-root");t;)t.prototype.name&&(o+=" "+t.prototype.name+e.join(" "+t.prototype.name)),t=t.parent;return o},hide:function(){return this.getContent().hide(),this.dispatchEvent("onHide")},show:function(){return this.getContent().show(),this.dispatchEvent("onShow")},destroy:function(){var t,e=this.elements||{};for(t in this.container&&(e.container=this.container),this.elements.container&&a.delete(this.elements.container),e)e.hasOwnProperty(t)&&(e[t].destroy(),delete e[t]);this.removeEvents(),this.clearAllTimed&&this.clearAllTimed()}}),d=new WeakMap;return u._getClosestControlFromElement=function(t){for(;t;){var e=d.get(t);if(e)return e;t=t.parentNode}return null},u._getClosestControlsFromElement=function(t){for(var e=[];t;){var n=d.get(t);n&&e.indexOf(n)<0&&e.push(n),t=t.parentNode}return e},u._linkElementToControl=function(t,e){var n=d.get(e);if(n){if(n!==t)throw new Error("This element is already linked to another control")}else d.set(e,t)},t.namespace("Controls/Abstract",u,t)});

define("UWA/Controls/Pager",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(g,l,e){"use strict";var t=e.extend({offset:0,limit:0,max:0,length:0,loadingData:!1,defaultOptions:{className:"uwa-pager nv-pager",type:0,showPageLinks:!1,showMoreLink:!1,pageLinks:5,length:0,offset:0,limit:10,max:0,loadNext:null,prevLabel:"prev",nextLabel:"next",moreLabel:"more"},init:function(e){this._parent(e),e=this.options,this.offset=parseInt(e.offset,10),this.limit=parseInt(e.limit,10),this.max=parseInt(e.max,10),this.length=parseInt(e.length,10),this.buildSkeleton()},setOptions:function(e){return this._parent(e),(e=this.options).dataLength?e.length=e.dataLength:e.dataArray&&(e.length=e.dataArray.length),e.onChange&&this.addEvent("onOffsetChange",e.onChange),e.onMoreClick&&this.addEvent("onMoreClick",e.onMoreClick),(e.showPageLinks||e.pageLinks&&!e.type)&&(this.type=1),this},setLength:function(e){this.length=parseInt(e,10),this.setOffset(this.offset)},setOffset:function(e){var t=this,n=t.offset;return e=e<0?0:e,t.offset=Math.min(parseInt(e,10),t.max||t.length),n!==t.offset&&t.dispatchEvent("onOffsetChange",[t.offset]),t},setLimit:function(e){return this.limit=parseInt(e,10),this},getPageOffset:function(e){return Math.ceil((parseInt(e,10)||this.offset)/this.limit)},getPages:function(){return Math.ceil((this.max||this.length||1)/this.limit)},isLastPage:function(){var e=this,t=!e.max||e.length>=e.max,n=e.offset+e.limit>=e.length;return t&&n},buildSkeleton:function(){this.elements.container=g.createElement("div",{class:this.options.className}),this.dispatchEvent("onRefresh")},buildPageInfos:function(){var e=this.elements;e.pageInfos=g.createElement("span",{class:"pageInfos",html:g.createElement("span",{text:this.getPageOffset()+1+" / "+this.getPages()})}).inject(e.subContainer)},buildPageLinks:function(){var e,t,n=this.elements,i=this.options,s=this.injectPageLink.bind(this),a=this.injectPageSeparator.bind(this),o=i.pageLinks,l=this.getPages(),r=this.getPageOffset(),h=0,c=Math.round(o/2),f=c<=r&&o<=l?r-c+1:0;if(n.pageContainer=g.createElement("span",{class:"pageLinks"}),f<l)for(e=f;e<l&&h<o;e++)1<=f&&0===h&&(s(h),1<e&&a()),t=s(e),e===r&&t.addClassName("selected"),e<l-1&&h===o-1&&(e<l-2&&a(),s(l-1)),h++;n.pageContainer.inject(n.subContainer)},injectPageLink:function(e){var t=parseInt(e+1,10);return g.createElement("a",{class:"pageLink",href:"#page_"+t,text:t,events:{click:this.dispatchAsEventListener("onPageClick",e)}}).inject(this.elements.pageContainer)},injectPageSeparator:function(){return g.createElement("span",{class:"comas",text:" ... "}).inject(this.elements.pageContainer)},onRefresh:function(){var e=this.elements,t=this.options,n=this.isLastPage();e.container.empty(),e.subContainer=g.createElement("div"),e.prev=g.createElement("a",{class:"prev"+(0===this.offset?" disabled":""),href:"#prev",html:g.createElement("span",{text:g.i18n(t.prevLabel)}),events:{click:this.dispatchAsEventListener("onPrevClick")}}).inject(e.subContainer),n&&(t.showMoreLink||t.moreLink)?e.next=g.createElement("a",{class:"more",href:t.moreLink||"#more",html:g.createElement("span",{text:g.i18n(t.moreLabel)}),events:{click:this.dispatchAsEventListener("onMoreClick")}}).inject(e.subContainer):e.next=g.createElement("a",{class:"next"+(n?" disabled":""),href:"#next",html:g.createElement("span",{text:g.i18n(t.nextLabel)}),events:{click:this.dispatchAsEventListener("onNextClick")}}).inject(e.subContainer),1===t.type?this.buildPageLinks():2===t.type&&this.buildPageInfos(),e.subContainer.inject(e.container)},onOffsetChange:function(e){this.offset=e,this.dispatchEvent("onRefresh"),this.dispatchEvent("onChange",[e])},onPageClick:function(e,t){g.Event.preventDefault(e),this.loadingData||this.setOffset(this.limit*t)},onPrevClick:function(e){l.preventDefault(e);var t=l.findElement(e,"a");this.loadingData||t.hasClassName("disabled")||this.setOffset(this.offset-this.limit)},onNextClick:function(e){l.preventDefault(e);var n=this,t=n.options.loadNext,i=l.findElement(e,"a"),s=n.offset+n.limit,a=s+n.limit<=n.length;function o(){n.setOffset(s)}n.loadingData||n.isLastPage()||i.hasClassName("disabled")||(!t&&n.onNeedMoreData&&(t=function(e,t){n.onNeedMoreData(e),setTimeout(t.bind(null,null),6e4)}),!a&&t?(n.dispatchEvent("onLoadingStart"),t(n.length,function(e){e&&(n.length=e),o(),n.dispatchEvent("onLoadingEnd")})):o())},onMoreClick:function(){},onLoadingStart:function(){this.loadingData=!0,this.elements.subContainer.addClassName("loading")},onLoadingEnd:function(){this.loadingData=!1,this.elements.subContainer.removeClassName("loading")}});return g.namespace("Controls/Pager",t,g)});

define("UWA/Controls/Img",["UWA/Core","UWA/Controls/Abstract"],function(i,e){"use strict";var t=e.extend({defaultOptions:{className:"uwa-img",url:null,height:null,width:null},init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var e=this.options,t=this.elements;t.container=i.createElement("div",{class:e.className,styles:{width:e.width+"px",height:e.height+"px"}}),(t.image=i.createElement("img",{src:e.url,width:"100%",height:"100%",events:{error:this.dispatchAsEventListener("onError"),load:this.dispatchAsEventListener("onLoad"),resize:this.dispatchAsEventListener("onResize")}})).inject(t.container)}});return i.namespace("Controls/Img",t,i)});

define("UWA/Utils/Scroll",["vendors/webcomponents/WeakMap","UWA/Core","UWA/Element","UWA/Fx","UWA/Event"],function(e,n,u,t,c){"use strict";function r(e){return"body"===u.getTagName.call(e)}function s(e,t){for(;e&&1===e.nodeType&&(o=e,l=t,void 0,n=u.getStyle.call(o,l?"overflow-"+l:"overflow"),!r(o)&&"scroll"!==n&&"auto"!==n);)e=e.parentNode;var o,l,n;return e}function o(e,t){return s(e&&e.parentNode,t)}function g(e){r(e)&&(e=u.getWindow.call(e));var t=u.getScrolls.call(e);return n.owns(t,"x")&&(t.left=t.x,t.top=t.y),t}function h(e,t){r(e)&&(e=u.getWindow.call(e));var o=g(e);n.is(t.left)||(t.left=o.left),n.is(t.top)||(t.top=o.top),n.is(e,"window")?e.scrollTo(t.left,t.top):(e.scrollTop=t.top,e.scrollLeft=t.left)}var i=t.extend({setSteps:function(e){var t,o={},l={},n=g(this.element);for(t in e)Array.isArray(e[t])?(o[t]=e[t][0],l[t]=e[t][1]):(o[t]=n[t],l[t]=e[t]);this.from=o,this.to=l},onAnimate:function(e,t,o){var l,n={};for(l in t)n[l]=this.compute(t[l],o[l]);h(e,n)}}),a=new e;function l(e,t,o){o=n.extend({onComplete:null},o);var l=a.get(e);l&&(l.stop(),l.dispatchEvent("onComplete")),l=new i(e,{transition:"sineOut",duration:l?100:200,events:{onComplete:function(){a.delete(e),o.onComplete&&o.onComplete()}}}),a.set(e,l),l.start(t)}return n.namespace("Utils/Scroll",{scrollToElement:function(e,i){var a=(i=n.extend({top:!1,bottom:!1,margin:0,scrollable:null,smooth:!1,onComplete:null},i)).scrollable||o(e);if(a){var c=r(a),s=c?u.getSize.call(u.getWindow.call(e)):{width:a.clientWidth,height:a.clientHeight},f=u.getSize.call(e),t=u.getOffsets.call(e),p={top:t.y,left:t.x,bottom:0,right:0},m=g(a);[0,1].forEach(function(e){var t=e?"top":"left",o=e?"bottom":"right",l=e?"height":"width";p[t]-=c?m[t]:u.getOffsets.call(a)[e?"y":"x"],p[t]-=i.margin,p[o]=s[l]-p[t]-f[l]-2*i.margin;var n=p[t]<0||p[o]<0&&p[o]<-p[t],r=p[o]<0;i[o]||!n&&!i[t]?(i[o]||r)&&(m[t]-=p[o]):m[t]+=p[t]}),i.smooth?l(a,m,{onComplete:i.onComplete}):(h(a,m),i.onComplete&&i.onComplete())}},smoothScroll:l,preventParentScroll:function(e,t){var o=function(e,t){var o=s(c.getElement(t)),l=!1;if(this.isInjected(o))l=!0;else{var n=o.scrollHeight,r=o.clientHeight,i=o.scrollTop,a=c.wheelDelta(t);(r!==n||e&&!1===e.onlyScrollable)&&(a<0&&!(i+r<n)||0<a&&!(0<i))&&(l=!0)}l&&c.stop(t)}.bind(e,t);return u.addEvent.call(e,"mousewheel",o),function(){u.removeEvent.call(e,"mousewheel",o)}},getClosestScrollable:s,getParentScrollable:o},n)});

define("UWA/Controls/DropDown",["UWA/Core","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Utils/Client","UWA/Utils/Scroll"],function(n,s,i,l,t,e){"use strict";var o,a=t.Features.eventCapture;function r(t){return n.is(t,"function")?t():t}return(o=l.extend({name:"uwa-dropdown",defaultOptions:{position:{},positionOptions:{boundary:"auto"},global:!1},init:function(t){this._parent(t),this.clickOutsideEvent=function(t){var e=t&&s.getElement(t),n=this.elements.container,i=e.isInjected(n),o=l._getClosestControlsFromElement(e).some(function(t){return t.getContent().isInjected(n)});i||o||this.dispatchEvent("onClickOutside",[t])}.bind(this)},destroy:function(){this.hide(),this._parent()},getContent:function(){var t=this.elements;return t.container||(t.container=n.createElement("div",{class:this.getClassNames()+(this.options.global?" global":""),events:{click:this.dispatchEvent.bind(this,"onClick"),mouseleave:this.dispatchEvent.bind(this,"onMouseLeave")}}),this.options.global?(t.bacon=n.createElement("div",{class:this.getClassNames("-bacon")}).hide(),this._scrollPrevention=function(t){var e=s.getElement(t),n=this.getInnerElement();n===e||e.isInjected(n)||s.preventDefault(t)}.bind(this),e.preventParentScroll(t.container,{onlyScrollable:!1})):t.container.hide(),l._linkElementToControl(this,t.container),a||(t.capture=n.createElement("div",{styles:{width:"100%",height:"100%",position:"absolute",zIndex:1e3,top:0,left:0},events:{click:this.clickOutsideEvent}}))),t.bacon||t.container},onClick:function(t){s.stopPropagation(t),this.hide()},onPostInject:function(){this.updatePosition()},onShow:function(){this.options.global&&(this.elements.container.inject(document.body),i.addEvent.call(document.body,"mousewheel",this._scrollPrevention,null,!0)),this.updatePosition(),this.hasEvent("onClickOutside")&&(a?i.addEvent.call(document,"click",this.clickOutsideEvent,null,0,!0):this.elements.capture.inject(document.body))},onHide:function(){this.options.global&&(this.elements.container.remove(),i.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)),a?i.removeEvent.call(document,"click",this.clickOutsideEvent,!0):this.elements.capture.remove()},onRemoved:function(){var t=this.elements,e=t.bacon||t.container;e&&e.hide(),this.options.global&&t.container&&t.container.remove(),this._scrollPrevention&&i.removeEvent.call(document.body,"mousewheel",this._scrollPrevention,!0)},isOpen:function(){return!!this.elements.container&&"none"!==this.getContent().getStyle("display")},toggle:function(t){return n.is(t)||(t=!this.isOpen()),this[t?"show":"hide"](),this},setPosition:function(t,e){return n.extend(this.options,{position:t,positionOptions:e||{}},!0),this.updatePosition()},updatePosition:function(){return this.isOpen()&&(this.dispatchEvent("onPreUpdatePosition"),this.elements.container.setPosition(r(this.options.position),r(this.options.positionOptions))),this},getInnerElement:function(){return this.getContent(),this.elements.container}})).Pointy=o.extend({name:"uwa-pointydropdown",defaultOptions:{autoPosition:["below-center","right-center","left-center","above-center"],margin:12},updatePosition:function(){this.dispatchEvent("onPreUpdatePosition");var o,s,t,e,l=this.options,a=l.margin;return o=l.target?l.target.getDimensions():{width:0,height:0},s=this.elements.container.getDimensions(),t=l.autoPosition.map(function(t){var e=(t=t.split("-"))[0],n=t[1]||"center",i={x:0,y:0};return i.place=e,i.align=n,"below"===e?i.y=o.height+a:"above"===e?i.y=-s.outerHeight-a:"center"===n?i.y=o.height/2-s.outerHeight/2:"end"===n&&(i.y=Math.max(o.height,30)-s.outerHeight),"left"===e?i.x=-s.outerWidth-a:"right"===e?i.x=o.width+a:"center"===n?i.x=o.width/2-s.outerWidth/2:"end"===n&&(i.x=Math.max(o.width,30)-s.outerWidth),l.target||(i.x+=l.position.x||0,i.y+=l.position.y||0,"center"!==n&&("right"!==e&&"left"!==e||(i.y-=15),"above"!==e&&"below"!==e||(i.x-=15))),i}),this.isOpen()&&((e=this.elements.container).setPosition(t,n.merge({relative:l.target},this.options.positionOptions)),t=t[0],this._containerClassName&&e.removeClassName(this._containerClassName),this._containerClassName=t.place+" "+t.align,e.addClassName(this._containerClassName),this.updatePointPosition(t.place)),this},updatePointPosition:function(t){var e=this.options.target,n=this.elements.container,i=n.getSize(),o=n.getOffsets(),s=e?e.getSize():{height:0,width:0},l=e?e.getOffsets():this.options.position,a={bottom:null,left:null,right:null,top:null};l.x-=o.x,l.y-=o.y,"below"===t||"above"===t?(a.left=l.x+s.width/2,(a.left<10||a.left>i.width-10)&&(a.left=i.width/2),"below"===t?a.top=0:a.bottom=0):(a.top=l.y+s.height/2,(a.top<10||a.top>i.height-10)&&(a.top=i.height/2),"right"===t?a.left=0:a.right=0),this.elements.point.setStyles(a).setText({above:"j",below:"k",left:"m",right:"l"}[t]||" ").toggleClassName("side","left"===t||"right"===t)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var t=this.elements,e=this._parent();return t.inner||t.container.setContent(t.inner=n.createElement("div",{class:this.getClassNames("-inner")}),t.point=n.createElement("div",{class:this.getClassNames("-point")})),e}}),n.namespace("Controls/DropDown",o,n)});

define("UWA/Controls/Drag",["UWA/Internal/Deprecate","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Utils","UWA/Utils/Client","UWA/Element","UWA/Event"],function(o,n,t,e,s,i,C,h){"use strict";function a(){}var r,l=i.Features.eventCapture;function c(t){return t.type.startsWith("touch")}function d(t,e){var i,s=t.offsetParent;s&&1===s.nodeType?((i=C.getOffsets.call(s)).y+=parseInt(C.getStyle.call(s,"border-top-width"),10)||0,i.x+=parseInt(C.getStyle.call(s,"border-left-width"),10)||0):i={x:0,y:0},t.setStyles({top:e.y-i.y+"px",left:e.x-i.x+"px"})}function p(t){for(var e,i=C.getComputedSize;t&&"inline"===C.getStyle.call(t,"display");)t=t.getParent();return t?((e=C.getOffsets.call(t)).maxX=e.x+t.offsetWidth-i.call(t,"border-right-width","padding-right"),e.maxY=e.y+t.offsetHeight-i.call(t,"border-bottom-width","padding-bottom"),e.x+=i.call(t,"border-left-width","padding-left"),e.y+=i.call(t,"border-top-width","padding-top")):e={x:0,y:0,maxX:0,maxY:0},e}return(r=t.extend(e,{defaultOptions:{mouseSnap:10,mouseDelay:0,touchSnap:20,touchDelay:300,delegate:"*",document:document},init:function(t){this.setOptions(t),void 0!==this.options.snap&&(o.warn("Controls/Drag snap option","Use the mouseSnap and touchSnap options instead."),this.options.mouseSnap=this.options.touchSnap=this.options.snap),void 0!==this.options.delay&&(o.warn("Controls/Drag delay option","Use the mouseDelay and touchDelay options instead."),this.options.mouseDelay=this.options.touchDelay=this.options.delay);var e=this.onMove.bind(this),i=this.onStop.bind(this),s=this.onStart.bind(this);this.documentEvents={touchmove:e,mousemove:e,touchend:i,mouseup:i,touchcancel:i},this.elementEvents={touchstart:s,mousedown:s},this.attach()},setOptions:function(t){return this._parent(t),t=this.options,this.root=n.extendElement(t.root||document.body),this.element=n.extendElement(t.element||this.root),this.document=t.document,l||(this.clickDiscarder||(this.clickDiscarder=n.createElement("div",{styles:{position:"absolute",height:"1px",width:"1px"}})),this.clickDiscarder.inject(this.root)),this},destroy:function(){this.detach(),l||this.clickDiscarder.destroy()},attach:function(){return C.addEvents.call(this.element,this.elementEvents),this},detach:function(){return this.reset(),C.removeEvents.call(this.element,this.elementEvents),this},start:a,move:l?a:function(t){d(this.clickDiscarder,t)},snap:function(t){l||(d(this.clickDiscarder,t),this.clickDiscarder.show());var e=n.Controls&&n.Controls.Scroller;(e=e&&e.activeScroller)&&e.onScrollStop(this.currentEvent)},stop:a,cancel:a,reset:function(){clearTimeout(this.startTimeout),l?this.snapped&&(this.document.addEventListener("click",h.stopPropagation,!0),setTimeout(function(){this.document.removeEventListener("click",h.stopPropagation,!0)}.bind(this),300)):this.clickDiscarder.hide(),this.snapped=!1,this.startOrigin=this.currentDelta=this.currentEvent=this.target=null,C.removeEvents.call(this.document,this.documentEvents)},onStart:function(t){var e=h.getElement(t);if((t.which||t.button||0)<2&&!this.target&&C.match.call(e,this.options.delegate,this.root)&&(this.currentEvent=t,this.target=e,this.startOrigin=h.getPosition(t),this.start(this.startOrigin),this.target)){C.addEvents.call(this.document,this.documentEvents);var i=c(t)?this.options.touchDelay:this.options.mouseDelay;i&&(this.startTimeout=setTimeout(this.onMove.bind(this,!1),i)),c(t)||h.preventDefault(t)}},onMove:function(t){var e,i;t?(this.currentEvent=t,this.snapped&&h.preventDefault(t)):(t=this.currentEvent,i=!0);var s=h.getPosition(t);if(this.currentDelta=e={x:s.x-this.startOrigin.x,y:s.y-this.startOrigin.y,distance:0},e.distance=Math.sqrt(e.x*e.x+e.y*e.y),!this.snapped){var o=c(t)?this.options.touchSnap:this.options.mouseSnap,n=c(t)?this.options.touchDelay:this.options.mouseDelay;(n?i&&e.distance<=o:!o||e.distance>o)?(this.snapped=!0,this.snap(s,e)):n&&(this.cancel(),this.reset())}this.snapped&&this.move(s,e)},onStop:function(t){this.currentEvent=t,this.snapped?(this.stop(),h.stop(t)):this.cancel(),this.reset()}})).Move=r.extend({init:function(t){this._parent(t),this.refreshCache=this.refreshCache.bind(this)},setOptions:function(t){return t&&!t.root&&(t.root=t.container),this._parent(t)},start:function(t){this._parent(t),this.context=Object.create(this),!1!==this.call("start")&&!0!==this.call("fixed",this.target)||this.reset()},snap:function(t,e){this._parent(t,e);var i,s=this.options;this.handles=this.call("handles")||this.target,s.centerHandles&&d(this.handles,{x:t.x-this.handles.offsetWidth/2-e.x,y:t.y-this.handles.offsetHeight/2-e.y}),this.startPosition=C.getOffsets.call(this.handles),this.options.overlay&&(i=this.document.body||this.document,this.overlay=n.createElement("div",{styles:{position:"absolute",top:0,left:0,width:i.offsetWidth+"px",height:i.offsetHeight+"px"}}).inject(i)),this.refreshCache()},refreshCache:function(){var t=this.options;if(this.zones=t.zones?this.getList(t.zones):[this.root],this.positions=this.zones.map(function(t){var e=p(t);return e.element=t,e}),t.container&&this.handles){var e=p(t.container),i=C.getDimensions.call(this.handles);this.limit={x:[e.x,e.maxX-i.outerWidth],y:[e.y,e.maxY-i.outerHeight]}}else this.limit={x:[-1/0,1/0],y:[-1/0,1/0]}},reset:function(){this._parent(),this.zone=null,this.startPosition=null,this.overlay&&(this.overlay.destroy(),this.overlay=null)},stop:function(){this._parent(),this.zone&&!1!==this.call("drop")||(this.setPosition(this.startOrigin,{x:0,y:0}),this.call("cancel")),this.call("stop")},move:function(t,e){var i,s,o,n;for(this._parent(t,e),this.setPosition(t,e),i=0,s=this.positions.length;i<s;i+=1)(n=this.positions[i]).x<=t.x&&t.x<=n.maxX&&n.y<=t.y&&t.y<=n.maxY&&(o=n.element);this.zone!==o&&(this.zone&&(this.call("leave"),this.placeholder&&(this.placeholder.remove(),this.placeholder=null,this.refreshCache())),(this.zone=o)&&(this.placeholder=this.call("enter"),this.refreshPlaceholderCache())),this.zone&&this.placeholder&&this.placePlaceholder(),this.call("move")},setPosition:function(t,e){var i,s,o,n,h=this.limited={},a={};for(s=0;s<2;s+=1)o=s?"x":"y",i=this.limit[o],a[o]=this.startPosition[o]+e[o],n=0,i[1]<a[o]?(n=i[1]-a[o],h[s?"right":"bottom"]=n):i[0]>a[o]&&(n=i[0]-a[o],h[s?"left":"top"]=n),n&&(t[o]+=n,a[o]+=n,e[o]+=n);d(this.handles,a)},getList:function(t){var e=n.typeOf(t);return"array"===e?t:"function"===e?t.apply(this,Array.prototype.slice.call(arguments,1)):this.root.getElements(t)},call:function(t,e){var i=this.options[t];if(i)return s.attempt(i,0,null,this.context,e)},refreshPlaceholderCache:function(){var t,e,i,s=(this.zone||this.root).childNodes,o=[];for(e=0,i=s.length;e<i;e+=1)1===(t=s[e]).nodeType&&t!==this.handles&&t!==this.placeholder&&(t.offsetHeight||t.offsetWidth)&&this.clickDiscarder!==t&&!0!==this.call("fixed",t)&&(o[o.length]={element:t,position:C.getOffsets.call(t)});this.placeholderCache=o},placePlaceholder:function(){for(var t,e,i,s,o,n,h,a,r,l,c,d,p,u="offsetWidth",f="offsetHeight",m=this.context.handles,v=this.context.placeholder,y=this.context.limited,g=this.zone||this.root,x=this.target,D=this.placeholderCache;x&&x.parentNode!==g;)x=x.parentNode;for(t=C.getOffsets.call(m),r={x:y.left?-1/0:y.right?1/0:t.x+m[u]/2,y:y.top?-1/0:y.bottom?1/0:t.y+m[f]/2},e=0,i=D.length;e<i;e+=1)t=(s=D[e]).position,(d=void 0===p||p>t.x)?c=void 0===p:l=!0,p=t.x+s.element[u],(d||t.x<=r.x)&&(c||t.y<=r.y)&&(o=e);void(n=0)!==o&&(t=(s=D[o]).position,n=(l?t.x+s.element[u]/2>r.x:t.y+s.element[f]/2>r.y)?o:o+1),h=D[n]&&D[n].element,a=D[n-1]&&D[n-1].element,x===m||!x||this.options.allowBesidePlaceholder||a!==x&&h!==x?(h?h!==v&&h.previousSibling!==v:a?a!==v&&a.nextSibling!==v:g.lastChild!==v)&&(h||a?v.inject(h||a,h?"before":"after"):v.inject(g),this.refreshPlaceholderCache(),this.refreshCache()):C.isInjected.call(v)&&(v.remove(),this.refreshPlaceholderCache(),this.refreshCache())}}),n.namespace("Controls/Drag",r,n)});

define("UWA/Controls/ThemedScroller",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Controls/Abstract","UWA/Controls/Drag","UWA/Class/Timed"],function(i,t,e,s,o,n){"use strict";var l=!1;function r(){if(!1!==l)return l;var t=i.createElement("div",{class:"uwa-themed-scroller-content no-native-scrollbars",styles:{width:"100px",height:"100px",position:"absolute",visibility:"hidden",top:"0",left:"0",overflow:"scroll"}});return document.body.appendChild(t),l=t.offsetWidth-t.clientWidth,document.body.removeChild(t),l}function a(t){t.event&&(t=t.event);var e,s=t.changedTouches||t.touches||[t],i={x:0,y:0},o=s.length;for(e=0;e<o;e++)i.x+=s[e].clientX/o,i.y+=s[e].clientY/o;return i}var c={delta:0,coef:1,active:!1,visible:!1,scrollSize:0,scrollPosition:0,offsetSize:0},h=o.extend({defaultOptions:{touchSnap:0,touchDelay:0},init:function(t,e){this._parent(e),this.scroller=t,this.direction=this.element.className.contains("scrollbar-y")?"y":"x"},_getInfos:function(){return this.scroller._infos[this.direction]},_getPosition:function(){var t=this.element.getBoundingClientRect()["y"===this.direction?"top":"left"];return a(this.currentEvent)[this.direction]-t},start:function(t){this._parent(t),this._getInfos().active=!0,this.scroller.update(),this.position=this._getPosition()},move:function(t,e){this._parent(t,e);var s=this._getInfos();s.delta=(this._getPosition()-this.position)*s.coef,s.active=!0,this.scroller.updateVisible()},stop:function(){this._parent(),this.scroller.updateActive(this.currentEvent)}}),d=s.extend(n,{name:"uwa-themed-scroller",options:{element:null,scrollbars:"auto",scrollbarsMargin:4,scrollbarsMinSize:50,shadows:!1},init:function(t){i.is(t)&&i.is(t.element)&&i.extendElement(t.element),this._parent(t),this._elementEvents={mousemove:this.updateActive.bind(this),mouseout:this.updateActive.bind(this)},"auto"===this.options.scrollbars&&(this.options.scrollbars=0===r()?"native":"virtual"),this._buildElements(),this._initElements(),this.initInfos()},initInfos:function(){this._infos={x:Object.create(c),y:Object.create(c)},this.setPeriodical("update",this.update,1e3),this.update()},destroy:function(){if(this.options.element){var t=this.elements.container;t.removeEvents(this._elementEvents).removeClassName(this.getClassNames()).setContent(this.elements.content.childNodes);var e=t.destroy;t.destroy=function(){},this._parent(),t.destroy=e}else this._parent()},onInjected:function(){this.initInfos()},_buildElements:function(){var t=this.options.element||i.createElement("div");this.elements.container=t,this.elements.content=i.createElement("div",{html:t.childNodes}).inject(t)},_initElements:function(){var t=this.elements.container,e=this.elements.content;t.addClassName(this.getClassNames()).addEvents(this._elementEvents);var s="native"===this.options.scrollbars,i=s?"native-scrollbars ":"no-native-scrollbars ";e.addClassName(i+this.getClassNames("-content")).addEvent("scroll",this.updateVisible.bind(this)),s||e.setStyles({right:-r(),bottom:-r()})},getInnerElement:function(){return this.elements.content},getScrollbar:function(t,e){var s=this.elements[t+"Scrollbar"];return!s&&e&&(s=this.elements[t+"Scrollbar"]=i.createElement("div",{class:this.getClassNames("-scrollbar","-scrollbar-"+t)}).inject(this.elements.container),new h(this,{element:s,root:this.elements.container}),s.clientHeight),s},getShadow:function(t,e){var s=this.elements[t+"Shadow"];return!s&&e&&(s=this.elements[t+"Shadow"]=i.createElement("div",{class:this.getClassNames("-shadow","-shadow-"+t)}).inject(this.elements.container)),s},showShadow:function(t,e){var s=this.getShadow(t,e);e?(100<e&&(e=100),s.setStyle("opacity",e/100).addClassName("active")):s&&s.removeClassName("active")},updateActive:function(t){if("virtual"===this.options.scrollbars){if("mouseout"===t.type||"touchend"===t.type)this._infos.x.active=this._infos.y.active=!1;else{var i=this.elements.container.getBoundingClientRect(),o=a(t);["x","y"].forEach(function(t,e){var s=i[e?"right":"bottom"];this._infos[t].active=n(s-12,o[e?"x":"y"],s)&&n(i[e?"top":"left"],o[t],i[e?"bottom":"right"])},this)}this.updateVisible()}function n(t,e,s){return t<e&&e<s}},updateVisible:function(){this._infos.x.visible=this._infos.y.visible=!0,this.setDelayed("scrollbars-visible",function(){this._infos.x.visible=this._infos.y.visible=!1,this.update()},1e3),this.update()},_read:function(t){var e=this._infos[t?"y":"x"],s=this.elements.content,i=r();e.scrollSize=s[t?"scrollHeight":"scrollWidth"],e.scrollPosition=s[t?"scrollTop":"scrollLeft"]+e.delta,e.offsetSize=s[t?"offsetHeight":"offsetWidth"]-i,e.scrollPosition<0?e.scrollPosition=0:e.scrollPosition>e.scrollSize-e.offsetSize&&(e.scrollPosition=e.scrollSize-e.offsetSize)},_write:function(t){var e=t?"y":"x",s=this._infos[e],i=this.options;if(s.delta&&(this.elements.content[t?"scrollTop":"scrollLeft"]=s.scrollPosition,s.delta=0),"virtual"===this.options.scrollbars){var o=s.scrollSize>s.offsetSize+1,n=this.getScrollbar(e,o);if(o&&s.scrollSize){var l=s.offsetSize-2*i.scrollbarsMargin,r=l*(s.offsetSize/s.scrollSize);r<i.scrollbarsMinSize&&(r=i.scrollbarsMinSize),s.coef=(s.scrollSize-s.offsetSize)/(l-r),n.style[t?"top":"left"]=i.scrollbarsMargin+s.scrollPosition/s.coef+"px",n.style[t?"height":"width"]=r+"px",n.toggleClassName("active",s.active).toggleClassName("visible",s.visible)}else n&&n.removeClassName("active").removeClassName("visible")}i.shadows&&s.offsetSize&&(this.showShadow(e+"-start",s.scrollPosition),this.showShadow(e+"-end",s.scrollSize-s.scrollPosition-s.offsetSize))},update:function(){this.setAnimate("update",function(){this._read(!1),this._read(!0),i.equals(this._previousInfos,this._infos)||(this._write(!1),this._write(!0),this._previousInfos=i.clone(this._infos))})}});return i.namespace("Controls/ThemedScroller",d,i)});

define("UWA/Controls/Input",["UWA/Core","UWA/Event","UWA/Element","UWA/Utils","UWA/Utils/Client","UWA/Utils/Scroll","UWA/Controls/Abstract","UWA/Controls/DropDown","UWA/Controls/ThemedScroller","UWA/Class/Timed"],function(l,c,o,a,r,t,e,n,s,i){"use strict";var u,h=e.extend({options:{className:"",element:null,attributes:{},value:"",clickable:!0,mixed:!1},name:"uwa-input",_hiddenInput:!0,init:function(e){if(this.constructor===h)throw new Error("Use a subclass of Input");this._parent(e);var t=e&&e.element,n=t&&t.parentNode,s=t&&t.nextSibling;n&&n.removeChild(t),this.events=null,this.getContent(),l.owns(e,"value")&&this.setValue(e.value),n&&this.inject(s||n,s&&"before")},buildSkeleton:function(){var e=this.elements;this._hiddenInput?(e.input=this.options.element||this.buildInput(),e.content=l.createElement("div",{class:this.getClassNames("-content")}),e.input.addClassName(this.getClassNames("-input")+" hidden-input"),e.container=(this.options.container||l.createElement("div")).addContent(e.input,e.content)):e.content=e.container=e.input=this.options.element||this.options.container||this.buildInput(),e.input.set(this.options.attributes),e.container.addClassName(this.getClassNames()),this.options.clickable||this.elements.container.addClassName("not-clickable"),this.setDisabled(this.isDisabled())},_syncEvents:function(e){var t=this,n=this.elements;function s(e){return t.dispatchEvent.bind(t,e)}t.events||(t.events={container:{mouseenter:s("onMouseEnter"),mouseleave:s("onMouseLeave"),mousedown:function(e){this.addClassName("active"),t.dispatchEvent("onMouseDown",[e])},mouseup:function(){this.removeClassName("active")},click:s("onClick")},input:{change:s("onChange"),keydown:s("onKeyDown"),focus:t.focus.bind(t,!0,!1),blur:t.focus.bind(t,!1,!1)}}),t.isDisabled()?(n.container.removeEvents(t.events.container),n.input.removeEvents(t.events.input)):(t._hiddenInput&&e||n.container.addEvents(t.events.container),n.input.addEvents(t.events.input))},buildInput:function(){return l.createElement("input",{type:"text"})},syncInput:function(){this._hiddenInput&&this.elements.content&&this.elements.content.setText(this.getValue())},focus:function(e,t){return void 0===e&&(e=!0),o.toggleClassName.call(this.elements.container,"focus",e),!1!==t&&this.elements.input[e?"focus":"blur"](),this},isDisabled:function(){return Boolean(this.elements.input.disabled)},setDisabled:function(e){return void 0===e&&(e=!0),this.elements.input.disabled=e,this.elements.container.toggleClassName("disabled",e),this._syncEvents(),this},getValue:function(){var e=this.elements.input,t=e.getTagName();return"input"===t||"textarea"===t?e.value:e.getText()},setValue:function(e){var t=this.elements.input,n=t.getTagName();return"input"===n||"textarea"===n?t.value=e:t.setText(e),this.syncInput(),this},getContent:function(){return this.elements.container||(this.buildSkeleton(),this.syncInput()),this.elements.container},getInputElement:function(){return this.elements.input},_dispatchOnChange:function(){this.isDisabled()?this.syncInput():c.dispatchEvent(this.elements.input,"change")},onMouseEnter:function(){this.elements.container.addClassName("hover")},onMouseLeave:function(){this.elements.container.removeClassName("hover")},onMouseDown:function(e){this._hiddenInput&&!r.Features.touchEvents&&(c.preventDefault(e),this.focus())},onChange:function(e){this.syncInput(),this._bubbleOnChange(e)},_bubbleOnChange:function(e){var t,n=this.elements.input.parentNode;if(!function(){if(void 0===u){u=!1;var e=document.createElement("div"),t=document.createElement("input");t.type="text",e.appendChild(t),e.style.display="none",document.body.appendChild(e),o.addEvent.call(e,"change",function(e){u=!0,c.stop(e)}),c.dispatchEvent(t,"change"),o.remove.call(e),o.removeEvents.call(e)}return u}())for(;n&&1===n.nodeType&&!1!==(e.event||e).returnValue;)(t=n._events&&n._events.change)&&t.handleEvent(e),n=n.parentNode},onKeyDown:function(){this.syncInput()}});return h._ToggleInput=h.extend({options:{mixed:!1},name:"uwa-toggle",init:function(e){e=e||{},this._parent(e),e.mixed&&this.setMixed()},buildSkeleton:function(){this._parent(),this.elements.content.addClassName("uwa-icon")},setMixed:function(e){return this.elements.container[!1!==e?"addClassName":"removeClassName"]("mixed"),this},isChecked:function(){return this.elements.input.checked},focus:function(e){return this._parent(e),this.syncInput(),this},check:function(e){return this.elements.input.checked=!1!==e,this.syncInput(),this}}),h.Radio=h._ToggleInput.extend({name:"uwa-radio",buildInput:function(){return l.createElement("input",{type:"radio"})},onClick:function(e){this._parent(e);var t=this.elements.input;t.checked||(t.checked=!0,this._dispatchOnChange())},syncInput:function(){var n=this.elements.input,e=n.name,s=!1;function t(e){var t=e.parentNode;t&&o.hasClassName.call(t,"uwa-radio")&&o.toggleClassName.call(t,"checked",e.checked),s|=n===e}e&&Array.prototype.forEach.call(document.getElementsByName(e),t),s||t(n)}}),h.Checkbox=h._ToggleInput.extend(i,{name:"uwa-checkbox",buildInput:function(){return l.createElement("input",{type:"checkbox"})},onClick:function(e){this._parent(e),this.hasDelayed("extern-change-prevention")||this.setDelayed("extern-change-prevention",function(){this.elements.input.checked=!this.elements.input.checked,this.syncInput(),this._dispatchOnChange()},1)},onChange:function(e){this._parent(e),this.setDelayed("extern-change-prevention",function(){},1)},syncInput:function(){this.elements.container.toggleClassName("checked",this.elements.input.checked)}}),h.Select=h.extend(i,{name:"uwa-select",options:{options:[]},init:function(e){this._parent(e),l.owns(e,"options")&&this.putOptions(e.options),l.owns(e,"value")&&this.setValue(e.value)},focus:function(e){return this._parent(e),!1===e&&this.elements.dropdown.hide(),this},buildInput:function(){return l.createElement("select")},buildSkeleton:function(){var e,o=this.elements;this._parent();var t=o.container.getDocument().body;o.content.addContent([e=l.createElement("div",{class:this.getClassNames("-split"),html:[{tag:"div",class:this.getClassNames("-text")},{tag:"div",class:this.getClassNames("-button"),html:{tag:"div",class:"uwa-icon uwa-icon-only"}}]})]),o.dropdown=new n({className:this.options.className,global:!0,_root:!1,position:function(){var e=o.dropdown.getInnerElement(),t=o.container.getBoundingClientRect(),n=t.top,s=r.getSize().height-t.top-t.height,i=s<n;return e.toggleClassName("uwa-select-dropdown-top",i),e.getElement("> .uwa-select-split").inject(e,i?"bottom":"top"),e.setStyle("width",t.width),o.scroller.getContent().setStyle("height",Math.min(o.options.offsetHeight,i?n:s)),o.scroller.update(),{x:t.left,y:o.container.getOffsets().y-(i?Math.min(t.top,o.options.offsetHeight):0)}},positionOptions:{fit:"resize-max",relative:t},events:{onShow:function(){o.container&&(o.container.addClassName("dropdown-visible"),this._scrollToSelected())}.bind(this),onHide:function(){o.container&&o.container.removeClassName("dropdown-visible")},onRemoved:function(){o.container&&o.container.removeClassName("dropdown-visible")}}}),o.dropdown.getInnerElement().addClassName("uwa-select-dropdown"),o.dropdown.inject(o.content),o.options=l.createElement("div",{class:this.getClassNames("-options"),events:{mousedown:this._selectionHandler.bind(this)}}),o.scroller=new s({shadows:!1}),o.scroller.getInnerElement().addContent(o.options),o.dropdown.getInnerElement().setContent([e.cloneNode(!0),o.scroller]),this._isSingleLine()&&o.container.addClassName("single-line")},getValue:function(){return this._getSelectedOptions().map(function(e){return e.value})},setValue:function(n){var s=[];return n=a.splat(n),this._getOptions().forEach(function(e,t){-1!==n.indexOf(e.value)&&s.push(t)}),this.setSelection(s)},setSelection:function(n){return this._isMultiple()||(n=n.slice(0,1)),this._getOptions().forEach(function(e,t){e.selected=-1!==n.indexOf(t)}),this._dispatchOnChange(),this},getSelection:function(){var n=[];return this._getOptions().forEach(function(e,t){e.selected&&n.push(t)}),n},_isMultiple:function(){return this.elements.input.multiple},_isSingleLine:function(){return this.options.singleLine},_getOptions:function(){return this.elements.input.getElements("option")},_getSelectedOptions:function(){return this._getOptions().filter(function(e){return e.selected})},_dispatchOnChange:function(){this.clearDelayed("on-change-debounce"),this._parent()},_selectionHandler:function(e){c.stop(e),this._isMultiple()||(this.elements.dropdown.hide(),this.elements.container.removeClassName("hover"));var t,n,s=c.findElement(e,".option,.optgroup"),i=0,o=[],l=s.hasClassName("option"),a=!1;s.getParent().getChildren().some(function(e){if(l){if(s===e)return o.push(i),!0}else if(a){if(!e.hasClassName("option"))return!0;o.push(i)}else s===e&&(a=!0);e.hasClassName("option")&&(i+=1)}),this._isMultiple()&&(t=this.getSelection(),l?-1===(n=t.indexOf(o[0]))?t.push(o[0]):t.splice(n,1):o.some(function(e){return t.indexOf(e)<0})?o.forEach(function(e){t.indexOf(e)<0&&t.push(e)}):t=t.filter(function(e){return o.indexOf(e)<0}),o=t),this.setSelection(o)},syncInput:function(){var e=this.elements.input,t=this.elements;!this._getOptions().length||this._getSelectedOptions().length||this._isMultiple()||(this._getOptions()[0].selected=!0);var s,n,i=this._getSelectedOptions().map(o.getText.call,o.getText).join(", ")||"";t.content.getElement(".uwa-select-text").setText(i),t.dropdown.getInnerElement().getElement(".uwa-select-text").setText(i),t.options.empty(!0).setContent((n=Array.prototype.map.call(e.getElementsByTagName("*"),function(e){var t=o.getTagName.call(e),n=l.createElement("div",{class:t+(e.selected?" selected":""),text:e.label||o.getText.call(e)||""});return"optgroup"===t?(s&&s.addClassName("selected"),s=n):e.selected||(s=null),n}),s&&s.addClassName("selected"),n))},_scrollToSelected:function(){var e=this.elements.dropdown&&this.elements.dropdown.getInnerElement().getElement(".option.selected");e&&t.scrollToElement(e)},onClick:function(e){this._parent(e),this.elements.dropdown.show()},onKeyDown:function(e){var t=c.whichKey(e),n=!0;"space"===t?this.elements.dropdown.show():"return"===t?this.elements.dropdown.toggle():"esc"===t?this.elements.dropdown.hide():n=!1,n?c.preventDefault(e):(this._parent(e),this.setDelayed("scroll-to-selected",this._scrollToSelected,1))},putOptions:function(e,t){var i=this.elements.input;function s(e,t){var n,s=i.getElementsByTagName("*");for(n=0;n<s.length;n+=1)if(s[n][e]===t)return s[n]}return t&&o.empty.call(i,!0),a.splat(e).forEach(function(e){var t,n=s("value",e.value);void 0!==e.label?(n=n||l.createElement("option"),o.set.call(n,{text:e.label,value:e.value,selected:e.selected}),e.group?(s("label",e.group)||i.appendChild(l.createElement("optgroup",{label:e.group}))).appendChild(n):i.appendChild(n)):n&&(t=n.parentNode,o.remove.call(n),t&&"optgroup"===o.getTagName.call(t)&&0===t.childNodes.length&&o.remove.call(t))}),this.syncInput(),this},removeOptions:function(e){this.putOptions(a.splat(e).map(function(e){return{value:"string"==typeof e?e:e.value}}))}}),h.File=h.extend({name:"uwa-file",buildInput:function(){return l.createElement("input",{type:"file"})},buildSkeleton:function(){this._parent(),this.options.buttonOnly?this.elements.content.addClassName("button-only"):this.elements.text=l.createElement("div",{class:this.getClassNames("-text")}),this.elements.content.addClassName(this.getClassNames("-split")).setContent([this.elements.text,l.createElement("div",{class:this.getClassNames("-button"),text:l.i18n("Browse...")})])},setValue:function(e){if(e)throw new Error("You can't set a value to a file input");var t,n=this.elements.input;n.value="",n.value&&((t=l.extendElement(l.clone(n))).inject(n,"before"),n.destroy(),this.elements.input=t,this._syncEvents(!0)),this.syncInput()},syncInput:function(){this.elements.text&&this.elements.text.setText(this.elements.input.value.replace(/^c:\\fakepath\\/i,"")||"")}}),h.Text=h.extend(i,{name:"uwa-text",_hiddenInput:!1,options:{multiline:!1},buildInput:function(){return this.options.multiline?l.createElement("textarea"):l.createElement("input",{type:"text"})},buildSkeleton:function(){this._parent(),this.elements.input.addClassName(this.getClassNames("-text"))},onKeyDown:function(e){this._parent(e),this.setDelayed("placeholder-sync",this.syncInput,1)},onHide:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onShow:function(){this._parent(),this.setDelayed("placeholder-sync",this.syncInput,1)},onPostInject:function(){this.setDelayed("placeholder-sync",this.syncInput,50)},getInputElement:function(){return this.setDelayed("placeholder-sync",this.syncInput,1),this._parent()},syncInput:function(){var e=this.elements.input;r.Features.inputPlaceholder||(e.parentNode&&!this.getValue()&&e.getAttribute("placeholder")&&e.offsetHeight?this._showPlaceholder():this._hidePlaceholder())},_showPlaceholder:function(){var e,t,n=this.elements,s=n.input,i=s.getDimensions();n.placeholder||(this.setPeriodical("placeholder-sync",this.syncInput,1e3),n.placeholder=l.createElement("div",{class:this.getClassNames("-placeholder"),events:{click:this.focus.bind(this,!0)}})),i.width&&i.height?((t=s.getStyles(["font"])).height=i.innerHeight,t.width=i.innerWidth,"textarea"!==s.getTagName()&&(t.lineHeight=i.innerHeight+"px",t.whiteSpace="nowrap"),(e=s.getPosition()).x+=s.getComputedSize("marginLeft","paddingLeft","borderLeftWidth"),e.y+=s.getComputedSize("marginTop","paddingTop","borderTopWidth"),n.placeholder.set({text:s.getAttribute("placeholder"),styles:t}).setPosition(e),n.placeholder.previousSibling!==s&&n.placeholder.inject(s,"after")):this._hidePlaceholder()},_hidePlaceholder:function(){var e=this.elements.placeholder;e&&e.remove()}}),h.Password=h.Text.extend({options:{multiline:!1,attributes:{type:"password"}}}),h.Button=h.extend({name:"uwa-button",options:{className:"dark-grey"},_hiddenInput:!1,init:function(e){l.owns(e,"className")&&(e.className=e.className.replace(/\bblack\b/,"dark-grey"),/\b(?:iconl|iconr|icon-only)\b/.test(e.className)&&(e.className+=" uwa-icon"),/\b(?:dark-grey)\b/.test(e.className)&&(e.className+=" icon-separated")),this._parent(e),/\b(?:icon-only)\b/.test(this.options.className)&&this.setValue("")},buildInput:function(){return l.createElement("button",{type:"button"})}}),l.namespace("Controls/Input",h,l)});

define("UWA/Controls/Form",["UWA/Core","UWA/String","UWA/Utils","UWA/Event","UWA/Json","UWA/Controls/Abstract","UWA/Controls/Input"],function(v,g,b,o,E,e,y){"use strict";var t=e.extend({id:null,defaultOptions:{className:"uwa-form",fields:[],labelPreffix:":",nativeInputs:!1,darkBackground:!1},init:function(e){this._parent(e),this.id=b.random(10),this.buildSkeleton()},buildSkeleton:function(){var e,t,n,a=this,l=a.options,i=a.options.fields,s=a.fields,c=[],r=v.createElement("form",{class:l.className,id:this.id,events:{submit:function(e){o.stop(e),this.dispatchEvent("onSubmit",[e,this.getFormValues()])}.bind(this)}});for(l.nativeInputs||r.addClassName("uwa-form-uikit"),e=0,t=i.length;e<t;e++)"hidden"!==(n=i[e]).type&&(void 0===s[n.type]&&(n.type="text"),n.id="m_"+a.id+"_"+n.name,c.push(s[n.type](n,l,this)));v.createElement("fieldset",{html:c}).inject(r),a.elements.container=r},getFields:function(){var e=this.elements.container,t=b.toArray(e.getElementsByTagName("textarea")),n=b.toArray(e.getElementsByTagName("input")),a=b.toArray(e.getElementsByTagName("select"));return n.concat(a).concat(t)},getField:function(e){var t,n,a,l=this.getFields();for(t=0,n=l.length;t<n;t++)if((a=l[t]).name===e)return a},getFormValues:function(){var e,t,n={},a=this.getFields();for(e=0,t=a.length;e<t;e++){var l=a[e];switch(l.type){case"button":case"submit":break;case"password":""!==l.value&&(n[l.name]=l.value);break;case"checkbox":n[l.name]=Boolean(l.checked),"string"==typeof l.value&&(n[l.name]=String(n[l.name]));break;case"radio":l.checked&&(n[l.name]=l.value);break;default:"select"===l.getTagName()&&l.multiple?n[l.name]=l.getElements("option").filter(function(e){return e.selected}).map(function(e){return e.value}):n[l.name]=l.value}}return n},getFormValue:function(e){return this.getFormValues()[e]},setFormValues:function(e){var t,n,a,l,i=this.getFields();for(t=0,n=i.length;t<n;t++)if(a=i[t],e.hasOwnProperty(a.name))switch(l=e[a.name],a.type){case"password":case"button":case"submit":break;case"checkbox":a.checked=Boolean(l);break;case"radio":a.checked&&String(a.value)===l&&(a.checked=Boolean(l));break;default:a.value=l}},setFormValue:function(e,t){var n={};n[e]=t,this.setFormValues(n)},fields:{text:function(e,t,n){var a=v.createElement("input",{type:"text",id:e.id,class:e.type+" small",name:e.name,value:e.value||"",autocomplete:"off",autocorrect:"off",autocapitalize:"off"});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},{tag:"span",content:t.nativeInputs?a:new y.Text({_root:!1,element:a,className:"small"})}]})},password:function(e,t,n){var a=v.createElement("input",{type:"password",id:e.id,class:e.type,name:e.name,value:e.value||""});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},{tag:"span",content:t.nativeInputs?a:new y.Text({_root:!1,element:a,className:"small"})}]})},submit:function(e,t){var n=v.createElement("input",{id:e.id,class:e.type,type:"submit",name:e.name,value:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},button:function(e,t){var n=v.createElement("button",{id:e.id,class:e.type,name:e.name,text:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},reset:function(e,t){var n=v.createElement("button",{id:e.id,type:"reset",class:e.type,name:e.name,value:e.value||v.i18n("Done")});return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"span",content:t.nativeInputs?n:new y.Button({_root:!1,element:n,className:"light-grey small"})}})},boolean:function(t,e,n){var a,l=t.id,i=v.createElement("div",{class:"field field"+g.ucfirst(t.type)}),s="string"!=typeof t.value||"true",c=t.value&&(!0===t.value||"true"===t.value);return v.createElement("label",{for:l,text:v.i18n(t.label||t.name)}).inject(i),a=v.createElement("input",{id:l,value:s,type:"checkbox",class:t.type+" "+(c?"checked":"unchecked"),name:t.name}),c&&(a.setAttribute("checked","checked"),a.defaultChecked=!0),a.addEvent("change",function(){var e=a.checked;a.addClassName(e?"checked":"unchecked"),a.removeClassName(e?"unchecked":"checked"),t.onchange&&this.dispatchEvent("onChange",[t.onchange,t.name,e?"true":"false"])}.bind(n)),v.createElement("span",{html:e.nativeInputs?a:new y.Checkbox({_root:!1,element:a,className:e.darkBackground?"green":""})}).inject(i),i},textarea:function(e,t,n){var a=v.createElement("textarea",{id:e.id,class:e.type+" small",name:e.name,text:e.value||""});return e.onchange&&a.addEvent("keyup",function(){this.dispatchEvent("onChange",[e.onchange,e.name,a.value])}.bind(n)),v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:[{tag:"label",for:e.id,text:v.i18n((e.label||e.name)+t.labelPreffix)},t.nativeInputs?a:new y.Text({_root:!1,element:a})]})},range:function(e,t,n){var a,l,i,s,c=e.id,r=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:c,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(r),i=v.createElement("span").inject(r),s=v.createElement("select",{id:"m_"+n.id+"_"+e.name,class:"range",name:e.name}).inject(i),e.step=parseInt(e.step,10),e.max=parseInt(e.max,10),e.min=parseInt(e.min,10),0<e.step)for(a=e.min;a<=e.max;a+=e.step)l=v.createElement("option",{value:a,text:String(a)}),e.value&&parseInt(e.value,10)===a&&(l.setAttribute("selected","selected"),l.selected=!0),s.appendChild(l);return e.onchange&&s.addEvent("change",function(){this.dispatchEvent("onChange",[e.onchange,e.name,s.value])}.bind(n)),t.nativeInputs||new y.Select({_root:!1,element:s,className:"small"}),r},list:function(e,t,n){var a,l,i,s,c,r,o="m_"+n.id+"_"+e.name,u=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:o,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(u),c=v.createElement("span").inject(u),r=v.createElement("select",{id:"m_"+n.id+"_"+e.name,class:"list",name:e.name,multiple:Boolean(e.multiple)}).inject(c),v.is(e.options,"array")&&0<e.options.length){var m=b.splat(e.value).map(function(e){return String(e)});for(a=0,l=e.options.length;a<l;a++)(i=e.options[a]).label=i.label||i.value,s=v.createElement("option",{text:v.i18n(i.label),value:i.value}).inject(r),0<=m.indexOf(String(i.value))&&(s.setAttribute("selected","selected"),s.selected=!0);e.onchange&&r.addEvent("change",function(){this.dispatchEvent("onChange",[e.onchange,e.name,r.value])}.bind(n))}else u.hide();return t.nativeInputs||new y.Select({_root:!1,element:r,className:"small"}),u},checklist:function(e,t,n){var a,l,i,s,c,r=[],o="m_"+n.id+"_"+e.name,u=v.createElement("div",{class:"field field"+g.ucfirst(e.type)});if(v.createElement("label",{for:o,text:v.i18n((e.label||e.name)+t.labelPreffix)}).inject(u),s=v.createElement("span",{class:e.type}).inject(u),c=v.createElement("input",{id:"m_"+n.id+"_"+e.name,name:e.name,type:"hidden",value:v.is(e.value,"array")?E.encode(e.value):e.value}).inject(s),v.is(e.options,"array")&&0<e.options.length){var m=v.is(e.value,"array")?e.value:E.decode(e.value),d=b.splat(m).map(function(e){return String(e)});for(a=0,l=e.options.length;a<l;a++){(i=e.options[a]).label=i.label||i.value;var f=0<=d.indexOf(String(i.value)),h=v.createElement("p").inject(s),p=v.createElement("input",{value:i.value,type:"checkbox",name:i.value,checked:f});r.push(p),p.addEvent("change",function(){var t=[];r.forEach(function(e){e.checked&&t.push(e.value)}),c.value=E.encode(t),e.onchange&&this.dispatchEvent("onChange",[e.onchange,e.name,c.value])}.bind(n)),v.createElement("span",{html:t.nativeInputs?p:new y.Checkbox({_root:!1,className:t.darkBackground?"green":"",element:p})}).inject(h),v.createElement("label",{text:v.i18n(i.label)}).inject(h)}}else u.hide();return u},html:function(e){return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"div",html:e.html}})},img:function(e){var t=v.i18n(e.label||e.name)||"";return v.createElement("div",{class:"field field"+g.ucfirst(e.type),html:{tag:"img",src:e.src,height:e.height||"auto",width:e.width||"100%",alt:t,title:t}})}}});return v.namespace("Controls/Form",t,v)});

define("UWA/Widget",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Utils","UWA/Utils/Client","UWA/Data","UWA/Element"],function(o,r,i,e,t,n,a,s,u,h,l,f){"use strict";function d(e){if(!Array.isArray(e))throw new Error(e+" should be an array");e.forEach(function(e){if("string"!=typeof e)throw new Error(e+" should be a string")})}function c(t,e){if(t){if(t.multiple||"checklist"===t.type)try{e=function(t){if(!t)return[];var e;if(Array.isArray(t))e=t;else try{e=JSON.parse(t)}catch(e){throw new Error("While parsing JSON value `"+t+"`: "+e)}return d(e),e}(e)}catch(e){throw new Error("While decoding value for preference "+t.name+": "+e)}"boolean"===t.type&&"boolean"!=typeof e&&void 0!==e&&(e="false"!==e&&Boolean(e))}return e}var m,p,g=e.extend(t,n,a,s,{init:function(){var e=this,t=h.Locale;e.id=null,e.environment=null,e.launched=!1,e.title=null,e.icon=null,e.counter=0,e.counterType=null,e.metas={},e.preferences=[],e.defaultData=Object.create(null),e.data={},e.plugins=[],e.events={},e.menus=[],e.elements={},e.body=null,e.lang=t.lang,e.locale=t.locale,e.dir=t.dir,e.readOnly=!1,e.isEdit=!1},launch:function(e,t){var n=this;return n.launched=!1,void 0!==t&&(n.readOnly=Boolean(t)),n.initPreferences(),n.initPlugins(),n.setValues(e),n.dispatchEvent("onInitConfig",{metas:n.metas,plugins:n.plugins,preferences:n.getPreferences()}),n.dispatchEvent("beforeLoad"),n.addEventOnce("onLoad",function(){n.launched=!0},n,1),n.dispatchEvent("onLoad"),n.launched&&n.dispatchEvent("afterLoad"),n.launched},destroy:function(){var e,t=this,n=t.elements;for(e in t.clearDelayed(),t.clearPeriodical(),n)n.hasOwnProperty(e)&&n[e].destroy();t.removeEvent(),t.launched=!1},setOptions:function(e){var t,n,i=this;for(t in e)n="set"+r.capitalize(t),o.is(i[n],"function")&&i[n](e[t]);return i._parent(e)},setAutoRefresh:function(e){var t=this;(e=parseInt(e,10))&&0<e?t.setPeriodical("autoRefresh",t.dispatchEvent.bind(t,"onRefresh"),1e3*e*60):t.clearPeriodical("autoRefresh"),t.metas.autoRefresh=e},setCounter:function(e,t){var n=this;(n.counter!==e||o.is(t)&&n.counterType!==t)&&(n.counter=e,n.counterType=t,n.dispatchEvent("onUpdateCounter",[e,t]))},getTitle:function(){return o.is(this.title,"string")?r.stripTags(this.title):""},setTitle:function(e,t){var n=this;return(o.is(e,"string")||t&&n._titleUrl!==t)&&(n.title=e,n._titleUrl=t,n.dispatchEvent("onUpdateTitle",[e,t])),n.title},setIcon:function(e,t){var n=this;return e&&o.is(e,"string")&&(t&&(e=l.proxifyUrl(e,{proxy:"icon"})),n.icon!==e&&(n.icon=e,n.dispatchEvent("onUpdateIcon",[e]))),n.icon},setMenu:function(e){var t,n,i=this.environment,r=e.name.split("/"),a=r[0];if(2<r.length)throw new Error("Adding more than one submenu level is not supported by setMenu");(n=this.getMenu(e.name))?o.extend(n,e):(1<r.length?((t=this.getMenu(a))||(t={label:a},this.menus.push(t)),t.items||(t.items=[]),t.items):this.menus).push(e),this.setDelayed("onUpdateMenu",function(){i.dispatchEvent("onUpdateMenu",[this.menus])},20)},getMenu:function(t){var e,n;return o.is(t,"string")&&(n=t.split("/"),(e=i.detect(this.menus,function(e){return e.name===n[0]}))&&1<n.length&&(e=e.items&&i.detect(e.items,function(e){return e.name===t}))),e},removeMenu:function(t){var e,n,i,r;for(r=function(e){return e.name!==t},e=0,n=this.menus.length;e<n;e++){if((i=this.menus[e]).name===t){this.menus.remove(i);break}i.items&&(i.items=i.items.filter(r))}},setDir:function(e){var t=this.dir,n=this.elements.wrapper;return e="rtl"===e?"rtl":"ltr",n&&t!==e&&(n.setAttribute("dir",e),n.addClassName(e),n.removeClassName(t)),this.dir=e},setMetas:function(e){var t=this;return o.extend(t.metas,e),o.is(e.debugMode)&&(t.setDebugMode(e.debugMode),t.environment&&t.environment.setDebugMode(e.debugMode)),o.is(e.autoRefresh)&&t.setAutoRefresh(e.autoRefresh),t.metas},setBody:function(e){if(!this.body)throw new Error("Widget.body is not yet available");this.body.setContent(e)},addBody:function(e){this.body.addContent(e)},getElements:function(e){return this.body.getElements(e)},getElement:function(e){return this.body.getElement(e)},createElement:function(e,t){return o.createElement(e,t)},setStyle:function(e){var t=this,n=t.id?"#m_"+t.id:".moduleWrapper";t.id&&t.elements.wrapper.setAttribute("id","m_"+t.id),u.setCss(!1,e,n,t.getUrl())},mutate:function(e,t){var n=this.environment;if(!e)throw new Error("Missing or empty first param on widget.mutate");if(!n||!n.mutate)throw new Error("Current Environment do not support widget.mutate");n.mutate(e,t)},getUrl:function(){var e=window.location.href;return this.uwaUrl?this.uwaUrl:u.getQueryString(e,"uwaUrl",e)},addStar:function(e){var t=this.environment;t&&t.addStar&&t.addStar(e)},getViewportDimensions:function(){var t,e,n=this.elements,i=n.body,r=f.getDimensions,a=f.isInjected,s=f.getComputedSize,o=h.getSize(),u=r.call(n.wrapper),l=r.call(i),d=o.height,c=u.width;for(["header","footer"].forEach(function(e){(t=n[e])&&a.call(t)&&(d-=r.call(t).outerHeight)}),t=i,e=n.wrapper.parentNode;t!==n.wrapper?c-=s.call(t,"innerWidth","outerWidth"):c-=s.call(t,"innerWidth"),d-=s.call(t,"innerHeight","outerHeight"),(t=t.parentNode)&&t!==e;);return 0<l.maxHeight&&d>l.maxHeight?d=l.maxHeight:0<l.minHeight&&d<l.minHeight&&(d=l.minHeight),{height:d<0?240+d:d,width:c<0?320+c:c}},setPlugins:function(e){this.plugins=e},initPlugins:function(){var e,t,n,i=o.clone(this.plugins);for(e=0,t=i.length;e<t;e++)n=i[e],o.Plugins[n.name]&&(n.instance=new o.Plugins[n.name](this,n.options))},initPreferences:function(){this.setPreferences(this.preferences)},hasPreferences:function(){var e=this.preferences;return!this.readOnly&&0<e.length&&e.some(function(e){return"hidden"!==e.type})},_getRawPreference:function(t){return i.detect(this.preferences,function(e){return e.name===t})},getPreference:function(e){var t=this._getRawPreference(e);return t&&((t=o.clone(t)).value=this.getValue(e)),t},hasPreference:function(t){return this.preferences.some(function(e){return e.name===t})},addPreference:(p=["hidden","text","list","checklist","range","password","boolean"],function(n){var e,i=-1,t=this,r=t.preferences;!function(e){return e.name&&e.type&&-1!==p.indexOf(e.type)}(n)||(e=void 0!==(n=o.clone(n)).defaultValue,n.multiple&&"boolean"!=typeof n.multiple&&(n.multiple="true"===n.multiple),e&&(n.defaultValue=c(n,n.defaultValue)),r.forEach(function(e,t){n.name===e.name&&(i=t)}),n.label||(n.label=n.name),-1!==i?r[i]=n:r.push(n),t.defaultData[n.name]=n.defaultValue,t.launched&&t.dispatchEvent("onUpdatePreferences",[t.getPreferences()]))}),setPreferences:function(e){var t,n,i=this;for(i.preferences=[],i.defaultData={},i.launched&&0===e.length&&i.dispatchEvent("onUpdatePreferences",[i.getPreferences()]),t=0,n=e.length;t<n;t++)i.addPreference(e[t])},mergePreferences:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.hasPreference(e[t].name)||this.addPreference(e[t])},getPreferences:function(){var e,t,n,i,r,a,s=o.clone(this.preferences);for(e=0,t=s.length;e<t;e++)if((r=s[e]).value=this.getValue(r.name),r.label=o.i18n(r.label),o.is(r.options,"array"))for(n=0,i=r.options.length;n<i;n++)(a=r.options[n]).label=o.i18n(a.label);return s},getValue:function(e){var t=this,n=t.environment,i=t.data[e];return!o.is(i)&&n&&n.getData&&(i=c(t._getRawPreference(e),n.getData(e))),o.is(i)||(i=t.defaultData[e]),o.is(i)?t.data[e]=i:(i=void 0,delete t.data[e]),i},getInt:function(e){var t=this.getValue(e);return t="true"===t||!0===t?1:parseInt(t,10),isNaN(t)?0:t},getBool:(m=[1,"1","true",!0],function(e){return-1!==m.indexOf(this.getValue(e))}),setValue:function(e,t){var n=this,i=n.environment,r=n._getRawPreference(e),a=!0;return t=c(r,t),o.equals(n.data[e],t)||(o.is(t)?(t=o.clone(t),n.data[e]=t,i&&i.setData&&i.setData(e,function(e,t){return e&&(!e.multiple&&"checklist"!==e.type||(d(t),t=JSON.stringify(t))),t}(r,t),!!r&&o.equals(r.defaultValue,t))):(n.data.hasOwnProperty(e)?delete n.data[e]:a=!1,i&&i.deleteData?i.deleteData(e):i&&i.setData&&i.setData(e,void 0)),a&&n.dispatchEvent("onUpdateValue",[e,t])),t},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},deleteValue:function(e){return this.setValue(e)},toggleEdit:function(){this.dispatchEvent(this.isEdit?"endEdit":"onEdit")},dispatchEvent:function(e,t,n,i){var r=this.environment,a=!i&&r||"onLoad"===e||this.launched;return!i&&r?r.dispatchEvent(e,t,n):a&&this._parent(e,t,n),this},addEvent:function(e,t,n,i){var r=this,a="onLoad"===e&&r.launched;return r._parent(e,t,n,i),a&&(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})),r},addEventOnce:function(e,t,n,i){var r=this;return"onLoad"===e&&r.launched?(r.addEventOnce("_onLoadImmediate",t,n,i),this.setImmediate("_onLoadImmediate",function(){r.dispatchEvent("_onLoadImmediate")})):r._parent(e,t,n,i),r},requestView:function(e){return o.is(e,"string")&&(e={type:e}),this.dispatchEvent("onViewRequest",[e]),this},getView:function(){return this._view||{type:"windowed"}},getAvailableViews:function(){var e=this.metas.availableViews||"";return i.invoke(e.split(";"),"trim").filter(function(e){return e}).map(function(e){var t,n=e.match(/\S*/)[0],i=e.slice(n.length).trim();if(i)try{t=JSON.parse(i)}catch(e){this.log("Failed to parse availableViews options")}return(t=t||{}).type=n,t},this)},onEdit:function(){this.isEdit=!0},endEdit:function(){this.isEdit=!1}});return o.namespace("Widget",g,o)});

define("UWA/Controls/WidgetPopupMenu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/DropDown"],function(i,o,s,a,t){"use strict";var e=t.extend({name:"uwa-widget-popup-menu",init:function(t){this._parent(),this.env=t,this.items=null},setTarget:function(t){return this.target=t,this},onClick:function(t){this._parent(t);var e=s.findElement(t,"li"),n=this.env.widget.getMenu(e.getAttribute("data-name"));n&&this.env.dispatchEvent("onMenuExecute",[n])},onClickOutside:function(t){s.getElement(t)!==this.target&&this.hide()},setPosition:function(){var t,e=this.env.html.moduleFrame||this.env.html.wrapper,n=o.getOffsets.call(e),i=o.getSize.call(e),s=o.getOffsets.call(this.target),a=o.getSize.call(this.target);return{x:s.x,y:s.y+a.height},t={boundary:{x:0,y:s.y+a.height,width:n.x+i.width,height:1/0}},this._parent(s,t)},getInnerElement:function(){return this.getContent(),this.elements.inner},getContent:function(){var t=this.elements;return t.inner||this._parent().setContent(t.inner=i.createElement("menu",{type:"popup"})),t.container},setItems:function(t){return this.items=t,this},toggle:function(){this.getInnerElement().empty(),this.items.forEach(this.addItem,this),this.setPosition(),this._parent()},onShow:function(){this.target.addClassName("active"),this._parent()},onHide:function(){this.target.removeClassName("active"),this._parent()},addItem:function(t){var e,n;if(!1!==(i.is(t.visible,"function")?t.visible():!1!==t.visible))return e=i.createElement("li",{class:this.getClassNames("-item"),"data-name":t.name}),t.icon&&(n=i.createElement("span",{class:"uwa-icon uwa-icon-only"}),1===this._getUtf8StringLength(t.icon)?(n.set("data-icon",t.icon),n.addClassName("uwa-icon-unicode")):a.isAbsoluteUrl(t.icon)?n.adopt(i.createElement("img",{src:t.icon,width:16,height:16})):n.addClassName(t.icon),n.inject(e)),t.label&&i.createElement("span",{text:t.label}).inject(e),(i.is(t.disabled,"function")?t.disabled():!!t.disabled)&&e.addClassName("disabled"),e.inject(this.getInnerElement())},_getUtf8StringLength:function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)}});return i.namespace("Controls/WidgetPopupMenu",e,i)});

define("UWA/Utils/InterCom",["UWA/Core","UWA/String","UWA/Utils","UWA/Class","UWA/Dispatcher","UWA/Class/Events","UWA/Class/Options","UWA/Class/Timed","UWA/Class/Debug","UWA/Json"],function(e,t,d,n,r,s,i,o,a,v){"use strict";function u(e,t){var n,r,s,i;for(n=0,r=e.length;n<r;n++)for(s=0,i=t.length;s<i;s++)if(t[s]===e[n])return!0;return!1}function c(e){return Boolean(e.UWA&&e.UWA.Utils&&e.UWA.Utils.InterCom)&&!e.UWA.Utils.InterCom._listener&&(e.UWA.Utils.InterCom._listener=new s),e.UWA.Utils.InterCom._listener}var l,g,h,p,f,E,k,m,b="subscribe",S="unSubscribe",A=e.getGlobal();function U(){f&&E.body&&0<p.length&&E.body.appendChild(p.shift()),0<p.length&&setTimeout(U,10)}function y(e){var t;try{t="string"==typeof e.data&&"{"===e.data[0]&&JSON.parse(e.data)}catch(e){}t&&t.type===m&&k.dispatch([t.payload,{origin:e.origin,source:e.source}])}return(l={getAdapter:function(e){var t,n,r,s=l.Adapters,i=e?d.splat(e):Object.keys(s);for(t=0,n=i.length;t<n&&!r;t++){if(e=i[t],!s.hasOwnProperty(e))throw new Error('Unable to get InterCom Adapter with name "'+e+'"');if(s[e].isAvailable(r)){r=s[e];break}}if(!r)throw new Error("Unable to get InterCom Adapter");return r}}).Adapters={PostMessage:(m="uwa-intercom",{isAvailable:function(){return A.postMessage&&A.location&&A.location.protocol&&t.contains(A.location.protocol,"http")},removeListener:function(e){k&&(k.remove(e),0===k.getNumListeners()&&(k.dispose(),k=void 0,A.addEventListener?A.removeEventListener("message",y,!1):A.attachEvent&&A.detachEvent("onmessage",y)))},addListener:function(e){k||(k=k||new r,A.addEventListener?A.addEventListener("message",y,!1):A.attachEvent&&A.attachEvent("onmessage",y)),k.add(e)},dispatchEvent:function(e,t,n){var r;if(t=t||((r=A.parent).postMessage?r:r.document.postMessage?r.document:void 0),n=n&&"*"!==n?d.buildUrl(A.location,n):"*",t&&t.postMessage){var s={type:m,payload:e};t.postMessage(JSON.stringify(s),n)}}}),FrameCallback:(h=0,p=[],f=!0,E=A.document,{isAvailable:function(){return g=c(A),Boolean(g)},removeListener:function(e){g.removeEvent("message",e)},addListener:function(e){g.addEvent("message",e)},dispatchEvent:function(e,t,n){!function(e){try{return e===A||e.location.host===A.location.host&&e.location.protocol===A.location.protocol}catch(e){}}(t)?function(e,t,n){var r,s,i=A.location.toString(),o=d.parseUrl(n),a=o.protocol+"://"+o.domain+"/intercom.html",c={info:e,origin:i};r="#"+Date.now()+h+++"&"+v.encode(c),(s=E.createElement("iframe")).setAttribute("src",a+r),s.style.position="absolute",s.style.top="-2000px",s.style.left="0px",s.onload=function(){f=!0,s.parentNode.removeChild(s)},p.push(s),setTimeout(U,10)}(e,0,n):function(e,t){var n=c(t);setTimeout(function(){n.dispatchEvent("message",[e,{origin:A.location.toString(),source:A}])})}(e,t)}})},l.Server=n.extend(i,a,{id:null,uuid:null,sockets:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!0},init:function(e,t){var n=this;n.setServerId(e),n.sockets={},n.listeners=new s,n.setOptions(t),n.options.autoconnect&&n.connect()},setServerId:function(e){var t=this,n=l.Server.Instances=l.Server.Instances||{};return t.uuid=t.uuid||d.getUUID(),n[e=e||t.uuid]&&(n[e].disconnect(),delete n[e]),n[t.id=e]=t},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=l.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var t=this;return t.adapter&&(Object.keys(t.sockets).forEach(function(e){t.unsubscribeSocket(e)}),t.adapter.removeListener(t.handleEvent)),t},handleEvent:function(e,t){var n,r,s,i=this,o=i.id,a=i.sockets,c=Object.keys(a);r=(n=t&&t.source&&t.origin&&e.event&&e.target&&e.origin&&e.target.servers&&Array.isArray(e.target.servers)&&e.target.sockets&&Array.isArray(e.target.sockets))&&a[e.origin.socket]&&a[e.origin.socket].uuid===e.uuid,s=n&&0===e.target.sockets.length&&-1!==e.target.servers.indexOf(o),n?s?(i.log('SERVER: server "'+o+'" accept message for event "'+e.event+'"'),e.event===b?r||i.subscribeSocket(e.origin.socket,t.source,t.origin,e.uuid):r&&(e.event===S?i.unsubscribeSocket(e.origin.socket):i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets))):r&&u(e.target.sockets,c)&&u([e.origin.socket],c)?(i.log('SERVER PREDISPATCH: server "'+o+'" dispatch event "'+e.event+'" from "'+e.origin.socket+'"'),i.dispatchEvent(e.event,e.data,e.origin.socket,e.target.sockets)):i.log('SERVER: server "'+o+'" refuse message for event "'+e.event+'"'):i.log('SERVER: server "'+o+'" refuse invalid message for event "'+e.event+'"')},subscribeSocket:function(e,t,n,r){var s=this,i=s.id;return s.log('SERVER: server "'+i+'" register new socket "'+e+'"'),s.sockets[e]={source:t,origin:n,uuid:r},s.dispatchEvent(b,{},void 0,e),s},unsubscribeSocket:function(e){var t=this,n=t.id;return t.sockets[e]&&(t.log('SERVER: server "'+n+'" unregister socket "'+e+'"'),t.dispatchEvent(S,{},void 0,e),delete t.sockets[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(r,s,i,e){var o=this,a=o.id,c=o.sockets,u=o.adapter,t={event:r,data:s,target:{sockets:e},origin:{socket:i,server:a},uuid:o.uuid};return e&&e.length?e=d.splat(e):-1!==(e=Object.keys(o.sockets)).indexOf(i)&&e.splice(e.indexOf(i),1),u||(o.connect(),u=o.adapter),0===e.length?o.log('SERVER: server "'+a+'" has no target socket for dispatchEvent "'+r+'"'):e.forEach(function(t){var e=c[t],n={event:r,data:s,target:{sockets:[t]},origin:{socket:i,server:a},uuid:o.uuid};o.log('SERVER: server "'+a+'" dispatchEvent "'+n.event+'" to "'+t+'"');try{u.dispatchEvent(n,e.source,e.origin)}catch(e){A.console&&A.console.error('InterCom server "'+a+'": error while dispatching to socket '+t+": "+e+"\nDeleting socket"),delete c[t]}}),o.listeners.dispatchEvent(r,[s,t]),o}}),l.Socket=n.extend(i,a,{id:null,uuid:null,servers:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!1},init:function(e,t){this.setSocketId(e),this.servers={},this.listeners=new s,this.setOptions(t)},setSocketId:function(e){var t=this,n=l.Socket.Instances=l.Socket.Instances||{};return t.uuid=t.uuid||d.getUUID(),n[e=e||t.uuid]&&(n[e].disconnect(),delete n[e]),n[t.id=e]=this,t},connect:function(){var e=this;return e.handleEvent=e.handleEvent.bind(e),e.adapter=l.getAdapter(e.options.adapter),e.adapter.addListener(e.handleEvent),e},disconnect:function(){var t=this;return t.adapter&&(Object.keys(t.servers).forEach(function(e){t.unsubscribeServer(e)}),t.adapter.removeListener(t.handleEvent)),t},handleEvent:function(e,t){var n,r,s,i,o=this,a=o.id,c=o.servers;r=(s=t&&t.source&&t.origin&&e&&e.event&&e.target&&e.origin&&e.origin.server&&c[e.origin.server]&&e.target.sockets&&Array.isArray(e.target.sockets))&&c[e.origin.server]&&c[e.origin.server].uuid===e.uuid,i=s&&0!==e.target.sockets.length&&-1!==e.target.sockets.indexOf(a),s?i?(n=o.servers[e.origin.server],o.log('SOCKET: socket "'+a+'" accept message for event "'+e.event+'"'),e.event===b?(r||(n.waiting=!1,n.uuid=e.uuid,n.queue.length&&(n.queue.forEach(function(e){o.adapter.dispatchEvent(e,n.source,n.origin)}),o.log('SOCKET: socket dispatch "'+n.queue.length+'" events in the queue for serverId "'+e.origin.server+'".'),n.queue=[])),o.listeners.dispatchEvent(e.event,[e.data,e])):r?e.event===S?delete o.servers[e.origin.server]:o.listeners.dispatchEvent(e.event,[e.data,e]):o.log('SOCKET: socket "'+a+'" refuse invalid uuid for event "'+e.event+'"')):o.log('SOCKET: socket "'+a+'" refuse message for event "'+e.event+'"'):o.log('SOCKET: socket "'+a+'" refuse invalid message for event "'+e.event+'"')},subscribeServer:function(e,t,n){return t=t||A.parent,n=n||A.location.toString(),this.servers[e]={waiting:!0,queue:[],source:t,origin:n},this.dispatchEvent(b,void 0,void 0,e),this},unsubscribeServer:function(e){var t=this,n=t.id;return t.servers[e]&&(t.log('SOCKET: socket "'+n+'" unregister server "'+e+'"'),t.dispatchEvent(S,{},void 0,e),delete t.servers[e]),t},addListener:function(e,t){return this.listeners.addEvent(e,t),this},removeListener:function(e,t){return this.listeners.removeEvent(e,t),this},dispatchEvent:function(r,s,i,e){var o=this,a=o.id,c=o.servers,u=o.adapter;return e=e&&e.length?d.splat(e):Object.keys(o.servers),i=d.splat(i),u||(o.connect(),u=o.adapter),s=v.prune(s),e.forEach(function(e){var t=c[e],n={event:r,data:s,target:{servers:[e],sockets:i},origin:{socket:a},uuid:o.uuid};0===t.queue.length&&!t.waiting||r===b||r===S?(o.log('SOCKET: socket "'+a+'" dispatch event "'+r+'"'),u.dispatchEvent(n,t.source,t.origin)):(o.log('SOCKET: socket "'+a+'" queue event "'+r+'" for serverId "'+e+'"'),t.queue.push(n))}),o}}),e.namespace("Utils/InterCom",l,e)});

define("UWA/Embedded",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Class/Events","UWA/Utils","UWA/Utils/InterCom"],function(a,t,e,i,n,s,o,r){"use strict";function d(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])}function l(e,t){var i,n;for(n in t)t.hasOwnProperty(n)&&(i=t[n],"styles"===n?d(e,i):"html"===n?e.innerHTML=i:"text"===n?(e.innerHTML="",e.appendChild(document.createTextNode(i))):e.setAttribute(n,i))}function h(e,t,i){var n=document.createElement(e);return t&&l(n,t),i&&i.appendChild(n),n}function c(e){var t;if("object"!=typeof e)return!1;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e){return"boolean"==typeof e?!1===e?"0":"1":o.encodeUrl(e)}var p=e.extend(i,n,s,{url:"",id:null,data:null,version:a.version,elements:null,preferences:null,disableRemote:!0,defaultOptions:{container:null,className:"module",title:null,themeUrl:null,color:"white",height:"auto",width:"100%",maxHeight:!1,bookmarklet:!1,lang:null,id:null,readOnly:!1,data:{},buildHeader:!1,displayHeader:!0,displayFooter:!0,displayScroller:!1,displayEdit:!0,cache:null,useAsyncFrame:!1,useAppCache:!1,offlineMode:!1,autoLaunch:!0,subDomain:!1,subDomainPattern:"{id}.widget.",remoteName:"uwa.embedded",sandbox:!1,exposition:a.hosts.exposition,uwa:a.hosts.uwa},socket:null,init:function(e,t){this.url=e,this.data={},this.elements={},this.preferences=[],this._remoteQueue=[],this.startTime=(new Date).getTime(),this.setOptions(t);var i,n,s,o=typeof(t=this.options).container;if("string"==o?this.container=document.getElementById(t.container):"object"==o&&null!==this.options.container?this.container=t.container:(s=document.getElementById("UWA_ASYNC"),this.container=h("div",{id:this.id,class:t.className}),s?s.parentNode.insertBefore(this.container,s.nextSibling):(n=(i=document.getElementsByTagName("script"))[i.length-1]).parentNode.insertBefore(this.container,n)),!(p.Instances[this.id]=this).container)throw new Error("UWA.Embedded is unable to get container element with container "+this.container+".");if("string"!=typeof this.url)throw new Error("UWA.Embedded expect url defined has first param");this.log('Init new instance with container id "'+this.id+'" and widget url "'+this.url+'"'),this.render()},destroy:function(){},setOptions:function(e){return this._parent(e),(e=this.options).title&&(e.buildHeader=!0),e.buildHeader&&(e.displayHeader=!1),this.data=e.data||{},!e.id&&this.id||(this.id=e.id||this.generateId()),this},generateId:function(){for(var e;e="uwa-"+o.getCheckSum(this.url)+"-"+o.random(1,1e5),document.getElementById(e)&&null!==p.Instances[e];);return e},render:function(){var e,t={},i=this.options,n=this.container,s=navigator.userAgent.toLowerCase().match(/ip(?:ad|od|hone)/);t.wrapper=h("div",{class:"moduleWrapper"}),i.buildHeader&&(t.header=h("div",{class:"moduleHeader",styles:{position:"relative",overflow:"hidden",height:"23px",padding:"5px 5px 0 5px"}},t.wrapper),t.iconContainer=h("span",{styles:{padding:"0 5px 0 0"}},t.header),t.icon=h("img",{src:i.uwa+a.paths.img+"icon.png",class:"moduleIcon",height:16,width:16,styles:{border:"none",height:16,width:16}},t.iconContainer),t.title=h("span",{text:i.title||"Loading...",class:"moduleTitle",styles:{font:'bold 11px/20px "Lucida Grande",Tahoma,Helvetica,Arial,sans-serif',verticalAlign:"top"}},t.header)),t.body=h("div",{class:"moduleContent"},t.wrapper),e={id:"frame-"+this.id,frameBorder:0,width:"100%",scrolling:i.maxHeight||"auto"!==i.height?"auto":"no"},i.sandbox&&(e.sandbox="allow-same-origin allow-forms allow-scripts allow-popups"),t.iframe=h("iframe",e,t.body),d(t.iframe,{display:"block"}),i.bookmarklet&&(i.displayScroller=!0,i.height="100%",i.width="320px",d(t.wrapper,{position:"fixed",top:0,right:0,height:i.height,width:i.width,"z-index":99999998})),"auto"!==i.height&&(t.iframe.height=i.height),s&&i.displayScroller&&(t.iframe.scrolling="no"),this.elements=t,n.innerHTML="",n.appendChild(t.wrapper),i.useAsyncFrame?this.renderIframeAsync():this.renderIframe(),this.setChromeColor(i.color),this.initRemote()},renderIframe:function(){var e=this.elements.iframe,t=this.getIframeUrl();e.previousIframeUrl&&e.previousIframeUrl===t||(e.previousIframeUrl=t,e.src=t)},renderIframeAsync:function(){var e,t=this,i=JSON.stringify,n=t.options,s=t.elements.iframe.contentWindow.document,o=n.exposition+"/widget/amd/js?uwaUrl="+u(t.url),r={id:t.id,widgetDomain:window.location.toString().replace(/#.*$/,"")};n.cache&&(o+="&cache="+u(n.cache)),e=["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8" />','<script type="text/javascript">',"   var UWA = {hosts:"+i(a.hosts)+"},",'       curl = {apiName: "require"};',"<\/script>",'<script type="text/javascript" src="'+n.uwa+"/lib/vendors/curl.js?v="+t.version+'"><\/script>','<script type="text/javascript" src="'+o+"&v="+t.version+'"><\/script>',"</head>","<body>",'<script type="text/javascript">','   define("'+t.id+'", ["'+t.url+'"], function (widget) {',"       UWA.extend(widget, "+i(r)+");","   });","<\/script>","</body>","</html>"],s.open(),s.write(e.join("\n")),s.close()},getIframeUrl:function(){var e,t,i=this,n=[],s=i.options,o=i.data,r={uwaUrl:i.url,id:i.id,cache:s.cache,header:s.displayHeader,footer:s.displayFooter,scroller:s.displayScroller,displayEdit:s.displayEdit,autoLaunch:s.autoLaunch&&!s.offlineMode,useAppCache:s.useAppCache,offlineMode:s.offlineMode,chromeColor:s.color,widgetDomain:window.location.toString().replace(/#.*$/,""),themeUrl:s.themeUrl,lang:s.lang};if(!s.offlineMode)for(e in r.readOnly=s.readOnly,o)o.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=o[e]);for(e in r)r.hasOwnProperty(e)&&null!==r[e]&&n.push(e+"="+u(r[e]));if(2048<(t=i.getIframeDomain()+"?"+n.join("&")).length)throw new Error("UWA.Embedded iframe url is more than 2048 characters please implement UWA.Embedded using offlineMode=true.");return t},getIframeDomain:function(){var e,t=this.options,i=t.exposition;return t.subDomain&&(e=o.getCheckSum(this.url),i=i.replace("://","://"+t.subDomainPattern.replace("{id}",e))),i+="/widget/frame"},initRemote:function(){var e,n=this,t=n.options;n.socket||(p.Servers[t.remoteName]||(p.Servers[t.remoteName]=new r.Server(t.remoteName)),(e=new r.Socket(n.id+"-master")).subscribeServer(t.remoteName,window,window.location.toString()),e.addListener("widgetMessage",function(e){var t=e.args,i=t.shift();n.disableRemote=i,n.dispatchEvent(i,t),n.disableRemote=!1}),n.socket=e,n._runRemoteQueue())},_runRemoteQueue:function(){var e,t,i=this;i.socket&&0!==i._remoteQueue.length&&(t=i._remoteQueue.shift(),!0===i.disableRemote||i.disableRemote===t[0]?i.log("sendRemote message ignored: "+t):(e={id:i.id,args:t},i.log("sendRemote message: "+t),i.socket.dispatchEvent("environmentMessage",e,[e.id+"-slave"])),i._runRemoteQueue())},sendRemote:function(){this._remoteQueue.push(o.toArray(arguments)),this._runRemoteQueue()},launch:function(e,t){void 0!==t&&(this.options.readOnly=t),void 0!==e&&(this.data=e),this.disableRemote=!1,this.sendRemote("launchWidget",this.data,this.options.readOnly)},setChromeColor:function(e){this.dispatchEvent("onColorize",[e]),this.sendRemote("onColorize",e)},setTitle:function(e){this.dispatchEvent("onUpdateTitle",[e]),this.sendRemote("onUpdateTitle",e)},setIcon:function(e,t){this.dispatchEvent("onUpdateIcon",[e,t]),this.sendRemote("onUpdateIcon",e,t)},setValue:function(e,t){this.dispatchEvent("onUpdateValue",[e,t]),this.sendRemote("onUpdateValue",e,t)},setValues:function(e){var t;for(t in e)e.hasOwnProperty(t)&&this.setValue(t,e[t])},resizeHeight:function(e,t){this.dispatchEvent("onResizeHeight",[e,t]),this.sendRemote("onResize")},resizeWidth:function(e,t){this.dispatchEvent("onResizeWidth",[e,t]),this.sendRemote("onResize")},onRegisterWidget:function(){var e=this.options;this.loadTime=(new Date).getTime(),this.disableRemote=!1,e.autoLaunch&&(e.offlineMode||e.useAsyncFrame)&&this.launch()},onUpdateTitle:function(e){this.title!==e&&(this.title=e,this.elements.title&&this.options.buildHeader&&null===this.options.title&&l(this.elements.title,{text:t.stripTags(e)}))},onUpdateIcon:function(e){if(this.icon!==e&&(this.icon=e,this.options.buildHeader)){var t=this.elements.icon,i=h("img",{src:e,onload:function(){t.src=e}});i.complete&&0<i.width&&(t.src=e)}},onUpdatePreferences:function(e){this.preferences=e},onUpdateValue:function(e,t){this.data[e]!==t&&(this.data[e]=t)},onResizeHeight:function(e,t){var i=this.options,n=i.maxHeight,s=n&&n<e;this.elements.iframe&&(t||"auto"===i.height)&&(this.elements.iframe.height=s?n:e)},onResizeWidth:function(e,t){var i=this.options;this.elements.iframe&&(t||"auto"===i.width)&&(this.elements.iframe.width=e)},onColorize:function(e){var t=this.options,i=this.elements;t.color=e,t.buildHeader&&(d(i.header,"transparent"!==e?{background:'url("'+t.uwa+a.paths.css+"themes/blueberry/img/moduleheader"+("white"!==e?"_"+e:"")+".png?v="+this.version+'") repeat-x scroll center top transparent'}:{background:null}),d(i.title,{color:"transparent"!==e?"white":"black"}))},onViewRequest:function(e){(e=e||{}).error="No view implementation in Embedded mode",this.sendRemote("onViewError",e)},getCode:function(e){var t,i,n,s,o=this.url,r=JSON.stringify,a=this.options,d={},l=["/lib/c/UWA/js/UWA_Embedded.js"],h={uwa:a.uwa,exposition:a.exposition};for(n in a)a.hasOwnProperty(n)&&"container"!==n&&null!==a[n]&&this.defaultOptions[n]!==a[n]&&(c(a[n])||(d[n]=a[n]));if(e&&1===l.length)s=['<script type="text/javascript">',"var UWA = {hosts:"+r(h)+"}, UWA_ASYNC = UWA_ASYNC || [];",'    UWA_ASYNC.push({url: "'+o+'",options:'+r(d)+"});","(function () {",'    var a = document.getElementsByTagName("script"), b = a[a.length - 1] || document.body.lastChild,','        c = b.parentNode, d = document.createElement("script"), e = document.createElement("div");','    e.id = "UWA_ASYNC"; d.type = "text/javascript"; d.async = true;','    d.src = ("https:" == document.location.protocol ? "https://" : "http://") + UWA.hosts.uwa.split("://")[1] + "'+l[0]+"?v="+this.version+'";',"    c.insertBefore(d, b); c.insertBefore(e, b)","})();","<\/script>"];else{for((s=[]).push('<script type="text/javascript"> var UWA = {hosts:'+r(h)+"}; <\/script>"),t=0,i=l.length;t<i;t++)s.push('<script type="text/javascript" src="'+a.uwa+l[t]+"?v="+this.version+'"><\/script>');s.push('<script type="text/javascript">'),s.push('var MyWidget = new UWA.Embedded("'+o+'"'+(c(d)?"":","+r(d))+");"),s.push("<\/script>")}return s.join("\n")}});return p.Instances={},p.Servers={},function(){var e,t,i;if(window.UWA_ASYNC)for(i=window.UWA_ASYNC,a.Widgets=a.Widgets||[],e=0,t=i.length;e<t;e++)a.Widgets[e]=new p(i[e].url,i[e].options||{})}(),a.namespace("Embedded",p,a)});

define("UWA/Promise",["UWA/Core","UWA/Utils","UWA/Class","UWA/Internal/Deprecate"],function(e,r,t,n){"use strict";var i=Promise;function o(e){this._promise=e instanceof i?e:new i(e)}function a(e){return function(){return o.cast(this._promise[e].apply(this._promise,arguments))}}function c(e){return function(){return o.cast(i[e].apply(i,arguments))}}var s=o.prototype=Object.create(i.prototype);return s.constructor=o,s.catch=a("catch"),s.then=a("then"),s.fail=s.catch,s.finally=function(e){var t=this;function r(){return o.cast(e()).then(function(){return t})}return this.then(r,r)},s.fin=s.finally,s.done=function(e,t){return this.then(e,t).fail(function(e){var t=o.deferred();return r.setImmediate(function(){throw r.setImmediate(function(){t.reject(e)}),e instanceof Error?e:new Error(e)}),t.promise})},s.spread=function(t,e){return this.then(function(e){return t[Array.isArray(e)?"apply":"call"](null,e)},e)},o.race=c("race"),o.all=function(e){return"number"!=typeof e.length?o.reject(new TypeError("Not an iterable")):o.cast(i.all(r.toArray(e)))},o.reject=c("reject"),o.resolve=c("resolve"),o.cast=function(e){return e instanceof o?e:e instanceof i?new o(e):o.resolve(e)},o.deferred=function(){var r={},e=new o(function(e,t){return r.resolve=e,r.reject=t,r});return r.promise=e,r},o.allSettled=function(e){return o.all(r.toArray(e).map(function(e){return e instanceof i?e.then(function(e){return{state:"fullfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fullfilled",value:e}}))},n.property(t,"Promise",{value:o,name:"UWA.Class.Promise",message:"Use UWA.Promise instead."}),e.namespace("Promise",o,e)});

define("UWA/Utils/Asset",["UWA/Promise","vendors/webcomponents/WeakMap"],function(t){"use strict";var n,s=new WeakMap;function u(e){return e.container.ownerDocument}function e(a,c){return function(i,o){return i=function(e){return(n=n||document.createElement("a")).href=e,n.href}(i),o=Object.assign({force:!1,timeout:6e4,container:document.head},o),function(e,t,n){if(t.force)return n();var r=u(t),i=s.get(r);return i||(i={},s.set(r,i)),i.hasOwnProperty(e)||(i[e]=n()),i[e]}(i,o,function(){var n,r,e=new t(function(e,t){n=c(i,o,e,t),r=setTimeout(function(){n(),t(new Error("Asset."+a+": Timeout while loading "+i))},o.timeout)});return e.fin(function(){clearTimeout(r)}),e})}}return{js:e("js",function(e,t,n,r){var i=u(t).createElement("script");return i.setAttribute("type","text/javascript"),i.addEventListener?(i.addEventListener("load",function(){n(i)}),i.addEventListener("error",function(){r(new Error("Asset.js: Error while loading "+e))})):i.attachEvent("onreadystatechange",function(){"loaded"!==i.readyState&&"complete"!==i.readyState||n(i)}),t.container.appendChild(i),i.src=e,function(){t.container.removeChild(i)}}),css:e("css",function(e,t,n,r){var i=u(t).createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.addEventListener?(i.addEventListener("load",function(){n(i.sheet)}),i.addEventListener("error",function(){r(new Error("Asset.css: Error while loading "+e))})):i.attachEvent("onload",function(){n(i.styleSheet)}),t.container.appendChild(i),i.setAttribute("href",e),function(){t.container.removeChild(i)}})}});

define("UWA/Environment",["UWA/Core","UWA/String","UWA/Array","UWA/Class","UWA/Class/Timed","UWA/Class/Events","UWA/Class/Debug","UWA/Class/Options","UWA/Utils","UWA/Element","UWA/Event","UWA/Json","UWA/Data","UWA/Internal/StringMap","UWA/Widget","UWA/Controls/Form","UWA/Controls/WidgetPopupMenu","UWA/Embedded","UWA/Promise","UWA/Utils/Client","UWA/Utils/Asset"],function(c,i,o,e,t,n,s,r,a,l,d,u,h,p,f,v,m,g,w,E,y){"use strict";function b(e){var t=c.hosts.netvibes+"/subscribe.php",n={module:"UWA",moduleUrl:e.getUrl()};return e.getPreferences().forEach(function(e){n[e.name]=e.value}),t+"?"+a.toQueryString(n)}var W,U,A,C,x,V,R=Object.create(null),S=e.extend(t,n,s,r,{name:null,inited:!1,registered:!1,launched:!1,widget:null,html:null,features:{},views:{},menuClass:m,defaultOptions:{formOptions:{nativeInputs:!1},defaultView:{type:"windowed"},initialView:null},init:function(e){var t=this;t.setOptions(e),t.html={},t.view={},t.dispatchInit()},dispatchInit:function(){var e=this;e.setPeriodical("init",function(){document.body&&!e.inited&&(e.clearPeriodical("init"),e.dispatchEvent("onInit"),e.inited=!0)},100,!0)},hasFeature:function(e,t){var n,i=c.owns(this.features,e)&&this.features[e];if(!i)return!1;if(t)for(n in t)if(c.owns(t,n)&&(!c.owns(i,n)||t[n]!==i[n]))return!1;return!0},getWidget:function(){var e=this,t=e.widget||new f;return e.widget||e.registerWidget(t),t},registerWidget:function(n){var i=this;i.widget=n,i.setPeriodical("register",function(){if(i.inited&&!i.registered){var e,t=i.html;for(e in i.clearPeriodical("register"),n.environment=i,t)t.hasOwnProperty(e)&&t[e]!==window&&(n.elements[e]=c.extendElement(t[e]));n.body=t.body,c.Widgets=c.Widgets||{},c.Widgets.instances=c.Widgets.instances||[],c.Widgets.instances.push(n),i.dispatchEvent("onRegisterWidget"),i.registerMenus(),i.registered=!0}},100,!0)},launchWidget:function(e,t){var n=this;n.setPeriodical("launch",function(){n.isDataReady()&&n.registered&&(n.clearPeriodical("launch"),n.getWidget().launch(e,t))},100,!0)},destroy:function(){var e,t,n=this,i=n.html,o=n.widget;for(e in o&&(c.Widgets.instances.splice(c.Widgets.instances.indexOf(o),1),o.destroy(),n.widget=null),n.clearDelayed(),n.clearPeriodical(),i)i.hasOwnProperty(e)&&l.destroy.call(i[e]);for(t in n.view)n.view.hasOwnProperty(t)&&n.view[t]&&n.view[t].destroy();n.removeEvent(),n.registered=!1,n.launched=!1},onInit:function(){},onRegisterWidget:function(){var i=this,t=i.html,n=i.widget;i.data=new p,t.menus&&l.addEvent.call(t.menus,"click",function(e){var t=d.getElement(e),n=i.widget.getMenu(t.getAttribute("data-name"));n&&(i.dispatchEvent("onMenuExecute",[n]),n.items&&(i.popupMenu||(i.popupMenu=new i.menuClass(i).inject(document.body)),i.popupMenu.setTarget(t).setItems(n.items).toggle()))}),t.editAction&&(l.show.call(t.editAction),l.addEvent.call(t.editAction,"click",function(e){d.stop(e),i.dispatchEvent("toggleEdit")})),t.refreshAction&&(l.show.call(t.refreshAction),l.addEvent.call(t.refreshAction,"click",function(e){d.stop(e),i.dispatchEvent("onRefresh")})),t.shareAction&&(t.shareAction.href=b(n),l.addEvent.call(t.shareAction,"click",function(e){d.stop(e),i.dispatchEvent("onOpenURL",b(n))})),t.wrapper&&l.handleExternalLinks.call(t.wrapper,function(e,t){i.dispatchEvent("onOpenURL",[e,t])}),(t.viewport||t.wrapper)&&l.addEvent.call(t.viewport||t.wrapper,"resize",function(){i.dispatchEvent("onResize")}),l.addEvent.call(document,"keydown",function(e){var t=e.which||e.keyCode;i.dispatchEvent("onKeyboardAction",[t,e])}),t.body&&[E.Engine.name,E.Engine.name+E.Engine.version,E.Platform.name,E.Features.touchEvents?"touch":"no-touch",n.readOnly&&"readonly",i.name&&"environment-"+i.name].forEach(function(e){e&&l.addClassName.call(t.body,e)}),i.dispatchEvent("onResize"),i.dispatchEvent("onViewRequest",[i.options.initialView])},registerMenus:function(){var e=this.getWidget();e.setMenu({name:"options",icon:"options"}),e.readOnly||e.setMenu({name:"options/preferences",icon:"cogwheel",label:c.i18n("Settings"),onExecute:"toggleEdit"}),e.setMenu({name:"options/refresh",icon:"refresh",label:c.i18n("Refresh"),onExecute:"onRefresh"})},onUpdateMenu:function(e){var n=this.html;n.menus&&(e=e||this.widget.menus,n.menus.empty(),e.forEach(function(e){var t;!1!==(c.is(e.visible,"function")?e.visible():!1!==e.visible)&&(t=c.createElement("span",{class:"uwa-widget-menu-button","data-name":e.name}),e.help&&(t.set("title",e.help),t.set("uwa-tooltip",i.escapeHTML(e.help))),e.icon&&t.addClassName("uwa-icon "+e.icon),e.className&&t.addClassName(e.className),t.inject(n.menus),n.header&&n.header.set("data-menus-items",n.menus.childNodes.length))}))},onMenuExecute:function(e){c.is(e.onExecute,"string")&&this.widget.dispatchEvent(e.onExecute,[e])},isDataReady:function(){return!c.Storage||c.Storage.allInstancesReady()},getAllData:function(){return this.data.getAll()},getData:function(e){return this.log("getData:"+e),this.data.get(e)},setData:function(e,t){return this.log("setData:"+e+","+t),this.data.set(e,t)},deleteData:function(e){return this.log("deleteData:"+e),this.data.remove(e)},dispatchEvent:function(e,t,n,i){this.log("environment.event:"+e);var o=this.widget;!i&&o&&this.addEventOnce(e,o.dispatchEvent.bind(o,e,t,n,!0)),this._parent(e,t,n)},loadWidget:function(e,t){return t=c.extend({onFailure:function(e){throw e},onTimeout:function(e){throw e},onComplete:function(){}},t),e=a.buildUrl(window.location.toString(),e),t.embedded?this.loadEmbeddedWidget(e,t):this.loadInlinedWidget(e,t),this},loadInlinedWidget:(V={},x=function(t,n){var e=n.expositionError||n.error||n.errors;if(!e||c.is(e,"array")&&0===e.length){(n=this.convertSourceToJson(n)).className||(n.checksum||(n.checksum=a.getCRC32(t)),n.className="w-"+n.checksum),n.style&&(a.setCss(n.className,n.style,"."+n.className,t),delete n.style),"string"==typeof n.script&&(n.script=new Function("widget",n.script)),n.styles=this.filterExternalResources("style",n.styles||[]),n.scripts=this.filterExternalResources("script",n.scripts||[]);for(var i=[];n.styles.length;)i.push(y.css(a.buildUrl(t,n.styles.shift())));for(;n.scripts.length;)i.push(y.js(a.buildUrl(t,n.scripts.shift())));w.all(i).done(function(){var e=V[t];V[t]=n,c.is(e,"array")&&o.invoke(e,"onComplete",n)},function(e){P(t,"onFailure",e)})}else P(t,"onFailure",e)},function(n,e){var t=V[n],i=e.fetcher||"XML",o=e.onComplete,s=this;return e.onComplete=function(e){var t=s.getWidget();t.uwaUrl=n,t.setTitle(e.title),t.setIcon(e.icon),t.setMetas(e.metas),t.setPreferences(e.preferences),t.setPlugins(e.plugins),t.setBody(e.body),s.html.wrapper.addClassName(e.className),e.script&&e.script(t),o(t,s)},c.is(t,"object")?e.onComplete(t):(c.is(t,"array")?t.push(e):V[n]=[e],e=c.merge({onComplete:x.bind(this,n),onTimeout:P.bind(this,n,"onTimeout"),onFailure:P.bind(this,n,"onFailure")},e),c.is(i,"function")?i.call(this,n,e):!c.is(i,"string")||4<i.length?e.onComplete(i):"JSON"===(i=i.toUpperCase())?this.fetchJsonWidget(n,e):this.fetchXmlWidget(n,e)),this}),loadEmbeddedWidget:function(e,t){var o,s,r=this,n=l.setStyle,a={cache:t.cache,container:r.html.body,displayHeader:!1,displayFooter:!1,displayEdit:!0,autoLaunch:!1};return c.is(t.embedded,"object")&&c.extend(a,t.embedded),o=new g(e,a),n.call(r.html.body,"padding",0),n.call(o.elements.body,"padding",0),r.addEvent("onRegisterWidget",function(){var n={},i={onUpdateValue:!0,onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onShowEdit:!0,onKeyboardAction:!0,onViewError:!0,onViewChange:!0,onEdit:!0,endEdit:!0,onLoad:function(){o.launch(r.getAllData(),r.getWidget().readOnly)}};Object.keys(i).forEach(function(e){var t=i[e];!0===t&&(t=o.sendRemote.bind(o,e)),n[e]=t}),r.addEvents(n)}),s=r.getWidget(),o.addEvent("onRegisterWidget",function(){var n={},i={onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onHideEdit:!0,onShowEdit:!0,onOpenURL:!0,onViewRequest:!0,onInitConfig:function(e){e.preferences&&s.setPreferences(e.preferences),e.plugins&&s.setPlugins(e.plugins),e.metas&&s.setMetas(e.metas)},onUpdatePreferences:function(e){s.setPreferences(e)},onUpdateValue:function(e,t){s.setValue(e,t)}};a.displayEdit||c.merge(i,{onEdit:!0,endEdit:!0}),Object.keys(i).forEach(function(e){var t=i[e];!0===t&&(t=function(){s.dispatchEvent(e,arguments)}),n[e]=t}),o.addEvents(n),t.onComplete(s,r)}),r.embedded=o,r},convertSourceToJson:(W=["name","defaultValue","type","label","step","min","max"],U=["label","value"],A=/(java|ecma)script$/i,C={"widget:preferences":function(i,e){T(e,function(e){var t,n={};N(e,function(e,t){-1!==W.indexOf(e)&&(n[e]=t)}),n.name&&("list"!==n.type&&"checklist"!==n.type||(t=[],T(e,function(e){var n={};N(e,function(e,t){-1!==U.indexOf(e)&&(n[e]=t)}),n.label&&t.push(n)},!0),n.options=t),i.preferences.push(n))},!0)},"widget:plugins":function(t,n){T(n,function(e){var o={name:n.getAttribute("name"),options:{}};N(e,function(e,t){o[e]=t}),T(e,function(e){var i=e.getAttribute("name"),t=e.getAttribute("value");"widget:options"===e.tagName?(o.options[i]={},T(e,function(e){var t=e.getAttribute("name"),n=e.getAttribute("value");t&&(o.options[i][t]=n)},!0)):i&&(o.options[i]=t)},!0),o.name&&t.plugins.push(o)})},link:function(e,t,n){if(n.href){var i=n.rel;"icon"===i?e.icon=n.href:"stylesheet"!==i||n.href.contains("UWA/assets")||n.href.contains("standalone.css")||n.href.contains("uwa/style.css")||e.styles.push(n.href)}},meta:function(e,t,n){var i=n.content;i="false"!==i&&("true"===i||i),e.metas[n.name]=i},script:function(e,t,n){if(n.src||(n.language||n.type)&&!A.test(n.type)&&!n.language){if(!n.src||n.src.contains("Standalone")||n.src.contains("load.js.php"))return t;e.scripts.push(n.src)}else{var i="";T(t,function(e,t){i+=t}),/UWA(\s+)?=/.test(i)||(e.script+=i)}},title:function(n,e){T(e,function(e,t){n.title+=t})},style:function(n,e){T(e,function(e,t){n.style+=t})},fallback:function(i,e,t,n){var o;return"body"===n?((o=document.createElement("div")).className=e.className,i.body=o):o=document.createElement(n),N(e,function(e,t){o.setAttribute(e,t)}),T(e,function(e,t){switch(e.nodeType){case 1:var n=L(e,i);n&&o.appendChild(n);break;case 4:case 3:o.appendChild(document.createTextNode(t))}}),o}},function(t){if(c.is(t,"string"))try{t=a.loadXml(t)}catch(e){c.log("Invalid UWA XHTML source detected, fallback on HTML parsor."),t=a.loadHtml(t)}var e;return c.is(t,"object")?e=t:L(t,e={title:"",icon:"",preferences:[],plugins:[],metas:{},body:[],script:"",scripts:[],style:"",styles:[]}),e}),fetchJsonWidget:function(o,s){o in R||(R[o]=new w(function(e,t){var n,i={mode:"full",uwaUrl:o};c.debug&&(i.flush=1,i.mode="full_debug"),n=(s.server||c.hosts.exposition)+"/widget/json",u.request(n,{data:i,onComplete:e,onFailure:t,useJsonpRequest:!0,callback:o})})),R[o].then(s.onComplete,s.onError)},fetchXmlWidget:function(e,t){h.request(e,{cache:t.cache,type:"text",onFailure:t.onFailure,onTimeout:t.onTimeout,onComplete:t.onComplete})},filterExternalResources:function(e,t){return t},onRefresh:function(){var e=this.getWidget();e.data={},e.hasEvent("onRefresh")||e.dispatchEvent("onLoad",void 0,void 0,!0)},onUpdateIcon:function(e){var t=this.html;function n(){t.iconLoader.destroy(),delete t.iconLoader}t.icon&&(t.iconLoader&&n(),t.iconLoader=c.createElement("img",{styles:{display:"none"},events:{load:function(){t.icon.getElement("img").setAttribute("src",e),n()},error:function(){n()}}}).inject(this.html.wrapper),t.iconLoader.setAttribute("src",e))},onUpdateTitle:function(e){var t=this.html.title;t&&t.setHTML(e)},onUpdateCounter:function(e){var t=this.html.counter;t&&t.setText(e?"("+(!0===e?"":e)+")":"")},onEdit:function(){var i=this,e=i.html,o=i.getWidget(),t=o.metas,n=o.getPreferences();if(e.edit){if(e.edit.empty(),o.hasPreferences()){if(e.preferences){var s=e.preferences.getFormValues();n.forEach(function(e){c.is(s[e.name])&&(e.value=s[e.name])})}n.push({type:"submit",name:"endEdit",value:c.i18n("Done")}),e.preferences&&e.preferences.destroy(),e.preferences=new v({nativeInputs:this.options.formOptions.nativeInputs,darkBackground:this.options.formOptions.darkBackground,fields:n,events:{onChange:function(e,t,n){o.setValue(t,n),i.embedded?i.embedded.sendRemote("dispatchEvent",e,t,n):i.dispatchEvent(e,[t,n])},onSubmit:function(e,t){var n=!1;i.addEventOnce("onUpdateValue",function(){n=!0}),Object.keys(t).forEach(function(e){o.setValue(e,t[e])}),i.dispatchEvent("endEdit"),n&&i.dispatchEvent("onRefresh")}}}).inject(e.edit)}t.author&&e.edit.addContent({tag:"div",class:"moduleInfos",html:[{tag:"p",html:[c.i18n("Widget by")+" ",{tag:"strong",html:t.website?{tag:"a",href:t.website,text:t.author}:{tag:"span",text:t.author}}]}]})}i.dispatchEvent("onShowEdit")},onShowEdit:function(){var e=this.html;e.wrapper&&e.wrapper.addClassName("onEdit")},endEdit:function(){this.dispatchEvent("onHideEdit")},onHideEdit:function(){var e=this.html;e.wrapper&&e.wrapper.removeClassName("onEdit")},onCloseEdit:function(){this.html.preferences.destroy(),this.html.preferences=null},onOpenURL:function(e){if(e=a.parseUrl(e),!window.open(e.source,"_blank"))return window.alert(i.format(c.i18n('Unable to open "{0}", Please turn off your popup blocker and try again.'),i.truncate(e.source,50))),!1},onViewRequest:function(e){var t,n=this;e=e||n.options.defaultView,e=c.clone(e),n.view.current&&n.view.current.event&&(e.previous=c.clone(n.view.current.event),delete e.previous.previous),n.view.current&&n.view.current.matchEvent(e)?k(n,e,"This view is already active."):(t=function e(t,n){var i=t.views[n.type],o=i&&new i(t,n);return o&&o.addEvents({onEnter:function(){t.view.next===this&&(O(t.view,"current",this),this.isSingle()&&(S._currentSingleView=this),t.view.next=null,k(t,this.event))},onLeave:function(){t.view.current===this&&(S._currentSingleView===this&&(S._currentSingleView=null),t.view.next||(t.view.next=e(t,t.options.defaultView)),t.view.next.enter())},onError:function(e){t.view.next===this&&(O(t.view,"next"),t.view.current.enter()),k(t,this.event,e)}})}(n,e))?t.isSingle()&&S._currentSingleView&&S._currentSingleView!==n.view.current?(k(n,e,"An environment is already in single view."),t.destroy()):(O(n.view,"next",t),n.view.current?n.view.current.leave():n.view.next.enter()):k(n,e,'No implementation available for the view "'+e.type+'".')},onViewChange:function(e){this.getWidget()._view=e},onViewError:function(e){this.log("View error: "+u.encode(e))}});function k(e,t,n){n&&(t.error=n),e.dispatchEvent(n?"onViewError":"onViewChange",[t])}function O(e,t,n){e[t]&&e[t].destroy(),e[t]=n}function T(e,t,n){var i,o,s,r=[].slice.call(e.childNodes);for(i=0,o=r.length;i<o;i++)s=r[i],n&&1!==s.nodeType||t(s,s.nodeValue)}function N(e,t){var n,i,o,s=e.attributes||[];for(n=0,i=s.length;n<i;n++)t((o=s[n]).name,o.value)}function L(e,t){9===e.nodeType&&(e=e.childNodes[0]);var n=e.nodeName.toLowerCase(),i={};return N(e,function(e,t){i[e]=t}),C[C.hasOwnProperty(n)?n:"fallback"](t,e,i,n)}function P(e,t,n){V[e]&&(o.invoke(V[e],t,n),delete V[e])}return S.AbstractView=e.extend(n,{event:null,environment:null,init:function(e,t){this.environment=e,this.event=t},destroy:function(){this.removeEvents(),S._currentSingleView===this&&(S._currentSingleView=null)},enter:function(){this.dispatchEvent("onEnter")},leave:function(){this.dispatchEvent("onLeave")},isSingle:function(){return!1},matchEvent:function(e){return this.event.type===e.type},onEnter:function(){var e=this.environment.html;e.wrapper&&e.body&&o.invoke([e.wrapper,e.body],"addClassName",this.event.type+"-view")},onLeave:function(){var e=this.environment.html;e.wrapper&&e.body&&o.invoke([e.wrapper,e.body],"removeClassName",this.event.type+"-view")}}),S.prototype.views.windowed=S.AbstractView.extend({}),E.Features.fullscreen&&(S.prototype.views.fullscreen=S.AbstractView.extend({enter:function(){var e,t=this,n=t.getTarget();e={fullscreenchange:function(){document.fullscreenElement===n?t.dispatchEvent("onEnter"):(t.dispatchEvent("onLeave"),l.removeEvents.call(document,e))},fullscreenerror:function(){t.dispatchEvent("onError",["Error while trying to set the fullscreen"]),l.removeEvents.call(document,e)}},l.addEvents.call(document,e),n.requestFullscreen()},leave:function(){document.fullscreenElement===this.getTarget()?document.exitFullscreen():this.dispatchEvent("onLeave")},isSingle:function(){return!0},getTarget:function(){var e=this.environment.html;return e.content||e.body}})),c.namespace("Environment",S,c)});

define("UWA/Class/Promise",["UWA/Core","UWA/Promise","UWA/Internal/Deprecate"],function(e,s,r){"use strict";return r.warn("Module UWA/Class/Promise","Use UWA/Promise instead"),e.namespace("Class/Promise",s,e,"replace")});

define("UWA/Controls/Scroller",["UWA/Core","UWA/Class/Timed","UWA/Controls/Abstract","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Fx"],function(S,e,t,h,f,b,w){"use strict";var c,s=/input|textarea|select/i,r=/auto|scroll/i,l=h.Features,a=h.Platform,u=5.1<=h.Engine.version&&Boolean(a.ios);function P(e){return e>>0}function x(e){var t,o,i=!0,n=f.getElement(e);return n&&(t=n.getTagName(),o=n.getStyle("overflow"),i=t&&!t.match(s)&&!o.match(r)),i}function E(e){var t=e.type;return-1!==t.indexOf("mouse")?"mouse":-1!==t.indexOf("touch")?"touch":-1!==t.indexOf("ointer")?"pointer":"none"}function p(e,t,o){"init"===e?b.addEvents.call(t,{touchstart:o,mousedown:o,MSPointerDown:o}):"start"===e?b.addEvents.call(t,{touchmove:o,mousemove:o,MSPointerMove:o,touchend:o,touchcancel:o,mouseup:o,MSPointerUp:o}):"stop"===e?b.removeEvents.call(t,{touchmove:o,mousemove:o,MSPointerMove:o,touchcancel:o,touchend:o,mouseup:o,MSPointerUp:o}):"destroy"===e&&b.removeEvents.call(t,{touchstart:o,mousedown:o,MSPointerDown:o,touchmove:o,mousemove:o,MSPointerMove:o,touchcancel:o,touchend:o,mouseup:o,MSPointerUp:o})}return(c=t.extend(e,{name:"uwa-scroller",position:null,direction:null,scroll:null,maxScroll:null,scroller:null,maxPage:null,scrollBars:null,isScrolling:!1,isTracking:!1,isDragging:!1,isPulling:!1,enabled:!0,defaultOptions:{className:"",width:"",height:"",bounce:!1,momentum:!1,snap:!1,threshold:6,lockDirection:!0,scrollableX:!0,scrollableY:!0,scrollbarH:!0,scrollbarV:!0,scrollTime:250,scrollSize:40,scrollDrag:l.dragAndDrop&&!a.blackberry,useTransform:l.transitionsCSS&&!a.webos,useNative:a.blackberry,isTouch:l.touchEvents,has3d:l.cssMatrix,preventDefaultMouseWheel:!1,debugPixel:!1},init:function(e,t){var o=this;o._parent(t),t=o.options,S.extend(o,{position:{x:0,y:0},direction:{x:0,y:0},scroll:{x:!1,y:!1,width:0,height:0},maxScroll:{x:0,y:0},scroller:{width:0,height:0},page:{x:0,y:0},maxPage:{x:0,y:0},scrollBars:{x:null,y:null}}),t.useNative?o.buildNative(e):o.buildSkeleton(e),o.initEvents(),o.setPosition(0,0,0,!0)},destroy:function(){var e=this,t=e.elements,o=t.element,i=t.scroller,n=t.wrapper,s=t.scrollerParent,r=e.eventHandler;c.activeScroller===e&&delete c.activeScroller,o&&(b.removeEvent.call(o,"resize",r),b.inject.call(o,i,"before")),s&&b.removeEvent.call(s,"resize",r),p("destroy",i,e.eventHandler),b.removeEvents.call(i,{keydown:r,mousewheel:r}),i.destroy(),n.destroy()},setOptions:function(e){this._parent(e);var t=(e=this.options).snap;return e.snap=!0===t?{x:null,y:null}:"number"==typeof t?{x:t,y:t}:t,this},buildNative:function(e){var t=this,o=a.android||a.blackberry||u?"scroll":"auto",i=t.options,n=t.elements={element:e,scroller:S.createElement("div",{class:t.getClassNames("","-native"),styles:{overflow:o,overflowScrolling:"touch",zIndex:"0",position:"relative",height:i.height||"100%",width:i.width||"100%",userSelect:"none",zoom:"1"}}),wrapper:S.createElement("div",{class:i.className+"-wrapper"}),ghost:S.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:i.debugPixel?1:0},events:{click:function(e){return f.stop(e),!1}}})};n.scroller.style.webkitOverflowScrolling="touch",t.body=!1===i.body?n.scroller:i.body||document.body,n.scroller.inject(e,"before"),n.wrapper.inject(n.scroller),n.ghost.inject(n.scroller),e.inject(n.wrapper),n.scrollerParent=n.scroller.getParent(),n.scroller.addEvent("scroll",function(){t.position=t.getPosition(),t.setAnimate("onScroll",function(){t.triggerOnScroll(),t.triggerOnScrollEnd()})}),t.onRefresh()},buildSkeleton:function(e){var t=this,o=t.options,i=t.scrollBars,n=t.elements={element:e,scroller:S.createElement("div",{class:t.getClassNames("","-fake"),tabindex:"0",styles:{overflow:"hidden",position:"relative",userSelect:"none",outline:0,zoom:"1"}}),wrapper:S.createElement("div",{class:o.className+"-wrapper",styles:{width:"100%",height:"100%",position:"relative"}}),ghost:S.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:o.debugPixel?1:0},events:{click:function(e){f.stop(e),t.updateGhostPosition({y:0,x:0})}}})};t.body=o.body||h.Engine.ie?document.body:window,n.scroller.addContent([n.wrapper,n.ghost]).inject(e,"before"),e.inject(n.wrapper),n.scrollerParent=n.scroller.getParent(),i.x=o.scrollableX&&o.scrollbarH&&new c.Scrollbar(S.extend({dir:"horizontal"},o.scrollbar),t),i.y=o.scrollableY&&o.scrollbarV&&new c.Scrollbar(S.extend({dir:"vertical"},o.scrollbar),t),t.onRefresh()},initEvents:function(){var e,t=this,o=t.options,i=t.elements;e=t.eventHandler=t.handleEvent.bind(t),i.scroller.addEvents({keydown:e,mousewheel:e}),o.scrollDrag&&(p("init",i.scroller,t.eventHandler),t.setCursor("grab"),i.scroller.addEvents({mousemove:f.preventDefault,touchmove:f.preventDefault})),i.element.addEvent("resize",e),i.scrollerParent.addEvent("resize",e)},handleEvent:function(e){var t,o=this;switch(e.type){case"touchstart":case"mousedown":case"MSPointerDown":t=o.dispatchEvent("onScrollInit",[e]);break;case"touchmove":case"mousemove":case"MSPointerMove":t=o.dispatchEvent("onScrollMove",[e]);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":t=o.dispatchEvent("onScrollStop",[e]);break;case"DOMMouseScroll":case"onmousewheel":case"mousewheel":t=o.dispatchEvent("onMouseWheel",[e]);break;case"keydown":t=o.dispatchEvent("onKeyDown",[e]);break;case"DOMSubtreeModified":case"orientationchange":case"resize":t=o.dispatchEvent("onRefresh",[e])}return t},scrollTo:function(e,t,o){var i,n=this.options;o=isNaN(o)?n.scrollTime:o,this.options.snap&&(e=(i=this.snap(e,t)).x,t=i.y,o=Math.min(i.time,o)),this.setPosition(e,t,o)},scrollToPage:function(e,t,o){var i=this,n=i.options,s=i.getPage(),r=i.position,l=i.getSnapSize();n.snap||(s.x=-P(r.x/l.x),s.y=-P(r.y/l.y)),"next"===e?e=++s.x:"prev"===e&&(e=--s.x),"next"===t?t=++s.y:"prev"===t&&(t=--s.y),e=!1!==e?-e*l.x:r.x,t=!1!==t?-t*l.y:r.y,o=isNaN(o)?n.scrollTime:o,e=(l=i.snap(e,t)).x,t=l.y,o=Math.min(l.time,o),i.setPosition(e,t,o)},scrollToElement:function(e,t,o){"string"==typeof t?t={x:t,y:t}:void 0===t&&(t={x:"center",y:"center"});var i,n,s,r,l=this,a=l.scroll,c=l.maxScroll,h=b.getPosition.call(e,l.elements.wrapper),u=b.getDimensions.call(e),x=l.getSnapSize(),p={x:a.width,y:a.height},d={};for(u={x:u.outerWidth,y:u.outerHeight},i=0;i<2;i+=1)a[n=i?"x":"y"]?(s=-h[n],"center"===t[n]?s+=(p[n]-u[n])/2:"end"===t[n]&&(s+=p[n]-u[n])):s=0,r=s<c[n],s=0<s?0:r?c[n]:s,!r&&l.options.snap&&(s=Math[i?"floor":"round"](s/x[n])*x[n]),s<c[n]&&(s=c[n]),d[n]=s;l.setPosition(d.x,d.y,o)},setPosition:function(e,t,o,i){var n,s,r=this,l=r.options,a=r.scrollBars,c=r.scroll,h=r.getPosition();o=isNaN(o)?l.scrollTime:o,s={x:e,y:t},l.bounce||(s=r.bounce(s)),n={x:h.x-s.x,y:h.y-s.y},r.direction={x:0===n.x?0:0<n.x?-1:1,y:0===n.y?0:0<n.y?-1:1},0===n.x&&0===n.y||(r.scrollToPosition(s,o),a.x&&c.x&&0!==n.x&&a.x.setPosition(s.x,o,i),a.y&&c.y&&0!==n.y&&a.y.setPosition(s.y,o,i),!r.isPulling&&(r.isMaxPosition("x")&&0!==n.x||r.isMaxPosition("y")&&0!==n.y)&&r.dispatchEvent("onScrollPull"))},stopScroll:function(){this.scrollToPosition(this.getPosition(!0),0)},scrollToPosition:function(e,t){t=t||0;var o,i,n=this,s=n.elements,r=s.scroller,l=s.wrapper,a=n.options;n.triggerOnScrollStart(),n.position=e,a.useNative?(r.scrollTop=-e.y,r.scrollLeft=-e.x,n.triggerOnScroll(),n.triggerOnScrollEnd()):a.useTransform?(l.removeEvent("transitionEnd"),0<t&&l.addEvent("transitionEnd",function(){l.removeEvent("transitionEnd"),n.triggerOnScrollEnd()}),i={transformOrigin:"0 0",transform:"translateZ(0)",fontSmoothing:"antialiased",perspective:800,transformStyle:"preserve-3d",transitionDelay:"0ms",transitionDuration:t+"ms",transitionProperty:l.getStyleName("transform",!0),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1)"},a.has3d?i.transform="translate3d("+e.x+"px,"+e.y+"px, 0)":i.transform="translate("+e.x+"px,"+e.y+"px)",l.setStyles(i),0===t&&n.triggerOnScrollEnd()):((o=n.fx=n.fx||new w(l,{transition:"cubicOut",wait:!1,events:{onComplete:function(){n.triggerOnScrollEnd()},onAnimate:function(){n.triggerOnScroll()}}})).setOptions({duration:t}),o.start({top:e.y,left:e.x}))},triggerOnScrollStart:function(){var t=this,e=t.options,o=t.isScrolling;t.clearDelayed("onScrollEnd"),o||(t.dispatchEvent("onScrollStart"),(e.useNative||e.useTransform)&&t.setAnimate("onScroll",function e(){t.triggerOnScroll(),t.setAnimate("onScroll",e)})),t.dispatchEvent("onScroll")},triggerOnScroll:function(){this.dispatchEvent("onScroll")},triggerOnScrollEnd:function(){var e=this,t=e.options;e.setDelayed("onScrollEnd",function(){(t.useNative||t.useTransform)&&e.clearAnimate("onScroll"),e.dispatchEvent("onScrollEnd")},100)},getPosition:function(e){var t,o,i=!1,n=this.options,s=this.elements;if(n.useNative)o={y:-s.scroller.scrollTop,x:-s.scroller.scrollLeft};else if(n.useTransform){if(o={y:0,x:0},(t=b.getStyle.call(s.wrapper,"transform",!0))&&"none"!==t)if(l.matrixCSS)try{o={y:(t=new(window.WebKitCSSMatrix||window.MSCSSMatrix||window.MOZCSSMatrix||window.CSSMatrix)(t)).f,x:t.e}}catch(e){}else i=0===t.indexOf("matrix3d"),t=t.replace(/[^0-9-.,]/g,"").split(","),o={y:Number(t[i?13:5]),x:Number(t[i?12:4])};e&&(o={x:P(o.x),y:P(o.y)})}else o={y:(e?parseInt:parseFloat)(s.wrapper.style.top||0,10),x:(e?parseInt:parseFloat)(s.wrapper.style.left||0,10)};if(isNaN(o.x)||isNaN(o.y))throw new Error("Invalid scroller position");return o},getResetPosition:function(){var e=this.scroll,t=this.getPosition(),o=this.maxScroll,i=t.x,n=t.y;return 0<=t.x||!e.x?i=0:t.x<o.x&&(i=o.x),0<t.y||!e.y?n=0:t.y<o.y&&(n=o.y),{x:P(i),y:P(n)}},isInViewport:function(e,t,o){var i,n,s=this.elements.wrapper,r=b.getOffsets,l=b.getDimensions,a=r.call(s,!0),c=r.call(e),h=l.call(s),u=l.call(e),x=this.getPosition(),p=h.outerHeight,d=h.outerWidth,g=u.width,y=u.height,m=c.y,v=c.x;return a.y=a.y-x.y,a.x=a.x-x.x,n=t?(i=v<a.x+d&&v+g>a.x,m<a.y+p&&m+y>a.y):(i=v>=a.x&&v+g<=a.x+d,m>=a.y&&m+y<=a.y+p),"x"===o?i:"y"===o?n:i&&n},isMaxPosition:function(e,t,o){t=t||this.getPosition(),o=o||this.direction[e];var i=this.maxScroll;return 0<o?0<=t[e]:t[e]<=i[e]},hasOverflow:function(e){var t=this.scroll,o=this.scroller,i=t.width<o.width,n=t.height<o.height;return"x"===e?i:"y"===e?n:i||n},setSize:function(e){var t=this.options,o=!1;t.width!==e.width&&(o=!0,this.setOption("width",e.width)),t.height!==e.height&&(o=!0,this.setOption("height",e.height)),o&&this.dispatchEvent("onRefresh")},setCursor:function(e){var t=this.scroll;"grabbing"!==e||t.x&&t.y||(e=t.x?"col-resize":"row-resize"),this.elements.scroller.setStyle("cursor",e)},focus:function(){return this.elements.scroller&&this.elements.scroller.focus(),this},updateGhostPosition:function(e){var t=this.elements,o=t.scroller.getOffsets();this.options.useNative&&(o.y-=t.scroller.scrollTop,o.x-=t.scroller.scrollLeft),t.ghost.setStyles({top:e.y-o.y-5,left:e.x-o.x-5})},createDebugPixel:function(e,t,o,i){var n,s=this,r=s.elements;s.options.debugPixel&&(s.debugPixels=s.debugPixels||[],i&&s.debugPixels.forEach(function(e){e.remove()}),n=r.scroller.getOffsets(),s.options.useNative&&(n.y-=r.scroller.scrollTop,n.x-=r.scroller.scrollLeft),s.debugPixels.push(S.createElement("div",{title:(o||"")+" x:"+e.x+" y:"+e.y,styles:{height:"4px",width:"4px",background:t||"red",position:"absolute",zIndex:"1",top:e.y-n.y-2,left:e.x-n.x-2}}).inject(r.scroller)))},getPage:function(){var e,t,o,i=this.getPosition(),n=this.getSnapSize(),s=this.maxScroll,r={};for(t=0;t<2;t++)e=i[o=t?"x":"y"]/n[o],r[o]=-e,e*=n[o],isNaN(e)||0<e?r[o]=0:e<s[o]&&(r[o]=this.maxPage[o]);return r},getSnapSize:function(){var e=this.options.snap,t=this.scroll;return{x:e&&e.x||t.width,y:e&&e.y||t.height}},getScrollSize:function(){var e=this.options,t=e.snap;return{x:t&&t.x||e.scrollSize,y:t&&t.y||e.scrollSize}},bounce:function(e){var t,o,i=this.maxScroll;for(t=0;t<2;t+=1)(0<=e[o=t?"x":"y"]||e[o]<i[o])&&(e[o]=0<=e[o]||0<=i[o]?0:i[o]);return e},momentum:function(e,t,o,i,n){var s,r,l,a,c,h,u,x,p,d,g=this.scroll,y=this.scroller,m={x:e,y:t},v={x:0,y:0},S={x:Number(m.x),y:Number(m.y),time:n};for(s=0;s<2;s++)l=s?"width":"height",c=i[r=s?"x":"y"]-o[r],g[r]&&n<=350&&0!=c&&(x=(a=Math.min(Math.abs(c)/n,1.9))*a/.0012,u=g[l],p=-m[r],d=y[l]-g[l]+m[r],h=u/(6/(x/a*6e-4)),0<c&&p<x?(a=a*(p+=h)/x,x=p):c<0&&d<x&&(a=a*(d+=h)/x,x=d),S[r]=P(m[r]+x*(c<0?-1:1)),v[r]=a/6e-4);return S.time=Math.max(v.y,v.x),S},snap:function(e,t,o){var i,n,s,r,l,a=this,c=a.getPage(),h=a.getSnapSize(),u=a.maxScroll,x={x:e,y:t};for(l={x:0===(r={x:(o=o||a.position).x-e,y:o.y-t}).x?0:0<r.x?-1:1,y:0===r.y?0:0<r.y?-1:1},n=0;n<2;n++)0!==r[s=n?"x":"y"]&&(i=Math[l[s]<0?"floor":l[s]?"ceil":"round"](x[s]/h[s]),c[s]=-i,i*=h[s],isNaN(i)||0<i?i=c[s]=0:i<u[s]&&(c[s]=a.maxPage[s],i=u[s]),x[s]=i);return x.time=P(Math.max(Math.abs(o.x-x.x)/h.x*500,Math.abs(o.y-x.y)/h.y*500)),x},onScrollInit:function(e){var t,o,i,n,s=this,r=s.options;!f.isDefaultPrevented(e)&&function(e){return!c.activeScroller||c.activeScroller===e}(s)&&function(e){return e.scroll.x||e.scroll.y||e.options.bounce}(s)&&function(e){return"touchstart"===e.type||0===f.whichButton(e)}(e)&&x(e)&&(o=E(e),i=f.getPosition(e),n=e.timeStamp,t=s.getPosition(!0),c.activeScroller=s,"mouse"===o&&f.stop(e),s.createDebugPixel(i,"green","onScrollInit",!0),s.isTracking=o,p("start",s.body,s.eventHandler),(s.isPulling||s.isScrolling)&&s.updateGhostPosition(i),s.scrollStart={time:n,position:t,event:i},s.scrollMove={time:n,direction:!1,event:i},s.positions=[],r.momentum&&s.isScrolling&&s.setDelayed("stopOnScrollInit",function(){var e=s.getPosition(!0);!1!==s.isDragging||e.x===t.x&&e.y===t.y||(s.setPosition(t.x,t.y,0),s.createDebugPixel(i,"purple","stopOnScrollInit"))},150),s.setDelayed("focusOnScrollInit",function(){var e=s.elements.scroller,t=e.getDocument().activeElement;t&&b.isInjected.call(t,e)||s.focus()},75),s.setCursor("grabbing"))},onScrollMove:function(e){var t,o,i,n,s,r,l,a,c,h,u,x,p=this,d=p.options,g=p.positions,y=f.getPosition(e),m=d.lockDirection?d.threshold:0,v=d.threshold;p.isTracking===E(e)&&(f.stop(e),p.updateGhostPosition(y),p.clearDelayed("stopOnScrollInit"),p.isDragging?(n=p.scrollMove,o=p.maxScroll,t=S.clone(p.position),r=e.timeStamp,a=y.y-n.event.y,u=0==(l=y.x-n.event.x)?0:0<l?-1:1,x=0==a?0:0<a?-1:1,p.enableScrollX&&(t.x+=l,(t.x<o.x||0<t.x)&&(d.bounce?t.x-=l/2:t.x<o.x?t.x=o.x:t.x=0)),p.enableScrollY&&(t.y+=a,(t.y<o.y||0<t.y)&&(d.bounce?t.y-=a/2:t.y<o.y?t.y=o.y:t.y=0)),60<g.length&&g.splice(0,30),g.push(t.x,t.y,r),p.setPosition(t.x,t.y,0),p.scrollMove.direction&&(p.enableScrollX&&0!==n.direction.x&&n.direction.x!==u||p.enableScrollY&&0!==n.direction.y&&n.direction.y!==x)?(p.createDebugPixel(y,"yellow","onScrollMove:directionChange"),p.scrollStart={time:r,position:t,event:y}):p.createDebugPixel(y,"orange","onScrollMove:isDragging"),p.scrollMove={time:r,direction:{x:u,y:x},position:t,event:y}):(i=p.scroll,s=p.scrollStart,c=Math.abs(y.x-s.event.x),h=Math.abs(y.y-s.event.y),p.enableScrollX=i.x&&m<=c,p.enableScrollY=(i.y||!i.x&&!i.y)&&m<=h,p.isDragging=(p.enableScrollX||p.enableScrollY)&&(v<=c||v<=h),p.isDragging&&p.isScrolling&&p.stopScroll(),p.createDebugPixel(y,"red","onScrollMove:notDragging")))},onScrollStop:function(e){var t,o,i,n,s,r=this,l=r.options,a=l.scrollTime;r.isTracking===E(e)&&(r.isTracking=!1,c.activeScroller===r&&delete c.activeScroller,p("stop",r.body,r.eventHandler),n=f.getPosition(e),t=r.getResetPosition(!0),s=e.timeStamp,r.createDebugPixel(n,"blue","onScrollMove"),r.setCursor("grab"),r.isDragging&&(r.isDragging=!1,i=r.scrollStart,r.scrollEnd=o={time:s,position:t,event:n},f.stop(e),r.updateGhostPosition(n),o.event.x===i.event.x&&o.event.y===i.event.y||(l.momentum&&(t=r.momentum(t.x,t.y,i.event,o.event,o.time-i.time),a=Math.max(t.time,a)),l.snap&&(t=r.snap(t.x,t.y,i.position),a=Math.max(t.time,a)))),r.setPosition(t.x,t.y,a,!1),r.positions.length=0,r.scrollStart=null,r.scrollMove=null,r.scrollEnd=null,r.setDelayed("resetGhostPosition",function(){r.updateGhostPosition({x:0,y:0})},500))},onScrollStart:function(){this.isScrolling=!0},onScroll:function(){},onScrollEnd:function(){var n=this,e=n.options;n.isScrolling&&(n.isScrolling=!1,e.useTransform&&n.elements.wrapper.removeEvent("transitionEnd",n.eventHandler)),n.isTracking||(n.isPulling=!1,n.setAnimate("onResetPosition",function(){var e,t=n.getResetPosition(),o=n.getPosition(),i=n.scrollBars;n.options.snap&&(e=n.snap(t.x,t.y),t.x=e.x,t.y=e.y),o.x!==t.x||o.y!==t.y?n.setPosition(t.x,t.y):(i.x&&i.x.onScrollEnd(),i.y&&i.y.onScrollEnd())}))},onScrollPull:function(){this.isPulling=!0},onKeyDown:function(e){var t=this,o=t.position,i=t.scroll,n=t.getScrollSize(),s=e.keyCode,r=38===s,l=37===s,a=40===s||r?"y":(39===s||l)&&"x",c=r||l?1:-1,h={x:o.x,y:o.y};i[a]&&x(e)&&!t.isMaxPosition(a,o,c)&&(f.stop(e),h[a]+=c*n[a],t.scrollTo(h.x,h.y))},onMouseWheel:function(e){var t=this,o=t.options,i=t.position,n=t.scroll,s=n.x&&!n.y||"shift"===f.whichKey(e)?"x":"y",r=t.getScrollSize(),l=f.wheelDelta(e),a={x:i.x,y:i.y};l&&n[s]&&!t.isMaxPosition(s,i,l)?(f.stop(e),a[s]+=l*r[s],t.scrollTo(a.x,a.y)):o.preventDefaultMouseWheel&&f.stop(e)},onRefresh:function(){if(!this.elements.scroller.isInjected()||this.isScrolling)return!1;var e,t,o,i,n=this,s=n.options,r=n.elements,l=n.position,a=n.scrollBars,c=b.getScrolls.call(r.element),h=b.getDimensions.call(r.scrollerParent);if(o={width:c.width,height:c.height},(t={width:s.width||h.innerWidth,height:s.height||h.innerHeight}).width===n.scroll.width&&t.height===n.scroll.height&&o.width===n.scroller.width&&o.height===n.scroller.height)return!1;!(i={})!==s.scrollableX&&(i.width=t.width),!1!==s.scrollableY&&(i.height=t.height),r.scroller.setStyles(i),t.x=s.scrollableX&&t.width<c.width,t.y=s.scrollableY&&t.height<c.height,n.maxScroll={x:o.width<t.width?0:t.width-o.width,y:o.height<t.height?0:t.height-o.height},n.maxPage={x:Math.ceil(o.width/t.width),y:Math.ceil(o.height/t.height)},n.scroll=t,n.scroller=o,a.x&&a.x.setSize(t.width,o.width),a.y&&a.y.setSize(t.height,o.height),e=n.getResetPosition(),n.moved||e.x===l.x&&e.y===l.y||n.setPosition(e.x,e.y,0,!0),r.scroller.toggleClassName("scrollable",t.y||t.x),r.scroller.toggleClassName("scrollable-x",t.x),r.scroller.toggleClassName("scrollable-y",t.y)}})).Scrollbar=t.extend({name:"uwa-scroller-scrollbar",defaultOptions:{className:"",barColor:"#555",bgColor:"#EEE",opacity:1,dir:"vertical",padding:2,width:6,roundCorder:!0,autoHide:!0,draggable:!0,elastic:!1,debugPixel:!1},position:{x:0,y:0},scroller:null,visible:!0,init:function(e,t){this._parent(e),this.scroller=t,this.buildSkeleton(),this.initEvents(),this.options.autoHide&&this.hide()},destroy:function(){this.elements.wrapper.remove()},createDebugPixel:function(e,t,o,i){var n,s=this,r=s.isHorizontal,l=s.elements;s.options.debugPixel&&(s.debugPixels=s.debugPixels||[],i&&s.debugPixels.forEach(function(e){e.remove()}),n=l.wrapper.getOffsets(),s.debugPixels.push(S.createElement("div",{title:(o||"")+" x:"+e.x+" y:"+e.y,styles:{height:"2px",width:"4px",background:t||"red",position:"absolute",zIndex:"11",top:r?0:e.y-n.y-2,left:r?e.x-n.x-2:0}}).inject(s.scroller.elements.scroller)))},buildSkeleton:function(){var e,t,o=this,i=o.options,n=o.scroller.options,s="horizontal"===i.dir,r=parseInt(i.padding,10),l=parseInt(i.width,10),a=i.roundCorder?P(i.width/2*100/100):0,c=o.scroller.elements.scroller;o.isHorizontal=s,o.axis=s?"x":"y",o.reverseAxis=s?"y":"x",o.elements.wrapper=t=S.createElement("div",{class:o.getClassNames("","-"+i.dir),styles:{zIndex:"10",position:"absolute",overflow:"hidden",opacity:i.opacity}}).inject(c),i.bgColor&&t.setStyle("background",i.bgColor),s?t.setStyles({bottom:r+"px",left:r+"px",height:l+"px"}):t.setStyles({top:r+"px",right:r+"px",width:l+"px"}),o.elements.bar=e=S.createElement("div",{styles:{background:i.barColor,zIndex:"10",position:"absolute",top:0,left:0}}).inject(t),h.Engine.ie<7&&e.setHTML("&nbsp;&nbsp;&nbsp;"),s?e.setStyles({borderRadius:a+"px "+a+"px",width:l+"px",minWidth:l+1+"px",minHeight:l+"px"}):e.setStyles({borderRadius:a+"px "+a+"px",height:l+"px",minWidth:l+"px",minHeight:l+1+"px"}),i.useTransform&&(e.setStyles({transformOrigin:"0 0",transform:"translateZ(0)"}),n.has3d&&e.setStyles({perspective:800,transformStyle:"preserve-3d"}))},initEvents:function(){var e=this,t=e.options,o=e.elements;e.eventHandler=e.handleEvent.bind(e),t.draggable&&(p("init",o.bar,e.eventHandler),o.bar.setStyle("cursor","grab")),t.autoHide&&o.wrapper.addEvents({mouseenter:function(){e.focused=!0,e.show()},mouseleave:function(){e.focused=!1,e.hide()}})},handleEvent:function(e){var t;switch(e.type){case"touchstart":case"mousedown":t=this.dispatchEvent("onScrollInit",[e]);break;case"touchmove":case"mousemove":t=this.dispatchEvent("onScrollMove",[e]);break;case"touchend":case"touchcancel":case"mouseup":t=this.dispatchEvent("onScrollStop",[e])}return t},setSize:function(e,t){var o=this,i=o.options,n=o.scroller.scroll,s=o.isHorizontal,r=s?n.y:n.x,l=parseInt(i.width,10),a=parseInt(i.padding,10);t<=e?o.hide(!0):(i.autoHide||o.show(),o.maxSize=P(e-2*a-(r?l:0)),o.minSize=l,o.size=Math.min(Math.max(o.maxSize*o.maxSize/t,3*l),o.maxSize),o.maxScroll=o.maxSize-o.size,o.minScroll=0,o.toWrapperProp=o.maxScroll/(e-t),o.toPropWrapper=t/o.maxSize,o.elements.wrapper.setStyle(s?"width":"height",o.maxSize+"px"),o.elements.bar.setStyle(s?"width":"height",o.size+"px"))},onScrollInit:function(e){f.stop(e);var t=this,o="grabbing",i=t.scroller,n=f.getPosition(e);t.createDebugPixel(n,"#7FFF00",!0),p("start",i.body,t.eventHandler),t.scrollStart={x:n.x,y:n.y},t.scrollMove={x:n.x,y:n.y},t.elements.bar.setStyle("cursor",o),i.setCursor(o),i.isTracking=!0,i.isDragging=!0},onScrollMove:function(e){f.stop(e);var t=this,o=t.axis,i=t.toPropWrapper,n=t.scroller,s=n.maxScroll,r=t.scrollMove,l=t.isHorizontal,a=n.position,c=f.getPosition(e),h=l?(c.x-r.x)*i:0,u=l?0:(c.y-r.y)*i,x={x:a.x-h,y:a.y-u};x[o]>s[o]&&x[o]<0?(t.createDebugPixel(c,"orange"),n.setPosition(x.x,x.y,0),t.scrollMove={x:c.x,y:c.y}):t.createDebugPixel(c,"red")},onScrollStop:function(e){f.stop(e);var t=this,o=t.scroller,i=f.getPosition(e),n=o.getResetPosition();t.createDebugPixel(i,"#00CED1"),o.setPosition(n.x,n.y,NaN,!1,!0),p("stop",t.scroller.body,t.eventHandler),t.focused||t.hide(),t.elements.bar.setStyle("cursor","grab"),t.scroller.setCursor("grab"),t.scrollMove=null,t.scrollStart=null,o.isTracking=!1,o.isDragging=!1},setPosition:function(e,t,o){var i,n,s,r,l,a=this,c=a.elements.bar,h=a.scroller,u=a.size,x=a.axis,p=a.dimension,d=a.minSize,g=a.position,y=a.maxScroll,m=a.minScroll,v=a.options,S=h.options,f={y:0,x:0};n=a.toWrapperProp*e,r=a.isHorizontal?"width":"height",n<0?(v.elastic&&(l=Math.max(u+n,d)),f[x]=m):y<n?v.elastic?(l=Math.max(u-(n-y),d),f[x]=Math.min(n,y+u-d)):f[x]=y:(l=u,f[x]=n),f.x===g.x&&f.y===g.y&&p===l||(o?t=0:a.show(),f={x:f.x,y:f.y},S.useTransform?(s={transitionDelay:"0ms",transitionDuration:t+"ms",transitionProperty:[c.getStyleName("transform",!0)].concat([r]).join(","),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1.0)"},l&&v.elastic&&(s[r]=l+"px"),v.has3d?s.transform="translate3d("+f.x+"px,"+f.y+"px, 0)":s.transform="translate("+f.x+"px,"+f.y+"px)",c.setStyles(s)):((i=a.fx=a.fx||new w(c,{transition:"cubicOut",wait:!1})).setOptions({duration:t}),s={top:[g.y,f.y],left:[g.x,f.x]},l&&v.elastic&&(s[r]=[u,l]),i.start(s))),a.position=f,a.dimension=l},onScrollStart:function(){this.show()},onScrollEnd:function(){this.hide()},show:function(){var e,t=this;t.visible||(e={opacity:t.options.opacity},t.scroller.options.useTransform&&S.merge(e,{transitionProperty:"opacity",transitionDelay:"0ms",transitionDuration:"50ms"}),t.elements.wrapper.setStyles(e),t.visible=!0)},hide:function(e){var t,o=this;!o.visible||o.focused||o.scrollMove||!o.options.autoHide&&!e||(t={opacity:0},o.scroller.options.useTransform&&S.merge(t,{transitionProperty:"opacity",transitionDelay:e?"0ms":"300ms",transitionDuration:e?"0ms":"150ms"}),o.elements.wrapper.setStyles(t),o.visible=!1)}}),S.namespace("Controls/Scroller",c,S)});

define("UWA/Storage/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Storage"],function(t,s,e){"use strict";var r=s.extend(e,{type:"Abstract",limit:-1,init:function(t,s){this.storage=t||{},this.database=null,this.data={},this.includes=[],this.storage.isReady=!1,this.setOptions(s)},isAvailable:function(){return!1},interruptAccess:function(){if(!this.storage.isReady)throw new Error("Storage Adapter "+this.type+" is not ready.");return!0},get:function(t){return this.interruptAccess(),this.data[t]||null},set:function(t,s){return this.interruptAccess(),this.data[t]=s},rem:function(t){this.interruptAccess();var s=this.data[t];return this.data[t]=null,s}});return t.namespace("Storage/Adapter/Abstract",r,t)});

define("UWA/Storage/Adapter/Object",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Object",limit:0,connect:function(t){this.database=t,this.db={},this.storage.isReady=!0},isAvailable:function(){return!0},get:function(t){return this.db[t]},set:function(t,e){return this.interruptAccess(),this.db[t]=e},rem:function(t){this.interruptAccess();var e=this.get(t);return delete this.db[t],e}});return t.namespace("Storage/Adapter/Object",r,t)});

define("UWA/Environments/Frame",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Utils/InterCom","UWA/Element","UWA/Event","UWA/Environment","UWA/Controls/Scroller","UWA/Storage/Adapter/Object"],function(u,n,r,o,l,e,t,i){"use strict";var s=t.extend({name:"frame",init:function(e){this._remoteQueue=[],this._parent(e)},getOption:function(e){var t=document.querySelector("body");return t.hasAttribute(e)&&t.getAttribute(e)},onInit:function(){var e=document.querySelector("body"),t=l.getElement.bind(e);t(".moduleFrame")||this.buildSkeleton(e),this.html={wrapper:t(".module"),header:t(".moduleHeader"),content:t(".moduleWrapper"),body:t(".moduleContent"),edit:t(".moduleEdit"),menus:t(".moduleHeader > menu"),footer:t(".moduleFooter"),counter:t(".counter"),title:t(".title"),icon:t(".icon"),shareAction:t(".share"),refreshAction:t(".refresh"),editAction:t(".edit")},!this.scroller&&Number(this.getOption("displayScroller"))&&(this.scroller=new i(this.html.content,{snap:!1,bounce:!0,momentum:!0,lockDirection:!0})),this.onResize()},buildSkeleton:function(e){var t=u.hosts,n=u.i18n,i=t.uwa+u.paths.img+"icon.png",o=["module moduleUwa"],s=this.getOption("chromeColor"),r=Number(this.getOption("displayHeader")),a=Number(this.getOption("displayFooter")),d=Number(this.getOption("displayEdit")),h=[];s&&o.push(s+"-module"),r&&h.push({tag:"div",class:"moduleHeader",html:[{tag:"span",class:"icon",html:{tag:"img",height:16,width:16,src:i}},{tag:"span",class:"counter"},{tag:"span",class:"title",text:n(document.title)||n("Loading...")},{tag:"menu",type:"toolbar",class:"menus"}]}),h.push({tag:"div",class:"moduleWrapper",html:[d&&{tag:"div",class:"moduleEdit"},{tag:"div",class:"moduleContent",html:n("Loading...")}]}),a&&h.push({tag:"div",class:"moduleFooter",html:[{tag:"a",class:"powered",href:t.netvibes,text:n(" Netvibes")},{tag:"a",class:"share",href:t.ecosystem,text:n("Subscribe to this app")}]}),l.setContent.call(e,{tag:"div",class:o.join(" "),html:h})},onResize:function(){var e=this,t=e.html,n=t.wrapper.getScrolls(),i=e.scroller?r.getSize():n,o=i.width,s=i.height;if(0<s&&s!==e.prevHeight&&(this.sendRemote("onResizeHeight",s),this.scroller&&(["header","footer"].forEach(function(e){s-=t[e]?t[e].offsetHeight:0}),this.scroller.setOptions({height:s}),this.scroller.onRefresh()),this.prevHeight=s),this.prevWidth===o)return!1;r.Engine.safari&&this.html.wrapper.setStyle("width",o+"px"),this.prevWidth=o},onRegisterWidget:function(){this._parent(),this.sendRemote("onRegisterWidget"),e.onDomReady(function(){this.initRemote()},this)},onLoad:function(){this._parent(),this.sendRemote("onLoad")},onInitConfig:function(e){this._parent(),this.sendRemote("onInitConfig",e)},onUpdateCounter:function(e,t){this._parent(e,t),this.sendRemote("onUpdateCounter",e,t)},onUpdateTitle:function(e){this._parent(e),this.sendRemote("onUpdateTitle",e)},onUpdateIcon:function(e){this._parent(e),this.sendRemote("onUpdateIcon",e)},onUpdateValue:function(e,t){this.widget?this.widget.setValue(e,t):this.setData(e,t),this.sendRemote("onUpdateValue",e,t)},onUpdatePreferences:function(e){this._parent(e),this.sendRemote("onUpdatePreferences",e)},onSearch:function(e){this._parent(e),this.sendRemote("onSearch",e)},onResetSearch:function(){this._parent(),this.sendRemote("onResetSearch")},onViewRequest:function(e){this.sendRemote("onViewRequest",e)},initRemote:function(){if("false"!==n.parseQuery(window.location.search).remote){var e,i=this,t=i.widget;i.socket||(i.remoteCallbacks={},(e=new o.Socket(t.id+"-slave")).subscribeServer("uwa.embedded",window.parent,t.widgetDomain),e.addListener("environmentMessage",function(e){var t=e.args,n=t.shift();i.disableRemote=n,i.dispatchEvent(n,t),i.disableRemote=!1}),i.socket=e,i._runRemoteQueue())}},_runRemoteQueue:function(){var e,t,n=this;n.socket&&0!==n._remoteQueue.length&&(t=n._remoteQueue.shift(),!0===n.disableRemote||n.disableRemote===t[0]?n.log("sendRemote message ignored: "+t):(e={id:n.widget.id,args:t},n.log("sendRemote message: "+t),n.socket.dispatchEvent("widgetMessage",e,[e.id+"-master"])),n._runRemoteQueue())},sendRemote:function(){this._remoteQueue.push(n.toArray(arguments)),this._runRemoteQueue()}});return u.namespace("Environments/Frame",s,u)});

define("UWA/Class/Listener",["UWA/Core","UWA/Class"],function(v,e){"use strict";var h,n;function t(l){return function(e,n,t,i){var s,r,o,a=e[l];if("object"===(s=v.typeOf(n))&&(r=n),!a||!(r||"string"===s&&v.is(t,"function")))throw new Error("invalid input args");for(o in v.is(this._listeningTo)||(this._listeningTo={}),v.is(e._observableId)||(e._observableId="o"+ ++h),this._listeningTo[e._observableId]=e,r||((r={})[n]=t),r)r.hasOwnProperty(o)&&a.call(e,o,r[o],this,i);return this}}return h=0,n=e.extend({listenTo:t("addEvent"),listenToOnce:t("addEventOnce"),stopListening:function(e,n,t){var i,s,r,o,a=this._listeningTo;if(s="removeEvent",a)for(o in r=v.typeOf(n),t||(!1===r?i=!0:"object"===r&&(s="removeEvents",t=this)),e&&((a={})[e._observableId]=e),a)(e=a[o])[s](n,t,this),!i&&e.hasEvent()||delete this._listeningTo[o];return this}}),v.namespace("Listener",n,e)});

define("UWA/Class/Model",["UWA/Core","UWA/String","UWA/Data","UWA/Class","UWA/Class/Events","UWA/Class/Listener"],function(v,i,h,t,e,n){"use strict";var s,r=0,c={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};function l(e,i){var n=i.onFailure;i.onFailure=function(t){n&&n(e,t,i),e.dispatchEvent("onError",[e,t,i])}}function d(){throw new Error('A "url" property or function must be specified')}function a(t){return Array.prototype.concat.apply([],Array.prototype.slice.call(t,0))}return s=t.extend(e,n,{init:function(t,e){var i,n=Array.prototype.slice.call(arguments),s=t||{};this.cid="c"+ ++r,this._attributes={},e&&(v.is(e.collection)&&(this.collection=e.collection),!0===e.parse&&(s=this.parse(t,e)||{})),i=v.result(this,"defaults"),v.is(i)&&(s=v.merge(v.clone(s,!1),i)),this.set(s,e),this._changed={},this.setup.apply(this,n)},clone:function(){return new this.constructor(this._attributes)},setup:function(){},sync:function(n,t,s){var r;v.is(s)||(s={});var e=v.is(s.ajax,"function")?s.ajax:h.request,i={method:c[n],type:"json",headers:{}};s.url||(i.url=v.result(t,"url")||d()),v.is(s.data)||!t||"create"!==n&&"update"!==n&&"patch"!==n||(i.headers["Content-Type"]="application/json",i.data=s.attrs||t.toJSON(s)),"GET"!==i.method&&v.is(i.data,"object")&&(i.data=JSON.stringify(i.data));var a=s.onComplete;s.onComplete=function(t,e){var i;i=r&&r.xhr?r.xhr.status:200,s.responseHeaders=e,a&&a("delete"===n&&204===i?void 0:t)};var o=s.onFailure;s.onFailure=function(t,e,i){s.responseHeaders=i,o&&(e&&0!==e.length||(e=t.message||""),o(e))};var u=v.extend(i,s);return r=s.request=e(u.url,u),t.dispatchEvent("onRequest",[t,r,s]),r},parse:function(t){return t},_validate:function(t,e){var i;return!e.validate||!this.validate||(t=v.extend(v.extend({},this._attributes),t),!(i=this.validationError=this.validate(t,e)||null)||(this.dispatchEvent("onValidationFailure",[this,i,v.extend(e,{validationError:i})]),!1))},url:function(){var t;return t=v.result(this,"urlRoot")||v.result(this.collection,"url")||d(),this.isNew()||(t+="/"===t.charAt(t.length-1)?"":"/",t+=encodeURIComponent(this.id)),t},idAttribute:"id",set:function(t,e,i){var n,s,r,a,o,u,h,c,l,d,p,f;if(t){if(i=v.is(t,"object")?(s=t,e||{}):((s={})[t]=e,i||{}),!this._validate(s,i))return!1;for(n in p=i.unset,f=i.silent,a=[],o=this._changing,this._changing=!0,o||(this._previousAttributes=v.clone(this._attributes,!1),this._changed={}),s.hasOwnProperty(this.idAttribute)&&(this.id=s[this.idAttribute]),h=this._attributes,c=this._previousAttributes,u=this._changed,s)e=s[n],v.equals(h[n],e)||a.push(n),v.equals(c[n],e)?delete u[n]:u[n]=e,p?delete h[n]:h[n]=e;if(!f)for(a.length&&(this._pending=!0),l=0,d=a.length;l<d;l++)r=a[l],this.dispatchEvent("onChange:"+r,[this,h[r],i]);if(!o){if(!f)for(;this._pending;)this._pending=!1,this.dispatchEvent("onChange",[this,i]);this._pending=!1,this._changing=!1}}return!0},unset:function(t,e){return this.set(t,void 0,v.extend(v.extend({},e),{unset:!0}))},clear:function(t){var e,i={};for(e in t=t?v.clone(t):{},this._attributes)i[e]=void 0;return this.set(i,v.extend(t,{unset:!0}))},get:function(t){return this._attributes[t]},escape:function(t){var e=this.get(t);return v.is(e)?i.escapeHTML(e.toString()):""},has:function(t){return v.is(this.get(t))},keys:function(){return Object.keys(this._attributes)},values:function(){var t,e,i=this.keys(),n=[];for(t=0,e=i.length;t<e;t++)n.push(this.get(i[t]));return n},pairs:function(){var t,e,i,n=this.keys(),s=[];for(t=0,e=n.length;t<e;t++)i=n[t],s.push([i,this.get(i)]);return s},toJSON:function(){return v.clone(this._attributes,!1)},pick:function(){var e=this,i={};return a(arguments).forEach(function(t){e.has(t)&&(i[t]=e.get(t))}),i},omit:function(){var t,e,i,n={},s=a(arguments),r=this.keys();for(t=0,e=r.length;t<e;t++)i=r[t],-1===s.indexOf(i)&&(n[i]=this.get(i));return n},isNew:function(){return!v.is(this.id)},isValid:function(t){return!this.validate||!this.validate(this._attributes,t)},hasChanged:function(t){var e,i=!1,n=this._changed;if(n)if(v.is(t))i=v.owns(n,t);else for(e in n)if(v.owns(n,e)){i=!0;break}return i},changedAttributes:function(t){var e,i,n=!1;if(v.is(t,"object"))for(i in e=this._changing?this._previousAttributes:this._attributes,t)v.equals(e[i],t[i])||((n=n||{})[i]=t[i]);else this.hasChanged()&&(n=v.clone(this._changed,!1));return n},previous:function(t){var e=this._previousAttributes;return v.is(t)&&e?e[t]:null},previousAttributes:function(){return v.clone(this._previousAttributes,!1)},save:function(t,e,i){var n,s,r,a,o,u=this;if(n=u._attributes,v.is(t)&&"object"!==v.typeOf(t)?(s={})[t]=e:(s=t,i=e),i=v.extend({validate:!0},i),s&&!i.wait){if(!u.set(s,i))return!1}else if(!u._validate(s,i))return!1;return s&&i.wait&&(u._attributes=v.extend(v.extend({},n),s)),void 0===i.parse&&(i.parse=!0),a=i.onComplete,i.onComplete=function(t){var e;return u._attributes=n,e=u.parse(t,i),i.wait&&(e=v.extend(s||{},e)),!("object"==typeof e&&null!==e&&!u.set(e,i))&&(a&&a(u,t,i),u.dispatchEvent("onSync",[u,t,i]))},l(this,i),"patch"==(r=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=s),o=this.sync(r,this,i),s&&i.wait&&(u._attributes=n),o},fetch:function(e){var i,n=this;return void 0===(e=e?v.clone(e,!1):{}).parse&&(e.parse=!0),i=e.onComplete,e.onComplete=function(t){return!!n.set(n.parse(t,e),e)&&(i&&i(n,t,e),n.dispatchEvent("onSync",[n,t,e]))},l(this,e),this.sync("read",this,e)},destroy:function(e){var i,n,t,s=this;return e=e?v.clone(e,!1):{},n=e.onComplete,i=function(){return s.dispatchEvent("onDestroy",[s,s.collection,e])},e.onComplete=function(t){if((e.wait||s.isNew())&&i(),n&&n(s,t,e),!s.isNew())return s.dispatchEvent("onSync",[s,t,e])},s.isNew()?(e.onComplete(),!1):(l(s,e),t=s.sync("delete",s,e),e.wait||i(),t)}}),v.namespace("Model",s,t)});

define("UWA/Class/Collection",["UWA/Core","UWA/Array","UWA/Utils","UWA/Class","UWA/Class/Debug","UWA/Class/Events","UWA/Class/Listener","UWA/Class/Model"],function(O,e,r,t,n,i,o,U){"use strict";var W,s,l,u;return s={add:!0,remove:!(W={add:!0,remove:!0,merge:!0})},l=function(e){return O.is(e,"function")?e:function(t){return t.get(e)}},u=t.extend(i,o,{init:function(t,e){O.is(e)||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this._modelListener=function(t,e,n,i){return this._onModelEvent(t,e,n,i)},this.setup(t,e),t&&this.reset(t,O.extend({silent:!0},e))},clone:function(){return new this.constructor(this._models)},setup:function(){},sync:function(){return U.prototype.sync.apply(this,arguments)},parse:function(t){return t},model:U,add:function(t,e){return this.set(t,O.extend(O.extend({merge:!1},e),s))},push:function(t,e){return this.add(t,O.merge({at:this.length},e))},unshift:function(t,e){return this.add(t,O.merge({at:0},e))},remove:function(t,e){var n,i,r,o,s;for(O.is(e)||(e={}),r=0,o=(t=(s=!Array.isArray(t))?[t]:O.clone(t,!1)).length;r<o;r++)(i=t[r]=this.get(t[r]))&&(delete this._byId[i.id],delete this._byId[i.cid],n=this.indexOf(i),this._models.splice(n,1),this.length--,e.silent||(e.index=n,i.dispatchEvent("onRemove",[i,this,e])),this._removeReference(i));return s?t[0]:t},pop:function(t){var e;return e=this.at(this.length-1),this.remove(e,t),e},shift:function(t){var e;return e=this.at(0),this.remove(e,t),e},sort:function(t){if(O.is(t)||(t={}),!this.comparator)throw new Error("Cannot sort a collection without a comparator");return O.is(this.comparator,"string")||1===this.comparator.length?this._models=this.sortBy(this.comparator,this):this._models.sort(this.comparator.bind(this)),t.silent||this.dispatchEvent("onSort",[this,t]),this},set:function(t,e){var n,i,r,o,s,l,u,c,h,d,a,f,m,p,v,_,g,y,E,A,b,x,C=this;for((e=O.merge(O.merge({},e),W)).parse&&(t=C.parse(t,e)),t=(x=!Array.isArray(t))?t?[t]:[]:O.clone(t,!1),n=e.at,p=C.model,i=C.comparator&&!O.is(n)&&!1!==e.sort,r="string"===O.typeOf(C.comparator)?C.comparator:null,o=[],s=[],l={},u=e.add,c=e.merge,h=e.remove,d=!(i||!u||!h)&&[],a=0,f=t.length;a<f;a++){m=(_=t[a])instanceof U?v=_:_[p.prototype.idAttribute],(g=C.get(m))?(h&&(l[g.cid]=!0),c&&(_=_===v?v._attributes:_,e.parse&&(_=g.parse(_,e)),g.set(_,e),i&&!y&&g.hasChanged(r)&&(y=!0)),t[a]=g):u&&(v=t[a]=C._prepareModel(_,e))&&(t[a]=v,o.push(v),v.addEvent("onAnyEvent",C._modelListener,C),C._byId[v.cid]=v,O.is(v.id)&&(C._byId[v.id]=v));var I=g||v;if(d&&I){var w=d.indexOf(I);0<=w&&d.splice(w,1),d.push(g||v)}}if(h){for(a=0,f=C.length;a<f;++a)l[(v=C._models[a]).cid]||s.push(v);s.length&&C.remove(s,e)}if(o.length||d&&d.length)if(i&&(y=!0),C.length+=o.length,O.is(n))for(A=0,b=o.length;A<b;A++)C._models.splice(n+A,0,o[A]);else for(d&&(C._models.length=0),A=0,b=(E=d||o).length;A<b;A++)C._models.push(E[A]);if(y&&C.sort({silent:!0}),!e.silent){for(a=0,f=o.length;a<f;a++)(v=o[a]).dispatchEvent("onAdd",[v,C,e]);(y||d&&d.length)&&C.dispatchEvent("onSort",[C,e])}return x?t[0]:t},reset:function(t,e){var n,i,r,o;for(e=e?O.clone(e,!1):{},i=0,r=(o=this._models).length;i<r;i++)n=o[i],this._removeReference(n);return e.previousModels=this._models,this._reset(),t=this.add(t,O.extend({silent:!0},e)),e.silent||this.dispatchEvent("onReset",[this,e]),t},get:function(t){if(O.is(t))return this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this._models[t]},first:function(t,e){return O.is(t)&&!e?this._models.slice(0,t):this._models[0]},last:function(t,e){return O.is(t)&&!e?this._models.slice(Math.max(this._models.length-t,0)):this._models[this._models.length-1]},toArray:function(){return this.slice()},slice:function(t,e){return this._models.slice(t,e)},rest:function(t,e){return this._models.slice(!O.is(t)||e?1:t)},initial:function(t,e){return this._models.slice(0,this._models.length-(!O.is(t)||e?1:t))},without:function(){var e;return e=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments)),this._models.filter(function(t){return-1===e.indexOf(t)})},indexOf:function(t,e){return this._models.indexOf(t,e)},lastIndexOf:function(t,e){return this._models.lastIndexOf(t,e)},contains:function(t){return-1!==this.indexOf(t)},size:function(){return this._models.length},isEmpty:function(){return 0===this._models.length},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},pluck:function(e){return this._models.map(function(t){return t.get(e)})},shuffle:function(){var n,i;return i=[],this.forEach(function(t,e){n=r.random(e),i[e]=i[n],i[n]=t}),i},where:function(n,t){return O.is(n)?this[t?"find":"filter"](function(t){var e;for(e in n)if(n[e]!==t.get(e))return!1;return!0}):t?void 0:[]},findWhere:function(t){return this.where(t,!0)},invoke:function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this._models),e.invoke.apply(null,t)},forEach:function(t,e){return this._models.forEach(t,e)},map:function(t,e){return this._models.map(t,e)},every:function(t,e){return this._models.every(t,e)},some:function(t,e){return this._models.some(t,e)},sortBy:function(t,i){var r,e;return r=l(t),(e=this._models.map(function(t,e,n){return{model:t,index:e,criteria:r.call(i,t,e,n)}})).sort(function(t,e){var n,i;if((n=t.criteria)!==(i=e.criteria)){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index<e.index?-1:1}),e.map(function(t){return t.model})},groupBy:function(t,i){var r,o,s=this._models;return r=l(t),o={},this.forEach(function(t,e){var n=r.call(i,t,e,s);O.owns(o,n)||(o[n]=[]),o[n].push(t)}),o},countBy:function(t,i){var r,o,s=this._models;return r=l(t),o={},this.forEach(function(t,e){var n=r.call(i,t,e,s);O.owns(o,n)||(o[n]=0),o[n]++}),o},find:function(i,r){var o;return this.some(function(t,e,n){if(i.call(r,t,e,n))return o=t,!0}),o},filter:function(t,e){return this._models.filter(t,e)},reject:function(i,t){return this.filter(function(t,e,n){return!i(t,e,n)},t)},reduce:function(t,e,n){var i=t;return n&&(i=i.bind(n)),1<arguments.length?this._models.reduce(i,e):this._models.reduce(i)},reduceRight:function(t,e,n){var i=t;return n&&(i=i.bind(n)),1<arguments.length?this._models.reduceRight(i,e):this._models.reduceRight(i)},max:function(t,r){var o,s;if(t&&!this.isEmpty())return s=l(t),o={computed:-1/0,model:void 0},this.forEach(function(t,e,n){var i;if((i=s.call(r,t,e,n))>=o.computed)return o={model:t,computed:i}}),o.model},min:function(t,r){var o,s;if(t&&!this.isEmpty())return s=l(t),o={computed:1/0,model:void 0},this.forEach(function(t,e,n){var i;if((i=s.call(r,t,e,n))<o.computed)return o={model:t,computed:i}}),o.model},fetch:function(n){var i,e,r=this;return void 0===(n=n?O.clone(n,!1):{}).parse&&(n.parse=!0),i=n.onComplete,n.onComplete=function(t){var e;return e=n.reset?"reset":"set",r[e](t,n),i&&i(r,t,n),r.dispatchEvent("onSync",[r,t,n])},e=n.onFailure,n.onFailure=function(t){e&&e(r,t,n),r.dispatchEvent("onError",[r,t,n])},r.sync("read",r,n)},create:function(t,n){var e,i,r=this;return n=n?O.clone(n,!1):{},!!(e=r._prepareModel(t,n))&&(n.wait||r.add(e,n),i=n.onComplete,n.onComplete=function(t,e){if(n.wait&&r.add(t,n),i)return i(t,e,n)},e.save(null,n),e)},_reset:function(){return this.length=0,this._models=[],this._byId={},this._byId},_prepareModel:function(t,e){var n;return t instanceof U?(t.collection||(t.collection=this),t):(n=new(((e=O.is(e)?O.clone(e,!1):{}).collection=this).model)(t,e)).validationError?(this.dispatchEvent("onValidationFailure",[this,n.validationError,e]),!1):n},_removeReference:function(t){return this===t.collection&&delete t.collection,t.removeEvent("onAnyEvent",this._modelListener,this)},_onModelEvent:function(t,e,n,i){if("onAdd"!==t&&"onRemove"!==t||n===this)return"onDestroy"===t&&this.remove(e,i),e&&t==="onChange:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],O.is(e.id)&&(this._byId[e.id]=e)),this.dispatchEvent(t,[e,n,i])}}),O.namespace("Collection",u,t)});

define("UWA/Class/Store",["UWA/Core","UWA/Utils","UWA/String","UWA/Class","UWA/Class/Debug"],function(h,s,u,t,e){"use strict";var r;return r=t.extend(e,{init:function(t,e,r){var s;h.log(["","*IMPORTANT NOTICE : UWA.Class.Store IS AN EXPERIMENTAL ","FEATURE SUBJECT TO REMOVAL, DEPRECIATION OR CHANGES IN THE ","NEXT RELEASE! IT IS PROVIDED AS A TEMPORARY CONVENIENCE, ","CONSEQUENTLY DO NOT USE THIS IN PRODUCTION CODE!*"].join("")),this._name=e,this._storage=t,this.debugMode=r&&r.debugMode,s=this._storage.get(this._name),this._records=s&&s.split(",")||[]},log:function(){return this._parent(u.format('Store "{0}": {1}',this._name,u.format.apply(null,arguments)))},_save:function(){return this._storage.set(this._name,this._records.join(","))},_set:function(t,e){return this._storage.set(this._name+"-"+t,JSON.stringify(e))},_rem:function(t){return this._storage.remove(this._name+"-"+t)},_insert:function(t,e){var r=s.getUUID();return t[e]=r,this._set(r,t)&&(this._records.push(r),this._save()?this.log('Successfully inserted model "{0}"',r):this._rem(r)?this._records.pop():this._throwError('Unable to rollback failed insertion of model "{0}"',r)),this._find(r)},_find:function(t){var e=this._storage.get(this._name+"-"+t);return e&&JSON.parse(e)},_findAll:function(){return this._records.map(function(t){return this._find(t)},this).filter(function(t){return t},this)},_update:function(t,e){var r;return(r=(r=this._find(t))&&((r=this._set(t,h.extend(r,e)))&&this._find(t)))&&this.log('Successfully updated model "{0}"',t),r},_remove:function(e){var t=this._rem(e);return t&&(this._records=this._records.filter(function(t){return t!==e}),this._save()?this.log('Successfully removed model "{0}"',e):this._set(e,t)?(this._records.push(e.toString()),t=null):this._throwError('Unable to rollback failed deletion of model "{0}"',e)),t},_clear:function(){this._records.forEach(function(t){this._rem(t)},this),this._storage.rem(this._name),this._records.length=0},_throwError:function(){throw new Error(u.format("Store {0}: {1}",this._name,u.format.apply(null,arguments)))},sync:function(t,e,r){var s,i,n,o,a;"create"!==t&&"update"!==t&&"patch"!==t||(i=e.toJSON(r)),s=e.id,n=e.idAttribute;try{switch(t){case"read":o=h.is(s)?this._find(s):this._findAll();break;case"create":o=this._insert(i,n);break;case"update":case"patch":o=this._update(s,i);break;case"delete":o=this._remove(s);break;default:this._throwError('Unsupported method "{0}"',t)}}catch(t){a=t.message}return o?r&&r.onComplete&&r.onComplete(o):r&&r.onFailure&&r.onFailure(a||u.format('Store "{0}": model "{1}" not found',this._name,s)),{cancel:function(){}}}}),h.namespace("Store",r,t)});

define("UWA/Class/View",["UWA/Core","UWA/Element","UWA/Class","UWA/Class/Listener","UWA/Controls/Abstract"],function(r,n,t,e,i){"use strict";var s,o,a;function c(t,e){var n;return t&&(n=t[e],r.is(n,"function")&&(n=n.call(t))),n}return a=["model","collection","container","id","attributes","className","tagName","domEvents"],o=0,s=i.extend(e,{tagName:"div",init:function(t){var e,n,i,s=Array.prototype.slice.call(arguments);for(this.cid="c"+ ++o,t=r.clone(t||{},!1),n=a.length-1;0<=n;n--)i=a[n],t.hasOwnProperty(i)&&(this[i]=t[i],delete t[i]);this._parent(t),this.container?this._ensureContainer(c(this,"container")):(e=r.extend({},c(this,"attributes")),this.id&&(e.id=c(this,"id")),this.className&&(e.class=c(this,"className")),this.container=r.createElement(c(this,"tagName"),e)),this.setup.apply(this,s),this.delegateDOMEvents()},setup:function(){},destroy:function(){this.undelegateDOMEvents(),this._parent()},render:function(){return this},setContainer:function(t){return this.undelegateDOMEvents(),this._ensureContainer(t),this.delegateDOMEvents(),this},_ensureContainer:function(t){var e;if(t instanceof n)this.container=t;else if("element"===(e=r.typeOf(t)))this.container=r.extendElement(t);else{if("object"!==e)throw new Error("Invalid type of container");this.container=r.createElement(t.tag,t)}},getElement:function(t){return this.container.getElement(t)},getElements:function(t){return this.container.getElements(t)},delegateDOMEvents:function(t){var e,n;if(r.is(t)||(t=c(this,"domEvents")),!t)return this;for(e in this.undelegateDOMEvents(),t){if("function"!=typeof(n=t[e])){if("string"!=typeof n)throw new Error("Invalid type of value in hash of domEvents!");n=this[n]}if(!n)throw new Error("Method '"+t[e]+"' does not exist");n=n.bind(this),this.container.addEvent(e,n)}return this},undelegateDOMEvents:function(){if(!this.container)throw new Error("unexpected error");return this.container.removeEvent(),this}}),r.namespace("View",s,t)});

define("UWA/Controls/Segmented",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(l,m,t){"use strict";var e=t.extend({name:"uwa-segmented",defaultOptions:{title:null,multiSelect:!1,atLeastOneSelected:!1,constantItemWidth:!1,className:"",data:null},itemLength:0,init:function(t){this._parent(t),this.options.data=this.options.data||{},this.elements.items={},this.selectedItemsName={},this.buildSkeleton(),this.options.data&&this.addItems(this.options.data)},buildSkeleton:function(){var t=this.elements,e=this.options;t.container=l.createElement("ul",{class:this.getClassNames()}),e.title&&l.createElement("li",{class:this.getClassNames("-title"),html:{tag:"span",text:e.title}}).inject(t.container),t.itemContainer=t.container},updateItemClassNames:function(){var t,e,s=this.elements.items,i=0;for(t in s)s.hasOwnProperty(t)&&((e=s[t]).removeClassName(this.getClassNames("-item-first")),e.removeClassName(this.getClassNames("-item-last")),e.addClassName(this.getClassNames("-item")+" "+t),0===i&&e.addClassName(this.getClassNames("-item-first")),i===this.itemLength-1&&e.addClassName(this.getClassNames("-item-last")),i++)},createItem:function(e,t){var s,i=this.elements.items,n=t.text||"",a=this;return(s=l.createElement("li",{html:{tag:"a",class:e+"-title "+this.getClassNames("-item-title"),html:{tag:"span",text:n},title:l.i18n("Expand"),events:{click:function(t){m.stop(t),a.dispatchEvent("onClick",[e])}}}})).getElement("a")&&t.tooltipText&&(s.getElement("a").title=t.tooltipText),t.title&&(this.options.data[e].text=t.title,s.getElement("span").setHTML(t.title)),i[e]=s,t.pinned&&(s.addClassName("uwa-pinned"),this.selectItem(e,!1)),s},onResize:function(){var t,e,s=this.elements.items,i=0;if(this.options.constantItemWidth){for(t in s)s.hasOwnProperty(t)&&(i=i<(e=s[t].getDimensions().width)?e:i);for(t in s)s.hasOwnProperty(t)&&0!==i&&s[t].setStyle("width",i+"px")}},onClick:function(t){this.options.multiSelect?this.toggleItem(t):this.selectItem(t)},addItems:function(t){var e;for(e in t)t.hasOwnProperty(e)&&this.addItem(e,t[e])},addItem:function(t,e){var s,i,n;if(e=e||{},(this.options.data[t]=e).where||(e.where="bottom"),s=(i=e.where.split(" "))[0],1!==i.length||"top"!==s&&"bottom"!==s){if(2!==i.length||"before"!==s&&"after"!==s)throw new Error('Has to be "top", "bottom", "before item" of "after item"');n=this.elements.items[i[1]]}else n=this.elements.itemContainer;this.createItem(t,e).inject(n,s),this.itemLength++,this.updateItemClassNames()},setItemTitle:function(t,e){var s=this.elements.items[t];s&&(this.options.data[t].text=e,s.getElement("span").setHTML(e))},setItemState:function(t,e,s){var i=this.options.data[t],n=this.elements.items[t];s=!l.is(s)||s,!e&&this.options.atLeastOneSelected&&1===this.getSelectedItems().length||!n&&this.selectedItemsName[t]===e||(this.options.multiSelect||this.unselectItems(),n.toggleClassName("selected",e),!n.getElement("a")||i&&i.tooltipText||(n.getElement("a").title=e?l.i18n("Collapse"):l.i18n("Expand")),this.selectedItemsName[t]=e,s&&this.dispatchEvent("onChange",[t,e,i]))},toggleItem:function(t,e){this.setItemState(t,!this.isSelected(t),e)},unselectItem:function(t,e){this.setItemState(t,!1,e)},selectItem:function(t,e){this.setItemState(t,!0,e)},getSelectedItems:function(){var t,e=this.selectedItemsName,s=[];for(t in e)e.hasOwnProperty(t)&&!0===e[t]&&s.push(t);return s},isSelected:function(t){return this.selectedItemsName[t]},unselectItems:function(t,e){var s,i=this.selectedItemsName,n=this.elements.items;for(s in t=void 0===t||t,n)n.hasOwnProperty(s)&&i[s]&&!n[s].hasClassName("uwa-pinned")&&e!==s&&(n[s].removeClassName("selected"),i[s]=!1,t&&this.dispatchEvent("onChange",[s,!1,this.options.data[s]]))},enable:function(){this.enabled=!0,this.getContent().removeClassName("disabled")},disable:function(){this.enabled=!1,this.getContent().addClassName("disabled")},isEnabled:function(){return this.enabled}});return l.namespace("Controls/Segmented",e,l)});

define("UWA/Controls/Accordion",["UWA/Core","UWA/Controls/Segmented"],function(s,t){"use strict";var e=t.extend({name:"uwa-accordion",defaultOptions:{title:null,multiSelect:!1,constantItemWidth:!1,contentPosition:"bottom"},init:function(t){this._parent(t)},hasItem:function(t){return!!this.elements.items[t]},addItem:function(t,e){var n=this.elements,o=n.items=n.items||{},i=n.containers=n.containers||{};this._parent(t,e),i[t]=s.createElement("div",{class:this.getClassNames("-content")}).inject(o[t],"top"===this.options.contentPosition?"top":"bottom"),e.content&&this.setContent(t,e.content)},removeItem:function(t){var e=this.elements.items;e[t]&&(e[t].destroy(),e[t]=null)},updateContent:function(t,e,n){var o=this.elements.containers[t];return n&&o.empty(),s.is(e,"string")&&(e=s.createElement("div",{html:e})),o.addContent(e),o},buildSkeleton:function(){var t=this.elements;t.container=s.createElement("ul",{class:this.getClassNames()}),t.itemContainer=t.container},onClick:function(t){this.toggleItem(t)},onChange:function(t,e){e&&!this.options.multiSelect&&this.unselectItems(!1,t)},setContent:function(t,e){return this.updateContent(t,e,!0)},addContent:function(t,e){return this.updateContent(t,e,!1)}});return s.namespace("Controls/Accordion",e,s)});

define("UWA/Controls/Flash",["UWA/Core","UWA/Utils","UWA/Controls/Abstract"],function(c,h,e){"use strict";var t=e.extend({id:null,defaultOptions:{url:"",width:320,height:240,className:"uwa-swf",pluginspage:"http://www.macromedia.com/go/getflashplayer",flashVars:"",scale:"exactfit",wmode:"opaque",quality:"hight",allowScriptAccess:"sameDomain",bgcolor:!1,allowfullscreen:"true"},flashVersion:null,init:function(e){this._parent(e),e=this.options,this.id=e.id||h.random(10),this.flashVersion=this.detectFlashVersion(),this.buildSkeleton()},buildSkeleton:function(){function e(e){return String(e).replace(/(&amp;)|(&)/g,"%26")}var t,a,s,i=window.navigator,l=this.elements,n=this.options,o=n.flashVars||"",r=e(n.url||"");if(this.container=l.container=c.createElement("div",{class:n.className}),c.is(o,"string")||(o=e(h.toQueryString(o))),i.plugins&&i.mimeTypes&&i.mimeTypes.length)l.flashTag=c.createElement("embed",{id:this.id,type:"application/x-shockwave-flash",src:r,width:n.width,height:n.height,pluginspage:n.pluginspage,flashvars:o,scale:n.scale,quality:n.quality,allowScriptAccess:n.allowScriptAccess,wmode:n.wmode,allowfullscreen:n.allowfullscreen});else{for(a in s=[],t={movie:r,flashvars:o,quality:n.quality,allowScriptAccess:n.allowScriptAccess,wmode:n.wmode,allowfullscreen:n.allowfullscreen})t.hasOwnProperty(a)&&s.push({tag:"param",name:a,value:t[a]});l.flashTag=c.createElement("object",{id:this.id,width:n.width,height:n.height,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",html:s})}return l.flashTag.inject(l.container),this.object=l.flashTag,0===this.flashVersion.major&&c.createElement("p",{text:c.i18n("You need Adobe Flash to display this Content."),styles:{textAlign:"center"}}).inject(l.container),this.container},getFlashContainer:function(){return void 0===this.object&&this.getContent(),this.object},getFlashVersion:function(){return this.flashVersion},detectFlashVersion:function(){var t,e,a,s=[0,0,0];if(navigator.plugins&&navigator.mimeTypes.length)(a=navigator.plugins["Shockwave Flash"])&&a.description&&(s=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));else if(navigator.userAgent&&0<=navigator.userAgent.indexOf("Windows CE"))for(t=1,e=3;t;)try{e++,t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e),s=[e,0,0]}catch(e){t=null}else{try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),s=[6,0,21],t.AllowScriptAccess="always"}catch(e){if(6===s.major)return s}try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}}null!==t&&(s=t.GetVariable("$version").split(" ")[1].split(","))}return{major:s[0],minor:s[1],rev:s[2]}}});return c.namespace("Controls/Flash",t,c)});

define("UWA/Controls/Slider",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract"],function(o,e,t,n,i,s){"use strict";var a=s.extend({name:"uwa-slider",defaultOptions:{className:"",isTouch:t.Features.touchEvents,value:0,handleButton:!1,handleDragTreshold:40,slider:{html:[{tag:"div",class:"scrubber-wrapper",html:{tag:"div",class:"scrubber",html:[{tag:"div",class:"progress"},{tag:"div",class:"loaded"},{tag:"div",class:"handle handle-hide"}]}}],scrubberClass:"scrubber",progressClass:"progress",handleClass:"handle",loadedClass:"loaded"}},init:function(e){e=e||{},this._parent(e),this.eventNames={start:this.options.isTouch?"touchstart":"mousedown",move:this.options.isTouch?"touchmove":"mousemove",end:this.options.isTouch?"touchend":"mouseup"},this.body=e.body||document.body,this.bodyEvents={},this.options.handleButton&&(this.bodyEvents[this.eventNames.move]=this.onHandleDrag.bind(this),this.bodyEvents[this.eventNames.end]=this.onHandleDragEnd.bind(this)),this._buildSkeleton(),this._attachEvents(),this.reset()},reset:function(){var e=this,t=e.elements;e.loadedPercent=0,t.progress.setStyle("width",0),e._updatePosition(0)},show:function(){this.container.show()},hide:function(){this.container.hide()},setValue:function(e){e<0||100<e?console.log("The value should be an integer between 0 and 100"):(this.setOption("value",e),this._updatePosition(e))},setLoadedValue:function(e){this.elements.loaded.setStyle("width",e+"%")},onInjected:function(){0<this.options.value&&this._updatePosition(this.options.value)},onHandleDragStart:function(e){var t=this.elements.handle,s=n.getPosition(e).x-t.getPosition(document).x;Math.abs(s)<=this.options.handleDragTreshold&&(n.stop(e),i.addEvents.call(this.body,this.bodyEvents))},onHandleDrag:function(e){n.stop(e);var t=n.getPosition(e).x,s=this.elements.scrubber.getParent().getClientRects()[0].left;(s=t-s)<0?s=0:s>this.elements.scrubber.offsetWidth&&(s=this.elements.scrubber.offsetWidth),this._updateValue(s)},onHandleDragEnd:function(e){n.stop(e),i.removeEvents.call(this.body,this.bodyEvents),this.drag=null},onProgressBarClick:function(e){var t;t=n.getPosition(e).x-this.elements.scrubber.getPosition(document).x,this._updateValue(t)},_buildSkeleton:function(){var e,t,s=this,n=s.options,i=n.slider;return n.container&&o.is(n.container.getElement(".controls-slider"),"element")?((e=n.container.getElement(".controls-slider")).addClassName(this.getClassNames()),e.addContent(n.slider.html)):e=o.createElement("div",{class:this.getClassNames(),html:n.slider.html}),t=e.getElement.bind(e),s.elements={scrubber:t("."+i.scrubberClass),progress:t("."+i.progressClass),handle:t("."+i.handleClass),loaded:t("."+i.loadedClass)},n.handleButton&&s.elements.handle.removeClassName("handle-hide"),s.container=e,s},_attachEvents:function(){var e=this,t=e.elements,s=e.dispatchEvent.bind(e);return e.options.handleButton&&e.container.addEvent(e.eventNames.start,e.onHandleDragStart.bind(e)),t.scrubber.addEvent("click",s.bind(e,"onProgressBarClick")),this},_updateValue:function(e){var t=this.elements.scrubber.offsetWidth,s=Math.round(100*e/t);this.setOption("value",s),this._updatePosition(s),this.dispatchEvent("onChange",s)},_updatePosition:function(e){if(this.container&&this.container.isInjected()){var t=this.elements.progress,s=this.elements.scrubber,n=this.elements.handle,i=n.offsetWidth/2/s.offsetWidth*100;t.setStyle("width",e+"%"),n.setStyle("left",e-i+"%")}}});return o.namespace("Controls/Slider",a,o)});

define("UWA/Controls/AudioPlayer",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Flash","UWA/Controls/Slider"],function(o,n,i,t,e,a,r,l){"use strict";var d,s=0;function u(t){var e,a,s=d.Adapter,i=n.parseUrl(t);for(e in s)s.hasOwnProperty(e)&&!a&&s[e].isAvailable(i.fileName)&&(a=s[e]);return a}return(d=a.extend({name:"uwa-audioplayer",defaultOptions:{url:"",autoPlay:!1,handleButton:!0,closeButton:!0,preload:"none",className:"",isTouch:i.Features.touchEvents,player:{html:[{tag:"div",class:"uwa-icon play-pause"},{tag:"div",class:"controls-times",html:[{tag:"span",class:"played",text:"00:00"},{tag:"span",class:"duration duration-hide",text:"00:00"}]},{tag:"div",class:"controls-slider"},{tag:"div",class:"controls-right",html:{tag:"div",class:"uwa-icon close close-hide"}}],playPauseClass:"play-pause",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",waitingClass:"waiting",errorClass:"error",closeClass:"close"}},adapter:null,init:function(t){var r=this;this.id=s,s++,t=t||{},(o.Controls.AudioPlayer.Instances["x"+this.id]=this)._parent(t),this.eventNames={start:this.options.isTouch?"touchstart":"mousedown",move:this.options.isTouch?"touchmove":"mousemove",end:this.options.isTouch?"touchend":"mouseup"},this.body=t.body||document.body,this.buildSkeleton(),this.attachEvents(),this.reset(),this.options.url&&this[this.options.autoPlay?"play":"load"](),this.container.addEvent("resize",function(){var t,e,a,s,i,o,n;(t=r.elements).slider.show(),t.controlsTimes.show(),t.controlsRight.show(),e=r.container.getSize().width,a=t.playPause.getSize().width,s=t.slider.getSize().width,i=t.controlsTimes.getSize().width,o=t.controlsRight.getSize().width,s<30&&(t.slider.hide(),e-10<(n=a+i+o)&&(t.controlsTimes.hide(),e-7<(n-=i)&&t.controlsRight.hide()))})},getAdapter:function(t){var e=u(t);if(e)return this.adapter||(this.adapter=e.build(this)),this.adapter.setUrl(t),this.adapter;window.open(t)},buildSkeleton:function(){var t,e,a=this,s=a.options,i=s.player;return e=(t=o.createElement("div",{class:this.getClassNames(),html:s.player.html})).getElement.bind(t),a.elements={playPause:e(".play-pause"),slider:null,controlsTimes:e(".controls-times"),controlsRight:e(".controls-right"),played:e("."+i.playedClass),duration:e("."+i.durationClass),play:e("."+i.playPauseClass),close:e("."+i.closeClass)},a.options.closeButton&&a.elements.close.removeClassName("close-hide"),a.container=t,a},attachEvents:function(){var a=this,s=a.elements,t=a.dispatchEvent.bind(a);return s.play.addEvent("click",t.bind(a,"onPlayPause")),this.options.closeButton&&s.close.addEvent("click",t.bind(a,"close")),a.slider=new l({_root:!1,container:a.container,events:{onChange:function(t){var e=t*a.adapter.getDuration()/100;a.adapter.setCurrentTime(e),s.played.setText(a.formatTime(e))}}}),a.elements.slider=a.slider.elements.scrubber,this},reset:function(){var t=this,e=t.elements;t.loadedPercent=0,t.canPlay=!1,t.shouldPlay=!1,e.duration.setText(t.formatTime(0)),e.played.setText(t.formatTime(0))},load:function(t){t=t||this.options.url,this.stop(),this.reset(),this.show(),this.adapter=this.getAdapter(t)},play:function(t,e){this.load(t,e),this.adapter&&(this.adapter.play(),this.shouldPlay=!0)},pause:function(){this.adapter&&this.adapter.pause(),this.shouldPlay=!1},stop:function(){this.adapter&&(this.adapter.stop(),this.slider.reset())},close:function(){this.stop(),this.slider.reset(),this.hide()},onPlayPause:function(){this.adapter&&this.adapter[this.adapter.isPaused()?"play":"pause"]()},onPlay:function(){this.container.addClassName(this.options.player.playingClass).removeClassName("paused"),this.canPlay||this.container.addClassName(this.options.player.waitingClass),this.shouldPlay=!0},onPause:function(){this.container.removeClassName(this.options.player.waitingClass).removeClassName(this.options.player.playingClass).addClassName("paused"),this.shouldPlay=!1},onCanPlay:function(){!this.options.preload&&"none"===this.options.preload||this.trackLoadProgress(),this.container.removeClassName(this.options.player.waitingClass),this.canPlay=!0,this.shouldPlay&&this.adapter&&this.adapter.isPaused()&&this.adapter.play()},onMetadataLoaded:function(){this.elements.duration.setText(this.formatTime(this.adapter.getDuration()))},onTimeUpdate:function(){this.elements.played.setText(this.formatTime(this.adapter.getCurrentTime()));var t=100*this.adapter.getCurrentTime()/this.adapter.getDuration();this.slider.setValue(t)},trackLoadProgress:function(){this.loadTimer&&clearTimeout(this.loadTimer),this.loadedPercent<1&&(this.loadTimer=setTimeout(function(){this.onLoadProgress(),this.trackLoadProgress()}.bind(this),400))},onLoadProgress:function(){this.loadedPercent=this.adapter?this.adapter.getLoadProgress():0,this.loadedPercent&&this.slider.setLoadedValue(this.loadedPercent)},formatTime:function(t){var e=parseInt(t,10),a=Math.floor(e/60,10),s=e-60*a;return s=isNaN(s)?0:s,(a=isNaN(a)?0:a)+":"+(s<10?"0"+s:s)}})).canPlay=function(t){return Boolean(u(t))},d.Instances={},d.Adapter={audio:{audioTag:null,isAvailable:function(t){var e=document.createElement("audio");return!!e.canPlayType&&(/\.mp3$/.test(t)&&""!==e.canPlayType("audio/mpeg")||/\.m4a$/.test(t)&&""!==e.canPlayType("audio/x-m4a")||/\.ogg$/.test(t)&&""!==e.canPlayType('audio/ogg; codecs="vorbis"'))},build:function(t){return this.audioTag=o.createElement("audio",{id:"uwa-audioplayer-audio-"+t.id,preload:t.options.preload,events:{play:t.onPlay.bind(t),pause:t.onPause.bind(t),ended:function(){t.pause(),t.elements.played.setText(t.formatTime(0)),t.slider.reset()},timeupdate:function(){t.dispatchEvent("onTimeUpdate"),t.onLoadProgress()},loadedmetadata:t.onMetadataLoaded.bind(t),canplay:t.dispatchEvent.bind(t,"onCanPlay")}}).setStyles({position:"absolute",top:"-100000px"}),this.audioTag.inject(t.container),this},isPaused:function(){return this.audioTag.paused},play:function(){this.audioTag.play()},pause:function(){this.audioTag.pause()},stop:function(){this.audioTag.pause()},setCurrentTime:function(t){try{this.audioTag.currentTime=t}catch(t){}},getCurrentTime:function(){return this.audioTag.currentTime},getDuration:function(){return this.audioTag.duration},getLoadProgress:function(){var t=0,e=this.audioTag;return e&&e.buffered&&0<e.buffered.length&&e.buffered.end&&e.duration?t=e.buffered.end(0)/e.duration:e&&void 0!==e.bytesTotal&&0<e.bytesTotal&&void 0!==e.bufferedBytes&&(t=e.bufferedBytes/e.bytesTotal),100*t},setVolume:function(t){this.audioTag.volume=parseFloat(t/200)},getVolume:function(){return 200*this.audioTag.volume},setUrl:function(t){this.audioTag.src=t,this.audioTag.load()}},flash:{flashTag:null,isAvailable:function(t){return 0!==r.prototype.detectFlashVersion().major&&/\.mp3$/.test(t)},build:function(t){var e,a="uwa-audioplayer-flash-"+t.id,s=new r({_root:!1,id:a,url:o.hosts.uwa+"/lib/UWA/assets/img/flash/player_mp3_js.swf",width:1,height:1,flashVars:"listener=UWA.Controls.AudioPlayer.Instances.x"+t.id+".adapter.listener&interval=750&userexternalinterface=1",allowScriptAccess:"always"});if(this.pendingVariables=[],this.control=t,this.listener={isPlaying:!1,ready:!1,onInit:this.onReady.bind(this),onUpdate:function(){t.onMetadataLoaded(),t.dispatchEvent("onTimeUpdate"),t.onLoadProgress()}},this.flashTag=s.getFlashContainer(),this.flashTag.setStyles({position:"absolute",top:"-100000px"}),i.Engine.ie)try{(e=document.createElement("<script for="+a+" event=FSCommand(command,args)><\/script>")).text="eval(args);",document.body.appendChild(e)}catch(t){}return this.flashTag.inject(t.container),this},SetVariable:function(e,a){var s=this;if(s.listener.ready){s.variableTimers=s.variableTimers||{};try{clearTimeout(s.variableTimers[e]),s.flashTag.SetVariable(e,a)}catch(t){s.variableTimers[e]=setTimeout(function(){s.flashTag.SetVariable(e,a)},500)}}else s.pendingVariables.push([e,a])},onReady:function(){this.listener.ready=!0,this.pendingVariables.forEach(function(t){this.SetVariable.apply(this,t)},this),this.control.dispatchEvent("onCanPlay")},isPaused:function(){return"true"!==this.listener.isPlaying},play:function(){this.SetVariable("enabled","true"),this.SetVariable("method:play"),this.control.onPlay()},pause:function(){this.SetVariable("method:pause"),this.control.onPause()},stop:function(){this.SetVariable("method:setPosition",0),this.SetVariable("method:stop"),this.control.onPause()},setCurrentTime:function(t){this.SetVariable("enabled","false"),this.SetVariable("method:setPosition",Math.round(1e3*t)),this.SetVariable("enabled","true")},getCurrentTime:function(){return this.listener.position/1e3},getDuration:function(){return this.listener.duration/1e3},getLoadProgress:function(){var t=this.listener.bytesPercent;return isNaN(t)?100:t},setVolume:function(t){t=isNaN(t)?100:t,this.SetVariable("method:setVolume",t)},getVolume:function(){return this.listener.volume},setUrl:function(t){this.SetVariable("method:setUrl",t)}}},o.namespace("Controls/AudioPlayer",d,o)});

define("UWA/Controls/AutocompleteAdaptors/Abstract",["UWA/Core","UWA/String","UWA/Class","UWA/Class/Options"],function(t,e,n,s){"use strict";var o;return o=n.extend(s,{init:function(t){this.setOptions(t)},getSuggestions:function(){throw new Error("Not implemented")},renderSuggestions:function(t){return{tag:"div",class:"category uwa-icon magnifying-glass",html:t.map(function(t){return{tag:"div",class:"suggestion",html:this.renderSuggestion(t)}},this)}},renderSuggestion:function(t){return e.escapeHTML(t.displayValue||t.fullValue||"")}}),t.namespace("Controls/AutocompleteAdaptors/Abstract",o,t)});

define("UWA/Controls/AutocompleteAdaptors/Data",["UWA/Core","UWA/Controls/AutocompleteAdaptors/Abstract","UWA/Json","UWA/Data","UWA/String","UWA/Promise"],function(a,t,i,s,o,e){"use strict";var n;return n=t.extend({options:{url:null,dataParser:null,format:"{name}",minLength:1},dataCache:null,init:function(t){this._parent(t),this.dataCache={}},getSuggestions:function(n){var r,o=this,a=o.dataCache;return new e(function(e,t){n.length>=o.options.minLength?a[n]?e(a[n]):o.options.url&&(r=o.options.url.replace("{text}",n),s.request(r,{method:"GET",type:"text",onComplete:function(t){0<(t=o.dataParse(t)).length&&(a[n]=t),e(t)},onFailure:t,onTimeout:t})):e([])})},renderSuggestion:function(n){var r=n.fullValue;return this.options.format.replace(/\{(\w+)\}/g,function(t,e){return o.escapeHTML(n[e]||r)})},dataParse:function(t){var e,n,r,o=this.options.dataParser;if(a.is(o,"function"))t=o(t);else{if(i.isJson(t))t=i.decode(t),r=!0;else for(e in t=i.xmlToJson(t))if(t.hasOwnProperty(e)){t=t[e];break}for(e in t)if(t.hasOwnProperty(e)&&(n=n||e,Array.isArray(t[e]))){t=t[e],r=!0;break}!r&&n&&(t=[t[n]])}return Array.isArray(t)?t:[]}}),a.namespace("Controls/AutocompleteAdaptors/Data",n,a)});

define("UWA/Controls/EnhancedTextarea",["UWA/Core","UWA/Class/Timed","UWA/Controls/Input"],function(e,t,n){"use strict";var s;return s=n.Text.extend(t,{name:"uwa-enhanced-textarea",options:{autoGrow:!1},_hiddenInput:!0,buildInput:function(){return e.createElement("textarea")},buildSkeleton:function(){this._parent();var t=this.elements;t.input.removeClassName("uwa-input-text"),t.caret=e.createElement("span",{class:this.getClassNames("-caret")}),t.input.addEvents({scroll:this.syncScroll.bind(this),mouseup:this.syncInput.bind(this),paste:this.syncInput.bind(this)}),t.container.addClassName("uwa-input-text").grab(t.input),this.isAutoGrow()&&t.container.addClassName("autogrow")},getCaretElement:function(){return this.elements.caret},isAutoGrow:function(){return this.options.autoGrow},syncInput:function(){this.setAnimate("sync-input",function(){var t=this.elements;t.content.empty(!0).addContent(this.buildContentMimic(),""),this.isAutoGrow()?t.content.offsetHeight!==t.container.offsetHeight?(t.container.setStyle("height",t.content.offsetHeight),this.dispatchEvent("onResize")):(this.syncScroll(),this._hideInputScroll()):this.syncScroll()})},buildContentMimic:function(){var t=this.elements,e=this.getValue(),n=t.input.selectionStart,s=e.slice(0,n),i=e.slice(n);return[s,t.caret,i]},_hideInputScroll:function(){if(this.isAutoGrow()){var t=this.elements.input;t.setStyles({overflow:t.offsetHeight===t.scrollHeight?"hidden":null})}},syncScroll:function(){this.elements.content.scrollTop=this.elements.input.scrollTop},onMouseDown:function(){}}),e.namespace("Controls/EnhancedTextarea",s,e)});

define("UWA/Controls/Autocomplete",["UWA/Core","UWA/Array","UWA/Class/Timed","UWA/Promise","UWA/Utils/Scroll","UWA/Controls/AutocompleteAdaptors/Data","UWA/Controls/Abstract","UWA/Controls/EnhancedTextarea","UWA/Controls/Input","UWA/Controls/DropDown","UWA/Controls/ThemedScroller","UWA/Event"],function(l,s,t,a,i,n,e,o,u,g,r,h){"use strict";var d,p;return d=o.extend({setInlineText:function(t){this.elements.inlineText.setText(t)},getInlineText:function(){return this.elements.inlineText.getText()},buildSkeleton:function(){this._parent(),this.elements.inlineText=l.createElement("span",{class:this.getClassNames("-inline-text")})},buildContentMimic:function(){return[this._parent(),"",this.elements.inlineText]}}),p=e.extend(t,{name:"uwa-autocomplete",options:{typeDelay:500,adaptor:null,adaptorOptions:{},inputOptions:{attributes:{autocomplete:"off"}},multiline:!1,floatingSuggestions:!1,previewSuggestion:!1,minLength:1,suggestFormat:"{name}",suggestUrl:null,dataParser:null,placeholder:""},init:function(t){this._parent(t)},isFloating:function(){return this.options.multiline&&this.options.floatingSuggestions},getAdaptor:function(){if(!this._adaptor){var t=this.options,e=l.typeOf(t.adaptor);this._adaptor="class"===e?new t.adaptor(t.adaptorOptions):"object"===e?t.adaptor:new n(l.merge({format:t.suggestFormat,url:t.suggestUrl,dataParser:t.dataParser,minLength:t.minLength},t.adaptorOptions))}return this._adaptor},getContent:function(){return this.elements.container||this.buildSkeleton(),this.elements.container},getInputControl:function(){return this.elements.input||this.buildSkeleton(),this.elements.input},getInputElement:function(){return this.getInputControl().getInputElement()},buildSkeleton:function(){var e=this,t=e.options,n=e.elements,s=l.clone(t.inputOptions),i=this.isFloating();t.placeholder&&(s.attributes||(s.attributes={}),s.attributes.placeholder=t.placeholder),s._root=!1,n.input=t.multiline?new d(s):new u.Text(s),t.multiline&&n.input.addEvent("onResize",function(){n.dropdown.updatePosition()}),n.input.addEvents({onKeyDown:this.dispatchEvent.bind(this,"onKeyDown"),onChange:this.dispatchEvent.bind(this,"onChange")}),n.input.getInputElement().addEvents({blur:function(){this.elements.container.removeClassName("focus"),this.setDelayed("blur-hide-suggestions",this.hideSuggestions,1)}.bind(this),focus:function(){this.elements.container.addClassName("focus"),this.setDelayed("focus-update-suggestion",this.updateSuggestions,400)}.bind(this)}),n.dropdown=i?new g.Pointy({_root:!1,target:n.input.getCaretElement(),className:this.getClassNames("-floating-dropdown"),autoPosition:["below-center","above-center"],positionOptions:{fit:"resize-max"}}):new g({_root:!1,className:this.getClassNames("-dropdown"),position:function(){return{x:0,y:n.input.getContent().getSize().height}},positionOptions:{fit:"resize-max",relative:n.container,boundaryMargin:4}}),n.suggestions=l.createElement("div",{class:this.getClassNames("-suggestions"),events:{click:this._selectionMouseHandler.bind(this),mousedown:function(t){h.preventDefault(t)},mouseover:this._selectionMouseHandler.bind(this)}}),n.scroller=new r({_root:!1}),n.scroller.getInnerElement().setContent(n.suggestions),n.dropdown.getInnerElement().setContent(n.scroller),n.dropdown.addEvents({onHide:function(){e.dispatchEvent("onHideSuggestions")},onPreUpdatePosition:function(){this.getContent().setStyles({"max-height":null,"max-width":null})},onShow:function(){var t=Math.min(n.suggestions.scrollHeight,200);n.dropdown.getContent().setStyle("height",t),e.dispatchEvent("onShowSuggestions")}}),n.container=l.createElement("div",{class:this.getClassNames()+(i?" floating":" not-floating")+(t.multiline?" multiline":" singleline"),html:[n.input,n.dropdown]})},updateSuggestions:function(t){var e=this.getValue(),n=a.deferred(),s=this.getInputElement(),i=s.selectionStart,o=e+"-"+i,u=t&&t.resetInput,g=t&&l.is(t.typeDelay)?t.typeDelay:this.options.typeDelay;return s.getDocument().activeElement!==s?(this.hideSuggestions({resetInput:u}),this.clearDelayed("getSuggestions"),n.resolve()):this._updateSuggestionRun&&o===this._updateSuggestionRun.key?this._updateSuggestionRun&&this._updateSuggestionRun.promise.then(n.resolve,n.reject):(this._updateSuggestionRun={promise:n.promise,key:o},this.setDelayed("hideSuggestionsIfGettingThemIsToSlow",function(){this.hideSuggestions({resetInput:u,cancelUpdateSuggestions:!1})},100),this.setDelayed("getSuggestions",function(){this.getSuggestions(e,i).done(function(t){this._updateSuggestionRun&&o===this._updateSuggestionRun.key?(t.length?this.displaySuggestions(t):this.hideSuggestions({resetInput:!1,cancelUpdateSuggestions:!1}),this.clearDelayed("hideSuggestionsIfGettingThemIsToSlow"),n.resolve()):n.reject(new Error("Aborted by another call to updateSuggestion"))}.bind(this))},g)),n.promise},getSuggestions:function(t,e){return a.cast(this.getAdaptor().getSuggestions(t,e)).then(function(t){return(t||[]).map(function(t){return"string"==typeof t?{fullValue:t}:t})})},areSuggestionsDisplayed:function(){return Boolean(this._displayedSuggestions)},displaySuggestions:function(t){this._displayedSuggestions=t,this._currentSuggestionIndex=null;var e=this.elements.dropdown;this.elements.suggestions.setContent(this.getAdaptor().renderSuggestions(t)),e.show();var n=t[0];!this._isInlineSuggestionAvailable(n)&&this.options.previewSuggestion||this._highlightSuggestion(n)},hideSuggestions:function(t){this._resetSuggestion(!t||t.resetInput),t&&!1===t.cancelUpdateSuggestions||(this._updateSuggestionRun=null),this._displayedSuggestions=null,this.elements.dropdown.hide()},getValue:function(){return this.getInputControl().getValue()},setValue:function(t){this.getInputControl().setValue(t),this.updateSuggestions({resetInput:!1})},_selectionMouseHandler:function(t){var e,n=h.findElement(t,".suggestion");n&&(e=this._getSuggestion(n))&&("click"===t.type?this._setSuggestion(e):this._highlightSuggestion(e),h.stop(t))},_getParts:function(t,e){var n=this.getInputElement();return void 0===t&&(t=n.selectionStart),void 0===e&&(e=n.selectionEnd),{before:n.value.slice(0,t),between:n.value.slice(t,e),after:n.value.slice(e)}},_setParts:function(t,e){var n=this.getInputElement();n.value=t.before+t.between+t.after;var s=t.before.length,i=s+t.between.length;switch(e){case"start":i=s;break;case"end":s=i}n.selectionStart=s,n.selectionEnd=i},_getSuggestionIndex:function(t){if(l.is(t)||(t=this._currentSuggestionIndex,l.is(t)))return t.nodeType?t=this.elements.suggestions.getElements(".suggestion").indexOf(t):"object"==typeof t&&(t=this._displayedSuggestions.indexOf(t)),l.is(t,"number")&&0<=t?t:void 0},_getSuggestion:function(t){if(void 0!==(t=this._getSuggestionIndex(t)))return this._displayedSuggestions?this._displayedSuggestions[t]:void 0},_getSuggestionElement:function(t){if(void 0!==(t=this._getSuggestionIndex(t)))return this.elements.suggestions.getElements(".suggestion")[t]},_resetSuggestion:function(t){if(this._getSuggestion()){if(s.invoke(this.elements.suggestions.getElements(".current"),"removeClassName","current"),this.options.multiline&&this.elements.input.setInlineText(""),!1!==t&&this.options.previewSuggestion){var e=this._previousValue||"",n=this._getParts();n.between=e,this._setParts(n,"end")}this._previousValue=null,this._currentSuggestionIndex=null}},_getSuggestionParts:function(t){var e,n=this.getInputElement();return t.inlineValue?((e=this._getParts()).previous=e.between,e.between=t.inlineValue):t.fullValue&&((e=this._getParts(void 0!==t.start?t.start:0,void 0!==t.end?t.end:n.value.length+t.fullValue.length)).previous=e.between,e.between=t.fullValue),e},_highlightSuggestion:function(t){if(void 0!==(t=this._getSuggestion(t))){this._resetSuggestion(),this._currentSuggestionIndex=this._getSuggestionIndex(t);var e=this._getSuggestionElement(t),n=e.getParent(".category");e.addClassName("current"),i.scrollToElement(e),n&&n.addClassName("current");var s=this._getSuggestionParts(t);this._isInlineSuggestionAvailable(t)?this.elements.input.setInlineText(s.between):this.options.previewSuggestion&&this._setParts(s,"around"),this._previousValue=s.previous}},_isInlineSuggestionAvailable:function(t){var e=this.getInputElement();return t.inlineValue&&this.options.multiline&&e.selectionStart===e.value.length},_setSuggestion:function(t,e){(t=this._getSuggestion(t))&&(this._resetSuggestion(),this._setParts(this._getSuggestionParts(t),e&&e.selectionAtStart?"start":"end"),this.hideSuggestions(),this.dispatchEvent("onSetSuggestion",[t]),this.getInputControl()._dispatchOnChange())},onHideSuggestions:function(){this.elements.container.removeClassName("suggestions-displayed")},onShowSuggestions:function(){this.elements.container.addClassName("suggestions-displayed")},onClick:function(){this.elements.input.focus()},onKeyDown:function(t){var s=this,e=h.whichKey(t),n=null!==this._currentSuggestionIndex,i=!0;function o(){return 0<=Array.prototype.indexOf.call(arguments,e)}function u(){s.setDelayed("updateSuggestions",s.updateSuggestions.bind(s,{resetInput:!1}),5)}function g(){s.dispatchEvent("onSubmit",[s.getValue()])}function l(t){var e=s._currentSuggestionIndex,n=s._displayedSuggestions.length;null===e&&(e=t<0?n:-1),s._highlightSuggestion(s._getSuggestion((e+t+n)%n))}this.areSuggestionsDisplayed()?o("up","shift+tab")?l(-1):o("down","tab")?l(1):o("return")&&n?this._setSuggestion(null,{selectionAtStart:o("left")}):o("return")&&this.hasEvent("onSubmit")?(this.hideSuggestions({resetInput:!1}),g()):o("esc")?this.hideSuggestions():o("shift")||(u(),i=!1):o("return")&&this.hasEvent("onSubmit")?g():(u(),i=!1),i&&h.stop(t)}}),l.namespace("Controls/Autocomplete",p,l)});

define("UWA/Controls/Calendar",["UWA/Core","UWA/Date","UWA/Event","UWA/Controls/Abstract","UWA/String"],function(h,o,r,e,t){"use strict";var i,c=h.i18n;function a(e,t){var i=!e;return i==!t&&(i||e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function l(e,t,i){var n=e.getDate();if(void 0===i&&(i=1),"year"===t?(i*=12,t="month"):"week"===t&&(i*=7,t="day"),"month"===t)e.setDate(1),e.setMonth(e.getMonth()+i+1),e.setDate(0),n<e.getDate()&&e.setDate(n);else{if("day"!==t)throw new Error('Unknown unit "'+t+'"');e.setDate(n+i)}}return i=e.extend({name:"uwa-calendar",defaultOptions:{view:"month",weekFirstDay:"monday",limit:{}},weekOffset:{monday:1,sunday:0,saturday:6},init:function(e){this._parent(e),this.buildSkeleton(),this.bound={refreshLimit:this.refreshLimit.bind(this)},this.setLimit(this.options.limit),this.setDate(this.options.date),this.displayView(this.options.view)},getWeekOffset:function(){return this.weekOffset[this.options.weekFirstDay]||0},getMonthFirstDay:function(){var e=this.displayDate;return(new Date(e.getFullYear(),e.getMonth(),1).getDay()-this.getWeekOffset()+7)%7},getWeekFirstDay:function(){var e=this.displayDate;return e.getDate()-(7+e.getDay()-this.getWeekOffset())%7},iterateWeek:function(e,t){var i,n=this.displayDate,s=new Date(n.getFullYear(),n.getMonth(),this.getWeekFirstDay()),a=s.getDate();for(i=0;i<7;i+=1){var r=new Date(s);r.setDate(a+i),e.call(t,i,r)}return this},displayView:function(e){if(["month","week"].indexOf(e)<0)throw new Error("Unknown view "+e+"options");return e!==this.currentView&&(this.container.setContent(this["build"+t.ucfirst(e)+"View"]()),this.currentView=e,this.dispatchEvent("onRefresh")),this},setDate:function(e,t){t||(e||((e=new Date).setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),t=e);var i=!a(e,this.selectDate);return!i&&a(t,this.displayDate)||(this.selectDate=e,this.displayDate=t,this.dispatchEvent("onRefresh"),i&&this.dispatchEvent("onDateChange",[e])),this},getDate:function(){return this.selectDate||null},setLimit:function(e){e=e||{};var t=this.options.limit;return this.options.limit=e,[t.max,t.min,e.max,e.min].forEach(function(e,t){e instanceof i&&e[t<2?"removeEvent":"addEvent"]("onDateChange",this.bound.refreshLimit)},this),this.refreshLimit(),this},getLimit:function(){var e,t,i,n=this.options.limit||{},s={};for(e=0;e<2;e+=1)i=n[t=e?"max":"min"],s[t]=i&&new Date((i.getTime||i.getDate||i).call(i)).getTime()||(e?1/0:-1/0);return s.min-=864e5,s},refreshLimit:function(){var e=this.getLimit();if(e.end<e.start)throw new Error("Bad limit specified");return this.selectDate&&(this.preventRefresh(),this.setDate(new Date(Math.max(Math.min(e.max,this.selectDate),e.min))),this.allowRefresh()),this.dispatchEvent("onRefresh")},preventRefresh:function(){return this.doNotRefresh=this.doNotRefresh+1||1,this},allowRefresh:function(){return this.doNotRefresh=this.doNotRefresh-1||0,this},buildSkeleton:function(){this.container=h.createElement("div",{class:this.getClassNames(),events:{click:this.onClick.bind(this),mousedown:r.preventDefault}})},buildMonthView:function(){var e,t,i,n=h.createElement("div",{class:"monthView"}),s=h.createElement("div",{class:"top"}).inject(n),a=h.createElement("table").inject(n),r=h.createElement("tbody").inject(a),l=h.createElement("tr").inject(r);for(this.iterateWeek(function(e,t){h.createElement("th",{text:o.strftime(t,"%a")[0]}).inject(l)}),t=0;t<42;t+=1)t%7==0&&(e=h.createElement("tr").inject(r)),i=h.createElement("td").inject(e),h.createElement("div",{class:"day"}).inject(i);return h.createElement("span",{class:"previous uwa-icon","data-icon":"l"}).inject(s),h.createElement("span",{class:"title"}).inject(s),h.createElement("span",{class:"next uwa-icon","data-icon":"m"}).inject(s),this.elements.monthView=n},buildWeekView:function(){var e,t,i=h.createElement("div",{class:"weekView"}),n=h.createElement("div",{class:"top"}).inject(i),s=h.createElement("table").inject(i),a=h.createElement("tbody").inject(s),r=h.createElement("tr").inject(a);for(this.iterateWeek(function(e,t){h.createElement("th",{text:o.strftime(t,"%a")[0]}).inject(r)}),t=0;t<7;t+=1)t%7==0&&(e=h.createElement("tr").inject(a)),h.createElement("td",{html:{tag:"div",class:"day"}}).inject(e);return h.createElement("span",{class:"previous",text:""}).inject(n),h.createElement("span",{class:"title"}).inject(n),h.createElement("span",{class:"next",text:""}).inject(n),this.elements.weekView=i},refreshMonthView:function(){var e,t,i=this.displayDate,n=new Date(i.getFullYear(),i.getMonth(),-this.getMonthFirstDay()),s=this.elements.monthView,a=s.getElements(".day");for(e=0,t=a.length;e<t;e+=1)n.setDate(n.getDate()+1),a[e]=this.buildDay(a[e],n);s.getElement("tbody").getElements("tr")[6][6<n.getDate()?"hide":"show"](),s.getElement(".title").setText(o.strftime(i,c("%B %Y")))},refreshWeekView:function(){var e,t,i,n=this.displayDate,s=new Date(n.getFullYear(),n.getMonth(),this.getWeekFirstDay()),a=o.strftime(s,c("%e %B")),r=this.elements.weekView,l=r.getElements(".day");for(e=0,t=l.length;e<t;e+=1)l[e]=this.buildDay(l[e],s),s.setDate(s.getDate()+1);s.setDate(s.getDate()-1),i=o.strftime(s,c("%e %B %Y")),r.getElement(".title").setText(a+" - "+i)},buildDay:function(e,t){var i=new Date,n=this.displayDate,s=this.getLimit();return e.getClosest("td").toggleClassName("currentDay",a(t,n)).toggleClassName("selectDate",a(t,this.selectDate)).toggleClassName("today",a(t,i)).toggleClassName("currentMonth",t.getMonth()===n.getMonth()).toggleClassName("disabled",t<s.min||t>s.max),e.setText(t.getDate()),e},onRefresh:function(){var e=this.currentView;e&&!this.doNotRefresh&&this["refresh"+t.ucfirst(e)+"View"]()},onClick:function(e){var t,i=this.container,n=r.getElement(e),s=n.hasClassName("next")?1:n.hasClassName("previous")?-1:0,a=new Date(this.displayDate);n.getClosest(".disabled")||(n.hasClassName("day")?(l(a,"day",(t=i.getElements(".day")).indexOf(n)-t.indexOf(i.getElement(".currentDay .day"))),this.setDate(a),this.dispatchEvent("onDateSelect",[a])):s&&(l(a,this.currentView,s),this.setDate(this.selectDate,a)))}}),h.namespace("Controls/Calendar",i,h)});

define("UWA/Controls/Carousel",["UWA/Core","UWA/Class/Timed","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Scroller"],function(o,t,i,s,e,l,n){"use strict";var r=l.extend(t,{defaultOptions:{className:"uwa-carousel",orientation:"horizontal",scrollSize:3,scrollerOptions:{lockDirection:!0,momentum:!1,scrollbarH:!1,scrollbarV:!1,scrollDrag:i.Features.touchEvents},nextButton:null,previousButton:null,scrollButtonClassName:"uwa-carousel-button",scrollDuration:300,autoScrollPressedDelay:500,itemSelector:"li"},init:function(t,e){this._parent(e),this.element=o.extendElement(t),this.elements.container=o.createElement("div",{class:this.options.className}).inject(this.element,"before").grab(this.element),this.initEvents(),this.options.scrollerOptions.scrollableY=this.isVertical(),this.options.scrollerOptions.scrollableX=!this.options.scrollerOptions.scrollableY,this.scroller=new n(t,o.merge({_root:!1},this.options.scrollerOptions)),this.scroller.addEvent("onMouseWheel",this.updateScrollButtonsDisabledState.bind(this)),this.scroller.addEvent("onScrollEnd",this.updateScrollButtonsDisabledState.bind(this)),this.scroller.addEvent("onRefresh",this.dispatchEvent.bind(this,"onRefresh"))},scrollHead:function(t){this.scrollToItem(this.element.firstChild,t)},scrollTail:function(t){this.scrollToItem(this.element.lastChild,t)},scrollNext:function(t){this.scrollTo("next",t)},scrollPrevious:function(t){this.scrollTo("previous",t)},scrollToItem:function(t,e){var s,i,o,l;this.hasDelayed("onRefresh")&&(this.clearDelayed("onRefresh"),this.onRefreshNoDelay()),isNaN(e)&&(e=this.options.scrollDuration),s=this.element.firstChild===t?"start":this.element.lastChild===t?"end":(i=this.getItems(),o=this.getVisibleItems(!0),l=i.indexOf(t),i.indexOf(o[0])<l?"end":"before"),this.scroller.scrollToElement(t,s,e)},scrollTo:function(t,e,s){var i,o,l=this.getItems();e=e||this.options.scrollSize,isNaN(s)&&(s=this.options.scrollDuration),"next"===t?(i=l.indexOf(this.getLastItemVisible())+e,o="end"):"previous"===t&&(i=l.indexOf(this.getFirstItemVisible())-e,o="start"),i=Math.min(l.length-1,Math.max(0,i)),this.scroller.scrollToElement(l[i],o,s),this.updateScrollButtonsDisabledState()},isItemVisible:function(t,e){var s=this.isVertical()?"y":"x";return this.scroller.isInViewport(t,!1!==e,s)},getFirstItemVisible:function(){var t,e,s,i=this.getItems();for(e=0,s=i.length;e<s;e+=1)if(t=i[e],this.isItemVisible(t,!1))return t;return null},getLastItemVisible:function(){var t=this.getVisibleItems(!1);return t.length?t[t.length-1]:null},getVisibleItems:function(e){var s,i,o;return this.getItems().filter(function(t){return!0!==o?(s=this.isItemVisible(t,e),o=!1===s&&!0===i,i=s):s=!1,s},this)},nextButton:function(){return this.elements.nextButton||(this.elements.nextButton=this._createScrollButton("next")),this.elements.nextButton},previousButton:function(){return this.elements.previousButton||(this.elements.previousButton=this._createScrollButton("previous")),this.elements.previousButton},initEvents:function(){var t,e=i.Features.touchEvents,s={};s[e?"touchstart":"mousedown"]=this.onScrollButtonDown.bind(this),s[e?"touchend":"mouseup"]=this.onScrollButtonUp.bind(this),s.click=this.onScrollButtonClick.bind(this),(t=this.nextButton())&&(t.addEvents(s),t.setAttribute("data-scroll","next")),(t=this.previousButton())&&(t.addEvents(s),t.setAttribute("data-scroll","previous"))},onScrollButtonClick:function(t){if(!this.stopScroll()){var e=t.timeStamp||Date.now();this.lastClickTime&&e-this.lastClickTime<=300?(delete this.lastClickTime,this.onScrollButtonDblClick(t)):(s.preventDefault(t),this.lastClickTime=e,this.scrollTo(this.getScrollButtonFromEvent(t).getAttribute("data-scroll"),this.options.scrollSize))}},onScrollButtonDblClick:function(t){s.stop(t),this.scrollTo(this.getScrollButtonFromEvent(t).getAttribute("data-scroll"),this.getVisibleItems(!0).length)},onScrollButtonDown:function(t){this.setDelayed("pressedTimeout",this.autoScroll.bind(this,this.getScrollButtonFromEvent(t).getAttribute("data-scroll")),this.options.autoScrollPressedDelay)},onScrollButtonUp:function(){this.stopScroll()},autoScrollNext:function(){this.autoScroll("next")},autoScrollPrevious:function(){this.autoScroll("previous")},autoScroll:function(s){this.stopScroll(),this.setPeriodical("scrollTimer",function(){var t=this.scroller.getPosition(),e=this.isVertical()?"y":"x";"previous"===s?t[e]+=20:"next"===s&&(t[e]-=20),this.scroller.setPosition(t.x,t.y,0)}.bind(this),20)},stopScroll:function(){this.clearDelayed("pressedTimeout");var t=this.hasPeriodical("scrollTimer");return this.clearPeriodical("scrollTimer"),this.scroller.dragScrolling&&(this.scroller.dragScrolling=!1),t},onRefresh:function(){this.setDelayed("onRefresh",this.onRefreshNoDelay.bind(this),50)},onRefreshNoDelay:function(){if(this.isInjected()){var t,e=this.isVertical()?"y":"x",s=this.scroller.maxScroll[e];this.elements.container.hasAttribute("overflow")||this._updateOverflowStatus(),this._updateOverflowStatus(),this.scroller.dispatchEvent("onRefresh"),t=Math.abs(s)-Math.abs(this.scroller.maxScroll[e]),this.dispatchEvent("onScrollerResize",[{deltaScroll:t}]),this.updateScrollButtonsDisabledState()}},updateScrollButtonsDisabledState:function(){var s,i,o=this,l=o.elements,n=o.isVertical()?"y":"x";[l.nextButton,l.previousButton].forEach(function(t,e){t&&(s=o.scroller.isMaxPosition(n,!1,2*e-1),t.toggleClassName("disabled",s),i="max-scroll-"+t.getAttribute("data-scroll"),s?l.container.setAttribute(i,"true"):l.container.removeAttribute(i))})},hasOverflow:function(){return"true"===this.elements.container.getAttribute("overflow")},isVertical:function(){return"vertical"===this.options.orientation},getItems:function(){return this.element.getElements(this.options.itemSelector)},isInjected:function(){return!0!==this.injected&&(this.injected=this.elements.container&&this.elements.container.isInjected()),this.injected},getScrollButtonFromEvent:function(t){return o.Event.getElement(t).getClosest("."+this.options.scrollButtonClassName)},_createScrollButton:function(t){var e=this.options,s=t+"Button",i=!1;return!1!==e[s]&&(i=o.is(e[s],"function")?e[s](this.elements.container):o.is(e[s],"element")?e[s]:o.createElement("a",{class:e.scrollButtonClassName+" "+e.scrollButtonClassName+"-"+t}).grab(o.createElement("span")).inject(this.elements.container),i=o.extendElement(i)),i},_updateOverflowStatus:function(){var t=this.isVertical()?"y":"x",e=this.scroller.hasOverflow(t);this.elements.container.setAttribute("overflow",String(e)),this.scroller.setOptions({preventDefaultMouseWheel:e})}});return o.namespace("Controls/Carousel",r,o)});

define("UWA/Controls/Picker",["UWA/Core","UWA/Utils","UWA/Event","UWA/Class/Timed","UWA/Controls/Input","UWA/Controls/DropDown","UWA/Element"],function(i,n,s,t,e,a,l){"use strict";var o=e.extend(t,{name:"uwa-picker",options:{navigation:null,button:null,valueInput:"text",dropdownOptions:{global:!0},dropdownContainer:null},buildSkeleton:function(){var t=this.options,n=this.elements;this._parent(),t.valueInput&&t.button?n.content.addClassName(this.getClassNames("-split")):t.button?n.container.addClassName("button-only"):t.valueInput&&n.container.addClassName("value-only"),t.valueInput&&(n.content.setContent(n.value=i.createElement("div",{class:this.getClassNames("-value")})),"text"===t.valueInput&&n.value.addClassName(this.getClassNames("-text"))),t.button&&n.content.addContent(n.button=i.createElement("div",{class:this.getClassNames("-button"),html:t.button}))},buildContent:function(){},buildNavigation:function(t){return n.splat(t).map(function(t){return i.is(t,"element")?t:this.buildNavigationItem(t)},this)},buildNavigationItem:function(n){var e=this;return i.createElement("div",{text:n.label,class:this.getClassNames("-navigationlink"),events:{click:function(t){e.dispatchEvent("onNavigationClick",[t,n])}}})},syncInput:function(){var t=this.elements.value;t!==this.elements.input&&t.setText(this.getValue())},isOpen:function(){return Boolean(this.elements.dropdown&&this.elements.dropdown.isOpen())},focus:function(e){var o=this,i=o._parent;setTimeout(function(){var n=document.activeElement,t=o.elements.dropdown;n&&t&&l.isInjected.call(n,t.getInnerElement())?l.addEvent.call(n,"blur",function t(){l.removeEvent.call(n,"blur",t),o.focus(!1)}):(i.call(o,e),!1===e&&o.toggle(e))},0)},open:function(){return this.toggle(!0)},close:function(){return this.toggle(!1)},toggle:function(t){var n=this.elements,e=this.options;if((!0===t||void 0===t)&&!n.dropdown){var o=i.extend({target:n.button||n.content,autoPosition:["below-end","right-start","above-end","left-start"]},e.dropdownOptions);o._root=!1,o.className=this.getClassNames("-dropdown")+" "+(o.className||""),n.dropdown=new a.Pointy(o).addEvents({onShow:this.dispatchEvent.bind(this,"onOpen"),onHide:this.dispatchEvent.bind(this,"onClose")}),e.navigation&&(n.navigation=i.createElement("div",{class:this.getClassNames("-navigation"),html:this.buildNavigation(this.options.navigation)})),n.dropdown.getInnerElement().addEvent("mousedown",s.stopPropagation).addEvent("click",s.stopPropagation).addContent({tag:"div",class:this.getClassNames("-selector"),html:this.buildContent()},n.navigation),n.dropdown.inject(e.dropdownContainer||n.container)}n.dropdown&&n.dropdown.toggle(t)},onClick:function(){this.setDelayed("debounced-toggle",this.toggle,1)},onOpen:function(){this.elements.container.addClassName("open")},onClose:function(){this.elements.container&&this.elements.container.removeClassName("open")},onNavigationClick:function(t,n){this.setValue(n.value)}});return i.namespace("Controls/Picker",o,i)});

define("UWA/Controls/ColorPicker",["UWA/Core","UWA/Event","UWA/Color","UWA/Controls/Picker","UWA/Controls/Drag","UWA/Controls/Input","UWA/String"],function(a,n,d,e,t,s,i){"use strict";var o=t.extend({defaultOptions:{touchSnap:0,mouseSnap:0},start:function(e){this.move(e,{distance:0,x:0,y:0})},move:function(e,t){var s=this.element.getOffsets(),n=this.element.getSize(),i={x:e.x-s.x,y:e.y-s.y};i.x=Math.max(0,Math.min(n.width,i.x)),i.y=Math.max(0,Math.min(n.height,i.y));var l={x:i.x/n.width,y:i.y/n.height};this.options.pickCallback(l,i),this.options.hideCursorWhileDragging&&0<t.distance&&!this.injectedStylesheet&&(this.injectedStylesheet=a.createElement("style",{html:"* { cursor: none !important; }"}).inject(document.body))},reset:function(){this.injectedStylesheet&&(this.injectedStylesheet.remove(),this.injectedStylesheet=null),this._parent()}}),l=e.extend({name:"uwa-colorpicker",currentView:null,previouslyDisplayedHue:null,options:{button:{tag:"div",class:"uwa-colorpicker-well"},dropdownOptions:{},defaultValue:null,defaultView:"picker"},panton:["#9E080E","#637235","#942157","#50299A","#1277DB","#101010","#E51A60","#159A2B","#C41F88","#A159CE","#188D92","#444444","#FC7E29","#85BB23","#E868AE","#7970D0","#37C2DB","#888888","#FEB82C","#C6E12F","#E6A6AB","#A98EE5","#7EBBF5","#AAAAAA","#FFD631","#E6FB4D","#F2C99F","#B9B8E0","#C3E1FE","#CCCCCC"],_items:[],init:function(e){this._parent(e),/\bdark\b/.test(this.options.className)&&!this.options.dropdownOptions.className&&(this.options.dropdownOptions.className="dark"),this.elements.well=this.elements.button.getElement(".uwa-colorpicker-well"),this._updateWell(),this.syncInput()},_getColor:function(){var e=this.getValue()||this.options.defaultValue||"ffffff";if(this._color){var t=d.parse(e),s=this._color;if(a.equals(s.toRGBString(),t.toRGBString()))return this._color;this._color=null}return d.parse(e)},_setColor:function(e){this.setValue(e.toHSLString())},_setView:function(e){var t=e||this.options.defaultView;return this.previouslyDisplayedHue=void 0,t!==this.currentView&&(this.elements.viewContainer.setContent(this["build"+i.ucfirst(t)+"View"]()),this.currentView=t,["panton","picker"].forEach(function(e){this.elements.colorpickerContainer.toggleClassName(e+"-view",e===t)}.bind(this))),this},setValue:function(e){"string"==typeof e&&(e=d.parse(e)),e&&(this._color=e,this._parent(e.toHexString().substring(1)))},buildContent:function(){return this.elements.colorpickerContainer=a.createElement("div",{class:this.getClassNames("-container")}),this.elements.viewContainer=a.createElement("div",{class:this.getClassNames("-view-container")}),this.elements.colorpickerContainer.addContent(this.elements.viewContainer),this.elements.colorpickerContainer.addContent(this._buildControls()),this._setView(this.options.defaultView),this.elements.colorpickerContainer},buildPickerView:function(){var l=this,e=a.createElement("div",{html:[this.elements.slPicker=a.createElement("div",{class:this.getClassNames("-sl-picker"),html:[this.elements.slPickerCanvas=a.createElement("canvas",{class:this.getClassNames("-sl-picker-canvas"),width:220,height:220}),this.elements.slPickerCursor=a.createElement("div",{class:this.getClassNames("-sl-picker-cursor")})]}),this.elements.huePicker=a.createElement("div",{class:this.getClassNames("-hue-picker"),html:[this.elements.huePickerArrows=a.createElement("div",{class:this.getClassNames("-hue-picker-arrows")}),this.elements.huePickerCanvas=a.createElement("canvas",{class:this.getClassNames("-hue-picker-canvas"),width:26,height:220})]})]});return new o({element:this.elements.slPicker,hideCursorWhileDragging:!0,pickCallback:function(e){var t,s=e.x,n=1-e.y,i=(2-s)*n;0<n?(t=s*n,t=(t/=i<=1?i:2-i)||0,i/=2):t=e.x,i*=100,t*=100,l._setColor(l._getColor().cloneWith({l:i,s:t}))}}),new o({element:this.elements.huePicker,pickCallback:function(e){l._setColor(l._getColor().cloneWith({h:360*(1-e.y)}))}}),this.elements.hexField.getElement(".uwa-input-hex-field input").addEvents({keyup:function(){l._readInputFieldValue()},input:function(){l._readInputFieldValue()},change:function(){l._readInputFieldValue()}}),this.elements.dropdown.getInnerElement().addEvent("mousedown",function(e){e.target!==l.elements.hexFieldInput.getInputElement()&&n.preventDefault(e)}),this._renderHuePicker(),this.syncInput(),e},buildPantonView:function(){var s=this;return s.elements.pantonContainer=a.createElement("div",{class:s.getClassNames("-panton-container")}),s._items=[],this.panton.forEach(function(e){var t=a.createElement("span",{class:s.getClassNames("-item-content"),styles:{background:e},events:{click:function(){s.dispatchEvent("resetPantonSelection"),this.addClassName("active"),s._setColor(d.parse(e))}}});a.createElement("div",{class:s.getClassNames("-item"),html:[t]}).inject(s.elements.pantonContainer),s._items.push(t)}),this.elements.dropdown.getInnerElement().addEvent("mousedown",function(e){e.target!==s.elements.hexFieldInput.getInputElement()&&n.preventDefault(e)}),s.elements.pantonContainer},_buildControls:function(){var t=this,e=/\bdark\b/.test(this.options.className);return a.createElement("div",{class:this.getClassNames("-controls"),html:[a.createElement("div",{class:this.getClassNames("-panton-button"),events:{mousedown:function(e){n.preventDefault(e)},click:function(e){n.preventDefault(e),t._setView("panton")}}}),a.createElement("div",{class:this.getClassNames("-picker-button"),events:{mousedown:function(e){n.preventDefault(e)},click:function(e){n.preventDefault(e),t._setView("picker")}}}),this.elements.hexField=a.createElement("div",{class:this.getClassNames("-hex-field"),html:[this.elements.hexFieldInput=new s.Text({_root:!1,className:this.getClassNames("-hex-field-input")}),a.createElement("span",{class:this.getClassNames("-hex-field-icon"),text:"#"})]}),this.elements.clearButton=a.createElement("div",{class:this.getClassNames("-clear-button")+" uwa-icon","data-icon":"p",events:{mousedown:function(e){n.preventDefault(e)},click:function(e){n.preventDefault(e),t.setValue(t.options.defaultValue)}}}),new s.Button({_root:!1,value:"Done",className:this.getClassNames("-done-button")+(e?" extra-dark-grey":" dark-grey"),events:{onMouseDown:function(e){n.preventDefault(e)},onClick:function(){t.toggle(!1)}}})]})},resetPantonSelection:function(){for(var e=this._items,t=0;t<e.length;t++)e[t].removeClassName("active")},_renderHuePicker:function(){for(var e=this.elements.huePickerCanvas,t=this.elements.huePickerCanvas.getContext("2d"),s=t.createLinearGradient(0,0,0,e.height),n=0;n<37;n++){var i=n/36,l=d.parse("hsl("+360*(1-i)+", 100%, 50%)");s.addColorStop(i,l.toHSLString())}t.fillStyle=s,t.fillRect(0,0,e.width,e.height)},_updateWell:function(){this.elements.well.setStyle("background",this._getColor().toHSLString())},_updateSlPicker:function(){var e=this.elements.slPickerCanvas,t=this.elements.slPickerCanvas.getContext("2d"),s=this._getColor(),n=s.toObject();if(this.previouslyDisplayedHue!==n.h){this.previouslyDisplayedHue=n.h;var i=t.createLinearGradient(0,0,e.width,0),l=d.parse("hsl("+n.h+", 100%, 50%)");i.addColorStop(0,"white"),i.addColorStop(1,l.toHSLString()),t.fillStyle=i,t.fillRect(0,0,e.width,e.height);var a=t.createLinearGradient(0,0,0,e.height);a.addColorStop(0,"transparent"),a.addColorStop(1,"black"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height)}var o,r,h,c,u=this.elements.slPickerCursor;c=((o=n.l/100*2)+(r=n.s/100*(o<=1?o:2-o)))/2,h=0<o?2*r/(o+r):n.s/100,h=Math.round(h*this.elements.slPickerCanvas.width),c=Math.round((1-c)*this.elements.slPickerCanvas.height),u.setStyle("left",h+"px"),u.setStyle("top",c+"px"),u.setStyle("background",s.toHexString())},_updateHuePicker:function(){var e=this.elements.huePickerArrows,t=(360-this._getColor().toObject().h)/360*this.elements.huePickerCanvas.height;e.setStyle("top",Math.round(t)+"px")},_updateHexField:function(){var e=this.elements.hexFieldInput;if(this.getValue()){var t=this._getColor(),s=d.parse(e.getValue());s&&a.equals(t.toRGBString(),s.toRGBString())||e.setValue(t.toHexString().substring(1))}else e.setValue("")},_updateDefaultButton:function(){this.elements.clearButton.toggle(a.is(this.options.defaultValue)&&this.options.defaultValue!==this.getValue())},syncInput:function(){if(this.elements.well&&this._updateWell(),this.elements.slPicker&&(this._updateSlPicker(),this._updateHuePicker(),this._updateHexField(),this._updateDefaultButton()),this.elements.value){var e=this.getValue();e=e?e.toLowerCase():"",this.elements.value.setText(e)}},_readInputFieldValue:function(){var e=this.elements.hexFieldInput.getValue(),t=function(e,t){var s=e&&e.match(t?/^\s*#?([0-9a-f]{0,6})/i:/^\s*#?(|[0-9a-f]{3}|[0-9a-f]{6})\s*$/i);return s?s[1]:""}(e,!0);if(t!==e&&this.elements.hexFieldInput.setValue(t),3===t.length||6===t.length){var s=t.replace(/-/g,"Z"),n=d.parse(s);this.setValue(n)}},toggle:function(e){this._parent.apply(this,arguments),!1===e&&this._dispatchOnChange()}});return a.namespace("Controls/ColorPicker",l,a)});

define("UWA/Controls/DataGrid",["UWA/Core","UWA/Event","UWA/String","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Scroller"],function(c,s,i,l,t,e){"use strict";var o=new WeakMap;function a(t){var e=c.createElement(t.tag||"th",{class:t.dataIndex,html:{tag:"span",html:t.text}});if(t.sortable){var s=c.createElement("span",{class:"sort",text:""}).inject(e);e.addClassName("sortable"),t.isSorted&&s.setText(t.sortReverse?"D":"E")}else e.addClassName("no-sortable"),t.text||e.addClassName("empty");return t.className&&e.addClassName(t.className),t.isFirst&&e.addClassName("first"),t.color&&e.setStyles({"background-color":t.color,color:"#FFFFFF"}),e}function h(t){var e=c.createElement(t.tag||"td",{class:t.dataIndex,"data-itemId":t.itemId,html:t.format?t.format(t.text):t.text});if(t.className&&e.addClassName(t.className),t.isFixed&&e.addClassName("is-fixed"),t.isFirst?e.addClassName("first"):e.addClassName("grid-data"),t.color){var s=i.hexToRgb(t.color,!0);e.setStyle("background-color","rgba("+s.toString()+",0.2)")}return e}var r=t.extend({defaultOptions:{className:"",data:null,columns:null,sortable:!1,orderBy:"",sortReverse:!1,scrollerOptions:{}},name:"uwa-datagrid",dataGrid:null,columns:null,init:function(t){this._parent(t),this.dataGrid=t.data,this.columns=t.columns,this.buildSkeleton(),this.fillGrid(),this.initEvents()},setScrollerSize:function(t){this.scroller&&this.scroller.setSize(t)},buildSkeleton:function(){var t=this.options,e=this.elements;e.container=c.createElement("div",{class:this.getClassNames()}),e.grid=c.createElement("table",{class:this.getClassNames("-table")}).inject(e.container),t.sortable&&e.grid.addClassName("sortable")},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(t){var e=s.getElement(t).getClosest("th");this.options.sortable&&e&&!e.hasClassName("no-sortable")&&this.onOrderColumn(e.className.split(" ")[0])},fillGrid:function(){this.fillHeader(),this.fillBody()},fillHeader:function(){var t,e,s,i=this.elements,r=this.columns;for(i.grid.empty(),s=c.createElement("tr").inject(i.grid),t=0,e=r.length;t<e;t++)a({isSorted:this.options.orderBy===r[t].dataIndex,sortReverse:this.options.sortReverse,className:r[t].className,dataIndex:r[t].dataIndex,text:r[t].text,isFirst:r[t].isFirst,sortable:this.options.sortable&&!r[t].noSortable,color:r[t].color}).inject(s)},fillBody:function(){var t,e,s,i,r,a=this.elements,o=this.options,l=this.columns,n=this.dataGrid;for(o.sortable&&o.orderBy&&(n=this.sortData()),t=0,e=n.length;t<e;t++)for(r=c.createElement("tr").inject(a.grid),s=0,i=l.length;s<i;s++){var d=n[t][l[s].dataIndex];h({text:d,isFixed:n[t].isFixed||l[s].isFixed,className:(n[t].className||"")+" "+(l[s].className||""),dataIndex:l[s].dataIndex,itemId:c.is(d,"object")&&d.itemId,format:l[s].format,isFirst:l[s].isFirst,color:l[s].color}).inject(r)}},sortData:function(){var r=this.options,t=this.dataGrid,a=this.columns.filter(function(t){return t.dataIndex===r.orderBy})[0];if(!a)throw new Error("Sort column was not found : "+r.orderBy);return t.sort(function(t,e){var s,i;return(s=a.sortKey?a.sortKey(t[r.orderBy]):t[r.orderBy])<(i=a.sortKey?a.sortKey(e[r.orderBy]):e[r.orderBy])?r.sortReverse?1:-1:i<s?r.sortReverse?-1:1:0}),t},onOrderColumn:function(t){var e=this.options;e.orderBy===t?e.sortReverse=!e.sortReverse:e.sortReverse=!1,e.orderBy=t,this.fillGrid(),this.scroller&&this.scroller.updateFixedHeaders(this.elements.grid),this.dispatchEvent("updateSortOptions",e)},updateData:function(t,e){this.dataGrid=e,this.columns=t,this.fillGrid(),this.scroller&&this.updateScroller()},addScroller:function(){this.scroller=new r.GridScroller(this.elements.grid,c.extend({_root:!1},this.options.scrollerOptions)),this.scroller.addEvent("onRefresh",function(t){t&&t.target===this.elements.grid&&this.scroller.setFixedHeaderSizes()}.bind(this))},updateScroller:function(){this.scroller&&this.scroller.destroy(),this.addScroller()}});return r.GridScroller=e.extend({defaultOptions:{lockDirection:!1},init:function(t){this._parent.apply(this,arguments),this.updateFixedHeaders(t)},_buildFixedHeaders:function(t){var e=this._getFixedHeadersSize(t),s=e.top,i=e.left;e.left&&(e.left=this._buildFixedHeader(t,e.left,1/0)),e.bottom&&(e.bottom=this._buildFixedHeader(t,1/0,-e.bottom)),e.right&&(e.right=this._buildFixedHeader(t,-e.right,1/0)),e.top&&(e.top=this._buildFixedHeader(t,1/0,e.top),e.left&&(e.topLeft=this._buildFixedHeader(t,i,s))),this._fixedHeaders=e},_isHeaderCell:function(t){return"th"===l.getTagName.call(t)||l.hasClassName.call(t,"is-fixed")},_getFixedHeadersSize:function(t){var r={top:0,bottom:0,left:1/0,right:1/0},a=!0,o=this;return l.getElements.call(t,"tr").forEach(function(t){var e=0,s=0,i=!0;l.getChildren.call(t).forEach(function(t){o._isHeaderCell(t)?(i&&e++,s++):(i=!1,s=0)}),r.left=Math.min(r.left,e),r.right=Math.min(r.right,s),i?(a&&r.top++,r.bottom++):(a=!1,r.bottom=0)}),r},setFixedHeaderSizes:function(){var r=[];Object.keys(this._fixedHeaders).forEach(function(t){var e=this._fixedHeaders[t];if(e){var i={width:0,height:0};l.getElements.call(e,"tr").forEach(function(t,s){var e=l.getDimensions.call(o.get(t));i.height+=e.outerHeight,l.getChildren.call(t).forEach(function(t){var e=l.getDimensions.call(o.get(t));r.push({element:t,size:{width:e.innerWidth,height:e.innerHeight}}),0!==s||t.isHidden()||(i.width+=e.outerWidth)})}),r.push({element:e,size:i})}},this),r.forEach(function(t){l.setStyles.call(t.element,t.size)})},_buildFixedHeader:function(t,e,s){function i(t,e){return e<0?t.slice(e):t.slice(0,e)}var r,a={tag:"tbody",html:[]};return i(l.getElements.call(t,"tr"),s).forEach(function(t){var s=c.createElement("tr");o.set(s,t),a.html.push(s),i(l.getChildren.call(t),e).forEach(function(t){var e=t.cloneNode(!0);o.set(e,t),s.grab(e)})}),r=t.cloneNode(),l.setHTML.call(r,a),l.addClassName.call(r,"fixed-column"),this.elements.scroller.grab(r),r},_updateHeaderPositions:function(t){var e=this._fixedHeaders;e.top&&l.setPosition.call(e.top,{y:0,x:t.x}),e.left&&l.setPosition.call(e.left,{y:t.y,x:0}),e.right&&l.setPosition.call(e.right,{y:t.y,x:this.scroll.width-l.getSize.call(e.right).width}),e.bottom&&l.setPosition.call(e.bottom,{x:t.x,y:this.scroll.height-l.getSize.call(e.bottom).height}),e.topLeft&&l.setPosition.call(e.topLeft,{y:0,x:0})},updateFixedHeaders:function(t){var e;if(this._fixedHeaders)for(e in this._fixedHeaders)this._fixedHeaders[e]&&l.destroy.call(this._fixedHeaders[e]);this._buildFixedHeaders(t),this.setFixedHeaderSizes(),this._updateHeaderPositions(this.position)},onScroll:function(){this._parent.apply(this,arguments),this._updateHeaderPositions(this.getPosition(!0))}}),c.namespace("Controls/DataGrid",r,c)});

define("UWA/Controls/DatePicker",["UWA/Core","UWA/Date","UWA/Event","UWA/Controls/Calendar","UWA/Controls/Abstract","UWA/Controls/Picker"],function(t,n,s,a,e,i){"use strict";var o;return o=i.extend({name:"uwa-datepicker",options:{format:"%x",calendarOptions:{},button:{tag:"div",class:"uwa-icon uwa-icon-only calendar"},time:!1,utc:!1},setOptions:function(e){return(e=e||{}).date&&(e.value=e.date/1e3),this._parent(e)},syncInput:function(){var e=this.elements,t=this.getDate();e.value&&e.value.setText(t?n.strftime(t,this.options.format):""),e.calendar&&e.calendar.setDate(t),e.time&&t&&(e.time.getElement(".value").setText(n.strftime(t,"%x")),e.time.getElements("input").forEach(function(e){e.value=t["get"+e.getAttribute("data-action")]()||""}))},onChange:function(){this.dispatchEvent("onDateSelect",[this.getDate()])},onOpen:function(){this._parent();var e=this.elements;e.calendar.refreshLimit(),e.time&&(e.time.hide(),e.calendar.show())},buildContent:function(){var e,i=this;return e=function(e){var a=this,t=s.whichKey(e);1===t.length&&isNaN(t)&&s.preventDefault(e),setTimeout(function(){var e,t,n=i.getDate()||new Date;n["set"+a.getAttribute("data-action")](a.value),i.setDate(n),2<=a.value.length&&(t=((e=i.elements.time.getElements("input")).indexOf(a)+1)%e.length,e[t].select())},1)},i.options.time&&(i.elements.time=t.createElement("div",{class:i.getClassNames("-time"),html:[{tag:"div",class:"value"},{tag:"input",type:"text",class:i.getClassNames("-text"),"data-action":"Hours",events:{keydown:e}},":",{tag:"input",type:"text",class:i.getClassNames("-text"),"data-action":"Minutes",events:{keydown:e}}]}).hide()),i.elements.content=t.createElement("div",{html:[i.elements.calendar=new a(t.extend({_root:!1},i.options.calendarOptions)).setDate(this.getDate()).addEvent("onDateSelect",function(e){var t=i.getDate();t?(t.setDate(e.getDate()),t.setMonth(e.getMonth()),t.setFullYear(e.getFullYear())):t=e,i.setDate(t),i.options.time?(i.elements.calendar.hide(),i.elements.time.show().getElement("input").select(),i.elements.dropdown.updatePosition()):(i.toggle(!1),i.dispatchEvent("onChange",[i.getValue()]))}),i.elements.time]}),i.elements.content},buildNavigationItem:function(e){return e.date&&(e.value=e.date/1e3),this._parent(e)},setDate:function(e){return e&&this.options.utc&&(e=e.getTime()-6e4*e.getTimezoneOffset()),this.setValue(e/1e3||"")},getDate:function(){var e=this.getValue();if(e)return this.options.utc&&(e=Number(e)+60*(new Date).getTimezoneOffset()),new Date(1e3*e)},setLimit:function(e){return this.elements.calendar?this.elements.calendar.setLimit(e):this.setOptions({calendarOptions:{limit:e}}),this}}),t.namespace("Controls/DatePicker",o,t)});

define("UWA/Controls/Ellipsis",["UWA/Core","UWA/Controls/Abstract"],function(s,t){"use strict";var e=t.extend({defaultOptions:{reference:null,refreshOn:[],ellipsis:"&#8230;",spaces:/[\s,.:]+/g},init:function(t,e){this._parent(e),e=this.options,this.element=t,this.ellipsis=s.createElement("span",{html:this.options.ellipsis})},destroy:function(){this.ellipsis.destroy()},onRefresh:function(){var t,e,s,i,o,n=this.element,l=this.options.reference||n;if(n.offsetWidth){for(this.dispatchEvent("onPreRefresh"),this.totalWords||(this.totalWords=this.computeData(n)),t=Math.floor(this.totalWords/2),e=Math.ceil(t/2)||1,n.appendChild(this.ellipsis),o=10;0<o;o-=1){if(this.setWordCount(n,t),s=l.offsetHeight+1<l.scrollHeight,t>=this.totalWords&&!s){n.removeChild(this.ellipsis);break}if(1===e){if(void 0!==i&&i!==s)break;i=s}t+=s?-e:e,e=Math.ceil(e/2)}s&&this.setWordCount(n,t-1),this.dispatchEvent("onPostRefresh")}return this},setWordCount:function(t,e){var s,i,o,n,l,h,r=e;if(t===this.ellipsis)return 0;if(t!==this.element&&(t.style.display=e?"":"none"),e||t===this.element)if(s=t.childNodes.length)for(l=0;l<s;l+=1)3===(h=t.childNodes[l]).nodeType?(o=t.ellipsisData[l].spaces,i=t.ellipsisData[l].original,n=o.length,h.data=r?!n||n+1<=r?i:i.substr(0,o[r-1]||0):"",r-=Math.min(r,n+1)):1===h.nodeType&&(r-=r-this.setWordCount(h,r));else r=e-1;return r},computeData:function(t){var e,s,i,o,n,l,h,r,a,p=t.ellipsisData=[],d=t.childNodes,f=0;for(e=0,s=d.length;e<s;e+=1)if(3===(n=d[e]).nodeType){for(p[e]={original:r=n.data,spaces:h=r.match(this.options.spaces)||[]},i=0,o=h.length;i<o;i+=1)a=r.indexOf(h[i],i?a+l:0),l=h[i].length,h[i]=a;h[o-1]+l===r.length&&h.pop(),0===h[0]&&h.shift(),f+=h.length+1}else 1===n.nodeType&&(f+=this.computeData(n));return f}});return s.namespace("Controls/Ellipsis",e,s)});

define("UWA/Controls/ToolTip",["UWA/Core","UWA/Event","UWA/Controls/Abstract","UWA/Element","UWA/Class/Timed","UWA/Utils/Client","UWA/Controls/DropDown"],function(p,h,t,u,e,v,o){"use strict";var a,c=new o.Pointy({autoPosition:["below-start","right-start","left-start","above-start"],margin:20,positionOptions:{relative:document.querySelector("body")}}),i=new e,m=t.extend({name:"uwa-tooltip",content:"",defaultOptions:{id:"uwa-tooltip",className:"",width:"auto",delay:800,showOver:!0,root:null},mousePosition:{},init:function(t,e,o){this._parent(o),this.content=e||"",this._tooltipped=p.extendElement(t),this._attachEvents()},destroy:function(){this.hide(),this._detachEvents(),this._parent()},_attachEvents:function(){if(!this._events){var t=this._events={tooltipped:{},tooltippedOnShown:{},bodyOnShown:{}};this.options.showOver&&(t.tooltipped.mouseover=this.dispatchAsEventListener("onShowTooltip"),t.tooltippedOnShown.mouseout=this.dispatchAsEventListener("onHideTooltip"),t.tooltippedOnShown.click=this.dispatchAsEventListener("onHideTooltip"),t.bodyOnShown.mousemove=this.dispatchAsEventListener("onMoveTooltip"))}this._tooltipped.addEvents(this._events.tooltipped)},_detachEvents:function(){this._events&&(this._tooltipped.removeEvents(this._events.tooltipped),this._tooltipped.removeEvents(this._events.tooltippedOnShown),u.removeEvents.call(document.querySelector("body"),this._events.bodyOnShown,!0))},buildSkeleton:function(){for(var t,e=this,o=e.options,i=u.getDocument.call(e._tooltipped),n=e.getRootNode(),s=u.getChildren.call(n),l=o.id,d=0;(t=i.getElementById(o.id))&&!(0<=s.indexOf(t));)o.id=l+"-"+d++;return t||((t=c.getContent()).id=o.id,void 0===a&&(a=t.className),t.set("class",a+" "+this.getClassNames()),t.setStyle("width",o.width),t.inject(n)),e._tooltip=t},_tooltippedIsActive:function(){var t=this._tooltipped;function e(t){var e=t.getStyles(["visibility","opacity"]);return"hidden"!==e.visibility&&0<e.opacity}var o=e(t)&&t.getParents().every(e),i=v.getScrolls(),n=document.elementFromPoint(this.mousePosition.x-i.x,this.mousePosition.y-i.y),s=u.isInjected.call(n,t)||n===t;return o&&s},show:function(t,e){var o,i,n,s,l,d=this,a=p.is,r=d._tooltip,h=d._tooltipped;if(t||this._tooltippedIsActive()){if(r=r||d.buildSkeleton(),c.getInnerElement().setContent(d.content),r.show(),a(t)){if((a(t,"string")||a(t,"object")&&a(t.x,"string")&&a(t.y,"string"))&&(t=h.getPosition(!1,t),s={relative:this._tooltipped.getOffsetParent()},e))for(l=r.getDimensions(),o=0;o<2;o+=1)n=o?"width":"height",t[i=o?"x":"y"]=t[i]-l[n]/2}else t=d.mousePosition,s={relative:document.querySelector("body")};return r.addClassName("show"),c.setPosition(t,s),d.visible=!0,this.dispatchEvent("onShow"),d}},hide:function(){var t=this,e=t._tooltip;return t.visible&&(e.removeClassName("show"),e.hide(),this.dispatchEvent("onHide")),i.clearDelayed(),t.visible=!1,t},toggle:function(){var t=this;t.visible?t.hide():t.show()},setDelay:function(){var t=this,e=t.options.delay;t.visible||i.setDelayed("tooltip",function(){t.show()},e)},onShowTooltip:function(t){var e=this;e.mousePosition=h.getPosition(t),this._tooltipped.addEvents(this._events.tooltippedOnShown),u.addEvents.call(document.querySelector("body"),this._events.bodyOnShown,null,null,!0),this.options.delay?e.setDelay():e.show()},onMoveTooltip:function(t){var e=this,o=e.options.delay;e.mousePosition=h.getPosition(t),0<o?(e.hide(),e.setDelay()):c.setPosition(e.mousePosition)},onHideTooltip:function(){this._tooltipped.removeEvents(this._events.tooltippedOnShown),u.removeEvents.call(document.querySelector("body"),this._events.bodyOnShown,!0),this.hide()},getRootNode:function(){return this.options.root||this._tooltipped.getOffsetParent()}});return h.onDomReady(function(){if(!v.Features.touchEvents){var l,d,a=document.querySelector("body"),r=0;u.addEvent.call(a,"mouseover [uwa-tooltip]",function(t){var e=h.getElement(t);if(e&&e.getAttribute("uwa-tooltip")&&(e!==l||d!==e.getAttribute("uwa-tooltip"))){d=(l=e).getAttribute("uwa-tooltip");var o="true"===e.getAttribute("uwa-tooltip-quick"),i=Number(e.getAttribute("uwa-tooltip-delay"))||800,n=o&&Date.now()-r<500&&200;e.set("title","");var s=new m(e,e.getAttribute("uwa-tooltip"),{root:a,delay:n||i});s.dispatchEvent("onShowTooltip",[t]),o&&(s.addEvent("onShow",function(){s.setOption("delay",i)}),s.addEvent("onHide",function(){r=Date.now()}))}})}}),p.namespace("Controls/ToolTip",m,p)});

define("UWA/Controls/EmbedToolTip",["UWA/Core","UWA/Class/Timed","UWA/Event","UWA/Controls/ToolTip","UWA/Element"],function(t,i,o,e,s){"use strict";var l=e.extend(i,{defaultOptions:{id:"uwa-embedToolTip",className:"uwa-embedToolTip",width:100,overDelay:1e3,margin:5},show:function(){var t,i=this._parent;this._tooltip||this.buildSkeleton(),this.setDelayed("showEmbedToolTip",function(){this._tooltippedSize=s.getSize.call(this._tooltipped),this._originalStyle=s.getStyles.call(this._tooltipped,["z-index","position"]),t=parseInt(this._originalStyle["z-index"],10)+100||1e3,s.setStyles.call(this._tooltipped,{zIndex:String(t),position:"relative"}),s.setStyles.call(this._tooltip,{zIndex:String(t-1),paddingBottom:this._tooltippedSize.height+this.options.margin,width:Math.max(this.options.width,this._tooltippedSize.width)}),i.call(this),this._tooltip.show(),this.setPosition()},this.options.overDelay)},hide:function(){this._parent(),this.clearDelayed("showEmbedToolTip"),this.options.fx||s.setStyles.call(this._tooltipped,this._originalStyle)},setPosition:function(){this._tooltip.setPosition({x:-this.options.margin,y:-this._tooltip.getSize().height+(this._tooltippedSize?this._tooltippedSize.height:this._tooltipped.getSize().height)+this.options.margin},{relative:this._tooltipped})},fxCompleted:function(){this._parent(),this.options.fx&&!this.visible&&s.setStyles.call(this._tooltipped,this._originalStyle)}});return t.namespace("Controls/EmbedToolTip",l,t)});

define("UWA/Controls/FeedView",["UWA/Core","UWA/Class","UWA/Event","UWA/String","UWA/Controls/Abstract","UWA/Controls/Ellipsis","UWA/Controls/Scroller","UWA/Controls/Pager"],function(l,e,i,m,t,n,s,o){"use strict";var r=t.extend({defaultOptions:{nbItems:10,showDate:!0,messages:{noItem:"There is no news in this feed.",loadMore:"Load more news.",websiteLink:"Go to website",readMore:"Read more"},images:{loader:l.hosts.uwa+l.paths.css+"base/img/loader.gif",image:l.hosts.uwa+l.paths.css+"base/img/article.png"},scroller:{lockDirection:!0,momentum:!0,bounce:!0},pager:{type:0,showMoreLink:!0}},pagerPosition:"bottom",scrollPosition:"top",itemPerPage:0,init:function(e){this._parent(e),this.itemsEllipsis=[],this.itemsImages={loaded:[],loading:[],waiting:[],maxLoading:2},this.buildSkeleton()},buildSkeleton:function(){var e=this,t=e.pagerPosition;return e.container=l.createElement("div",{class:"uwa-feedview content uwa-feedview-"+e.viewName.replace(/ /g," uwa-feedview-"),events:{resize:this.dispatchAsEventListener("onResize"),mousedown:this.dispatchAsEventListener("onMouseDown")}}),this.buildItems(),e.buildScroller(),t&&(-1!==["top","both"].indexOf(t)&&e.buildPager("top"),-1!==["bottom","both"].indexOf(t)&&e.buildPager("bottom")),e.container},buildItems:function(){var e=this,t=e.options.messages,i=e.elements;return i.item=[],i.items=l.createElement("div",{class:"items"}),i.itemsActions=l.createElement("div",{class:"actions",html:[{tag:"div",class:"loadMore action",html:{tag:"a",href:"#",text:l.i18n(t.loadMore)},styles:{display:"none"}},{tag:"div",class:"noItem action",text:l.i18n(t.noItem),styles:{display:"none"}},{tag:"div",class:"websiteLink action",html:{tag:"a",href:"#",text:l.i18n(t.websiteLink)},styles:{display:"none"}}]}).inject(i.items),i.items.inject(e.container),i.items},buildScroller:function(){var e=this,t=e.elements,i=l.merge({events:{onRefresh:function(){e.refreshPager(),e.loadItemsImages()},onScrollEnd:function(){e.loadItemsImages()}}},e.options.scroller);t.scrollarea=l.createElement("div",{class:"scrollarea"}).grab(t.items).inject(e.container,"top"),e.scroller=new s(e.elements.items,i)},setScrollerHeight:function(e){this.pager&&(e-=this.pager.getContent().getDimensions().outerHeight),this.elements.top&&(e-=this.elements.top.getDimensions().outerHeight),this.elements.scrollarea?this.elements.scrollarea.setStyle("height",e+"px"):this.container.setStyle("height",e+"px"),this.refreshScroller()},refreshScroller:function(){var e=this.scroller;e&&e.dispatchEvent("onRefresh")},buildPager:function(e){var i=this,t=l.merge({_root:!1,events:{onOffsetChange:function(e){var t=i.options.source.getItems();i.showItem(t[e])}}},i.options.pager);i.pager=new o(t),i.pager.inject(i.container,e)},refreshPager:function(){var e,t,i,s=this,n=s.pager,o=s.options.source;n&&(e=o.getItems(),i=s.getItemsPerPage(),t=e.indexOf(s.currentItem),n.options.moreLink=o.getLink(),n.setLength(e.length),n.setLimit(i),n.setOffset(-1===t?0:t),n.dispatchEvent("onRefresh"))},getItemsPerPage:function(){var e,t,i=this,s=0,n=i.elements.item;for(e=0,t=n.length;e<t;e++)i.scroller.isInViewport(n[e])&&s++;return i.itemPerPage=s,i.itemPerPage},buildItem:function(e){var t,i=this.options,s=i.source.isItemRead(e),n=!(!i.showDate||!e.date)&&m.parseRelativeTime(e.date.toString());return t=l.createElement("div",{class:"item "+(s?"read":"unread"),html:{tag:"div",class:"content",html:{tag:"div",class:"infos",html:[{tag:"div",class:"title",html:[{tag:"a",class:"link ellipsis",href:e.link,html:m.stripTags(e.title)},{tag:"div",class:"separator"}]},n&&{tag:"div",class:"date",html:[{tag:"span",html:n},{tag:"div",class:"separator"}]}]}},events:{click:this.dispatchAsEventListener("onItemClick",e)}}),this.addEllipsis({reference:t.getElement(".content"),element:t.getElement(".ellipsis")}),t.setData("href",e.link),t.setData("item-index",e.index),t},getItem:function(e){var t=e.index,i=this.elements.item;return i[t]||(i[t]=this.buildItem(e)),i[t]},getItems:function(e){return e.map(this.getItem,this)},refreshItems:function(){var e=this.options.source.getItems();this.injectItems(e)},injectItems:function(e){var t=this,i=t.getItems(e),s=i.length,n=t.elements,o=t.options,r=o.source,a=r.getItems().length,l=r.hasMore(n.items.length);n.itemsActions.getElement(".loadMore").toggle(l),n.itemsActions.getElement(".noItem").toggle(!a),(i=i.splice(0,o.nbItems)).push(n.itemsActions),i.forEach(function(e,t){0===t?e.addClassName("first"):t===s-1&&e.addClassName("last"),e.addClassName(t%2==0?"odd":"even")}),n.items.addContent(i),!t.currentItem&&e[0]&&t.showItem(e[0])},showItem:function(e){var t=this,i=t.currentItem,s=t.options.source;i!==e&&(i&&t.getItem(i).removeClassName("active"),t.getItem(e).removeClassName("unread").addClassName("read").addClassName("active"),s.setItemRead(e),t.currentItem=e,t.scroller&&t.scroller.scrollToElement(t.getItem(e),t.scrollPosition))},loadMore:function(e){var t=this.options,i=t.source.getLoaded();e=e||t.nbItems,this.injectItems(i.splice(this.elements.items.length,e))},destroy:function(){this.container&&this.container.destroy()},addEllipsis:function(e){this.itemsEllipsis.push(e)},loadEllipsis:function(){var e,t,i,s=this.itemsEllipsis;for(e=0,t=s.length;e<t;e++)(i=s[e]).ellipsis||(i.ellipsis=new n(i.element,{_root:!1,reference:i.element.getParent()}));this.refreshEllipsis()},refreshEllipsis:function(){var e,t,i,s=this.itemsEllipsis;for(e=0,t=s.length;e<t;e++)(i=s[e]).ellipsis&&i.ellipsis.dispatchEvent("onRefresh")},resizeItemImage:function(e){var t,i,s,n,o,r=e&&e.getElement("img");(e=r&&r.getParent())&&0<e.offsetWidth&&e.isInjected()&&(t={width:"auto",height:"auto",marginTop:0,marginLeft:0},r.setStyles(t),i={width:r.offsetWidth,height:r.offsetHeight},o=(s={width:e.offsetWidth,height:e.offsetHeight}).width/s.height,n=i.width/i.height,this.options.images.loader===r.src&&(i.width<s.width||i.height<s.height)?(t.marginLeft=s.width/2-i.width/2+"px",t.marginTop=s.height/2-i.height/2+"px"):o<n?(t.height="100%",t.marginLeft=-(s.height*n-s.width)/2+"px"):(t.width="100%",t.marginTop=-(s.width/n-s.height)/2+"px"),r.setStyles(t))},buildItemImage:function(e,t){var i=this.options.images,s=i[t],n=e[t]||s,o=l.createElement("img"),r=l.createElement("div",{class:"image",html:{tag:"a",title:m.stripTags(e.title),href:e.link,html:o}}),a=this.resizeItemImage.bind(this,r);return this.addItemImage({item:e,container:r,src:n,onLoad:function(){o.setAttribute("src",n),a()},onError:function(){o.setAttribute("src",s),a()},onLoading:function(){o.setAttribute("src",i.loader),a()}}),r},addItemImage:function(e){this.itemsImages.waiting.push(e)},loadItemsImages:function(){var e,t,i,s=[],n=this.itemsImages;for(e=0,t=n.waiting.length;e<t;e++)(i=n.waiting[e]).item!==this.currentItem&&!this.scroller.isInViewport(i.container,!0)||s.push(i);for(e=0,t=s.length;e<t;e++)this.loadItemImage(s[e])},loadItemImage:function(o){function e(){var e,t,i,s,n=[];if(-1!==(i=a.loading.indexOf(o))&&a.loading.splice(i,1),-1===(i=a.loaded.indexOf(o))){for(a.loaded.push(o),e=0,t=a.waiting.length;e<t;e++)s=a.waiting[e],o.src===s.src&&(n.push(s),a.loaded.push(s));for(e=0,t=n.length;e<t;e++)r.loadItemImage(n[e])}}var t,r=this,a=r.itemsImages;-1!==(t=a.waiting.indexOf(o))&&a.waiting.splice(t,1),-1!==a.loaded.indexOf(o)?(o.onLoad(),e()):(o.onLoading(),a.loading.push(o),l.createElement("img",{styles:{display:"none"},events:{load:function(){o.onLoad(),this.destroy(),e()},error:function(){o.onError(),this.destroy(),e()}}}).inject(document.body).setAttribute("src",o.src))},onPostInject:function(){this.refreshItems()},onResize:function(){this.itemPerPage=0,this.refreshScroller()},onItemClick:function(e,t){t&&this.showItem(t)&&i.stop(e),this.refreshPager()},onMouseDown:function(e){i.preventDefault(e)}});return r.Full=r.extend({buildItem:function(e){var t,i=this._parent(e),s=i.getElement(".content");return t=l.createElement("div",{class:"description ellipsis",html:{tag:"div",html:m.stripTags(e.content)}}).inject(s),this.addEllipsis({reference:t,element:t.getElement("div")}),this.buildItemImage(e,"image").inject(i,"top"),i}}),r.Presentable=r.Full.extend({presentedItem:null,buildSkeleton:function(){return this._parent().grab(this.buildItemTop(),"top")},buildItemTop:function(){return this.elements.top=l.createElement("div",{class:"top",html:{tag:"div",class:"actions",html:{tag:"div",class:"readMore action",html:{tag:"a",text:l.i18n(this.options.messages.readMore)}}}}),this.elements.top},showItem:function(e){var t,i=this.elements.top;if(this._parent(e),!this.presentedItem||this.presentedItem.getData("item-index")!==e.index)return this.presentedItem&&this.presentedItem.remove(),(t=this.buildItem(e)).inject(i,"top"),i.getElement(".readMore").getElement("a").setAttribute("href",e.link),this.presentedItem=t,this.loadItemsImages(),!0}}),r.Adapter={},r.Adapter.Abstract=e.extend({init:function(e){this.object=e},hasMore:function(){return!1},isItemRead:function(){return!1},setItemRead:function(){return!1},getItems:function(){return[]},getLink:function(){return null}}),r.Adapter.Feed=r.Adapter.Abstract.extend({getItems:function(){return this.object.getItems()},isItemRead:function(e){return this.object.isItemRead(e.index)},setItemRead:function(e){return this.object.setItemRead(e.index)},getLink:function(){return this.object.getLink()}}),l.namespace("Controls/FeedView",r,l,!0)});

define("UWA/Controls/FeedView/Carousel",["UWA/Core","UWA/Controls/FeedView"],function(e,t){"use strict";var i=t.Presentable.extend({viewName:"carousel",scrollPosition:"center",getItemsPerPage:function(){var e,t,i=this,r=0,n=i.elements.item;if(!i.itemPerPage){for(e=0,t=n.length;e<t;e++)i.scroller.isInViewport(n[e],!0)&&r++;i.itemPerPage=r}return i.itemPerPage},onResize:function(){this._parent();var e=this.elements.items.getChildren(),t=0;e.forEach(function(e){t+=e.offsetWidth}),this.elements.items.setStyle("width",t+"px")}});return e.namespace("Controls/FeedView_Carousel",i,e)});

define("UWA/Controls/FeedView/Channel",["UWA/Core","UWA/String","UWA/Controls/FeedView/Carousel","UWA/Controls/Pager","UWA/Event"],function(v,C,e,i,t){"use strict";var n=e.extend({eltMargin:20,displayPager:!1,viewName:"carousel channel",showItem:function(e){this._parent(e),this.presentedItem&&this.presentedItem.remove(),this.presentedItem=void 0,this.loadItemsImages()},buildItemImage:function(e,t){var n=this,i=n.options,s=i.images,a=e[t]||"",r=v.createElement("img"),o="",l=v.createElement("div",{class:"hentry"}),d=v.createElement("div",{class:"entry-image",html:r}),c=v.createElement("div",{class:"entry-title",html:{tag:"span",class:"title",html:e.title?C.stripTags(e.title):""}}),h=v.createElement("div",{class:"entry-share"}),m=v.createElement("div",{class:"item-date",text:e.date?C.parseRelativeTime(e.date.toString()):""}),p=v.createElement("div",{class:"item-dragAndFollow"}),g="",u=n.resizeItemImage.bind(n,l),f="no-image";return o=e.description||e.content||"",e[t]||(h.addClassName(f),c.addClassName(f),o=C.stripTags(o),o=C.cut(o,125),g=v.createElement("span",{class:"entry-description",text:o}),c.appendChild(g)),i.enableShare&&(i.shareFunction&&h.addEvent("click",this.share.bind(this)),d.appendChild(h)),l.appendChild(d),d.appendChild(c),l.appendChild(m),i.enableDragAndFollow&&l.appendChild(p),this.addItemImage({item:e,container:l,src:a,onLoad:function(){r.setAttribute("src",a),u()},onError:function(){r.destroy()},onLoading:function(){r.setAttribute("src",s.loader),u()}}),l},onResize:function(){this._parent();var e=this.elements.items.getChildren(),t=0;e.forEach(function(e){t+=e.offsetWidth+this.eltMargin},this),this.elements.items.setStyle("width",t+"px"),this.refreshScroller(),this.pager&&this.refreshPager()},buildPager:function(e){if(this.displayPager){var n=this,t=v.merge({_root:!1,events:{onOffsetChange:function(e){var t=n.options.source.getItems();n.showItem(t[e])}}},n.options.pager);n.pager=new i(t),n.pager.inject(n.container,e)}},share:function(e){t.stopPropagation(e),this.options.shareFunction()}});return v.namespace("Controls/FeedView_Channel",n,v)});

define("UWA/Controls/FeedView/Gallery",["UWA/Core","UWA/Controls/FeedView/Carousel"],function(e,r){"use strict";var l=r.extend({viewName:"carousel gallery"});return e.namespace("Controls/FeedView_Gallery",l,e)});

define("UWA/Controls/FeedView/Headline",["UWA/Core","UWA/Controls/FeedView"],function(e,n){"use strict";var i=n.Full.extend({viewName:"headline"});return e.namespace("Controls/FeedView_Headline",i,e)});

define("UWA/Controls/FeedView/Magazine",["UWA/Core","UWA/Controls/FeedView"],function(e,n){"use strict";var a=n.Presentable.extend({viewName:"magazine"});return e.namespace("Controls/FeedView_Magazine",a,e)});

define("UWA/Controls/FeedView/Normal",["UWA/Core","UWA/Controls/FeedView"],function(e,o){"use strict";var r=o.Full.extend({viewName:"normal"});return e.namespace("Controls/FeedView_Normal",r,e)});

define("UWA/Controls/FeedView/Scoop",["UWA/Core","UWA/Controls/FeedView"],function(e,o){"use strict";var n=o.Presentable.extend({viewName:"scoop normal"});return e.namespace("Controls/FeedView_Scoop",n,e)});

define("UWA/Controls/FeedView/SimpleList",["UWA/Core","UWA/Controls/FeedView"],function(e,i){"use strict";var t=i.extend({viewName:"simplelist"});return e.namespace("Controls/FeedView_SimpleList",t,e)});

define("UWA/Controls/FeedView/Ticker",["UWA/Core","UWA/String","UWA/Controls/FeedView","UWA/Controls/Flash"],function(i,a,e,n){"use strict";var t=e.extend({viewName:"ticker",color:"blank",colors:{blue:["014446","6eb8bd","1fd3e3","6EB8BD"],green:["232908","787F57","B6D800","787F57"],red:["5B0000","D5827C","E9440B","D5827C"],orange:["440121","C57C9A","FE4792","C57C9A"],white:["343434","8E8D8D","FFFFFF","8E8D8D"],yellow:["502200","BF934E","FCBC13","BF934E"],blank:["transparent","8E8D8D","333333","333333"],borderless:["transparent","8E8D8D","333333","333333"]},buildSkeleton:function(){var e,t=this.colors,s=this.color,r=this.options;return this.container=i.createElement("div",{class:"uwa-feedview content uwa-feedview-"+this.viewName}),e=new n({_root:!1,url:i.hosts.uwa+i.paths.img+"flash/ticker.swf",height:80,width:"100%",allowScriptAccess:"always",flashVars:{background:t[s][0],arrow:t[s][1],text:t[s][2],subtext:t[s][3],shareLabel:i.i18n("Share"),direction:r.direction,share:r.displayShare?"1":"0"}}).inject(this.container),this.elements.flash=e.getFlashContainer(),this.registerOnFlashLoad(),this.container},registerOnFlashLoad:function(){var t=this;setTimeout(function e(){t.onFlashLoad()||setTimeout(e,500)},1e3)},onFlashLoad:function(){var e,t,s,r=this.options,i=r.source.getItems(),n=this.elements.flash;if("function"!=typeof n.addItem)return!1;for(e=0,t=i.length;e<t;e++)s=i[e],n.addItem(e,a.stripTags(s.title),r.showDate?a.parseRelativeTime(s.date):"");return n.start(),!0},onResize:function(){},refreshItems:function(){}});return i.namespace("Controls/FeedView_Ticker",t,i)});

define("UWA/Controls/FlashPlayer",["UWA/Core","UWA/Utils","UWA/String","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Flash"],function(i,s,o,h,a,l,e,r){"use strict";var t=e.extend({className:"uwa-flashplayer",defaultOptions:{flashVars:"",flashUrl:"",width:"",height:"",wmode:"opaque",aspectRatio:1.3,showToolbar:!0,showFullScreenLink:!0},isFullScreen:!1,init:function(e){this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var e=this.elements;e.container=i.createElement("div",{class:this.className,align:"center"}),e.container.hide()},buildLinks:function(e,t){var n=this.options,l=this.elements;l.links=i.createElement("p",{align:"center"}),n.showFullScreenLink&&(i.createElement("a",{href:"#flashPlayer-FullScreen",text:i.i18n("Full screen"),events:{click:function(e){a.stop(e),this.toogleFullScreenMode(!0)}.bind(this)}}).inject(l.links),l.links.appendText(" | ")),e&&t&&(i.createElement("a",{href:e,rel:"external",html:o.stripTags(t)}).inject(l.links),l.links.appendText(" | ")),i.createElement("a",{href:"#flashPlayer-Close",html:"<strong>"+i.i18n("Close Video")+"</strong>",events:{click:function(e){a.stop(e),this.hide()}.bind(this)}}).inject(l.links),l.links.inject(l.container)},toogleFullScreenMode:function(e){e=!!e;var t=h.getSize(),n=this.elements;e?(this.isFullScreen=!0,window.scrollTo(0,0),l.setStyle.apply(document.body,["overflow","hidden"]),n.fullScreenContainer=i.createElement("div",{align:"center",styles:{backgroundColor:"#000",position:"absolute",top:0,left:0,width:t.width+"px",height:t.height+"px"}}).inject(document.body),n.flashObject.inject(n.fullScreenContainer),this.buildCloseFullScreenButton()):(this.isFullScreen=!1,n.flashObject.inject(n.flashContainer,"top"),n.fullScreenCloseButton.remove(),n.fullScreenContainer.remove(),l.setStyle.apply(document.body,["overflow",""])),this.onResize()},buildCloseFullScreenButton:function(){var e=this.elements;e.fullScreenCloseButton=i.createElement("input",{type:"button",value:i.i18n("Close FullScreen"),styles:{position:"absolute",top:"2px",right:"2px"}}).inject(e.fullScreenContainer),h.Engine.ie&&6<h.Engine.version&&(e.fullScreenCloseButton.style.width=e.fullScreenCloseButton.value.length+"em"),e.fullScreenCloseButton.addEvent("click",function(e){a.stop(e),this.toogleFullScreenMode(!1)}.bind(this))},show:function(e,t,n){n&&this.setOptions(n),n=this.options;var l=this.elements;(e||t)&&(n.flashUrl=e,n.flashVars=t),/\.flv$/.test(n.flashUrl)&&(n.flashVars="flv="+encodeURIComponent(n.flashUrl)+"&showplayer=autohide&autoplay=1&showvolume=1&showtime=1",n.flashUrl=i.hosts.uwa+i.paths.img+"flash/player_flv.swf"),h.Engine.ie&&-1!==n.flashUrl.indexOf("?")&&(n.flashUrl+="&"+s.random(100)),l.container.empty(),l.flashControl=new r({_root:!1,url:n.flashUrl,width:n.width,height:n.height,flashVars:n.flashVars,wmode:n.wmode,styles:{width:n.width,height:n.height}}).inject(l.container),l.flashContainer=l.flashControl.elements.container,l.flashObject=l.flashControl.getFlashContainer(),n.showToolbar&&this.buildLinks(n.mediaLinkUrl,n.mediaLinkText),l.container.show(),this.onResize()},hide:function(){var e=this.elements;e.container&&(e.container.empty(),e.container.hide())},onResize:function(){var e,t,n,l=this.elements,i=this.options,s=h.getSize();this.isFullScreen&&l.fullScreenContainer.setStyles({height:s.height+"px",width:s.width-h.getScrollbarWidth()+"px","z-index":1}),l.flashObject&&(e=l.flashObject.getParent().getDimensions(),n=i.width?i.width:e.innerWidth,t=i.height?i.height:Math.min(s.height,n/i.aspectRatio),l.flashObject.setStyles({height:t+"px",width:n+"px"}),l.flashObject.setAttribute("height",t),l.flashObject.setAttribute("width",n))}});return i.namespace("Controls/FlashPlayer",t,i)});

define("UWA/Controls/Overlay",["UWA/Core","UWA/Event","UWA/Fx","UWA/Controls/Abstract","UWA/Class/Timed"],function(i,n,t,e,s){"use strict";var o=new WeakMap,l=new WeakMap,a=e.extend(s,{name:"uwa-overlay",defaultOptions:{exclusive:!0,exclusiveWith:function(e){return e.name===this.name},closeable:!0,fxOptions:{},resizeParent:!1},init:function(e){this._parent(e),this.buildSkeleton(),this.fx=new t(this.elements.container,i.merge({wait:!1,events:{onComplete:this.onFxComplete.bind(this)}},this.options.fxOptions))},buildSkeleton:function(){var t=this.elements.container=i.createElement("div",{class:this.getClassNames(),styles:{display:"none",opacity:0}});o.set(t,this),this.options.closeable&&t.addClassName("closeable").addEvent("click",function(e){n.getElement(e)===t&&this.close()}.bind(this))},closeOverlays:function(e){var i=1;function n(){0===(i-=1)&&e()}if(this.options.exclusive){var t=this.elements.container&&this.elements.container.getParent();t&&t.getElements(".uwa-overlay").forEach(function(e){var t=o.get(e);t&&this!==t&&t.isOpen()&&this.options.exclusiveWith.call(this,t)&&(i+=1,t.addEventOnce("onClose",n),t.close())},this)}n()},onFxComplete:function(){var e=this.opening,t=this.elements.container;e||(t.setStyle("display","none"),this.resize(!0)),this.dispatchEvent(e?"onOpen":"onClose",[t]),this.opening=null},isOpen:function(){var e=this.elements.container;return e.getParent()&&"none"!==e.getStyle("display")&&!1!==this.opening},open:function(){return this.setPeriodical("needResize",this.resize,500),this.toggle(!0)},close:function(){return this.clearPeriodical("needResize"),this.toggle(!1)},toggle:function(e){var t=this.elements.container,i=this.isOpen();if(void 0===e)e=!i;else if(e===i)return;return this.dispatchEvent(e?"onPreOpen":"onPreClose",[t]),this.opening=e,t.setStyle("display","block"),this.fx&&this.fx.fade(e?"in":"out"),e&&this.closeOverlays(function(){this.resize()}.bind(this)),this.fx||this.onFxComplete(),this},resize:function(e){if(this.options.resizeParent){var t=l.get(this),i=this.getContent(),n=i.getOffsetParent();!t||n&&t===n||(t.setStyle("height",""),l.delete(this)),n&&(e?(n.setStyle("height",""),l.delete(this)):i.scrollHeight>n.offsetHeight&&(n.setStyle("height",i.scrollHeight),l.set(this,n)))}},onRemoved:function(){this.resize(!0)},onInjected:function(){this.resize()},destroy:function(){this.resize(!0),this._parent()}});return i.namespace("Controls/Overlay",a,i)});

define("UWA/Controls/Lightbox",["UWA/Core","UWA/Controls/Overlay"],function(t,n){"use strict";var e=n.extend({getInnerElement:function(){return this.elements.container},setContent:function(t){return this.getInnerElement().setContent(t),this},addContent:function(t){return this.getInnerElement().addContent(t),this}});return t.namespace("Controls/Lightbox",e,t)});

define("UWA/Controls/Map",["UWA/Core","UWA/Utils","UWA/Array","UWA/Controls/Abstract","UWA/Class/Timed"],function(a,e,n,t,i){"use strict";var o=t.extend(i,{id:null,api:null,map:null,defaultOptions:{width:320,height:240,className:"uwa-map",googleApiKey:null,api:{zoom:15}},init:function(t){if(this._parent(t),this.id=e.random(1e5),this.apiCallbacks=[],!o.States.apiLoading&&!o.States.apiLoaded){o.States.apiLoading=!0;var i="https://maps.google.com/maps/api/js?callback=UWA.Controls.Map.onApiLoad";this.options.googleApiKey&&(i+="&key="+this.options.googleApiKey),a.createElement("script",{type:"text/javascript",src:i}).inject(document.body)}this.setPeriodical("checkLoad",function(){o.States.apiLoaded&&(this.clearPeriodical("checkLoad"),this.onApiReady())},100),this.buildSkeleton()},buildSkeleton:function(){var t=this.options;this.elements.container=a.createElement("div",{id:"map_canvas"+this.id,class:t.className,styles:{height:t.height,width:t.width},events:{resize:this.dispatchEvent.bind(this,"onResize")}})},callApi:function(t){o.States.apiLoaded?t.call(this,this.api,this.map):this.apiCallbacks.push(t)},setPosition:function(t){this.callApi(function(){this.map.setCenter(new this.api.LatLng(t.coords.latitude,t.coords.longitude))}.bind(this))},setSize:function(t){this.elements.container.setStyles({width:t.width,height:t.height})},addMarker:function(e,n,o){var s=this;this.callApi(function(){var t=s.api,i=s.map,a=new t.InfoWindow({content:o});s.marker=new t.Marker({position:new t.LatLng(e.coords.latitude,e.coords.longitude),map:i,title:n}),t.event.addListener(s.marker,"click",function(){a.open(i,s.marker)})})},onApiReady:function(){var t=this.options,i=this.elements;this.api=google.maps,this.map=new this.api.Map(i.container,a.extend({mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.HYBRID},t.api)),this.dispatchEvent("onLoad"),this.apiCallbacks.length&&(n.invoke(this.apiCallbacks,"call",this,this.api,this.map),this.apiCallbacks.length=0)},onLoad:function(){},onResize:function(){this.setDelayed("resize",function(){this.map&&this.api&&this.api.event.trigger(this.map,"resize")},500)}});return o.States={apiLoading:!1,apiLoaded:!1},o.onApiLoad=function(){o.States.apiLoading=!1,o.States.apiLoaded=!0},a.namespace("Controls/Map",o,a)});

define("UWA/Controls/Notify",["UWA/Core","UWA/Controls/Abstract","UWA/Event","UWA/Fx"],function(m,t,f,h){"use strict";var e=t.extend({defaultOptions:{className:"",showOnInject:!0,closeOnClick:!0,transition:"quadOut",duration:500,fx:!0,from:"top",to:"bottom",max:0},messages:null,init:function(t){var e=this;e.messages=[],e._parent(t),e.options.messages&&e.addMessage(e.options.messages),e.buildSkeleton()},buildSkeleton:function(){var t=this,e=t.elements,s=t.options;e.container=m.createElement("div",{class:"uwa-notify",events:{resize:t.dispatchAsEventListener("onResize")}}),s.className&&e.container.addClassName(s.className)},showMessage:function(t){var e,s,n=this.messages;return(s=t?-1<(s=n.indexOf(t))&&n.splice(s,1)[0]:n.shift())&&(e=this.injectItem(s)),e},addMessage:function(t,e){this.messages.push(t),e&&this.showMessage(t)},addMessages:function(t){var e=this;t.forEach(function(t){e.messages.push(t)})},getItems:function(){return this.getContent().getElements(".uwa-notify-item")},injectItem:function(t){var e,s,n=this,o=n.options,i=n.getContent(),a=n.getItems(),c=i.getOffsetParent().getDimensions(),l=0,r={},u={};return(s=m.createElement("div",{class:"uwa-notify-item",html:{tag:"div",class:"uwa-notify-msg",html:[{tag:"div",class:"uwa-notify-header"},{tag:"a",class:"uwa-notify-close",text:"",href:"#close"},{tag:"div",class:"uwa-notify-body",html:t},{tag:"div",class:"uwa-notify-footer"}]},styles:{visibility:"hidden",zIndex:String(100-a.length)}})).addEvent("click",function(t){var e="onClick";f.getElement(t).hasClassName("uwa-notify-close")&&(e="onClose"),n.dispatchEvent(e,[t,s])}),a.forEach(function(t){l+=t.getDimensions().outerHeight}),s.inject(i),n.updateItems(),s.getPosition(),e=s.getDimensions(),"top"===o.to?u.top=l+"px":"bottom"===o.to&&(u.top=c.innerHeight-e.outerHeight-l+"px"),"top"===o.from?r.top=-e.outerHeight+"px":r.top=e.outerHeight+c.outerHeight+"px",s.setStyles({left:c.innerWidth/2-e.width/2+"px",visibility:"visible"}),o.fx?(o.fade&&(r.opacity=0,u.opacity=1),s.setStyles(r),new h(s,{transition:o.transition,duration:o.duration,events:{onStart:function(){s.addClassName("moving")},onComplete:function(){s.removeClassName("moving")}}}).start(u)):s.setStyles(u),s},updateItems:function(){var t=this,n=t.options,e=t.getContent(),s=t.getItems(),o=e.getOffsetParent().getDimensions(),i=0;s.forEach(function(t){var e,s=t.getDimensions();"top"===n.to?e=i:"bottom"===n.to&&(e=o.innerHeight-s.outerHeight-i),i+=s.outerHeight,t.hasClassName("moving")||t.setStyles({left:o.innerWidth/2-s.width/2+"px",top:e+"px"})})},onPostInject:function(){this.options.showOnInject&&this.showMessage()},onResize:function(){this.updateItems()},onClose:function(t,e){var s=this;f.stop(t),e.hasClassName("closing")||new h(e,{events:{onStart:function(){e.addClassName("closing")},onComplete:function(){e.destroy(),s.updateItems()}}}).fade("out")},onClick:function(t,e){var s=f.getElement(t);(this.options.closeOnClick||s.hasClassName("uwa-notify-close"))&&this.dispatchEvent("onClose",[t,e])}});return m.namespace("Controls/Notify",e,m)});

define("UWA/Controls/Popup",["UWA/Core","UWA/Controls/Abstract"],function(e,t){"use strict";var n=t.extend({defaultOptions:{url:"about:blank",status:!1,toolbar:!1,location:!1,menubar:!1,resizable:!1,scrollbars:!1,fullscreen:!0,width:320,height:240,left:160,top:120},init:function(e){this._parent(e)},open:function(e){var t=this;t.close(),t.elements.popup||t.buildSkeleton(e)},close:function(){var e=this;e.elements.popup&&(e.elements.popup.close(),e.elements.popup=null,e.dispatchEvent("onClose"))},setPosition:function(e,t){this.elements.popup&&this.elements.popup.moveBy(parseInt(e,10),parseInt(t,10))},focus:function(){this.elements.popup&&this.elements.popup.focus()},buildSkeleton:function(e){var t,n=this,o=n.options,s=["dependent=yes"];["width","height","status","toolbar","location","menubar","personalbar","resizable","scrollbars","fullscreen"].forEach(function(e,t){t<2&&o[e]?s.push(e+"="+parseInt(o[e],0)):1<t&&s.push(e+"="+(o[e]?"yes":"no"))}),e=e||o.url,(t=window.open(e,"_blank",s.join(",")))&&t.moveBy?(n.elements.popup=t,n.timer=window.setInterval(n.checkClosed.bind(n),100),setTimeout(function(){n.focus(),n.setPosition(o.left,o.top),n.dispatchEvent("onOpen")},100)):n.dispatchEvent("onBlocked")},checkClosed:function(){var e=this.elements.popup;e&&!e.closed||this.handleApproval()},handleApproval:function(){var e=this;e.timer&&(window.clearInterval(e.timer),e.timer=null),e.close()}});return e.namespace("Controls/Popup",n,e)});

define("UWA/Controls/SchemaForm/Inputs",["UWA/Core","UWA/Utils","UWA/Controls/Abstract","UWA/Controls/Input","UWA/Controls/ColorPicker"],function(i,t,e,a,n){"use strict";var s;return s={"uwa-text":a.Text,"uwa-select":a.Select,"uwa-colorpicker":n,"uwa-radiogroup":e.extend({name:"uwa-schemaform-radiogroup",init:function(e){this._parent(e),this.options.value&&this.setValue(this.options.value),this.radioGroupName="schema-form-"+t.getUniqueId()},getContent:function(){var o=this;return this.elements.container||(this.elements.container=i.createElement("div",{class:this.getClassNames()}),this._radios=[],this.options.options.forEach(function(e,t){var n=new a.Radio({className:this.options.className,attributes:{name:o.radioGroupName,value:t}});n.addEvent("onChange",function(){o.dispatchEvent("onChange",o)});var s=i.createElement("span",{class:o.getClassNames("-label"),text:e.label});i.createElement("label",{html:[n,s]}).inject(o.elements.container),o._radios.push(n)},this)),this.elements.container},getValue:function(){var e=this.elements.container.getElement(":checked");return e?this.options.options[e.value].value:null},setValue:function(n){this.getContent(),this.options.options.forEach(function(e,t){i.equals(n,e.value)&&this._radios[t].check(!0)},this)},destroy:function(){this._parent(),this._radios.forEach(function(e){e.destroy()})}}),"uwa-checkbox":a.Checkbox.extend({getValue:function(){return this.isChecked()},setValue:function(e){this.check(Boolean(e))}}),"uwa-checkboxgroup":e.extend({name:"uwa-schemaform-checkboxgroup",init:function(e){this._parent(e),this.options.value&&this.setValue(this.options.value)},getContent:function(){var s=this;return this.elements.container||(this.elements.container=i.createElement("div",{class:this.getClassNames()}),this.elements.checkboxes=[],this.options.options.forEach(function(e){var t=new a.Checkbox,n=i.createElement("span",{class:s.getClassNames("-label"),text:e.label});i.createElement("label",{html:[t,n]}).inject(s.elements.container),s.elements.checkboxes.push(t)})),this.elements.container},getValue:function(){var s=[];return this.elements.checkboxes.forEach(function(e,t){if(e.isChecked()){var n=this.options.options[t].value;-1===s.indexOf(n)&&s.push(n)}},this),s},setValue:function(e){this.getContent(),this.elements.checkboxes.forEach(function(e){e.check(!1)}),e&&e.forEach&&e.forEach(function(n){this.elements.checkboxes.forEach(function(e,t){this.options.options[t].value===n&&e.check(!0)},this)},this)}})},i.namespace("Controls/SchemaForm/Inputs",s,i)});

define("UWA/Controls/SchemaForm/Sanitizers",["UWA/Core"],function(r){"use strict";var e;return e={"uwa-trim":function(r){return(r||"").trim()},"uwa-normalize-number":function(r){return"string"==typeof r?""===r?void 0:Number(r.replace(",",".").replace(" ","")):Number(r)},"uwa-first":function(r){return Array.isArray(r)?r[0]:r}},r.namespace("Controls/SchemaForm/Sanitizers",e,r)});

define("UWA/Controls/SchemaForm/Validators",["UWA/Core"],function(a){"use strict";var r;return r={"uwa-integer":function(r){var t=Number(r);if(Math.round(t)!==t)throw Error(a.i18n("{0} is not an integer.").format(r))},"uwa-number":function(r){var t=Number(r);if(!isFinite(t))throw Error(a.i18n("{0} is not a number.").format(r))},"uwa-stringlength":function(r,t){if(!r||r.length<t.min)throw 1<t.min?Error(a.i18n("Please enter at least {0} characters.").format(t.min)):Error(a.i18n("Please enter at least {0} character.").format(t.min));if(r.length>t.max)throw 1<t.max?Error(a.i18n("Please enter at most {0} characters.").format(t.max)):Error(a.i18n("Please enter at most {0} character.").format(t.max))},"uwa-arraylength":function(r,t){if(!r||r.length<t.min)throw 1<t.min?Error(a.i18n("Please select at least {0} options.").format(t.min)):Error(a.i18n("Please select at least {0} option.").format(t.min));if(r.length>t.max)throw 1<t.max?Error(a.i18n("Please select at most {0} options.").format(t.max)):Error(a.i18n("Please select at most {0} option.").format(t.max))},"uwa-twitterusername":function(r){if(!/^@\w+$/.test(r))throw Error(a.i18n("{0} is not a valid Twitter username.").format(r))}},a.namespace("Controls/SchemaForm/Validators",r,a)});

define("UWA/Controls/SchemaForm",["UWA/Core","UWA/Array","UWA/Class","UWA/Promise","UWA/Controls/Abstract","UWA/Controls/ToolTip","UWA/Controls/SchemaForm/Inputs","UWA/Controls/SchemaForm/Sanitizers","UWA/Controls/SchemaForm/Validators","UWA/Controls/Input"],function(h,t,e,l,i,s,n,a,o,r){"use strict";var c,d;return c=i.extend({name:"uwa-schemaform",fields:null,onChangePaused:!1,isPropagatingChanges:!1,options:{schema:null,initialValue:{},inputs:n,sanitizers:a,validators:o,submitButton:!0,clearButton:!1,data:null,baseInputOptions:{}},init:function(t){this._parent(t),this._initFields()},_initFields:function(){this.fields={},Object.keys(this.options.schema.fields).forEach(function(t){var e=this.options.initialValue&&this.options.initialValue[t];this.fields[t]=new d(this,t,this.options.schema.fields[t],e)},this)},getContent:function(){return this.elements.container||this._buildContent(),this.elements.container},buildNotice:function(t,e,i){e=e||"tooltip",this.notices[i]?this.notices[i].setAttribute("uwa-tooltip",t):this.notices[i]=h.createElement("div",{class:this.getClassNames("-notice uwa-icon "+e),"uwa-tooltip":t,"uwa-tooltip-delay":"10"}),this.notices[i].inject(i?this.fields[i].getContent():this.elements.container)},_buildContent:function(){var t=this;return this.elements.container=h.createElement("div",{class:this.getClassNames()}),this.notices={},this.options.schema.notice&&this.buildNotice(this.options.schema.notice.text,this.options.schema.notice.icon),Object.keys(this.fields).forEach(function(t){this.elements.container.addContent(this.fields[t].getContent()),this.fields[t].schema.input.options&&this.fields[t].schema.input.options.hidden&&this.fields[t].getContent().hide()},this),(this.options.submitButton||this.options.clearButton)&&(this.elements.buttonContainer=h.createElement("div",{class:this.getClassNames("-buttons")}).inject(this.elements.container),this.options.clearButton&&(this.elements.clearButton=new r.Button(h.merge({_root:!1,value:"Clear",events:{onClick:function(){t.clearValue()}}},this.options.baseInputOptions)).inject(this.elements.buttonContainer)),this.options.submitButton&&(this.elements.submitButton=new r.Button(h.merge({_root:!1,value:"Submit",events:{onClick:function(){t.isValid().then(function(){t.dispatchEvent("onSubmit",[{value:t.getValue()}])})}}},this.options.baseInputOptions)).inject(this.elements.buttonContainer))),this.elements.container},getValue:function(){var i={};return Object.keys(this.fields).forEach(function(t){var e=this.fields[t].getValue();e||h.is(e,"boolean")||(e=null),i[t]=e},this),i},getDisplayValue:function(){var e={};return Object.keys(this.fields).forEach(function(t){e[t]=this.fields[t].getDisplayValue()},this),e},getFieldValue:function(t){var e=this.fields[t];return e?e.getValue():null},getAllFieldsName:function(){return Object.keys(this.fields)},setFieldValue:function(t,e){this.fields[t]&&(this.fields[t].setValue(e),this._onFieldChanged(t))},setFieldTitle:function(t,e){this.fields[t]&&this.fields[t].setTitle(e)},getValidatedValue:function(){var t=this.getValue();return this.isValid().then(function(){return t})},getValidatedFieldValue:function(t){var e=this.fields[t];return e.isValid().then(function(){return e.getValue()})},setValue:function(e){this.onChangePaused=!0,e=e||{},Object.keys(this.fields).forEach(function(t){e.hasOwnProperty(t)&&this.fields[t].setValue(e[t])},this),this.updateValidityMessages(),this.onChangePaused=!1},clearValue:function(){this.onChangePaused=!0,Object.keys(this.fields).forEach(function(t){this.fields[t].setValue(null)},this),this.updateValidityMessages(),this.onChangePaused=!1},isValid:function(){return l.allSettled(Object.keys(this.fields).map(function(e){return this.fields[e].isValid().fail(function(t){return l.reject(Object.assign(t,{fieldName:e}))})},this)).then(function(t){var e={};if(t.forEach(function(t){"rejected"===t.state&&(e[t.reason.fieldName]=t.reason)}),0!==Object.keys(e).length)throw Object.assign(new Error("There is an error within a field"),{fieldErrors:e})})},updateValidityMessages:function(){Object.keys(this.fields).forEach(function(t){this.fields[t].updateValidityMessage({forceValidation:!0})},this)},getSchemaformData:function(){return this.options.data},_createContextForField:function(){return{getFieldValue:this.getFieldValue.bind(this),setFieldValue:this.setFieldValue.bind(this),getAllFieldsName:this.getAllFieldsName.bind(this),getValidatedFieldValue:this.getValidatedFieldValue.bind(this),getSchemaformData:this.getSchemaformData.bind(this),hideField:this.hideField.bind(this),showField:this.showField.bind(this),buildNotice:this.buildNotice.bind(this),addValidityMessage:this.addValidityMessage.bind(this),hideValidityMessage:this.hideValidityMessage.bind(this),setFieldTitle:this.setFieldTitle.bind(this)}},addValidityMessage:function(t,e){this.fields[t]&&this.fields[t].addValidityMessage(e)},hideValidityMessage:function(t){this.fields[t]&&this.fields[t].hideValidityMessage()},hideField:function(t){this.fields[t]&&this.fields[t].getContent().hide()},showField:function(t){this.fields[t]&&this.fields[t].getContent().show()},_executeSanitizers:function(t,s,e){var n=this,a=e;return this._getSanitizersFor(t).forEach(function(t){var e=n._evaluateOptions(t,s),i=n.options.sanitizers[t.id];a=i(a,e)}),a},_executeValidators:function(s,n,a){var o=this,t=this._getValidatorsFor(s);return l.all(t.map(function(t){var e=o._evaluateOptions(t,n),i=o.options.validators[t.id].bind(null,a,e,s);return l.resolve().then(i)}))},_getSanitizersFor:function(t){return t.sanitizers?t.sanitizers:t.sanitizer?[t.sanitizer]:[]},_getValidatorsFor:function(t){return t.validators?t.validators:t.validator?[t.validator]:[]},_evaluateOptions:function(t,e){var i;if(t.computedOptions){i={};var s=t.computedOptions;for(var n in s)if(s.hasOwnProperty(n)){var a=s[n],o=a.sourceFieldName,l=this.getFieldValue(o);l=this._executeSanitizers(a,e,l),i[n]=l}t.options&&(i=h.merge(i,t.options))}else i=t.options?t.options:{};return i=h.merge(i,{context:e})},_findDependencies:function(t){if(!t)return[];var e=[];if(t.computedOptions){var i=t.computedOptions;for(var s in i)if(i.hasOwnProperty(s)){var n=i[s],a=this._getSanitizersFor(n);if("string"==typeof n.sourceFieldName&&""!==n.sourceFieldName&&e.push(n.sourceFieldName),a)for(var o=0;o<a.length;o++){var l=a[o],h=this._findDependencies(l);e=e.concat(h)}}}return e},_onFieldChanged:function(t){this.isPropagatingChanges||(this._propagateChanges([t]),this.onChangePaused||this.dispatchEvent("onChange",[{value:this.getValue()}]))},_propagateChanges:function(t){this.isPropagatingChanges=!0;for(var e=0;t.length;){for(var i=[],s=0;s<Object.keys(this.fields).length;s++){var n=Object.keys(this.fields)[s];this.fields[n].onFieldsChanged(t)&&i.push(n)}if(t=i,500<++e)throw new Error("I reckon there might be some good old cyclical references in your computedOptions, partner.")}this.isPropagatingChanges=!1},destroy:function(){Object.keys(this.fields).forEach(function(t){this.fields[t].destroy()},this),this._parent()}}),d=e.extend({host:null,schema:null,elements:null,fallbackValue:void 0,context:null,dependencies:null,validationCacheIsFor:null,cachedValidationPromise:null,init:function(t,e,i,s){var n=this;function a(t){var e=[];return t.forEach(function(t){e=e.concat(n.host._findDependencies(t))}),e}this.host=t,this.schema=i,this.name=e,this.elements={},this.fallbackValue=s,this.context=t._createContextForField(this),this.dependencies={input:this.host._findDependencies(this.schema.input),sanitizer:a(this.host._getSanitizersFor(this.schema)),validator:a(this.host._getValidatorsFor(this.schema))}},getContent:function(){return this.elements.container||this._buildContent(),this.elements.container},_buildContent:function(){this.elements.container=h.createElement("div",{class:this.host.getClassNames("-field")+" input-"+this.schema.input.id}),this.elements.validityMessage=h.createElement("div",{class:this.host.getClassNames("-field-validity-message")}).inject(this.elements.container),this.elements.title=h.createElement("div",{class:this.host.getClassNames("-field-title"),text:this.schema.title}).inject(this.elements.container),this.elements.inputWrapper=h.createElement("div",{class:this.host.getClassNames("-field-wrapper")}).inject(this.elements.container),this._buildInput(),this.schema.notice&&this.context.buildNotice(this.schema.notice.text,this.schema.notice.icon,this.name)},setTitle:function(t){this.elements.title&&this.elements.title.setText(t)},_buildInput:function(){this.elements.control&&(this.elements.control.destroy(),this.elements.inputWrapper.empty());var t=this.host.options.inputs[this.schema.input.id],e=h.clone(this.host._evaluateOptions(this.schema.input,this.context));e=Object.assign({},this.host.options.baseInputOptions,e,{_root:!1,context:this.context,schema:this.schema,name:this.name}),this.fallbackValue&&Object.assign(e,{value:this.fallbackValue}),this.elements.control=new t(e).inject(this.elements.inputWrapper),this.elements.control.addEvent&&this.elements.control.addEvent("onChange",function(){this.fallbackValue=this.elements.control.getValue(),this.updateValidityMessage(),this.host._onFieldChanged(this.name)},this)},_isValidationCacheUpToDate:function(){return this.cachedValidationPromise&&this.validationCacheIsFor===this._getRawValue()},getValue:function(){return this._sanitize(this._getRawValue())},getDisplayValue:function(){return this.elements.control&&this.elements.control.getDisplayValue?this.elements.control.getDisplayValue():this._getRawValue()},_getRawValue:function(){return this.elements.control?this.elements.control.getValue():this.fallbackValue},_sanitize:function(t){return this.host._executeSanitizers(this.schema,this.context,t)},setValue:function(t){this.elements.control?this.elements.control.setValue(t):this.fallbackValue=t},isEmpty:function(){return!this.elements.control||this.elements.control.isEmpty()},isValid:function(){var t=this.host._getValidatorsFor(this.schema).filter(function(t){return"one-of"===t.id}).length;return this._isValidationCacheUpToDate()&&!t||(this.validationCacheIsFor=this._getRawValue(),this.cachedValidationPromise=this.host._executeValidators(this.schema,this.context,this.getValue())),this.cachedValidationPromise},updateValidityMessage:function(t){var e=this;(void 0!==this.fallbackValue||t&&t.forceValidation)&&this.isValid().then(function(){e.hideValidityMessage()},function(t){e.addValidityMessage(t)})},addValidityMessage:function(t){this.elements.validityMessage&&(this.elements.validityMessage.textContent=t.message,this.elements.container.addClassName("invalid"))},hideValidityMessage:function(){this.elements.validityMessage&&(this.elements.validityMessage.textContent="",this.elements.container.removeClassName("invalid"))},onFieldsChanged:function(i){var s=this,t=!1;function e(t){var e=s.dependencies[t];return i.some(function(t){return-1<e.indexOf(t)})}return e("input")&&this.elements.container&&(t=!0,this._buildInput()),e("sanitizer")&&(t=!0),e("validator")&&(this.validationCacheIsFor=null,this.updateValidityMessage()),t},destroy:function(){this.elements.container&&(this.elements.container.destroy(),this.elements.control.destroy&&this.elements.control.destroy())}}),h.namespace("Controls/SchemaForm",c,h,"replace")});

define("UWA/Controls/SearchForm",["UWA/Core","UWA/Utils/Client","UWA/Json","UWA/Event","UWA/Class/Timed","UWA/Controls/Abstract"],function(c,t,i,h,e,s){"use strict";var n=s.extend(e,{name:"uwa-searchform",defaultOptions:{searchText:"",faviconUrl:"",submitButton:"button",className:"nv-search",showCheckbox:!1,showHistory:!1,allowEmpty:!1,dir:"ltr",limit:10},init:function(t){this.historyList=[],this._parent(t),this.buildSkeleton(),this.options.faviconUrl&&this.setFavicon(t.faviconUrl),this.options.searchText&&this.setSearchText(t.searchText)},setOptions:function(t){(t=t||{}).searchHistory&&(t.showHistory=!0),this._parent(t)},setInitialState:function(t,e){var i=this;i.setFavicon(t),i.setSearchText(e),i.setCheckboxState(e)},buildSkeleton:function(){var t,e,i=c.i18n,s=this,n=s.options,o=s.elements;t=c.createElement("div",{class:"search "+this.getClassNames()}),o.form=c.createElement("form",{events:{submit:this.dispatchAsEventListener("onSubmitByHistoryLink")}}).inject(t),o.favicon=c.createElement("img",{class:"favicon",src:c.hosts.uwa+c.paths.css+"base/img/s.gif",width:16,height:16,styles:{display:"none"}}).inject(o.form),o.inputWrapper=c.createElement("span",{class:"input-wrapper"}).inject(o.form),o.inputSearch=c.createElement("input",{class:"search",type:"text",value:"",events:{focus:this.dispatchAsEventListener("onFocusSearch"),blur:this.dispatchAsEventListener("onBlurSearch"),click:this.dispatchAsEventListener("onClickSearch"),keypress:this.dispatchAsEventListener("onSearchKeyPress")}}).inject(o.inputWrapper),o.resetButton=c.createElement("img",{class:"clear",alt:i("Clear"),title:i("Clear"),src:c.hosts.uwa+c.paths.css+"base/img/clear.gif",events:{click:this.dispatchAsEventListener("onResetSearch")},styles:{display:"none"}}).inject(o.inputWrapper),e=n.submitButton&&"string"!=typeof n.submitButton?n.submitButton:"icon"===n.submitButton?c.createElement("a",{"data-icon":"U",class:"uwa-icon uwa-icon-only",alt:c.i18n("Search"),events:{click:this.dispatchAsEventListener("onSubmitByHistoryLink")}}):c.createElement("input",{type:"submit",value:c.i18n("Search")}),o.inputWrapper.addContent(e),o.inputWrapper.lastChild.addClassName("submit"),n.showCheckbox&&(o.checkbox=c.createElement("input",{class:"check",type:"checkbox",title:n.checkboxTitle||"",value:"",events:{click:this.dispatchAsEventListener("onToggleSearch")}}).inject(o.form),"rtl"===n.dir?o.checkbox.setStyle("left","5px"):o.checkbox.setStyle("right","5px")),s.inputSearch=o.inputSearch,s.form=o.form,this.container=t},buildHistoryBox:function(){this.hideHistory();var i=this,t=i.elements,e=t.inputSearch,s=e.getSize(),n=i.getSearchText(),o=i.historyList,r=c.createElement("ul",{class:"uwa-popup-menu",events:{click:function(t){h.stop(t);var e=c.Event.getElement(t).getText();i.setSearchText(e),i.dispatchEvent("onSubmitByHistoryLink",[t])}}});o.forEach(function(t){n!==t&&i.getHistoryBoxItem(t).inject(r)}),c.createElement("li",{class:"uwa-popup-menu-item action",html:{tag:"a",text:c.i18n("Clear recent searches"),events:{click:function(t){h.stop(t),i.clearHistory()}}}}).inject(r),r.inject(t.form),r.setStyles({width:s.width-e.getComputedSize("borderWidth")+"px"}),r.setPosition({x:0,y:s.height-e.getComputedSize("borderWidth")},{relative:e}),t.historyBox=r},getHistoryBoxItem:function(t){return c.createElement("li",{class:"uwa-popup-menu-item",html:{tag:"a",href:"#history:"+t,html:{tag:"span",text:t}}})},setFavicon:function(t,e){var i=this.elements.favicon;i.src=t,i.alt=i.title=e,i[t&&t.length?"show":"hide"]()},setSearchText:function(t){var e=this.elements,i=e.inputSearch,s=e.resetButton;i.value=t||"",s[t&&t.length?"show":"hide"](),this.addHistory(t)},getSearchText:function(){return this.elements.inputSearch.value},setCheckboxState:function(t){var e=this.elements.checkbox;e&&(t?(e.setAttribute("checked","checked"),e.defaultChecked=!0):(e.setAttribute("checked",""),e.defaultChecked=!1))},getCheckboxState:function(){var t=this.elements.checkbox;return t&&"checked"===t.getAttribute("checked")},setHistoryString:function(t){var e=[];c.is(t,"string")&&i.isJson(t)&&(t=i.decode(t)),c.is(t,"array")?e=t:c.is(t)&&(e=String(t).split(":")),e.forEach(this.addHistory,this)},getHistoryString:function(){return i.encode(this.historyList)},addHistory:function(t){var e=this,i=e.historyList,s=i.indexOf(t);c.is(t,"string")&&0<t.length&&(-1<s&&i.splice(s,1),i.unshift(t),i.length>e.options.limit&&i.pop(),e.dispatchEvent("updateHistory"))},clearHistory:function(){var t=this;t.historyList=[],t.dispatchEvent("updateHistory"),t.hideHistory()},hideHistory:function(){var t=this;t.elements.historyBox&&t.elements.historyBox.destroy(),t.elements.historyBox=null},showHistory:function(){var t=this,e=t.historyList,i=t.getSearchText();t.options.showHistory&&(1<e.length||1===e.length&&e[0]!==i)&&t.buildHistoryBox()},toggleHistory:function(){this.options.showHistory&&(this.elements.historyList?this.hideHistory():this.showHistory())},onSubmitSearch:function(t,e){this.hideHistory(),this.setSearchText(t),this.dispatchEvent("submit",[t,e])},onSubmitByHistoryLink:function(t){h.stop(t);var e=this.getSearchText(),i="onSubmitSearch";0!==e.trim().length||this.options.allowEmpty||(i="onResetSearch"),this.dispatchEvent(i,[e,this.getCheckboxState()])},onResetSearch:function(){this.hideHistory(),this.setSearchText(""),this.dispatchEvent("reset")},onToggleSearch:function(){this.dispatchEvent("toggle")},onFocusSearch:function(){this.dispatchEvent("focus"),this.clearDelayed("onBlurSearch")},onBlurSearch:function(){this.options.showHistory&&this.setDelayed("onBlurSearch",this.hideHistory,500,!1,this),this.dispatchEvent("blur")},onClickSearch:function(){this.options.showHistory&&this.toggleHistory()},onSearchKeyPress:function(){this.options.showHistory&&this.hideHistory()}});return c.namespace("Controls/SearchForm",n,c)});

define("UWA/Controls/StackedColumn",["UWA/Core","UWA/String","UWA/Element","UWA/Controls/Segmented","UWA/Controls/ToolTip"],function(t,n,s,o,i){"use strict";var e=o.extend({defaultOptions:{spacer:.5,showText:!0,hoverColors:null,minHeight:10,className:"uwa-stackedColumn"},init:function(t){this.total=0,this._parent(t),this.options.hoverColors&&this.baseEvents()},addItem:function(t,o){var e=this;this._parent(t,o),this.total+=o.value,this.updatePourcents(),this.elements.items[t].addEvent("click",function(){e.dispatchEvent("onClick",[t,o,this])}),s.addEvent.call(this.elements.items[t],"mouseenter",function(){e.dispatchEvent("onMouseOver",[t,o,this])}),s.addEvent.call(this.elements.items[t],"mouseleave",function(){e.dispatchEvent("onMouseOut",[t,o,this])}),this.options.toolTip&&this.options.toolTip.formatter&&new i(this.elements.items[t],this.options.toolTip.formatter(o.raw,o.raw.type),{width:this.options.toolTip.width||120,fx:!1})},updatePourcents:function(){var t,o=this.elements.items;for(t in o)o.hasOwnProperty(t)&&this.updateItem(t,o[t])},updateItem:function(t,o){var e,s=this.options.data[t],i=s.value/this.total*100;o.setStyle("background-color",s.background),o.hasClassName(this.options.className+"-item-last")||o.setStyle("margin-right",this.options.spacer+"%"),e=i-this.options.spacer,o.setStyle("width",e+"%"),o.empty(),this.options.showText?o.setHTML(n.format('<p>{0}<span class="pourcent">{1}%</span></p>',s.text,Math.round(i))):o.setStyle("height",this.options.minHeight+"px")},updateItemColor:function(t,o){this.options.data[t]&&(this.options.data[t].background=o,this.elements.items[t].setStyle("background-color",o))},toggleItemColor:function(t,o){this.elements.items[t].getStyle("background-color").toLowerCase()===this.options.data[t].background.toLowerCase()?this.elements.items[t].setStyle("background-color",o):this.elements.items[t].setStyle("background-color",this.options.data[t].background)},getItemInfo:function(t){return{config:this.options.data[t],dom:this.elements.items[t]}},baseEvents:function(){this.addEvents({onMouseOver:this.toggleBgColors,onMouseOut:this.toggleBgColors})},toggleBgColors:function(t){var o=this.options.data[t],e=this.findColor(o);e&&this.updateItemColor(t,e)},findColor:function(t){var o,e,s=this.options.hoverColors;for(o in s)if(s.hasOwnProperty(o)){if(o===t.background){e=s[o];break}if(s[o]===t.background){e=o;break}}return e}});return t.namespace("Controls/StackedColumn",e,t)});

define("UWA/Controls/TabView",["UWA/Core","UWA/Utils/Client","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Carousel"],function(i,e,o,l,t,s){"use strict";var a=t.extend({defaultOptions:{element:null,selectedTab:null,className:"",classNames:{tabView:"uwa-tabview",tabList:"uwa-tablist",tabPanels:"uwa-tabview-panel",tabPanel:"uwa-tab-panel",tab:"uwa-tab",selected:"selected",disabled:"disabled"},scroller:{scrollSize:1,nextButton:null,previousButton:null},tabScroller:!1,tabSelector:".uwa-tab",allowReload:!1,noContent:!1},tabs:null,selectedTab:null,init:function(e){this._parent(e),this.tabs=[],this.selectedTab=null,this.buildContainer(),this.initEvents(),i.is(this.options.tabs,"array")&&(this.options.tabs.forEach(this.addTab,this),delete this.options.tabs),(this.options.tabScroller||this.options.scroller.nextButton||this.options.scroller.previousButton)&&this.createScroller()},addTab:function(e,t){return e instanceof a.Tab==!1&&(e=new a.Tab(e)),e.setOption("classNames",this.options.classNames),i.is(t,"number")&&t<this.tabs.length&&0<=t?(e.tabElement().inject(this.getTab(t).tabElement(),"before"),this.tabs.splice(t,0,e)):(this.elements.tabList.grab(e.tabElement()),this.tabs.push(e)),this.elements.contentNode&&e.contentElement()&&this.elements.contentNode.grab(e.contentElement()),e.options.selected&&this.selectTab(e),this.onResize(),this.dispatchEvent("onAddTab",[e]),this},removeTab:function(e){var t=this.getTab(e);return t&&(t.remove(),this.tabs.splice(this.tabs.indexOf(t),1),this.onResize(),this.dispatchEvent("onRemoveTab",[t])),this},selectTab:function(e,t){var s,n,i=this.getTab(e);i&&(i===this.selectedTab&&!this.options.allowReload||((s=this.selectedTab)?s.setSelected(!1):n=0,this.dispatchEvent("onPreSelectTab",[i,s,t]),this.selectedTab=i.setSelected(!0),this.onResize(),this.dispatchEvent("onSelectTab",[i,s,t])),this.ensureTabIsVisible(i,!1,n))},enableTab:function(e,t){var s=this.getTab(e);s&&s.setDisabled(void 0!==t&&!t)},getTab:function(e){var t,s,n=!1;if(i.is(e))if(e instanceof a.Tab)n=e;else for(t=0,s=this.tabs.length;t<s&&(n=this.tabs[t],!e||!e.nodeType||n.tabElement()!==e)&&(t!==e&&n.getId()!==e&&n.getName()!==e);t+=1)n=!1;else n=this.selectedTab;return n},moveTab:function(e,t){var s,n,i=t+1>=this.tabs.length;return s=this.getTab(e),(n=this.tabs.indexOf(s))!==t&&(this.tabs.splice(t,0,this.tabs.splice(n,1)[0]),i?s.tabElement().inject(this.getTab(t-1).tabElement(),"after"):s.tabElement().inject(this.getTab(t+1).tabElement(),"before"),!0)},selectDefaultTab:function(){var e,t,s;for(t=0,s=this.tabs.length;t<s;t+=1)if((e=this.tabs[t]).isSelectable())return this.selectTab(e),e;return!1},setTabContent:function(e,t){return this.getTab(e).setContent(t),this},getTabContent:function(e){return this.getTab(e).contentElement()},buildContainer:function(){this.options.element?(this.elements.container=i.extendElement(this.options.element),delete this.options.element):this.elements.container=i.createElement("div"),this.elements.container.addClassName(this.options.classNames.tabView+" "+this.options.className),this.elements.tabList=i.createElement("ul",{class:this.options.classNames.tabList}).inject(this.elements.container),this.options.noContent||(this.elements.contentNode=i.createElement("div",{class:this.options.classNames.tabPanels}).inject(this.elements.container))},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(e){var t=this.getTabFromEvent(e);t&&(o.preventDefault(e),i.is(t.handleEvent,"function")&&t.handleEvent(e,this),t.isDisabled()||this.selectTab(t,e))},getTabFromEvent:function(e){var t=o.getElement(e).getClosest(this.options.tabSelector);return t&&this.getTab(t)},createScroller:function(){this.elements.container.setAttribute("scrollable","true"),this.scroller=this.getScroller(),this.scroller.addEvent("onScrollerResize",this.onScrollerResize.bind(this))},getScroller:function(){return this.scroller||(this.scroller=new s(this.elements.tabList,this.options.scroller)),this.scroller},onScrollerResize:function(e){var t=this.overflow;this.overflow=this.scroller.hasOverflow(),this.overflow&&this.selectedTab&&e&&100<Math.abs(e.deltaScroll)&&this.ensureTabIsVisible(this.selectedTab,!1,0),t!==this.overflow&&(this.elements.container.setAttribute("overflow",String(this.overflow)),this.dispatchEvent("onOverflowChange",[{overflow:this.overflow}]))},reload:function(){var e=this.selectedTab;this.selectedTab=null,this.selectTab(e)},showTabList:function(){this.elements.tabList.show()},hideTabList:function(){this.elements.tabList.hide()},isTabVisible:function(e,t){var s=!1,n=this.getTab(e);return n&&(s=this.scroller&&this.scroller.isItemVisible(n.tabElement(),t)),s},ensureTabIsVisible:function(e,t,s){this.scroller&&(this.isTabVisible(e,t)||this.scrollToTab(e,s))},scrollNext:function(){this.scroller&&this.scroller.scrollNext()},scrollPrevious:function(){this.scroller&&this.scroller.scrollPrevious()},scrollToTab:function(e,t){var s=this.getTab(e).tabElement();s&&this.scroller.scrollToItem(s,void 0,t)},selectTabItem:function(e,t,s,n){var i=this.getTab(e);return i instanceof a.DropdownTab&&i.items.forEach(function(e){e[t]===s&&i.selectItem(e,this,!1!==n)},this),this},onResize:function(){this.scroller&&this.scroller.onRefresh()},onPreInject:function(){null===this.options.selectedTab&&this.selectDefaultTab()},onPostInject:function(){null!==this.options.selectedTab&&this.selectTab(this.options.selectedTab)}});return a.Tab=t.extend({defaultOptions:{id:"",disabled:!1,selected:!1,text:"",icon:"",name:"",content:null,className:""},init:function(e){!e||e.id||0===e.id||e.name||(e.id=Date.now().toString(36)),this._parent(e)},getId:function(){return this.options.id},getName:function(){return this.options.name},getText:function(){return this.options.text},setIcon:function(e){return e?this.elements.icon?this.options.icon!==e&&(this.options.icon=e,this.elements.icon.src=e):this.elements.icon=i.createElement("img",{class:"icon",src:e}).inject(this.tabElement().getElement(".title"),"before"):this.elements.icon&&this.elements.icon.remove(),this},setText:function(e){return this.tabElement().getElement(".title").setText(e),this},setDisabled:function(e){return void 0===e&&(e=!0),this.tabElement().toggleClassName("disabled",e),this.elements.content&&this.elements.content.toggleClassName("disabled",e),this.options.disabled=e,this},setSelected:function(e){return this.tabElement().toggleClassName("selected",e),this.elements.content&&this.elements.content.toggleClassName("selected",e).toggleClassName("hidden",!e),this.options.selected=e,this},setContent:function(e){return this.contentElement().setHTML(e),this},isSelectable:function(){return!this.isDisabled()},isSelected:function(){return this.options.selected},isDisabled:function(){return this.options.disabled},remove:function(){this.tabElement().remove(),this.elements.content&&this.elements.content.remove()},tabElement:function(){return this.elements.container||(this.elements.container=this._createTabElement(),this.options.name&&this.elements.container.addClassName(this.options.name),this.options.className&&this.elements.container.addClassName(this.options.className),this.options.icon&&this.setIcon(this.options.icon)),this.elements.container},contentElement:function(){return this.elements.content||(this.elements.content=this._createContentElement(),this.elements.content&&this.elements.content.addClassName("hidden "+this.options.name)),this.elements.content},_createTabElement:function(){var e=i.createElement("li",{class:this.options.classNames.tab});return e.grab(this._createInnerTabElement(e))},_createInnerTabElement:function(){return i.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(i.createElement("span",{class:"title",text:this.options.text}))},_createContentElement:function(){var e=i.createElement("div",{id:this.options.id,html:this.options.content||i.i18n("Loading..."),class:this.options.classNames.tabPanel});return delete this.options.content,e}}),a.DropdownTab=a.Tab.extend({defaultOptions:{autohide:!0,popupMenuItemSelector:".uwa-popup-menu-item",classNames:{dropdownTab:"uwa-tab-dropdown",popupMenu:"uwa-popup-menu",popupMenuItem:"uwa-popup-menu-item"}},init:function(e,t){this.items=t,this.selectedItem=t[0],this._parent(i.merge({name:String(e)},this.selectedItem))},setSelected:function(e){return this._parent(e),this.options.autohide&&this.elements.container.getElement(".dropdown").toggleClassName("hidden",!e),this},handleEvent:function(e,t){this.isSelected()&&(o.stop(e),this.tabView=t,this.togglePopupMenu())},togglePopupMenu:function(){var e=this.elements.container.hasClassName("open");return e?this.hidePopupMenu():this.showPopupMenu(),!e},showPopupMenu:function(){this.createPopupMenu(),this.elements.container.addClassName("open")},hidePopupMenu:function(e){if(e&&i.Event.getElement(e).getClosest("."+this.options.classPopupMenu))return;this.elements.container.removeClassName("open"),this.elements.popupMenu&&(this.elements.popupMenu.destroy(),delete this.elements.popupMenu),this.boundHidePopupMenu&&(l.removeEvent.apply(document.body,["click",this.boundHidePopupMenu]),delete this.boundHidePopupMenu),this.tabView&&(this.tabView=null,delete this.tabView)},createPopupMenu:function(){var e,t,s,n;for(this.elements.popupMenu&&this.elements.popupMenu.remove(),this.elements.popupMenu=i.createElement("ul",{class:this.options.classNames.popupMenu,events:{click:this.onPopupMenuItemClick.bind(this)}}),e=0,t=this.items.length;e<t;e++)this.selectedItem!==this.items[e]&&this._createPopupMenuItem(this.items[e]).inject(this.elements.popupMenu).setAttribute("data-index",e);return this.elements.popupMenu.inject(this.elements.container.getParent("."+this.options.classNames.tabView)).setPosition({x:0,y:this.elements.container.getDimensions().height},{relative:this.elements.container,boundary:"auto",fit:"resize-max"}),s=this.elements.popupMenu.getDimensions(),n=this.elements.container.getDimensions(),s.width<n.width&&this.elements.popupMenu.setStyle("width",n.width+"px"),this.boundHidePopupMenu||(this.boundHidePopupMenu=this.hidePopupMenu.bind(this),l.addEvent.apply(document.body,["click",this.boundHidePopupMenu])),this.elements.popupMenu},selectItem:function(e,t,s){if(i.is(e,"object")){if(i.is(e.handler,"function"))e.handler.call(this);else if(e!==this.selectedItem){var n=t||this.tabView;this.tabElement().getElement(".title").setText(e.text||""),e.icon&&this.setIcon(e.icon),this.previousItem=this.selectedItem,this.selectedItem=e,n&&!1!==s&&(n.selectedTab=null,n.selectTab(this))}this.hidePopupMenu()}},onPopupMenuItemClick:function(e){o.stop(e);var t,s,n=i.Event.getElement(e).getClosest(this.options.popupMenuItemSelector);n&&(t=Number(n.getAttribute("data-index")),(s=this.items[t])&&this.selectItem(s))},_createPopupMenuItem:function(e){var t=i.createElement("li",{class:this.options.classNames.popupMenuItem}),s=i.createElement("a").inject(t);return e.icon&&s.grab(i.createElement("img",{src:e.icon,class:"icon"})),s.grab(i.createElement("span",{text:e.text})),t},_createTabElement:function(){return this._parent().addClassName(this.options.classNames.dropdownTab)},_createInnerTabElement:function(){return i.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(i.createElement("span",{class:"title",text:this.options.text})).grab(i.createElement("span",{class:"dropdown hidden"}))}}),i.namespace("Controls/TabView",a,i)});

define("UWA/Controls/Tag",["UWA/Core","UWA/Event","UWA/Controls/Input"],function(e,n,t){"use strict";var s=t.Button.extend({name:"uwa-tag",options:{closable:!1,clickable:!0,icon:"delete small"},buildSkeleton:function(){this._parent();var t=this.elements.input.getText();this.elements.input.empty(),this.elements.input=e.createElement("div",{class:this.getClassNames("-title"),text:t}),this.elements.content.addContent([this.elements.input,e.createElement("div",{class:this.getClassNames("-close")+" uwa-icon "+this.options.icon,events:{click:this._close.bind(this)}})]),this.setClosable(this.options.closable)},setClosable:function(t){this.elements.container.toggleClassName("closable",!1!==t)},_close:function(t){this.dispatchEvent("onClose"),n.stop(t)},onMouseEnter:function(){this.options.clickable&&this._parent()},buildInput:function(){return e.createElement("div",{tabindex:"0"})}});return e.namespace("Controls/Tag",s,e)});

define("UWA/Controls/Web",["UWA/Core","UWA/Utils","UWA/Controls/Abstract","UWA/Class/Timed"],function(a,n,e,t){"use strict";var s=function(){var e,t,s={};for(e=0,t=arguments.length;e<t;e++)s[arguments[e]]=!0;return s}("www.skateslate.com","www.pravdareport.com","blog.alteroot.org"),i=e.extend(t,{defaultOptions:{url:"about:blank",width:"100%",height:"",className:"uwa-web",scrolling:"auto",border:!1,sandbox:!1,withMessage:!1,unsecureWarningMessage:null},init:function(e){this._parent(e),this._frameOnload=this.dispatchAsEventListener("onLoad"),this.buildSkeleton()},buildSkeleton:function(){var e,t,s=this.elements,n=this.options;t={width:n.width,height:n.height,scrolling:n.scrolling,frameborder:n.border?1:0},n.sandbox&&(t.sandbox="allow-same-origin allow-forms allow-scripts allow-popups"),n.url||(n.url="about:blank"),s.container=a.createElement("div",{class:n.className}),s.iframe=e=a.createElement("iframe",t),e.onerror=this.dispatchAsEventListener("onError"),n.withMessage&&(s.container.addContent(a.createElement("div",{class:"uwa-web-message",html:s.loadingMessage=a.createElement("p",{class:"loading-message"})})),this.addEvent("onLoad",function(){this._shouldClearMessage()?s.loadingMessage.empty():this.setDelayed("websitemessage",function(){s.loadingMessage.setText(a.i18n("This website prevents embedding via iframe."))},1e3)}.bind(this))),s.container.addContent(e),this.setSrc(n.url)},setSrc:function(e){this._isSecureIFrame(e)?(this.elements.iframe.src=e,this.elements.iframe.addEvent("load",this._frameOnload),this.options.withMessage&&("about:blank"===e?this.elements.loadingMessage.empty():this.elements.loadingMessage.setText(a.i18n("Loading")))):(this.elements.iframe.removeEvent("load",this._frameOnload),this.elements.iframe.src="about:blank",this.elements.loadingMessage.setText(this.options.unsecureWarningMessage||a.i18n("This app is trying to load unsecure content.")))},setIFrameHeight:function(e){this.elements.iframe.setStyle("height",e)},isBlank:function(){return"about:blank"===this.elements.iframe.src},getIFrame:function(){return this.elements.iframe},_isSecureIFrame:function(e){var t=n.parseUrl(window.location.href),s=n.parseUrl(e);return"http"===t.protocol||t&&"https"===t.protocol&&s&&"https"===s.protocol},_shouldClearMessage:function(){var e=this.elements.iframe.src;if(this.isBlank()||/\.(png|jpe?g|gif|txt)$/i.test(e))return!0;var t=n.parseUrl(e).domain;return a.owns(s,t)}});return a.namespace("Controls/Web",i,a)});

define("UWA/Services/Auth",["UWA/Core","UWA/Class","UWA/Class/Options"],function(i,t,e){"use strict";var n=t.extend(e,{Adapter:null,defaultOptions:{adapter:null,adapterOptions:{}},init:function(t){this.setOptions(t),this.initAdapter()},initAdapter:function(){var e=this.options.adapter,t=this.options.adapterOptions;if(e instanceof i.Services.Auth.Adapter.Abstract)e.setOptions(t),this.Adapter=e;else{if("string"!=typeof e)throw new Error("Bad adapter options value <"+e+">.");try{if(this.Adapter=new i.Services.Auth.Adapter[e](t),!(this.Adapter instanceof i.Services.Auth.Adapter.Abstract))throw new Error("UWA.Services.Auth.Adapter."+e+" is not an instance of UWA.Services.Auth.Adapter.Abstract")}catch(t){throw new Error("Unable to initialize adapter with name <"+e+"> cause: "+t)}}},hasIdentity:function(t,e){this.Adapter.hasIdentity(t,e)},getIdentity:function(t,e){this.Adapter.getIdentity(t,e)},clearIdentity:function(t){this.Adapter.clearIdentity(t)},authenticate:function(t,e,i){this.Adapter.authenticate(t,e,i)},toQueryString:function(){return this.Adapter.toQueryString()}});return i.namespace("Services/Auth",n,i)});

define("UWA/Plugins/Auth",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils/Client","UWA/Event","UWA/Controls/Form","UWA/Services/Auth"],function(s,t,i,n,o,a){"use strict";var e=t.extend({defaultOptions:{formOptions:{loginLabel:"Login",passwordLabel:"Password",logoutLabel:"Logout",submitLabel:"Sign In",loadingCredential:"Credentials validation loading...",requireCredential:"Authentication required!",invalidCredential:"Login / Password combination is incorrect."}},state:0,init:function(t,e){this.elements={},this._parent(t,e),this.auth=new a(this.options),this.saveWidgetBody(),i.isOnline()?(this.addEvent("onLoad",this.checkIdentity,this,1),this.addEvent("onRefresh",this.checkIdentity,this,1)):this.onAuthenticateFailure("offline")},checkIdentity:function(){return 0===this.state&&(this.state=1,this.onAuthenticateLoading(),this.auth.hasIdentity(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this))),4===this.state},onAuthenticateSuccess:function(){this.state=4,this.addLogout(),this.restoreWidgetBody(),this.dispatchEvent("onLoad")},onAuthenticateFailure:function(t){this.error=t,2===this.state&&(this.state=3),this.addForm()},onAuthenticateLoading:function(){this.addLoading()},onClearIdentity:function(){this.auth.clearIdentity(),this.state=0,this.addForm()},onFormSubmit:function(t){n.stop(t),this.elements.form.getField("signin").disabled=!0,this.onAuthenticateLoading(),this.state=2,this.auth.authenticate(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this),this.elements.form.getFormValues())},saveWidgetBody:function(){if(!this.widgetBody){var t,e,i=this.widget.body.getChildren();for(this.widgetBody=document.createDocumentFragment(),t=0,e=i.length;t<e;t++)this.widgetBody.appendChild(i[t])}},restoreWidgetBody:function(){this.widget.setBody(this.widgetBody),this.widgetBody=!1},addLoading:function(){var t=this.widget;this.elements.loading=t.createElement("p",{text:s.i18n(this.options.formOptions.loadingCredential),styles:{textAlign:"center"}}).inject(t.elements.body.empty())},addForm:function(){var t=this,e=s.i18n,i=t.widget,n=t.options.formOptions;this.removeLogout(),t.elements.form=new o({fields:[{type:"img",src:n.logoUrl},{type:"html",html:{tag:"p",title:this.error&&(this.error.message||this.error),text:3===this.state?n.invalidCredential:n.requireCredential,styles:{textAlign:"center"}}},{type:"text",name:"login",label:e(n.loginLabel),value:""},{type:"password",name:"password",label:e(n.passwordLabel),value:""},{type:"submit",name:"signin",value:e(n.submitLabel)},{type:"html",html:[{tag:"b",text:n.warningTitle},{tag:"p",text:n.warningText,styles:{textAlign:"justify"}}]}],events:{onSubmit:this.onFormSubmit.bind(this)}}).inject(i.elements.body.empty()),"vista"!==i.environment.name&&t.elements.form.getField("login").focus()},removeLogout:function(){var t=this.elements.logout;t&&t.remove()},addLogout:function(){var e=this,t=e.widget,i=s.i18n(e.options.formOptions.logoutLabel);e.elements.logout=t.createElement("a",{title:i,styles:{border:"none",position:"absolute",top:"0px",right:"5px"},html:{tag:"img",src:s.hosts.uwa+s.paths.css+"base/img/logout.png",height:18,width:20,alt:i},events:{click:function(t){n.stop(t),e.onClearIdentity()}}}).inject(t.elements.content)}});return s.namespace("Plugins/Auth",e,s)});

define("UWA/Plugins/Ecosystem",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils","UWA/Utils/Client","UWA/Data","UWA/Storage"],function(i,t,e,a,s,n){"use strict";var u=t.extend({defaultOptions:{api:i.hosts.ecosystem.replace("://","://api."),front:i.hosts.ecosystem,interval:86400,messages:{unavailable:"This Application is not available because it's under maintenance.",suspended:"This Application is not available because it's suspended."}},status:["unknown","online","unavailable","suspended"],init:function(t,s){this._parent(t,s),this.database=new n({database:"__plugin_ecosystem_"+e.getCheckSum(t.getUrl())}),a.isOnline()&&this.addEvent("onLoad",this.checkStatus)},checkStatus:function(){var t=this.getStatus();return this.database.isReady?i.is(t)?(this.removeEvent("onLoad",this.checkStatus),this.checkStatusComplete(t)):s.request(this.options.api+"/widget/status",{onComplete:this.checkStatusComplete.bind(this),onFailure:this.checkStatusFailure.bind(this),cache:!1,type:"json",data:{url:this.widget.getUrl(),format:"json"}}):this.environment.setDelayed("EcosystemCheckStatus",this.checkStatus.bind(this),5e3),!1},checkStatusComplete:function(t){var s=this.status,e=t.state?parseInt(t.state,10):1;this.saveStatus(e),1<e?this.setStatusMessage(s[e]):this.dispatchEvent("onLoad")},checkStatusFailure:function(){this.saveStatus(0),this.dispatchEvent("onLoad")},getStatus:function(){var t=this.database.get("status"),s=parseInt(this.database.get("status_timestamp"),10),e=Math.round(Date.now()/1e3)-this.options.interval;return!i.is(t)||s<e?null:t},saveStatus:function(t){this.database.set("status",t),this.database.set("status_timestamp",Math.round(Date.now()/1e3))},setStatusMessage:function(t,s){var e=i.i18n,a=this.widget;s=s||this.options.messages[t],a.setTitle(e("Unavailable Application")),a.setBody(e(s))}});return i.namespace("Plugins/Ecosystem",u,i)});

define("UWA/Plugins/GoogleAnalytics",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils","UWA/Utils/Client","UWA/Json"],function(a,t,n,i,r){"use strict";var e=t.extend({init:function(t,i){this._parent(t,i),this.initScript(),this.addEvent("beforeLoad",this.loadScript)},initScript:function(){var t,i,e,n,o=this.options,s=window._gaq||[];for(t in o)if(o.hasOwnProperty(t))if(i=o[t],e=a.typeOf(i),t.contains("UA-")&&(n&&s.push(["_trackPageview"]),n=!0,s.push(["_setAccount",t])),r.isJson(i)&&(i=r.decode(i),e=a.typeOf(i)),"array"===e)s.push(i);else{if("string"!==e&&"number"!==e)throw new Error('Invalid GoogleAnalytics Plugin option with value "'+r.encode(i)+'".');n||"string"!==e||(n=i.contains("UA-")),s.push([t,i])}n&&(this.addCustomVars(s),s.push(["_trackPageview"])),window._gaq=s,this.addEvent("onOpenURL",this.openURL)},addCustomVars:function(t){var i,e=n.parseUrl(this.widget.getUrl());try{i=String(window.top.location)}catch(t){i=this.widget.widgetDomain||String(window.location)}t.push(["_setCustomVar",1,"widget_url",e.source,5]),t.push(["_setCustomVar",2,"widget_platform",this.widget.environment.name,5]),t.push(["_setCustomVar",3,"widget_referer",i,5])},loadScript:function(){var t=document.getElementsByTagName("script")[0];a.createElement("script",{src:("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",async:!0,type:"text/javascript"}).inject(t||document.body||document.head,t?"after":"bottom"),this.removeEvent("afterLoad",this.loadScript)},openURL:function(){}});return a.namespace("Plugins/GoogleAnalytics",e,a)});

define("UWA/Plugins/I18n",["UWA/Core","UWA/Plugins/Abstract"],function(t,n){"use strict";var i=n.extend({init:function(n,i){this._parent(n,i),t.is(i[n.lang],"object")&&t.i18n(i[n.lang])}});return t.namespace("Plugins/I18n",i,t)});

define("UWA/Services/Auth/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(t,e,n){"use strict";var i=e.extend(n,{init:function(t){this.setOptions(t)},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return t.namespace("Services/Auth/Adapter/Abstract",i,t)});

define("UWA/Services/Auth/Adapter/Exposition",["UWA/Core","UWA/Utils","UWA/Json","UWA/Services/Auth/Adapter/Abstract","UWA/Controls/Popup"],function(o,r,s,t,u){"use strict";var e=t.extend({defaultOptions:{},hasIdentity:function(e,n){this.request("hasidentity",function(t){t?e():n("No identity found.")},n)},getIdentity:function(t,e){this.request("getidentity",t,e)},clearIdentity:function(t){this.request("clearidentity",t,t)},authenticate:function(e,n){var i=this;this.request("authenticate",function(t){"redirect"===t.type&&new u({url:t.url,events:{onClose:function(){i.hasIdentity(e,n)},onBlocked:function(){o.is(n)&&n("Unable to open popup due popup blocker.")}}}).open()},n)},toQueryString:function(){var t=this.options;return o.Utils.toQueryString(o.merge({auth:t.provider},t.data))},getActionUrl:function(t){var e=this.options,n=o.clone(e.data||{}),i=o.hosts.exposition+"/services/auth/"+t+"/"+e.provider;return i+=(-1<i.indexOf("?")?"&":"?")+r.toQueryString(n)},request:function(e,n,i){var t=this.getActionUrl(e);s.request(t,{cache:-1,onFailure:i,onComplete:function(t){o.is(t[e])?n(t[e]):i("Invalid Auth response.")}})}});return o.namespace("Services/Auth/Adapter/Exposition",e,o)});

define("UWA/Services/Auth/Adapter/Form",["UWA/Core","UWA/Utils","UWA/Ajax","UWA/Json","UWA/Data","UWA/Services/Auth/Adapter/Abstract"],function(c,u,o,i,t,e){"use strict";var n=e.extend({defaultOptions:{timeout:15e3,checkUrl:"https://example.com/myapp/test.json",loginUrl:"https://example.com/global/2.0/login.fcc",logoutUrl:"https://example.com/global/2.0/logout.fcc",params:{},fields:{},variables:{}},isAjaxPostAllowed:function(){return t.allowCrossOriginRequest},hasIdentity:function(e,n){var t=this.options;i.request(t.target,{useOfflineCache:!1,timeout:t.timeout,onComplete:function(t){"function"==typeof e&&e(t)}.bind(this),onFailure:function(t){"function"==typeof n&&n(t)}.bind(this)})},getIdentity:function(t,e){e(new Error("Not implemented."))},clearIdentity:function(t){t=t||function(){},this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(t):this.clearIdentityUsingFrame(t)},authenticate:function(t,e,n){if(e=e||function(){},t=t||function(){},n.login&&n.password){var i=this.options,o=i.loginUrl,a=function(){this.hasIdentity(t,e)}.bind(this),r=i.fields;o+=(-1<o.indexOf("?")?"&":"?")+u.toQueryString(i.params).replace(/%25/g,"-%"),this.isAjaxPostAllowed()?this.authenticateUsingAjax(r,o,a,e):this.authenticateUsingFrame(r,o,a,e)}else e(new Error("Invalid credentials values."))},authenticateUsingFrame:function(t,e,n){var i,o,a=u.random(1,1e5),r=c.createElement("div"),s=c.createElement("iframe",{src:"about:blank",id:"formAuth:frame:"+a,name:"formAuth:frame:"+a,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(r),l=c.createElement("form",{target:"formAuth:frame:"+a,action:e,method:"post"}).inject(r);for(i in t)t.hasOwnProperty(i)&&(o=t[i],c.createElement("input",{type:"hidden",name:i,value:o}).inject(l));r.inject(document.body),s.addEvent("load",function(){n(),r.destroy()}),l.submit()},clearIdentityUsingFrame:function(t){var e,n=this.options.logoutUrl;n+=(-1<n.indexOf("?")?"&":"?")+"rnd="+Math.random(),e=c.createElement("iframe",{src:n,styles:{position:"absolute",top:"-2000px",left:"0"},events:{load:function(){t(),e.destroy()}}}).inject(document.body)},authenticateUsingAjax:function(t,e,n,i){o.request(e,{onComplete:n,onFailure:i,method:"POST",data:t})},clearIdentityUsingAjax:function(t){var e=this.options.logoutUrl;e+=(-1<e.indexOf("?")?"&":"?")+"rnd="+Math.random(),o.request(e,{onComplete:t,onFailure:t,method:"GET"})}});return c.namespace("Services/Auth/Adapter/Form",n,c)});

define("UWA/Services/Auth/Adapter/Netvibes",["UWA/Core","UWA/Services/Auth/Adapter/Abstract"],function(t,e){"use strict";var n=e.extend({defaultOptions:{},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return t.namespace("Services/Auth/Adapter/Netvibes",n,t)});

define("UWA/Services/Auth/Adapter/SiteMinder",["UWA/Core","UWA/Utils","UWA/Ajax","UWA/Json","UWA/Data","UWA/Services/Auth/Adapter/Abstract"],function(d,l,a,i,t,e){"use strict";var n=e.extend({defaultOptions:{timeout:15e3,smagentname:"",realmoid:"",forest:"",guid:"",type:"",smauthreason:0,target:"https://example.com/myapp/test.json",login:"https://example.com/global/2.0/login.fcc",logout:"https://example.com/global/2.0/logout.fcc"},isAjaxPostAllowed:function(){return t.allowCrossOriginRequest},hasIdentity:function(e,n){var t=this.options;this.hasIdentityRequest&&this.hasIdentityRequest.cancel(),this.hasIdentityRequest=i.request(t.target,{useOfflineCache:!1,timeout:t.timeout,onComplete:function(t){"function"==typeof e&&e(t)}.bind(this),onFailure:function(t){"function"==typeof n&&n(t)}.bind(this)})},getIdentity:function(t,e){e(new Error("Not implemented."))},clearIdentity:function(t){t=t||function(){},this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(t):this.clearIdentityUsingFrame(t)},authenticate:function(t,e,n){if(e=e||function(){},t=t||function(){},n.login&&n.password){var i=this.options,a=i.target+"&callback=jsonp"+(Date.now()+l.random(1,1e4)),o=l.toQueryString({type:i.type,realmoid:i.realmoid,guid:i.guid,smauthreason:i.smauthreason,method:"GET",smagentname:"-SM-"+i.smagentname,target:"-SM-"+a}).replace(/%25/g,"-%"),s=i.login+"?"+o,r=function(){this.hasIdentity(t,e)}.bind(this),u={target:a,smquerydata:"",smauthreason:i.smauthreason,smagentname:i.smagentname,postpreservationdata:"",forest:i.forest,userid:n.login,password:n.password,Submit:""};this.isAjaxPostAllowed()?this.authenticateUsingAjax(u,s,r,e):this.authenticateUsingFrame(u,s,r,e)}else e(new Error("Invalid credentials values."))},authenticateUsingFrame:function(t,e,n){var i,a,o=Math.ceil(1e5*Math.random()),s=d.createElement("div",{styles:{position:"absolute",top:"-2000px",left:"0px"}}),r=d.createElement("iframe",{src:"about:blank",name:"siteminder:frame:"+o}).inject(s),u=d.createElement("form",{target:"siteminder:frame:"+o,action:e,method:"post"}).inject(s);for(i in t)t.hasOwnProperty(i)&&(a=t[i],d.createElement("input",{type:"hidden",name:i,value:a}).inject(u));document.body.appendChild(s),r.addEvent("load",function(){this.destroy(),n()}),u.submit()},clearIdentityUsingFrame:function(t){var e,n=this.options.logout;n+=(-1<n.indexOf("?")?"&":"?")+"rnd="+Math.random(),(e=d.createElement("iframe",{src:"about:blank",styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(document.body)).addEvent("load",function(){this.destroy(),t()}),e.setAttribute("src",n)},authenticateUsingAjax:function(t,e,n,i){a.request(e,{onComplete:n,onFailure:function(){this.hasIdentity(n,i)}.bind(this),method:"POST",data:t})},clearIdentityUsingAjax:function(t){a.request(this.options.logout,{onComplete:t,onFailure:t,method:"GET"})}});return d.namespace("Services/Auth/Adapter/SiteMinder",n,d)});

define("UWA/Services/ControlParser",["UWA/Core","UWA/Element"],function(l,o){"use strict";var t,r=Object.create(null);function c(t,n){var e=t.getAttribute(n)||t.getAttribute("data-"+n);return t.removeAttribute(n),t.removeAttribute("data-"+n),e}function n(t,n){n=n||t.prototype.name,r[n]=t}function s(t,n){var e=r[t];l.owns(r,t)?l.is(e,"string")?function(t,e){var n=(t=t.split(" "))[0],o=t[1]?t[1].split("."):[];(window.require||window.curl)([n],function(n){o.forEach(function(t){n=n[t]}),e(null,n)})}(e,n):n(null,e):n("Control "+t+" not found")}return n("UWA/Controls/Tag","uwa-tag"),n("UWA/Controls/Input Text","uwa-text"),n("UWA/Controls/Input Button","uwa-button"),n("UWA/Controls/Input File","uwa-file"),n("UWA/Controls/Input Select","uwa-select"),n("UWA/Controls/Input Checkbox","uwa-checkbox"),n("UWA/Controls/Input Radio","uwa-radio"),n("UWA/Controls/ColorPicker","uwa-colorpicker"),n("UWA/Controls/DatePicker","uwa-datepicker"),t={register:n,parse:function(t,r){r=r||{};var u,n=o.getElements.call(t,"[uwa-control],[data-uwa-control]"),a=n.length,i={};function e(t,n,e,o){a--,e?(u=e,r.onError&&r.onError(e)):function(t,n){-1<t.indexOf("[]",t.length-2)?(t=t.slice(0,-2),i[t]||(i[t]=[]),i[t].push(n)):i[t]=n}(n,o),0===a&&(r.onComplete&&r.onComplete(i,u),!u&&r.onSuccess&&r.onSuccess(i))}n.forEach(function(t,n){!function(u,a,i){s(a,function(t,n){var e,o=function(n){var e=n.parentNode,o=n.nextSibling;return e&&e.removeChild(n),function(t){(t=t||n).inject?t.inject(o||e,o&&"before"):e.insertBefore(t,o)}}(u);if(!t){if(l.is(n,"class")){var r={element:u};u.className&&(r.className=u.className,u.className=""),e=new n(r)}else l.is(n,"function")&&(e=n(u));e?o(e):t="Can't build the control "+a}i(t,e)})}(t,c(t,"uwa-control"),e.bind(null,n,c(t,"uwa-name")||"lostAndFound[]"))})},_tests:{getControl:s}},l.namespace("Services/ControlParser",t,l)});

define("UWA/Services/Feed",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Utils","UWA/Json","UWA/Data","UWA/Internal/StringMap"],function(d,e,t,v,u,h,n){"use strict";var i,c=e.extend(t,{id:null,timeOffset:null,lastFetchedDate:null,error:null,defaultOptions:{id:0,timeOffset:0,readOnly:!0,bufferItemMaxLen:30,itemLinkFilters:[],itemEnclosureFilters:[(i=/feedads|icon|button|addthis|feed|feedburner/,function(e){return!i.test(e)})]},init:function(e){this.data={dir:"ltr",flags:{read:0,unread:0},items:[]},this.setOptions(e)},setOptions:function(e){var t=this;return t._parent(e),e=t.options,t.id=e.id,t.timeOffset=e.timeOffset,e.error?t.setError(e.error):e.data&&(t.setData(e.data),delete e.data),t},setError:function(e){return this.error=e,this},getError:function(){return this.error},isReadOnly:function(){return!0===this.options.readOnly},setLastFetchedDate:function(e){return this.lastFetchedDate=parseInt(e,10),this},getLastFetchedDate:function(){return parseInt(this.lastFetchedDate,10)},setData:function(e,t){t=t||{};var n,i=this,r=e.server_time||Math.round(Date.now()/1e3),s=e.items,a=this.getItemsLength();return delete e.items,t.last_update?(i.addItems(s,"before"),i.setLastFetchedDate(r)):t.published_before?i.addItems(s,"after"):(d.extend(i.data,e,!0),this.addItems(s),this.setLastFetchedDate(r),e.url&&(this.ownerURL=e.url,this.feedSiteUrlDomain=v.parseUrl(e.url).domain)),n={data:d.clone(this.data),addedItem:a-this.data.length},t.callback&&(t.onComplete=t.callback,delete t.callback),d.is(t.onComplete,"function")&&t.onComplete(n),n},addItems:function(e,t){if(Array.isArray(e)&&0<e.length){var n,i,r,s=this.getItems();if("before"===t){for(n=e.length-1;0<=n;n--)r=this.preProcessItem(e[n]),s.unshift(r);this.setItemsIndexes()}else if("after"===t){for(n=0,i=e.length;n<i;n++)r=this.preProcessItem(e[n]),s.push(r);this.setItemsIndexes()}else{for(n=0,i=e.length;n<i;n++)r=this.preProcessItem(e[n]),s.push(r);this.sortItemsByDate()}}},sortItemsByDate:function(r){this.getItems().sort(function(e,t){var n=new Date(e.date).getTime(),i=new Date(t.date).getTime();return"asc"===r?n-i:i-n}),this.setItemsIndexes()},setItemsIndexes:function(){var e,t=this.getItemsLength();for(e=0;e<t;e++)this.getItem(e).index=e},preProcessItem:function(e){return e.__preProcessed||(e.content=e.content||"",e.title=e.title||"",e.flags=e.flags||{},this.preProcessItemEnclosures(e),this.applyItemLinkFilters(e),this.applyItemEnclosureFilters(e),e.__preProcessed=!0),e},preProcessItemEnclosures:function(e){var t,n,i,r,s,a,l,o,d=/\.(jpeg|gif|jpg|bmp|png)$/i,u=/\.(m4a|ogg|mp3|acc)$/i,h=/\.(flv|mp4|h264|avi|mpeg|mpg)$/i,c=this.options,m=this.getUrl(),f=e.enclosures,g=c.itemEnclosureFilters,p=[],I={image:[],video:[],audio:[]};for(Array.isArray(f)&&f.forEach(function(e){var t=e.url,n=e.type;t&&(n&&/^image\/(jpeg|gif|jpg|bmp|png)$/.test(n)||d.test(t)?I.image.push(t):n&&/^audio\/mpeg$/.test(n)||u.test(t)?I.audio.push(t):(n&&/^video/.test(n)||h.test(t))&&I.video.push(t))}),s=v.loadHtml(e.content),t=0,n=(p=(p=p.concat(y(s,"img","src"))).concat(y(s,"a","href"))).length;t<n;t++)a=p[t],!e.image&&d.test(a)?I.image.push(a):!e.audio&&u.test(a)?I.audio.push(a):!e.video&&h.test(a)&&I.video.push(a);for(l in e.image&&e.video||(p=e.content.match(/http:\/\/www.youtube.com\/v\/([\w|\-]+)/))&&0<p.length&&(e.video=p[0],e.image="https://i2.ytimg.com/vi/"+p[1]+"/hqdefault.jpg"),I)for(t=0,n=(p=I[l]).length;t<n;t++){if(a=p[t],o=!0,Array.isArray(g))for(i=0,r=g.length;i<r&&o;i++)o=(0,g[i])(a,e);o&&(e[l]=v.buildUrl(m,a))}return e.thumbnail=e.image,e.watchable=Boolean(e.video),e},addItemLinkFilter:function(e){var t=this.options;d.is(t.itemLinkFilters,"array")||(t.itemLinkFilters=[]),d.is(e,"function")&&t.itemLinkFilters.push(e)},applyItemLinkFilters:function(e){var t,n,i,r=this.options.itemLinkFilters;if(Array.isArray(r)&&!e.__linksFiltered){for(n=0,i=r.length;n<i;n++)t=r[n],d.is(t,"function")&&e.link&&(e.link=t(e.link,e,this));e.__linksFiltered=!0}},addItemEnclosureFilter:function(e){var t=this.options;d.is(t.itemEnclosureFilters,"array")||(t.itemEnclosureFilters=[]),d.is(e,"function")&&t.itemEnclosureFilters.push(e)},applyItemEnclosureFilters:function(e){var t,n,i,r,s,a,l=this.options.itemEnclosureFilters,o=["image","audio","video"];if(Array.isArray(l)&&!e.__enclosuresFiltered){for(t=0,n=l.length;t<n;t++)if(a=l[t],d.is(a,"function"))for(i=0,r=o.length;i<r;i++)e[s=o[i]]&&!a(e[s],e)&&delete e[s];e.__enclosuresFiltered=!0}},getTitle:function(){return this.data.title},getDir:function(){return this.data.dir},getUrl:function(){return this.data.url},getLink:function(){return this.data.link},getType:function(){return this.data.type},getItems:function(){return this.data.items},getItem:function(e){return this.getItems()[e]},getItemByGuid:function(e){return this.getItemByProperty("guid",e)},getItemByProperty:function(e,t){var n,i,r=this.getItemsLength();for(i=0;n<r&&(n=this.getItem(i))[e]!==t;i++);return n},getLastItemId:function(){var e=this.getItem(this.getItemsLength()-1);return e&&e.id},getItemsLength:function(){return this.data.items.length},getUnread:function(e){e=e||{};var t,n,i,r,s=0,a=0,l=this.data,o=this.infos,d=this.getItemsLength();if(o&&0<d&&(r=(i=l.flags)&&i.read?i.read:0,a=o.item_count-r,e.onlyNFirst)){for(e.onlyNFirst=e.onlyNFirst<=d?e.onlyNFirst:d,t=0,n=e.onlyNFirst;t<n;t++)this.isItemRead(t)||s++;a=s}return 0<=a?a:0},isItemRead:function(e){var t=this.getItem(e);return Boolean(t&&t.flags&&t.flags.read)},setItemRead:function(e,t){this.isItemRead(e)||(this.data.flags.read++,this.setItemsFlag({indexes:[e],flag:"read",value:Math.ceil(Date.now()/1e3),save:t}))},setItemUnread:function(e,t){this.isItemRead(e)&&(this.data.flags.read--,this.setItemsFlag({indexes:[e],flag:"read",value:!1,save:t}))},setAllItemsRead:function(e){var t,n=this.getItemsLength();for(t=0;t<n;t++)this.setItemRead(t,!1),(void 0).push(t);this.setItemsFlag({indexes:void 0,flag:"read",value:Math.ceil(Date.now()/1e3),save:e})},setAllItemsUnread:function(e){var t,n=this.getItemsLength(),i=[];for(t=0;t<n;t++)this.setItemRead(t,!1),i.push(t);this.setItemsFlag({indexes:i,flag:"read",value:!1,save:e})},setItemsFlag:function(e){var t,n,i,r=[],s=!this.isReadOnly()&&(e.save||!0);for(e.index&&(e.indexes=[e.index]),t=0,n=e.indexes.length;t<n;t++)i=this.getItem(t),r.push(i.id),e.value&&!1!==e.value?i.flags[e.flag]=e.value:delete i.flags[e.flag];s&&c.Adapter.Netvibes.feedApiRequest({readState:e.value&&!1!==e.value?"add":"remove",feedIds:this.id,feedItemIds:r})}});function y(e,t,n){var i,r,s,a,l=[],o=e.getElementsByTagName(t);for(i=0,r=o.length;i<r;i++)a=o[i],(s=o[i].getAttribute(n))&&("img"===t&&(!a.height||1<a.height)&&(!a.width||1<a.width)||"a"===t&&a.href&&1<a.href.indexOf("#"))&&l.push(s);return l}function m(e){var t,n,i,r;if(Array.isArray(e.link))for(i=e.link[0].href||e.link[0],n=0,t=e.link.length;n<t;n++)(r=e.link[n]).rel&&-1!==["self","alternate"].indexOf(r.rel)&&(i=r.href);else i=e.link.href||e.link;return i}function f(e){var t=e.toString?e.toString():e;return d.is(t)&&0<t.length?t:""}function g(e){return new Date(Date.parse(e)).toGMTString()}return c.Utils={adapterName:h.allowCrossOriginRequest?"Ajax":"Proxy",load:function(e,t){return t=t||this.adapterName,(e=e||{}).callback&&(e.onComplete=e.callback,delete e.callback),c.Adapter.Cache.load(e,t)},getIdFromUrl:function(e){return Math.abs(parseInt(v.getCRC32(e),10)).toString(36)},cleanFeedUrl:function(e){return e.contains("flvProxy.php")?e=v.getQueryString(e,"url"):e.contains("commeaucinemaProxy.php")?e="http://www.commeaucinema.com/rssfile.php?feed=netvibes_"+v.getQueryString(e,"id"):/^feed:\/\/(.*)/.test(e)&&(e=e.replace("feed:",""),/^http(s)?:\/\/(.*)/.test(e)||(e="http://"+e)),/^http(s)?:\/\/(.*)/.test(e)||(e=d.hosts.netvibes+e),e}},c.Adapter={Cache:{load:function(e,t){var n,i,r,s,a={},l=e.urls||[],o=[];for(n=0,i=l.length;n<i;n++)r=c.Utils.cleanFeedUrl(l[n]),(s=this.getFromCache(r))?a[r]=new c(s):o.push(r);0<o.length?(e.urls=o,c.Adapter[t].load(e,a)):d.is(e.onComplete,"function")&&e.onComplete(a)},getCache:function(){return this.data||(this.data=new n),this.data},storeInCache:function(e,t){return this.getCache().set(e,t)},getFromCache:function(e){return this.getCache().get(e)}},Proxy:{load:function(i,r){var e,t,s=0,a=i.urls||[];function n(e,t){var n={url:e,readOnly:!0,data:{title:t.title,dir:t.dir,url:t.url,link:t.link,type:t.type,items:t.items}};r[e]=new c(n),c.Adapter.Cache.storeInCache(e,n),s++,a.length===s&&d.is(i.onComplete,"function")&&i.onComplete(r)}function l(e,t){r[e]=new c({url:e,readOnly:!0,error:t}),s++,a.length===s&&d.is(i.onComplete,"function")&&i.onComplete(r)}for(r=r||{},e=0,t=a.length;e<t;e++){var o=c.Utils.cleanFeedUrl(a[e]);h.request(o,{proxy:"feed",type:"json",onComplete:n.bind(null,o),onFailure:l.bind(null,o)})}}},Ajax:{load:function(r,s){s=s||{};var e,t,a=0,l=r.urls||[];function n(e,t){var n,i=function(e,t){var n,i,r,s,a={dir:"ltr",url:t,items:[]};if((e=u.xmlToJson(e)).feed)for(d.extend(a,{title:f(e.feed.title),link:m(e.feed)}),r=0,s=(n=v.splat(e.feed.entry)).length;r<s;r++)i=n[r],a.items[r]={id:r,title:f(i.title),link:m(i),content:f(i.content),date:g(i.updated)},i["media:thumbnail"]&&i["media:thumbnail"].url&&(a.items[r].image=i["media:thumbnail"].url);else if(e["rdf:RDF"])for(e.rdf=e["rdf:RDF"],d.extend(a,{title:f(e.rdf.channel.title),link:m(e.rdf.channel)}),r=0,s=(n=v.splat(e.rss.channel.item)).length;r<s;r++)i=n[r],a.items[r]={id:r,title:f(i.title),link:m(i),content:f(i.description),date:g(i["dc:date"])},i["media:content"]&&i["media:content"].url&&(a.items[r].image=i["media:content"].url);else{if(!e.rss)throw new Error("Unable to Parse Feed using Ajax Adapter.");for(d.extend(a,{title:f(e.rss.channel.title),link:m(e.rss.channel)}),r=0,s=(n=v.splat(e.rss.channel.item)).length;r<s;r++)i=n[r],a.items[r]={id:r,title:f(i.title),link:m(i),content:f(i["content:encoded"]||i.description),date:g(i.pubDate)},"string"!=typeof a.items[r].content&&(a.items[r].content=""),i.enclosure&&(a.items[r].enclosures=[i.enclosure]),i["media:thumbnail"]&&i["media:thumbnail"].url&&(a.items[r].image=f(i["media:thumbnail"].url))}return a}(t,e);n=new c({url:e,readOnly:!0,data:i}),s[e]=new c(n),c.Adapter.Cache.storeInCache(e,n),a++,l.length===a&&d.is(r.onComplete,"function")&&r.onComplete(s)}function i(e,t){s[e]=new c({url:e,readOnly:!0,error:t}),a++,l.length===a&&d.is(r.onComplete,"function")&&r.onComplete(s)}for(e=0,t=l.length;e<t;e++){var o=c.Utils.cleanFeedUrl(l[e]);h.request(o,{method:"GET",onComplete:n.bind(null,o),onFailure:i.bind(null,o)})}}},Netvibes:{load:function(){}}},d.namespace("Services/Feed",c,d)});

define("UWA/Services/Geo",["UWA/Core","UWA/Json"],function(o,n){"use strict";function e(e){this.adapter=null;var t,i=o.Services.Geo.Adapters;if(e){if(!i[e])return new Error("Invalid UWA.Services.Geo AdapterName.");this.adapter=i[e]()}else for(t in i)if(i.hasOwnProperty(t)&&(this.adapter=i[t](),this.adapter))break}return e.prototype={getCurrentPosition:function(e,t,i){this.adapter?this.adapter.getCurrentPosition(e,t,i):o.is(t,"function")&&t(new Error("Geolocalization support not found."))}},e.Adapters={html5:function(){if(void 0!==navigator.geolocation)return{getCurrentPosition:function(t,e,i){(i=i||{}).enableHighAccuracy=!0;navigator.geolocation.getCurrentPosition(function(e){void 0!==e.latitude?t({timestamp:e.timestamp,coords:{latitude:e.latitude,longitude:e.longitude}}):t(e)},e,i)}}},freegeoip:function(){return{getCurrentPosition:function(t,e,i){i=o.merge(i||{},{server:"http://freegeoip.net/json/"});n.request(i.server,{onComplete:function(e){t({timestamp:Date.now(),coords:{latitude:e.latitude,longitude:e.longitude}})},onFailure:e})}}}},o.namespace("Services/Geo",e,o)});

define("UWA/Services/ICal",["UWA/Core","UWA/String"],function(e,o){"use strict";function t(e){this.stream=e,this.parse()}return t.prototype={stream:null,regexes:{component:"BEGIN:{0}(?:[^])*?END:{0}",multipleProperties:"\n{0}[^:]*",singleProperty:"({0})(;[^=]*=[^;:\n]*)*:([^\n]*)"},keys:{core:{version:"VERSION",prodId:"PRODID",calendarScale:"CALSCALE",method:"METHOD"},components:{event:"VEVENT",todo:"VTODO",journal:"VJOURNAL",freebusy:"VFREEBUSY"},event:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},geo:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},priority:{key:"PRIORITY",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},transparent:{key:"TRANSP",multiple:!1},url:{key:"URL",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},duration:{key:"DURATION",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0},uid:{key:"UID",multiple:!0},summary:{key:"SUMMARY",multiple:!1},dateTimeStart:{key:"DTSTART",multiple:!1},dateTimeEnd:{key:"DTEND",multiple:!1}},todo:{classification:{key:"CLASS",multiple:!1},completed:{key:"COMPLETED",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},geoPosition:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},percentComplete:{key:"PERCENT-COMPLETE",multiple:!1},priority:{key:"PRIORITY",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},due:{key:"DUE",multiple:!1},duration:{key:"DURATION",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptioRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0}},journal:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},datetimeStart:{key:"DTSTART",multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},related:{key:"RELATED",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}},freebusy:{contact:{key:"CONTACT",multiple:!1},datetimeStart:{key:"DTSTART",multiple:!1},datetimeEnd:{key:"DTEND",multiple:!1},duration:{key:"DURATION",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attendee:{key:"ATTENDEE",multiple:!0},comment:{key:"COMMENT",multiple:!0},freebusy:{key:"FREEBUSY",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}}},core:{version:"",prodId:"",calendarScale:"",method:""},components:{event:[],todo:[],journal:[],freebusy:[]},parse:function(){this.parseCoreProperties(),this.parseComponent("event"),this.parseComponent("todo"),this.parseComponent("journal"),this.parseComponent("freebusy")},parseCoreProperties:function(){var e=this.stream;this.core.version=this.parseProperty(this.keys.core.version,e),this.core.prodId=this.parseProperty(this.keys.core.prodId,e),this.core.calendarScale=this.parseProperty(this.keys.core.calendarScale,e),this.core.method=this.parseProperty(this.keys.core.method,e)},parseComponent:function(e){var t,l,i,r=this.keys,p=this.components,u=new RegExp(o.format(this.regexes.component,r.components[e]),"g");if("string"==typeof this.stream&&(i=this.stream.match(u)))for(l in i)if("string"==typeof i[l])for(t in p[e].push({}),r[e])"object"==typeof r[e][t]&&(p[e][l][t]=r[e][t].multiple?this.parseMultipleProperties(r[e][t].key,i[l]):this.parseProperty(r[e][t].key,i[l]))},parseProperty:function(e,t){var l,i,r,p,u=new RegExp(o.format(this.regexes.singleProperty,e),"g").exec(t);if(u){if(i=u[3],u[2])for(r=u[2].substr(1).split(";"),l=0;l<r.length;l++)void 0===(p=r[l].split("="))[1]&&(p[1]=p[0]),r[p[0]]=p[1];return{value:i,parameters:r}}},parseMultipleProperties:function(e,t){var l,i,r=new RegExp(o.format(this.regexes.multipleProperties,e),"g"),p=t.match(r);if(p){for(i=[],l=0;l<p.length;l++)p[l]=p[l].replace(/;.*/,""),i[i.length]=this.parseProperty(p[l]);return i}},getCalendar:function(){return{core:this.core,components:this.components}},getEvents:function(){return this.components.event},getTodoArray:function(){return this.components.todo},getJournals:function(){return this.components.journal},getFreebusys:function(){return this.components.freebusy},getCoreProperties:function(){return this.core}},e.namespace("Services/ICal",t,e)});

define("UWA/Services/Mail",["UWA/Core","UWA/Data"],function(i,t){"use strict";var e={getFromProvider:function(e,r){if(!t.proxies[e])throw new Error("Not supported UWA.Services.Mail proviver");switch(e){case"pop":case"gmail":return t.request(t.proxies[e],i.merge({method:"POST",type:"json"},r));default:i.log("invalid request type")}}};return i.namespace("Services/Mail",e,i)});

define("UWA/Services/Search",["UWA/Core","UWA/Utils","UWA/Data"],function(s,r,t){"use strict";var e={getFromProvider:function(e,a){var o,c="";switch(void 0!==a.lang&&(c+="&lang="+a.lang),void 0!==a.locale&&(c+="&locale="+a.locale),void 0!==a.mode&&(c+="&mode="+a.mode),void 0!==a.category&&(c+="&category="+a.category),void 0!==a.shop&&(c+="&shop="+a.shop),a.type){case"websearch":case"blogsearch":case"imagesearch":case"videosearch":case"podcastsearch":case"shoppingsearch":case"opensearch":return o=s.hosts.netvibes+"/data/"+a.type+"/?q="+r.encodeUrl(a.query)+"&engine="+r.encodeUrl(e)+c,t.request(o,{method:"GET",type:"json",onComplete:a.onComplete});default:s.log("invalid request type")}}};return s.namespace("Services/Search",e,s)});

define("UWA/Services/Upload",["UWA/Core","UWA/Utils","UWA/Class","UWA/Class/Options","UWA/Json"],function(s,n,t,e,i){"use strict";var o=t.extend(e,{intervalId:null,timeoutId:null,defaultOptions:{isUploadSuccess:function(t){return"uploaded"===t.status},isUploadFailed:function(t){return"failed"===t.status},formElement:"undefined",onUpload:"",onUploadSuccess:"",onUploadFailed:"",frameIdPrefix:"",timeout:1e4,polling:1e3,urls:{statusScript:"",uploadScript:""}},init:function(e){this.setOptions(e),this.options.formElement=s.extendElement(e.formElement);var t=this.buildIframe();this.buildFormRequirements(t),this.options.formElement.addEvent("submit",function(t){void 0!==e.urls.statusScript&&this.setTimer(t),this.options.onUpload()}.bind(this,t))},buildIframe:function(){var t=this.options,e=t.frameIdPrefix+n.random(1,1e5),i=s.createElement("div"),o=!1;return s.createElement("iframe",{src:"about:blank",id:e,name:e,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(i).addEvent("load",function(){o&&t.onUploadSuccess(),o=!0}),document.body.appendChild(i),e},buildFormRequirements:function(t){var e=this.options.formElement;e.setAttributes({target:t,method:"post",enctype:"multipart/form-data",action:this.options.urls.uploadScript}),s.createElement("input",{type:"hidden",name:"frameId",value:t}).inject(e)},setTimer:function(t){this.intervalId=setInterval(this.checkStatus.bind(this,t),this.options.polling),this.timeoutId=setTimeout(function(){clearInterval(this.intervalId),this.options.onUploadFailed({status:"failed",details:{errors:{TimeoutError:"Upload timeout after "+this.options.timeout+"ms."}}})}.bind(this),this.options.timeout)},checkStatus:function(t){i.request(this.options.urls.statusScript+"?format=jsonp&frameId="+t,{onComplete:function(t){if(this.options.isUploadSuccess(t))this.options.onUploadSuccess(t);else{if(!this.options.isUploadFailed(t))return;this.options.onUploadFailed(t)}clearTimeout(this.timeoutId),clearInterval(this.intervalId)}.bind(this)})}});return s.namespace("Services/Upload",o,s)});

define("UWA/Storage/Adapter/Air",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Air",limit:65536,connect:function(t){this.database=t,this.db=null,this.storage.isReady=!0},isAvailable:function(){return void 0!==window.air},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){this.interruptAccess();var e=air.EncryptedLocalStore.getItem(this.getKey(t));if(null!=e)return String(e)},set:function(t,e){this.interruptAccess();var r=new air.ByteArray;return r.writeUTFBytes(e),air.EncryptedLocalStore.setItem(this.getKey(t),r),e},rem:function(t){this.interruptAccess();var e=this.get(t);return air.EncryptedLocalStore.removeItem(this.getKey(t)),e}});return t.namespace("Storage/Adapter/Air",r,t)});

define("UWA/Storage/Adapter/Android",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var r=e.extend({type:"Android",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return!!jsProxy},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return jsProxy.getData(this.getKey(t))},set:function(t,e){return this.interruptAccess(),jsProxy.setData(this.getKey(t),e),this.get(t)},rem:function(t){this.interruptAccess();var e=this.get(t);return jsProxy.setData(this.getKey(t),null),e}});return t.namespace("Storage/Adapter/Android",r,t)});

define("UWA/Utils/Cookie",["UWA/Core"],function(e){"use strict";var t,n,o={},r=window.document,i="nv.",a=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),c=null,u=null;function s(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?a:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e}function d(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,o=e.substr(0,t);try{n=decodeURIComponent(o)}catch(e){throw new Error('Could not decode cookie with key "'+o+'" ['+e+"]")}return{key:n,value:e.substr(t+1)}}function p(){c=function(e){for(var t={},n=e?e.split("; "):[],o=0;o<n.length;o++){var r=d(n[o]);void 0===t[i+r.key]&&(t[i+r.key]=r.value)}return t}(r.cookie),u=r.cookie}return o.defaults={path:"/",secure:!1},o.get=function(e){u!==r.cookie&&p();var t=c[i+e];return void 0===t?void 0:decodeURIComponent(t)},o.getAll=function(){u!==r.cookie&&p();var e={};for(var t in c)e[t.slice(i.length)]=decodeURIComponent(c[t]);return e},o.set=function(e,t,n){return(n=function(e){return{path:e&&e.path||o.defaults.path,domain:e&&e.domain||o.defaults.domain,expires:e&&e.expires||o.defaults.expires,secure:e&&void 0!==e.secure?e.secure:o.defaults.secure}}(n)).expires=s(void 0===t?-1:n.expires),r.cookie=function(e,t,n){var o=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return o+=(n=n||{}).path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",o+=n.secure?";secure":""}(e,t,n),o},o.expire=function(e,t){return o.set(e,void 0,t)},o.enabled=(t="cookie.js",n="1"===o.set(t,1).get(t),o.expire(t),n),e.namespace("Utils/Cookie",o,e)});

define("UWA/Storage/Adapter/Cookies",["UWA/Core","UWA/String","UWA/Utils","UWA/Utils/Cookie","UWA/Storage/Adapter/Abstract"],function(t,e,n,s,i){"use strict";var o=i.extend({type:"Cookies",limit:4096,defaultOptions:{path:"/",duration:100,expires:864e4,secure:!1,domain:""},init:function(t,e){var i=n.parseUrl(window.location);this.defaultOptions={domain:-1!==["80","443"].indexOf(i.port)&&i.domain,secure:"https"===i.protocol},this._parent(t,e),this.options.duration&&(this.options.expires=86400*this.options.duration,delete this.options.duration)},connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return s.enabled},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return this.interruptAccess(),s.get(t)},set:function(t,e){var i=this.options;return this.interruptAccess(),s.set(t,e,i)},rem:function(t){this.interruptAccess();var e=this.options,i=this.get(t);return s.expire(this.getKey(t),e),i}});return t.namespace("Storage/Adapter/Cookies",o,t)});

define("UWA/Storage/Adapter/CouchDB",["UWA/Core","UWA/Data","UWA/Json","UWA/Storage/Adapter/Abstract"],function(i,n,r,t){"use strict";var e=t.extend({type:"CouchDB",limit:0,defaultOptions:{host:!1},connect:function(t){return this.database=t,n.request(this.options.host+"/"+this.database,{method:"GET",type:"json",async:!1,onComplete:function(t){t.error||(this.available=t,this.storage.isReady=!0)}.bind(this)}),this.available},isAvailable:function(){return this.available},normalizeKey:function(t){return"_keysIndex"===t?"keysIndex":"_lastUpdate"===t?"lastUpdate":t},request:function(t,e,a){var s={method:t,type:"json",async:!1};return a=i.merge(s,a),n.request(e,a)},get:function(e){var t,a;return this.interruptAccess(),e=this.normalizeKey(e),this.data[e]={value:void 0},t=this.options.host+"/"+this.database+"/"+e,a={onComplete:function(t){t.error||(this.data[e]=t)}.bind(this)},this.request("GET",t,a),this.data[e].value},set:function(e,t){var a,s;return this.interruptAccess(),e=this.normalizeKey(e),void 0===this.data[e]?this.data[e]={value:t}:this.data[e].value=t,a=this.options.host+"/"+this.database+"/"+e,s={data:r.encode(this.data[e]),onComplete:function(t){t.error||(this.data[e]=t)}.bind(this)},this.request("PUT",a,s),this.data[e].value},rem:function(e){var t,a,s;return this.interruptAccess(),t=this.get(e),e=this.normalizeKey(e),a=this.options.host+"/"+this.database+"/"+e+"?rev="+this.data[e]._rev,s={data:r.encode(this.data[e]),onComplete:function(t){t.error||(this.data[e]=t)}.bind(this)},this.request("DELETE",a,s),t}});return i.namespace("Storage/Adapter/CouchDB",e,i)});

define("UWA/Storage/Adapter/Dashboard",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(e,t){"use strict";var r=t.extend({type:"Dashboard",limit:65536,connect:function(e){this.database=e,this.storage.isReady=!0},isAvailable:function(){return window.widget&&window.widget.preferenceForKey},getKey:function(e){return window.widget?window.widget.identifier+"-"+this.database+"-"+e:e},get:function(e){this.interruptAccess();var t=window.widget.preferenceForKey(this.getKey(e));if(null!==t&&""!==t)return t},set:function(e,t){return this.interruptAccess(),window.widget.setPreferenceForKey(t,this.getKey(e))},rem:function(e){this.interruptAccess();var t=this.get(e);return this.set(e,null),t}});return e.namespace("Storage/Adapter/Dashboard",r,e)});

define("UWA/Storage/Adapter/Dom",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";function o(t){var e=!1;try{t.setItem("uwa-test",1),t.removeItem("uwa-test"),e=!0}catch(t){}return e}var a=e.extend({type:"Dom",limit:5242880,connect:function(t){this.database=t,window.localStorage||window.globalStorage?this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage:window.sessionStorage&&(this.db=window.sessionStorage),this.storage.isReady=!0},isAvailable:function(){return!!window.sessionStorage&&o(window.sessionStorage)||!(!window.localStorage&&!window.globalStorage)&&o(window.globalStorage?window.globalStorage[location.hostname]:window.localStorage)},get:function(t){this.interruptAccess();var e=this.db.getItem(this.database+"-"+t);return(e&&void 0!==e.value?e.value:e)||void 0},set:function(t,e){return this.interruptAccess(),this.db.setItem(this.database+"-"+t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.removeItem(this.database+"-"+t),e}});return t.namespace("Storage/Adapter/Dom",a,t)});

define("UWA/Storage/Adapter/Flash",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var a=e.extend({type:"Flash",limit:5242880,connect:function(t){this.database=t,this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage,this.storage.isReady=!0},isAvailable:function(){return!!this.hasFlash("8.0.0")},get:function(t){this.interruptAccess();var e=this.db.f_get_cookie(t);return"null"===e?null:e},set:function(t,e){return this.interruptAccess(),this.db.f_set_cookie(t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.f_delete_cookie(t),e},hasFlash:function(t){var e,a=this.flashVersion().match(/\d+/g),r=t.match(/\d+/g);for(e=0;e<3;e++){if(a[e]=parseInt(a[e]||0,10),r[e]=parseInt(r[e]||0,10),a[e]<r[e])return!1;if(a[e]>r[e])return!0}return!0},flashVersion:function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"}});return t.namespace("Storage/Adapter/Flash",a,t)});

define("UWA/Storage/Adapter/Html5",["UWA/Core","UWA/Storage/Adapter/Object","UWA/Internal/Deprecate"],function(e,t,r){"use strict";var a=t.extend({type:"Html5",connect:function(e){r.warn("UWA/Storage/Adapter/Html5","Use WebSQL directly if you really need to."),this._parent(e)}});return e.namespace("Storage/Adapter/Html5",a,e)});

define("UWA/Storage/Adapter/IE",["UWA/Core","UWA/Utils/Client","UWA/Storage/Adapter/Abstract"],function(t,e,i){"use strict";function s(t){var e=document.createElement("div");return e.id="uwa-"+t,e.style.display="none",e.style.behavior="url('#default#userData')",document.documentElement.appendChild(e),e}var a=i.extend({type:"IE",limit:65536,connect:function(t){this.database="uwa-data-storage-"+t,this.db=s(this.database),this.storage.isReady=!0},isAvailable:function(){var t,e,i="testStorage",a=!1;if(window.ActiveXObject){try{e=(new Date).getTime(),(t=s(i)).hasOwnProperty("save")&&(t.setAttribute(i,e),t.save(i),t.load(i),t.getAttribute(i)),a=!0}catch(t){}!function(t){document.documentElement.removeChild(t)}(t)}return a},getKey:function(t){return null!==(t=String(t)).match(/^\d/)&&(t="X"+t),t.toUpperCase()},get:function(t){return this.interruptAccess(),this.db.load(this.database),this.db.getAttribute(this.getKey(t))||void 0},set:function(t,e){return this.interruptAccess(),this.db.setAttribute(this.getKey(t),e),this.db.save(this.database),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.removeAttribute(this.getKey(t)),this.db.save(this.database),e}});return t.namespace("Storage/Adapter/IE",a,t)});

define("UWA/Storage/Adapter/IGoogle",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(e,t){"use strict";var n=t.extend({type:"IGoogle",limit:0,connect:function(t){this.database=t,e.Event.onDomReady(function(){this.db=new window._IG_Prefs,this.storage.isReady=!0}.bind(this))},isAvailable:function(){return window._IG_Prefs},getKey:function(t){return t},get:function(t){return this.db.getString(this.getKey(t))},set:function(t,e){return this.interruptAccess(),this.db.set(this.getKey(t),e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.set(this.getKey(t),null),e}});return e.namespace("Storage/Adapter/IGoogle",n,e)});

define("UWA/Storage/Adapter/IndexDb",["UWA/Core","UWA/Storage/Adapter/Abstract","UWA/Utils/Client"],function(e,t,a){"use strict";var n=t.extend({type:"IndexDb",limit:204800,connect:function(e){var t,n=this;n.indexedDB=a.getVendorProperty(window,"indexedDB"),n.IDBTransaction=a.getVendorProperty(window,"IDBTransaction"),n.IDBKeyRange=a.getVendorProperty(window,"IDBKeyRange"),n.database=e,n.db=t=n.indexedDB.open("uwa-data-storage-"+n.database,1),t.onerror=function(){},t.onsuccess=function(){},this.updateCache()},updateCache:function(){this.storage.isReady=!0},isAvailable:function(){return window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB},get:function(e){return this.interruptAccess(),this.data[e]||void 0},set:function(e,t){return this.data[e]=t,this.updateCache(),t},rem:function(e){this.interruptAccess();var t=this.get(e);return delete this.data[e],this.updateCache(),t}});return e.namespace("Storage/Adapter/IndexDb",n,e)});

define("UWA/Storage/Adapter/Opera",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(e,t){"use strict";var r=t.extend({type:"Dashboard",limit:65536,connect:function(e){this.database=e,this.storage.isReady=!0},isAvailable:function(){return window.widget&&window.widget.preferences&&window.widget.preferences.getItem},getKey:function(e){return"uwa-"+this.database+"-"+e},get:function(e){this.interruptAccess();var t=window.widget.preferences.getItem(this.getKey(e));if(null!==t&&""!==t)return t},set:function(e,t){return this.interruptAccess(),window.widget.preferences.setItem(t,this.getKey(e))},rem:function(e){this.interruptAccess();var t=this.get(e);return this.set(e,null),t}});return e.namespace("Storage/Adapter/Opera",r,e)});

define("UWA/Storage/Adapter/Vista",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var i=e.extend({type:"Vista",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return System&&System.Gadget&&System.Gadget.Settings},getKey:function(t){return"uwa-"+this.database+"-"+t},get:function(t){return System.Gadget.Settings.read(this.getKey(t))||void 0},set:function(t,e){return this.interruptAccess(),System.Gadget.Settings.write(this.getKey(t),e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return System.Gadget.Settings.write(this.getKey(t),void 0),e}});return t.namespace("Storage/Adapter/Vista",i,t)});

define("UWA/Storage/Adapter/WebOs",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var n=e.extend({type:"WebOs",limit:0,connect:function(t){this.database=t,this.storage.isReady=!0},isAvailable:function(){return!!Mojo},getKey:function(t){return new Mojo.Model.Cookie("uwa-"+this.database+"-"+t)},get:function(t){return this.getKey(t).get()},set:function(t,e){return this.interruptAccess(),this.getKey(t).put(e),this.get(t)},rem:function(t){this.interruptAccess();var e=this.get(t);return this.getKey(t).put(null,new Date),e}});return t.namespace("Storage/Adapter/WebOs",n,t)});

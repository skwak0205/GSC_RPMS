define("DS/MPFStepProgressBarComponent/StepProgressBarComponent",["UWA/Class/View","UWA/Core","DS/MPFView/GuidanceHelper","css!DS/MPFStepProgressBarComponent/MPFStepProgressBarComponent"],function(t,e,s){"use strict";return t.extend({className:"mpf-step-progress-bar",setup:function(t){t||(t={}),this._parent(t),this.steps=t.steps||[],this.activeStep=t.activeStep||0,this.infoSteps=t.infoSteps||[],this.isVertical=!0===t.isVertical},render:function(){return this.isVertical?this.container.addClassName("vertical"):this.container.removeClassName("vertical"),this.container.setContent([this._buildStepItems(),this._buildProgressBarContainer(this._buildFilledProgressBar(),this._buildEmptyProgressBar())]),this},setVertical:function(t){this.isVertical=!1!==t,this.render()},setHorizontal:function(){this.setVertical(!1)},_buildProgressBarContainer:function(t,s){var i,r=100/this.steps.length;return i=e.createElement("div",{class:"progress-bar-container",html:[t,s]}),this.isVertical||(i.setStyle("margin","0px "+(r/2).toString()+"%"),i.setStyle("width",100-r+"%")),i},_buildEmptyProgressBar:function(){var t;t=e.createElement("div",{class:"progress-bar"});var s=this.isVertical?"height":"width";return t.setStyle(s,"100%"),t},_buildFilledProgressBar:function(){var t,s;t=e.createElement("div",{class:"progress-bar fill"}),s=100/(this.steps.length-1)*this.activeStep;var i=this.isVertical?"height":"width";return t.setStyle(i,s.toString()+"%"),t},_buildStepItems:function(){var t,i,r=this,n=[];this.isVertical||(i=100/this.steps.length);return this.steps.forEach(function(o,a){t=e.createElement("div",{class:a<=r.activeStep?"step-item active":"step-item",html:[e.createElement("div",{class:"step-name",text:o}),e.createElement("div",{class:"step-icon"})]}),r.isVertical||t.setStyle("width",i.toString()+"%"),e.is(r.infoSteps[a])&&""!==r.infoSteps[a]&&new s({target:t,content:r.infoSteps[a]}),n.push(t)}),e.createElement("div",{class:"steps",html:n})}})}),define("DS/MPFStepProgressBarComponent/CartStepProgressBarComponent",["DS/MPFStepProgressBarComponent/StepProgressBarComponent","DS/MPFServices/ObjectService","DS/MPFCartModel/CartModel","i18n!DS/MPFStepProgressBarComponent/assets/nls/CartStepProgressBarComponent"],function(t,e,s,i){"use strict";var r={SUBMITTED:"SUBMITTED",WAITING_PAYMENT:"WAITING_PAYMENT",PAID:"PAID",PROCESSING:"PROCESSING",READY:"READY",SHIPPED:"SHIPPED",DELIVERED:"DELIVERED"};return t.extend({setup:function(t){t||(t={}),e.requiredOfPrototype(t.cart,s,"options.cart must be a CartModel"),this.cart=t.cart,this.isShippingActivated=!0===t.isShippingActivated,this.isShipTo=""!==this.cart.get("ShipTo"),t.steps=this._getSteps(),t.activeStep=this._getActiveStep(t.steps),t.infoSteps=this._getStepDescription(),this._parent(t)},_getActiveStep:function(t){return t.indexOf(i.get(this.cart.getGlobalState().toLowerCase()))},_getSteps:function(){var t;return t=[i.get(r.SUBMITTED.toLowerCase()),i.get(r.WAITING_PAYMENT.toLowerCase()),i.get(r.PAID.toLowerCase()),i.get(r.PROCESSING.toLowerCase())],this.isShippingActivated&&t.push(this.isShipTo?i.get(r.SHIPPED.toLowerCase()):i.get(r.READY.toLowerCase())),t.push(i.get(r.DELIVERED.toLowerCase())),t},_getStepDescription:function(){var t;return t=[i.get("submittedInfo"),i.get("waitingPaymentInfo"),i.get("paidInfo"),i.get("processingInfo")],this.isShippingActivated&&t.push(this.isShipTo?i.get("shippedInfo"):i.get("readyInfo")),t.push(i.get("deliveredInfo")),t}})});
define("DS/ENOCollabToolsUI/tracker/ENOCollabTracker",["UWA/Class","DS/Usage/TrackerAPI"],function(e,t){"use strict";return e.singleton({init:function(){this.ENOLCMI_AP="ENOLCMI_AP",this.UXAction="UXAction",this.init="init",this.validation="validation",this.unknownApp="unknownApp",this.unknownPlatform="unknownPlatform",this.success="success",this.failure="failure",this.multiType="multiType"},checkAndTrackPageEvent:function(e){this._checkEvent(e)&&this._trackPageEvent(e)},createInitActionEvent:function(e){var t=this._create_UUID(),n=this._getCurrentAppId(),i=this._getPlatformId(),l=null,r=null;return e.numberObjects?l=e.numberObjects:e.models&&(l=e.models.length,r=this._getTypeFromModels(e.models)),{eventCategory:this.UXAction,eventLabel:e.UXName?e.UXName:null,eventAction:this.init,eventValue:null,appID:this.ENOLCMI_AP,tenant:i,persDim:{pd1:e.actionStatus?e.actionStatus:this.success,pd2:t,pd3:n,pd4:r,pd8:e.serviceName?e.serviceName:null,pd9:e.serviceAnswer?e.serviceAnswer:null},persVal:{pv1:l,pv2:1,pv8:e.serviceTime?e.serviceTime:null}}},createValidationEventFromEvent:function(e,t){var n=null,i=null;return t.numberObjects?n=t.numberObjects:t.models&&(n=t.models.length,i=this._getTypeFromModels(t.models)),{eventCategory:this.UXAction,eventLabel:e.eventLabel,eventAction:this.validation,eventValue:null,appID:this.ENOLCMI_AP,tenant:e.eventLabel,persDim:{pd1:t.actionStatus?t.actionStatus:this.success,pd2:e.persDim.pd2,pd3:e.persDim.pd3,pd4:i,pd8:t.serviceName?t.serviceName:null,pd9:t.serviceAnswer?t.serviceAnswer:null},persVal:{pv1:n,pv2:e.persVal.pv2+1,pv8:t.serviceTime?t.serviceTime:null}}},_trackPageEvent:function(e){console.log("ENOCollabTracker _trackePageEvent"),t.trackPageEvent(e)},_create_UUID:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})},_getCurrentAppId:function(){if("undefined"!=typeof widget&&null!==widget){if(widget.getValue("parent_x3dAppId"))return widget.getValue("parent_x3dAppId");if(widget.getValue("x3dAppId"))return widget.getValue("x3dAppId");if(widget.getValue("appId"))return widget.getValue("appId")}return this.unknownApp},_getPlatformId:function(){return"undefined"!=typeof widget&&null!==widget&&widget.getValue("x3dPlatformId")?widget.getValue("x3dPlatformId"):this.unknownPlatform},_getTypeFromModels:function(e){var t=null,n=this;return e.forEach(function(e){e.type&&null==t?t=e.type:e.type&&e.type!=t&&(t=n.multiType)}),t},_checkEvent:function(e){return!!(e&&e.eventLabel&&null!=e.eventLabel&&e.tenant&&null!=e.tenant&&e.persDim&&e.persDim.pd1&&null!=e.persDim.pd1&&e.persDim.pd3&&null!=e.persDim.pd3&&e.persDim&&e.persVal.pv1&&null!=e.persVal.pv1)||(console.log("ENOCollabTracker _checkEvent  - failure - incorrect event"),!1)}})}),define("DS/ENOCollabToolsUI/ENOCollabToolsUI",[],function(){return{}});
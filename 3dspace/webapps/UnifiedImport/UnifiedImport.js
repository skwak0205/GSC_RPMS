define("DS/UnifiedImport/views/FilesView",["DS/DataGridView/DataGridView"],e=>{return{datagrid:function(t){var n=new e({treeDocument:t,columns:[{text:"File",dataIndex:"fileCard",typeRepresentation:"detailedInfo",editableFlag:!1,autoRowHeightFlag:!0},{text:"Status",dataIndex:"status",allowUnsafeHTMLContent:!0,width:"50px"}]});return n.layout.columnHeaderHeight=35,n.layout.cellHeight=40,n.rowSelection="multiple",n.columnSelection="none",n.cellSelection="none",n.layout.collectionView.showAlternateBackgroundFlag=!1,n.layout.columnsHeader=!1,n.layout.rowsHeader=!1,n.showRowIndexFlag=!1,n.showSelectionCheckBoxesFlag=!0,n.layout.collectionView.showRowBorderFlag=!0,n}}}),define("DS/UnifiedImport/utils/Essentials",["UWA/Class","DS/Utilities/UUID","DS/WAFData/WAFData","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","text!DS/UnifiedImport/assets/config/UnifiedImport.json","i18n!DS/UnifiedImport/assets/nls/UnifiedImportNLS"],(e,t,n,i,o,s)=>{UWA.i18n(s);let r=require.toUrl("");return r=r.substr(0,r.lastIndexOf("?")),e.singleton({DEPLOYMENT:"/webapps",APP_TITLE_MAIN:"Engineering Import",APP_TITLE_CONTENT_IMPORTED:"Imported Content",SERVICE_DFS:"distributedfilestore",SERVICE_3DSPACE:"3DSpace",URL_BASE:r,URL_SECURITY_CONTEXT:"/resources/pno/person/getsecuritycontext",URL_FCS:"/fcs/servlet/fcs/checkin",HEADERS_DEFAULT:{},LANG:window.widget?window.widget.lang:"en",EVENT_CONTENT:"content",EVENT_CONTENT_SELECTED:"contentselected",EVENT_CONTENT_ANALYZED:"contentanalyzed",EVENT_LOAD_METHOD_SUCCEEDED:"loadmethodsucceeded",EVENT_METHOD_FOUND:"methodfound",EVENT_METHODS_FOUND:"methodsfound",EVENT_NO_METHOD_FOUND:"nomethodfound",EVENT_LOAD_METHOD_FAILED:"loadmethodfailed",EVENT_NEW_IMPORT:"newimport",EVENT_CONTENT_APPROVED:"contentapproved",EVENT_CONTENT_PARTIALLY_APPROVED:"contentpartiallyapproved",EVENT_CONTENT_DISAPPROVED:"contentdisapproved",EVENT_CHECKIN_URL_FOUND:"checkinurlfound",EVENT_START_CHECKIN:"startcheckin",EVENT_CHECKIN_SUCCEEDED:"checkinsucceeded",EVENT_CHECKIN_FAILED:"checkinfailed",EVENT_CONTENT_UPLOADED:"contentuploaded",EVENT_START_EXCHANGE:"startexchange",EVENT_EXCHANGE_REQUEST_SUCCEEDED:"exchangerequestsucceeded",EVENT_EXCHANGE_REQUEST_FAILED:"exchangerequestfailed",EVENT_EXCHANGE_CANCEL:"exchangecancel",NOTIFICATIONS:{INVALID_METHOD:1,CONTENT_DISAPPROVED:2,PROCESS_SUCCEEDED:3,PROCESS_FAILED:4,CHECKIN_FAILED:5},MAX_FILE_SIZE_GB:1,MAX_CONTENT_SIZE_GB:5,init:function(){let e=this;e.getPlatformServices().then(e.getSecurityContext.bind(null,e)),e.getGrantedRoles().then(e.methods.bind(null,e))},getPlatformServices:function(){let e=this;return new UWA.Promise(function(t,n){i.getPlatformServices({onComplete:e.postGetPlatformServices.bind(null,e,t)})})},postGetPlatformServices:function(e,t,n){let i=n.find(function(e){return e.platformId==widget.environment.getAllData().x3dPlatformId});i||(i=n[0]),e.PLATFORM_SERVICES=i,t()},getSecurityContext:function(e){return new UWA.Promise(function(t,i){n.authenticatedRequest(e.PLATFORM_SERVICES["3DSpace"]+e.URL_SECURITY_CONTEXT,{method:"GET",type:"json",proxy:"passport",onComplete:e.postGetSecurityContext.bind(null,e,t)})})},postGetSecurityContext:function(e,t,n){e.SECURITY_CONTEXT=n.SecurityContext,t()},getGrantedRoles:function(){var e=this;return new UWA.Promise(function(t,n){i.getGrantedRoles(e.postGetGrantedRoles.bind(null,e,t))})},postGetGrantedRoles:function(e,t,n){e.GRANTED_ROLES=n,t()},methods:function(e){e.METHODS=JSON.parse(o),e.METHODS_PREDICTABLE=[],e.METHODS_UNPREDICTABLE=[],e.METHODS.forEach(t=>{e.GRANTED_ROLES.some(function(e){return t.roles.indexOf(e.id)>-1})&&(t.import.validate&&t.import.validate.methodIdentifier?e.METHODS_PREDICTABLE.push(t):e.METHODS_UNPREDICTABLE.push(t))})},unique:function(){return t.v4().substring(0,10).replaceAll("-","")},noop:function(){},formatBytes:function(e,t=2){if(!+e)return"0 Bytes";const n=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,i)).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}`}})}),define("DS/UnifiedImport/views/DragZone",["UWA/Class/View","DS/Controls/Toolbar","DS/Controls/Button","DS/UnifiedImport/utils/Essentials"],(e,t,n,i)=>{let o;return e.extend({__private__:{}},{className:"unifiedimport-dragzone",setup:function(e){this.treeDocument=e.treeDocument,this.setupDragText(),this.setupToolbar(),this.setupEvents()},setupToolbar:function(){var e=this;e.__private__.toolbar=new t({}),e.__private__.toolbar.inject(e.container),e.__private__.browseFile=UWA.createElement("input",{class:"unifiedimport-dragzone-input-file",type:"file",multiple:!0}),e.__private__.btnBrowseFiles=new n({label:UWA.i18n("unifiedImport.action.filesOnDisk")}),e.__private__.browseFolder=UWA.createElement("input",{class:"unifiedimport-dragzone-input-folder",type:"file",webkitdirectory:!0}),e.__private__.btnBrowseFolder=new n({label:UWA.i18n("unifiedImport.action.folderOnDisk")}),e.__private__.toolbar.add("element",{element:e.__private__.btnBrowseFiles.getContent(),position:"center"}),e.__private__.toolbar.add("element",{element:e.__private__.btnBrowseFolder.getContent(),position:"center"})},setupDragText:function(){(o=UWA.createElement("div",{class:"unifiedimport-dragzone-drageheretext",text:UWA.i18n("unifiedImport.action.info.browseContent")})).inject(this.container)},setupEvents:function(){var e=this;e.__private__.btnBrowseFiles.addEventListener("click",function(){e.__private__.browseFile.click()}),e.__private__.browseFile.addEventListener("change",e.change.bind(null,e)),e.__private__.btnBrowseFolder.addEventListener("click",function(){e.__private__.browseFolder.click()}),e.__private__.browseFolder.addEventListener("change",e.change.bind(null,e))},change:function(e,t){e.treeDocument._modelEvents.publish({event:i.EVENT_CONTENT_SELECTED,data:t.dataTransfer?t.dataTransfer.items:t.currentTarget.files})}})}),define("DS/UnifiedImport/views/PotentialMethods",["UWA/Class/View","DS/UIKIT/Input/Select","DS/UnifiedImport/utils/Essentials"],(e,t,n)=>{var i,o;return e.extend({__private__:{}},{className:"unifiedimport-potential-methods",setup:function(e){i=o=void 0,this.treeDocument=e.treeDocument,(i=UWA.createElement("div",{class:"form-group"})).hide(),i.inject(this.container),this.setupEvents()},setupEvents:function(){var e=this;e.treeDocument._modelEvents.subscribe({event:n.EVENT_METHODS_FOUND},e.methodsFound.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:n.EVENT_METHOD_FOUND},e.methodFound.bind(null,e))},methodsFound:function(e,t){e.uikitSelect(t)},methodFound:function(e,t){(t=UWA.clone(t)).selected=!0,e.uikitSelect([t]).disable()},uikitSelect:function(e){return o||(this.__private__.methods=e,i.show(),UWA.createElement("label",{text:UWA.i18n("unifiedImport.header.title.importMethod")}).inject(i),(o=new t({options:e.map(e=>e),placeholder:UWA.i18n("unifiedImport.header.title.placeholder.chooseMethod")})).inject(i),o.getContent().addEventListener("change",this.methodSelected.bind(null,this))),o},methodSelected:function(e,t){t.target.disabled=!0;var i=t.target.selectedIndex-1;e.treeDocument._modelEvents.publish({event:n.EVENT_METHOD_FOUND,data:e.__private__.methods[i]})}})}),define("DS/UnifiedImport/views/Header",["UWA/Class/View","DS/Controls/ProgressBar","DS/UnifiedImport/utils/Essentials"],(e,t,n)=>e.extend({tagName:"div",className:"unifiedimport-header",setup:function(e){this.treeDocument=e.treeDocument,this.setupProgress(),this.setupEvents()},setupProgress:function(){this.progressbar=new t({displayStyle:"lite"}),this.progressbar.inject(this.container)},setupEvents:function(){var e=this;e.treeDocument._modelEvents.subscribe({event:n.EVENT_CHECKIN_SUCCEEDED},e.checkinSucceeded.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:n.EVENT_CHECKIN_FAILED},e.checkinFailed.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:n.EVENT_START_EXCHANGE},e.startExchange.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:n.EVENT_EXCHANGE_REQUEST_SUCCEEDED},e.exchangeRequestSucceeded.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:n.EVENT_EXCHANGE_REQUEST_FAILED},e.exchangeRequestSucceeded.bind(null,e))},checkinSucceeded:function(e,t){e.show();var n=t.totalCheckedInNodes/t.totalNodes*100;e.progressbar.value=n},checkinFailed:function(e){e.hide()},startExchange:function(e,t){e.progressbar.infiniteFlag=!0},exchangeRequestSucceeded:function(e,t){e.hide()},exchangeRequestFailed:function(e,t){e.hide()}})),define("DS/UnifiedImport/models/FileTreeDocument",["DS/WAFData/WAFData","DS/Tree/TreeDocument","DS/TreeModel/TreeNodeModel","DS/Controls/ProgressBar","DS/UnifiedImport/utils/Essentials"],(e,t,n,i,o)=>t.extend({__private__:{},toNodes:function(e,t){e.validNodes=[],e.invalidNodes=[],e.totalCheckedInNodes=0,e._modelEvents.subscribe({event:o.EVENT_METHOD_FOUND},e.methodFound.bind(null,e)),e._modelEvents.subscribe({event:o.EVENT_CONTENT_APPROVED},e.contentApproved.bind(null,e)),e._modelEvents.subscribe({event:o.EVENT_CHECKIN_SUCCEEDED},e.checkinSucceeded.bind(null,e)),e._modelEvents.subscribe({event:o.EVENT_CHECKIN_FAILED},e.checkinFailed.bind(null,e));var i=new Set,s=t.length,r=performance.now(),a={iconName:"doc",fontIconSize:"2x"};e.prepareUpdate();for(let r=0;r<s;r++){var d=t[r],l=d.name,c=d.name.substring(d.name.lastIndexOf(".")+1,d.name.length);c=c.toLowerCase(),i.add(c);var u=new n({grid:{status:null,extension:c,fileCard:{icon:a,label:l,subLabel:o.formatBytes(d.size)}}});u.fileAssociated=d,e.addRoot(u)}e.pushUpdate();var E=performance.now();console.log("Build Tree Document - "+(E-r)),e.defaultMethod(Array.from(i))},defaultMethod:function(e){var t=o.METHODS_PREDICTABLE.find(t=>e.some(e=>t.import.validate.methodIdentifier.includes(e)));(t=t||(o.METHODS_UNPREDICTABLE.length>0?o.METHODS_UNPREDICTABLE:void 0))?(this._modelEvents.publish({event:o.EVENT_NEW_IMPORT}),"array"==UWA.typeOf(t)?this._modelEvents.publish({event:o.EVENT_METHODS_FOUND,data:t}):this._modelEvents.publish({event:o.EVENT_METHOD_FOUND,data:t})):this._modelEvents.publish({event:o.EVENT_NO_METHOD_FOUND})},methodFound:function(e,t){e.__private__.method=t,t.import.options&&(e.switchBaseUrl(t),require([t.import.options],t=>{e.validate=t.validate?t.validate:null,e.upload=t.upload?t.upload:null,e.transform=t.transform?t.transform:null,e.validateByImporter()},t=>{e._modelEvents.publish({event:o.EVENT_LOAD_METHOD_FAILED})}))},validateByImporter:function(){var e=this,t=e.validate,n=t&&t.extensions,i=e.getRoots();if(n){var s=UWA.createElement("div",{class:"wux-ui-3ds wux-ui-3ds-attention",styles:{background:"#EA4F37",color:"white",padding:5,borderRadius:"50%"}}),r=performance.now();e.prepareUpdate(),i.forEach(t=>{n.includes(t.options.grid.extension)?e.validNodes.push(t):(e.invalidNodes.push(t),t.updateOptions({grid:{invalidated:!0,status:s.outerHTML}}))}),e.pushUpdate();var a=performance.now();console.log("ValidateByImporter - "+(a-r))}else e.validNodes=i;e._modelEvents.publish({event:o.EVENT_CONTENT_ANALYZED,data:{validNodes:e.validNodes,invalidNodes:e.invalidNodes}});var d=e.validNodes.length,l=e.invalidNodes.length;d&&l||d?e._modelEvents.publish({event:o.EVENT_CONTENT_APPROVED}):l&&e._modelEvents.publish({event:o.EVENT_CONTENT_DISAPPROVED,data:e.invalidNodes})},contentApproved:function(e){var t=new i({shape:"circular",infiniteFlag:!0,displayStyle:"lite",emphasize:"info",height:25});e.prepareUpdate(),e.validNodes.forEach(e=>{e.updateOptions({grid:{status:t.getContent().outerHTML}})}),e.pushUpdate();var n=e.validNodes.length,s=[],r=[];for(let t=0;t<n;t++){var a=e.validNodes[t];a.fileAssociated.size;s.push(a);var d=s;s=[],0;var l=new UWA.Promise(e.upload.checkin.bind(null,d,{platformServices:o.PLATFORM_SERVICES,securityContext:o.SECURITY_CONTEXT})).then(function(t){e.totalCheckedInNodes+=t.length,e._modelEvents.publish({event:o.EVENT_CHECKIN_SUCCEEDED,data:{checkedInNodes:t,totalNodes:e.validNodes.length,totalCheckedInNodes:e.totalCheckedInNodes}})});r.push(l)}UWA.Promise.all(r).then(function(){e._modelEvents.publish({event:o.EVENT_CONTENT_UPLOADED})}).fail(function(){console.log("Promise.all failed"),e._modelEvents.publish({event:o.EVENT_CHECKIN_FAILED})})},checkinSucceeded:function(e,t){var n=t.checkedInNodes,i=UWA.createElement("div",{class:"wux-ui-3ds wux-ui-3ds-check",styles:{background:"#57B847",color:"white",padding:5,borderRadius:"50%"}});e.prepareUpdate(),n.forEach(e=>{e.updateOptions({grid:{status:i.outerHTML}})}),e.pushUpdate()},checkinFailed:function(e){e.empty()},switchBaseUrl:function(e){var t=o.PLATFORM_SERVICES[e.value];if(t){let e=[t,o.DEPLOYMENT].join("");require.toUrl(e),require.config({baseUrl:e})}},resetBaseUrl:function(){require.config({baseUrl:o.URL_BASE})},save:function(t){t._modelEvents.publish({event:o.EVENT_START_EXCHANGE});var n=o.PLATFORM_SERVICES[t.__private__.method.value]+t.__private__.method.import.importurl;let i=t.getpayload(),s={Accept:"application/json","Content-Type":"application/json","Accept-Language":o.LANG,"X-Requested-With":"XMLHttpRequest",SecurityContext:o.SECURITY_CONTEXT},r={data:JSON.stringify(i),method:"POST",headers:s,onComplete:t.exchangerequestsucceeded.bind(null,t),onFailure:t.exchangerequestfailed.bind(null,t)};e.authenticatedRequest(n,r)},getpayload:function(){let e=this;if(e.payload={title:"Import - "+o.unique()},e.transform)try{return e.transform.call(e.payload,{platformServices:o.PLATFORM_SERVICES,securityContext:o.SECURITY_CONTEXT})}catch(e){console.log(e)}return payload},exchangerequestsucceeded:function(e){e._modelEvents.publish({event:o.EVENT_EXCHANGE_REQUEST_SUCCEEDED})},exchangerequestfailed:function(e){e._modelEvents.publish({event:o.EVENT_EXCHANGE_REQUEST_FAILED})},cancel:function(e){e.prepareUpdate(),e.removeRoots(),e.pushUpdate(),e._modelEvents.publish({event:o.EVENT_EXCHANGE_CANCEL}),e.resetBaseUrl()}})),define("DS/UnifiedImport/views/Content",["UWA/Class/View","DS/Controls/Accordeon","DS/UnifiedImport/views/PotentialMethods","DS/UnifiedImport/views/DragZone","DS/UnifiedImport/views/FilesView","DS/UnifiedImport/utils/Essentials"],(e,t,n,i,o,s)=>{var r,a;return e.extend({__private__:{}},{className:"unifiedimport-content",setup:function(e){var t=this;t.treeDocument=e.treeDocument,t.setupImporters(),t.setupZone(),t.setupCategories(),t.setupEvents()},setupImporters:function(){new n({treeDocument:this.treeDocument}).inject(this.container)},setupZone:function(){(r=new i({treeDocument:this.treeDocument})).inject(this.container)},setupCategories:function(){(a=new t({visibleFlag:!1,style:"filled-group",items:[{header:UWA.i18n("unifiedImport.content.accordion.title"),exclusive:!1,content:o.datagrid(this.treeDocument)}]}))._expanderItems[0].expand(),a.inject(this.container)},setupEvents:function(){this.treeDocument._modelEvents.subscribe({event:s.EVENT_NEW_IMPORT},function(){r.hide(),a.show()})}})}),define("DS/UnifiedImport/views/Footer",["UWA/Class/View","DS/Controls/Toolbar","DS/Controls/Button","DS/UnifiedImport/utils/Essentials"],(e,t,n,i)=>e.extend({__private__:{}},{tagName:"div",className:"unifiedimport-footer",setup:function(e){var n=this;n.treeDocument=e.treeDocument,n.__private__.toolbar=new t({}),n.__private__.toolbar.inject(n.container),n.setupRightBarActions(),n.setupEvents()},setupRightBarActions:function(){var e=this;e.__private__.btnCancel=new n({label:UWA.i18n("unifiedImport.footer.action.cancel")}),e.__private__.btnImport=new n({label:UWA.i18n("unifiedImport.footer.action.import"),emphasize:"primary",disabled:!0}),e.__private__.toolbar.add("element",{element:e.__private__.btnImport.getContent(),position:"far"}),e.__private__.toolbar.add("element",{element:e.__private__.btnCancel.getContent(),position:"far"})},setupEvents:function(){var e=this;e.__private__.btnImport.addEventListener("buttonclick",e.startImport.bind(null,e)),e.__private__.btnCancel.addEventListener("buttonclick",e.treeDocument.cancel.bind(null,e.treeDocument)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_LOAD_METHOD_FAILED},e.invalidMethod.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_NEW_IMPORT},e.toggleFooter.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_CONTENT_DISAPPROVED},e.contentDisapproved.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_CONTENT_UPLOADED},e.toggleImport.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_EXCHANGE_REQUEST_SUCCEEDED},e.exchangeRequestSucceeded.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:i.EVENT_EXCHANGE_REQUEST_FAILED},e.exchangeRequestFailed.bind(null,e))},toggleFooter:function(e){e.getContent().toggle()},toggleImport:function(e){e.__private__.btnImport.disabled=!e.__private__.btnImport.disabled},startImport:function(e){e.toggleImport(e),e.__private__.btnImport.label=UWA.i18n("unifiedImport.footer.info.importStarting"),e.treeDocument.save(e.treeDocument)},invalidMethod:function(e){e.__private__.btnImport.hide()},contentDisapproved:function(e){e.__private__.btnImport.hide()},exchangeRequestSucceeded:function(e){e.__private__.btnImport.hide()},exchangeRequestFailed:function(e){e.__private__.btnImport.hide()}})),define("DS/UnifiedImport/views/StatusBar",["UWA/Class/View","DS/Tweakers/GeneratedToolbar","DS/UnifiedImport/utils/Essentials"],(e,t,n)=>e.extend({tagName:"div",className:"unifiedimport-statusbar",setup:function(e){this.treeDocument=e.treeDocument,this.setupStatusBar(),this.setupEvents()},setupStatusBar:function(){var e=t.prototype.createTreeDocument({entries:[{id:"totalNodes",dataElements:{typeRepresentation:"string",readOnly:!0,value:"",tooltip:UWA.i18n("unifiedImport.statusBar.tooltip.totalNodes"),position:"near"}},{id:"invalidNodes",dataElements:{typeRepresentation:"string",readOnly:!0,value:"",tooltip:UWA.i18n("unifiedImport.statusBar.tooltip.invalidNodes"),position:"near"}}]});this.generatedToolbar=new t({overflowManagement:"dropdown",direction:"horizontal",items:e}),this.generatedToolbar.inject(this.container)},setupEvents:function(){this.treeDocument._modelEvents.subscribe({event:n.EVENT_CONTENT_ANALYZED},this.updateStatus.bind(null,this))},updateStatus:function(e,t){e.show();var n=t.validNodes.length,i=t.invalidNodes.length,o=n+i;e.generatedToolbar.prepareUpdateView(),e.generatedToolbar.updateNodeModel("totalNodes",{grid:{data:UWA.i18n("unifiedImport.status.totalFiles")+": "+o}}),i&&e.generatedToolbar.updateNodeModel("invalidNodes",{grid:{data:UWA.i18n("unifiedImport.status.excludedFiles")+": "+i}}),e.generatedToolbar.pushUpdateView()}})),define("DS/UnifiedImport/views/UnifiedImportProcess",["UWA/Class/View","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen","DS/UnifiedImport/views/Header","DS/UnifiedImport/views/Content","DS/UnifiedImport/views/StatusBar","DS/UnifiedImport/views/Footer","DS/UnifiedImport/utils/Essentials"],(e,t,n,i,o,s,r,a)=>e.extend({tagName:"div",className:"unifiedimport-process",setup:function(e){var t=this;t.treeDocument=e.treeDocument,t.setupHeader(),t.setupContent(),t.setupStatus(),t.setupFooter(),t.setupEvents()},setupHeader:function(){this.header=new i({treeDocument:this.treeDocument}),this.header.inject(this.container)},setupContent:function(){this.content=new o({treeDocument:this.treeDocument}),this.content.inject(this.container)},setupStatus:function(){this.status=new s({treeDocument:this.treeDocument}),this.status.inject(this.container)},setupFooter:function(){this.footer=new r({treeDocument:this.treeDocument}),this.footer.inject(this.container)},setupEvents:function(){var e=this;e.treeDocument._modelEvents.subscribe({event:a.EVENT_NO_METHOD_FOUND},e.noMethod.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:a.EVENT_LOAD_METHOD_FAILED},e.invalidMethod.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:a.EVENT_CONTENT_DISAPPROVED},e.contentDisapproved.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:a.EVENT_EXCHANGE_REQUEST_SUCCEEDED},e.exchangeRequestSucceeded.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:a.EVENT_EXCHANGE_REQUEST_FAILED},e.exchangeRequestFailed.bind(null,e)),e.treeDocument._modelEvents.subscribe({event:a.EVENT_CHECKIN_FAILED},e.exchangeRequestCheckInFailed.bind(null,e))},noMethod:function(e){e.treeDocument.cancel(e.treeDocument),e.notify(a.NOTIFICATIONS.NO_METHOD)},invalidMethod:function(e){e.notify(a.NOTIFICATIONS.INVALID_METHOD)},contentDisapproved:function(e){e.notify(a.NOTIFICATIONS.CONTENT_DISAPPROVED)},exchangeRequestSucceeded:function(e){e.notify(a.NOTIFICATIONS.PROCESS_SUCCEEDED)},exchangeRequestFailed:function(e){e.notify(a.NOTIFICATIONS.PROCESS_FAILED)},exchangeRequestCheckInFailed:function(e){e.notify(a.NOTIFICATIONS.CHECKIN_FAILED)},notify:function(e){n.setNotificationManager(t),n.setFadeOutPolicy(2),n.setStackingPolicy(5);var i={};switch(e){case a.NOTIFICATIONS.NO_METHOD:i={level:"error",message:UWA.i18n("unifiedImport.notification.error.noMethod"),sticky:!1};break;case a.NOTIFICATIONS.INVALID_METHOD:i={level:"error",message:UWA.i18n("unifiedImport.notification.error.invalidMethod"),sticky:!1};break;case a.NOTIFICATIONS.CONTENT_DISAPPROVED:i={level:"error",message:UWA.i18n("unifiedImport.notification.error.contentDisapproved"),sticky:!1};break;case a.NOTIFICATIONS.PROCESS_SUCCEEDED:i={level:"success",message:UWA.i18n("unifiedImport.notification.success.processSucceeded"),sticky:!1};break;case a.NOTIFICATIONS.PROCESS_FAILED:i={level:"error",message:UWA.i18n("unifiedImport.notification.error.processFailed"),sticky:!1};break;case a.NOTIFICATIONS.CHECKIN_FAILED:i={level:"error",message:UWA.i18n("unifiedImport.notification.error.checkinFailed"),sticky:!1}}t.addNotif(i)}})),define("DS/UnifiedImport/UnifiedImport",["DS/UnifiedImport/models/FileTreeDocument","DS/UnifiedImport/views/UnifiedImportProcess","DS/UnifiedImport/utils/Essentials","css!DS/UIKIT/UIKIT.css","css!DS/UnifiedImport/UnifiedImport"],(e,t,n)=>{var i={gotoHome:function(){var o=new e;widget.body.empty(),new t({treeDocument:o}).inject(widget.body),o._modelEvents.subscribe({event:n.EVENT_CONTENT_SELECTED},o.toNodes.bind(null,o)),o._modelEvents.subscribe({event:n.EVENT_EXCHANGE_CANCEL},i.gotoHome)},onLoad:function(){widget.setTitle(""),widget.addEvent("onRefresh",n.noop),i.gotoHome()}};return i});
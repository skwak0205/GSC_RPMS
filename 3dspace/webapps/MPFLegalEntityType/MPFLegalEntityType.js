define("DS/MPFLegalEntityType/LegalEntityType",["UWA/Class","DS/MPFPersonModel/PersonModel","DS/MPFCompanyModel/CompanyModel"],function(e,t,n){"use strict";var o=e.extend({init:function(e){this.type=e||"unknown"},getType:function(){return this.type}});return o.INDIVIDUAL=new o("individual"),o.COMPANY=new o("company"),o.UNKNOWN=new o("unknown"),o.fromModel=function(e){return n.prototype.isPrototypeOf(e)?o.COMPANY:t.prototype.isPrototypeOf(e)?o.INDIVIDUAL:o.UNKNOWN},o.fromPerson=function(e){var t;return"company"===(t=e.getBuyerType())?o.COMPANY:"individual"===t?o.INDIVIDUAL:o.UNKNOWN},o}),define("DS/MPFLegalEntityType/LegalEntity",["UWA/Class","UWA/Promise","DS/MPFDataProxy/MarketplaceConnector","DS/MPFModelFactory/MPFFactoriesV2","DS/MPFPersonModel/PersonFactory","DS/MPFCompanyModel/CompanyFactory","DS/MPFPersonModel/PersonModel","DS/MPFServices/ObjectService","DS/MPFLegalEntityType/LegalEntityType"],function(e,t,n,o,r,i,s,u,y){"use strict";var c=e.extend({init:function(e){this.model=e.model,this.type=y.fromModel(this.model)},getModel:function(){return this.model},getType:function(){return this.type}});return c.fromPerson=function(e){var r,y;return u.requiredOfPrototype(e,s,"person must be a PersonModel"),n.fetchPromise().then(function(e){return o.getInstance(e).getFactory(o.Types.COMPANY)}).then(function(n){return(r=e.getCompanyId())?((y=n.createModel(i.Types.COMPANY)).set("id",r),y.fetchPromise()):t.resolve(e)}).then(function(e){return new c({model:e})})},c.fromMe=function(){return n.fetchPromise().then(function(e){return o.getInstance(e).getFactory(o.Types.PERSON)}).then(function(e){return e.createModel(r.Types.ME).fetchPromise()}).then(function(e){return c.fromPerson(e)})},c});
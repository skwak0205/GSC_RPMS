define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu",["UWA/Core","DS/CATCXPModel/extensions/CATE3DActor3DGeoVisu","DS/SceneGraphOverrides/GenericOverride"],function(e,t,i){"use strict";return t.extend({_Fill:function(e){this._parent(e),this.setReady(!0)},_RefreshOpacity:function(){var t=this.QueryInterface("CATI3DExperienceObject").GetValueByName("opacity")/255;return e.is(t)||(t=1),this.GetOverride().getOpacity()!==i.opacity&&(this.GetOverride().setOpacity(t,!0),!0)},_RefreshColor:function(){if(this.QueryInterface("CATI3DExperienceObject").GetValueByName("materials").length>0)return this.GetOverride().getColor()!==i.NO_COLOR&&(this.GetOverride().setColor(i.NO_COLOR,!0),!0);var e,t=this.QueryInterface("CATI3DExperienceObject").GetValueByName("color");t?e="rgb("+Math.ceil(255*t.r)+","+Math.ceil(255*t.g)+","+Math.ceil(255*t.b)+")":e="rgb(124,146,167)";return this.GetOverride().getColor()!==e&&(this.GetOverride().setColor(e,!0),!0)},_RefreshMaterials:function(){let e=this.QueryInterface("CATICXPMaterialsVisu").refreshMaterials();return e=this._RefreshColor()||e}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATE3DXPrimitiveActorGraphicalProperties",["UWA/Core","DS/CATCXPModel/extensions/CATE3DX3DActorGraphicalProperties"],function(e,t){"use strict";return t.extend({GetRed:function(){var t=this.QueryInterface("CATI3DExperienceObject").GetValueByName("color");return e.is(t)?Math.ceil(255*t.r):124},GetGreen:function(){var t=this.QueryInterface("CATI3DExperienceObject").GetValueByName("color");return e.is(t)?Math.ceil(255*t.g):146},GetBlue:function(){var t=this.QueryInterface("CATI3DExperienceObject").GetValueByName("color");return e.is(t)?Math.ceil(255*t.b):167}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEConeActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS","DS/Visualization/Node3D","DS/Mesh/MeshUtils"],function(e,t,i,r,s,n){"use strict";return i.extend({init:function(){this._parent(),this._coneNode=null,this._height=null,this._radius=null},Dispose:function(){this._parent(),this._coneNode&&(this._coneNode.removeChildren(),this._coneNode=null,this._height=null,this._radius=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("radius"),r=t.GetValueByName("height");this._coneNode=this._createCone(i,r),this._coneNode.setName(t.GetValueByName("_varName"));var s=this;this.listenTo(t,"radius.CHANGED",function(){s.frameVisuChanges.push(s._refreshCone),s.RequestVisuRefresh()}),this.listenTo(t,"height.CHANGED",function(){s.frameVisuChanges.push(s._refreshCone),s.RequestVisuRefresh()}),e.addChild(this._coneNode)},GetLocalNodes:function(){return this._coneNode},_createCone:function(e,i){var s=t.createConeNode({bottomCenterPoint:new r.Vector3(0,0,0),topCenterPoint:new r.Vector3(0,0,i),topRadius:0,bottomRadius:e,sag:100,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})});return s.pickParent=!0,this._height=i,this._radius=e,s},_refreshCone:function(){let t,i,r;if(e.is(this._coneNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("radius"),r=t.GetValueByName("height"),i===this._radius&&r===this._height)return!1;this._node3D.removeChild(this._coneNode)}return this._coneNode=this._createCone(i,r),this._coneNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._coneNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEArrowActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS","DS/Visualization/Node3D","DS/Mesh/MeshUtils"],function(e,t,i,r,s,n){"use strict";return i.extend({init:function(){this._parent(),this._arrowNode=null,this._length=null,this._width=null,this._headLength=null,this._headWidth=null},Dispose:function(){this._parent(),this._arrowNode&&(this._arrowNode.removeChildren(),this._arrowNode=null,this._length=null,this._width=null,this._headLength=null,this._headWidth=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("length"),r=t.GetValueByName("width"),s=t.GetValueByName("headLength"),n=t.GetValueByName("headWidth");this._arrowNode=this._createArrow(i,r,s,n),this._arrowNode.setName(t.GetValueByName("_varName"));var a=this;this.listenTo(t,"length.CHANGED",function(){a.frameVisuChanges.push(a._refreshArrow),a.RequestVisuRefresh()}),this.listenTo(t,"width.CHANGED",function(){a.frameVisuChanges.push(a._refreshArrow),a.RequestVisuRefresh()}),this.listenTo(t,"headLength.CHANGED",function(){a.frameVisuChanges.push(a._refreshArrow),a.RequestVisuRefresh()}),this.listenTo(t,"headWidth.CHANGED",function(){a.frameVisuChanges.push(a._refreshArrow),a.RequestVisuRefresh()}),e.addChild(this._arrowNode)},GetLocalNodes:function(){return this._arrowNode},_createArrow:function(e,i,a,o){var h=new s,u=t.createCylinderNode({bottomCenterPoint:new r.Vector3(0,0,e),topCenterPoint:new r.Vector3(0,0,a),radius:i,sag:40,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})}),l=t.createConeNode({bottomCenterPoint:new r.Vector3(0,0,a),topCenterPoint:new r.Vector3(0,0,0),topRadius:0,bottomRadius:o,sag:100,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})});return h.addChild(u),h.addChild(l),h.pickParent=!0,this._length=e,this._width=i,this._headLength=a,this._headWidth=o,h},_refreshArrow:function(){let t,i,r,s,n;if(e.is(this._arrowNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("length"),r=t.GetValueByName("width"),s=t.GetValueByName("headLength"),n=t.GetValueByName("headWidth"),i===this._length&&r===this._width&&s===this._headLength&&n===this._headWidth)return!1;this._node3D.removeChild(this._arrowNode)}return this._arrowNode=this._createArrow(i,r,s,n),this._arrowNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._arrowNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATESphereActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS"],function(e,t,i,r){"use strict";return i.extend({init:function(){this._parent(),this._sphereNode=null,this._radius=null},Dispose:function(){this._parent(),this._sphereNode&&(this._sphereNode.removeChildren(),this._sphereNode=null,this._radius=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("radius");this._sphereNode=this._createSpheroid(i),this._sphereNode.setName(t.GetValueByName("_varName"));var r=this;this.listenTo(t,"radius.CHANGED",function(){r.frameVisuChanges.push(r._refreshSphere),r.RequestVisuRefresh()}),e.addChild(this._sphereNode)},GetLocalNodes:function(){return this._sphereNode},_createSpheroid:function(e){var i=new r.Matrix4,s=t.createSphereNode({matrix:i,radius:e,material:new r.PhysicalMaterial({force:!0})});return s.pickParent=!0,this._radius=e,s},_refreshSphere:function(){let t,i;if(e.is(this._sphereNode)){if((i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("radius"))===this._radius)return!1;this._node3D.removeChild(this._sphereNode)}return this._sphereNode=this._createSpheroid(i),this._sphereNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._sphereNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATECylinderActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS","DS/Visualization/Node3D","DS/Mesh/MeshUtils"],function(e,t,i,r,s,n){"use strict";return i.extend({init:function(){this._parent(),this._cylinderNode=null,this._radius=null,this._height=null},Dispose:function(){this._parent(),this._cylinderNode&&(this._cylinderNode.removeChildren(),this._cylinderNode=null,this._radius=null,this._height=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("radius"),r=t.GetValueByName("height");this._cylinderNode=this._createCylinder(i,r),this._cylinderNode.setName(t.GetValueByName("_varName"));var s=this;this.listenTo(t,"radius.CHANGED",function(){s.frameVisuChanges.push(s._refreshCylinder),s.RequestVisuRefresh()}),this.listenTo(t,"height.CHANGED",function(){s.frameVisuChanges.push(s._refreshCylinder),s.RequestVisuRefresh()}),e.addChild(this._cylinderNode)},GetLocalNodes:function(){return this._cylinderNode},_createCylinder:function(e,i){var s=t.createCylinderNode({bottomCenterPoint:new r.Vector3(0,0,-i/2),topCenterPoint:new r.Vector3(0,0,i/2),radius:e,sag:40,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})});return s.pickParent=!0,this._radius=e,this._height=i,s},_refreshCylinder:function(){let t,i,r;if(e.is(this._cylinderNode)){if(r=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("radius"),i=t.GetValueByName("height"),r===this._radius&&i===this._height)return!1;this._node3D.removeChild(this._cylinderNode)}return this._cylinderNode=this._createCylinder(r,i),this._cylinderNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._cylinderNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATETorusActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS"],function(e,t,i,r){"use strict";return i.extend({init:function(){this._parent(),this._torusNode=null,this._radius1=null,this._radius2=null},Dispose:function(){this._parent(),this._torusNode&&(this._torusNode.removeChildren(),this._torusNode=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("radius1"),r=t.GetValueByName("radius2");this._torusNode=this._createTorus(i,r),this._torusNode.setName(t.GetValueByName("_varName"));var s=this;this.listenTo(t,"radius1.CHANGED",function(){s.frameVisuChanges.push(s._refreshTorus),s.RequestVisuRefresh()}),this.listenTo(t,"radius2.CHANGED",function(){s.frameVisuChanges.push(s._refreshTorus),s.RequestVisuRefresh()}),e.addChild(this._torusNode)},GetLocalNodes:function(){return this._torusNode},_createTorus:function(e,i){var s=t.createTorusNode({majorRadius:e,minorRadius:i,sag:100,material:new r.PhysicalMaterial({force:!0})});return s.pickParent=!0,this._radius1=e,this._radius2=i,s},_refreshTorus:function(){let t,i,r;if(e.is(this._torusNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("radius1"),r=t.GetValueByName("radius2"),i===this._radius1&&r===this._radius2)return!1;this._node3D.removeChild(this._torusNode)}return this._torusNode=this._createTorus(i,r),this._torusNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._torusNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATECubeActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS"],function(e,t,i,r){"use strict";return i.extend({init:function(){this._parent(),this._cubeNode=null,this._height=null,this._width=null,this._length=null},Dispose:function(){this._parent(),this._cubeNode&&(this._cubeNode.removeChildren(),this._cubeNode=null,this._height=null,this._width=null,this._length=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("length"),r=t.GetValueByName("height"),s=t.GetValueByName("width");this._cubeNode=this._createCuboid(i,s,r),this._cubeNode.setName(t.GetValueByName("_varName"));var n=this;this.listenTo(t,"length.CHANGED",function(){n.frameVisuChanges.push(n._refreshCube),n.RequestVisuRefresh()}),this.listenTo(t,"height.CHANGED",function(){n.frameVisuChanges.push(n._refreshCube),n.RequestVisuRefresh()}),this.listenTo(t,"width.CHANGED",function(){n.frameVisuChanges.push(n._refreshCube),n.RequestVisuRefresh()}),e.addChild(this._cubeNode)},GetLocalNodes:function(){return this._cubeNode},_createCuboid:function(e,i,s){var n=Math.abs(e),a=Math.abs(i),o=Math.abs(s),h=t.createCuboidNode({cornerPoint:new r.Vector3(-n/2,-a/2,-o/2),firstAxis:new r.Vector3(n,0,0),secondAxis:new r.Vector3(0,a,0),thirdAxis:new r.Vector3(0,0,o),material:new r.PhysicalMaterial({force:!0})});return h.pickParent=!0,this._length=e,this._height=s,this._width=i,h},_refreshCube:function(){let t,i,r,s;if(e.is(this._cubeNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("length"),r=t.GetValueByName("height"),s=t.GetValueByName("width"),i===this.length&&s===this._width&&r===this._height)return!1;this._node3D.removeChild(this._cubeNode),this._cubeNode.removeChildren()}return this._cubeNode=this._createCuboid(i,s,r),this._cubeNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._cubeNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATECapsuleActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS","DS/Visualization/Node3D","DS/Mesh/MeshUtils"],function(e,t,i,r,s,n){"use strict";return i.extend({init:function(){this._parent(),this._capsuleNode=null,this._radius=null,this._height=null},Dispose:function(){this._parent(),this._capsuleNode&&(this._capsuleNode.removeChildren(),this._capsuleNode=null,this._radius=null,this._height=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("radius"),r=t.GetValueByName("height");this._capsuleNode=this._createCapsule(i,r),this._capsuleNode.setName(t.GetValueByName("_varName"));var s=this;this.listenTo(t,"radius.CHANGED",function(){s.frameVisuChanges.push(s._refreshCapsule),s.RequestVisuRefresh()}),this.listenTo(t,"height.CHANGED",function(){s.frameVisuChanges.push(s._refreshCapsule),s.RequestVisuRefresh()}),e.addChild(this._capsuleNode)},GetLocalNodes:function(){return this._capsuleNode},_createCapsule:function(e,i){var a=new s,o=t.createCylinderNode({bottomCenterPoint:new r.Vector3(0,0,-i/2+e),topCenterPoint:new r.Vector3(0,0,i/2-e),radius:e,sag:40,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})}),h=t.createSphereNode({matrix:(new r.Matrix4).setPosition(new r.Vector3(0,0,i/2-e)),radius:e,material:new r.PhysicalMaterial({force:!0})}),u=t.createSphereNode({matrix:(new r.Matrix4).setPosition(new r.Vector3(0,0,-i/2+e)),radius:e,material:new r.PhysicalMaterial({force:!0})});return a.addChild(o),a.addChild(h),a.addChild(u),a.pickParent=!0,this._radius=e,this._height=i,a},_refreshCapsule:function(){let t,i,r;if(e.is(this._capsuleNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("radius"),r=t.GetValueByName("height"),i===this._radius&&r===this._height)return!1;this._node3D.removeChild(this._capsuleNode)}return this._capsuleNode=this._createCapsule(i,r),this._capsuleNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._capsuleNode),!0}})}),define("DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPlaneActor3DGeoVisu",["UWA/Core","DS/Visualization/SceneGraphFactory","DS/StudioGeometricPrimitivesModelWebMedia/extensions/CATEPrimitiveActor3DGeoVisu","DS/Visualization/ThreeJS_DS","DS/Visualization/Node3D","DS/Mesh/MeshUtils"],function(e,t,i,r,s,n){"use strict";return i.extend({init:function(){this._parent(),this._planeNode=null,this._width=null,this._height=null},Dispose:function(){this._parent(),this._planeNode&&(this._planeNode.removeChildren(),this._planeNode=null,this._width=null,this._height=null)},_Fill:function(e){this._parent(e);var t=this.QueryInterface("CATI3DExperienceObject"),i=t.GetValueByName("width"),r=t.GetValueByName("length");this._planeNode=this._createPlane(i,r),this._planeNode.setName(t.GetValueByName("_varName"));var s=this;this.listenTo(t,"width.CHANGED",function(){s.frameVisuChanges.push(s._refreshPlane),s.RequestVisuRefresh()}),this.listenTo(t,"length.CHANGED",function(){s.frameVisuChanges.push(s._refreshPlane),s.RequestVisuRefresh()}),e.addChild(this._planeNode)},GetLocalNodes:function(){return this._planeNode},_createPlane:function(e,i){var s=t.createRectangleNode({width:e,height:i,fill:!0,color:new n.Color(.5,.5,.5,1),material:new r.PhysicalMaterial({force:!0})}),a=s.getMatrix();return a.setPosition({x:-e/2,y:-i/2,z:0}),s.setMatrix(a),s.pickParent=!0,this._width=e,this._length=i,s},_refreshPlane:function(){let t,i,r;if(e.is(this._planeNode)){if(i=(t=this.QueryInterface("CATI3DExperienceObject")).GetValueByName("width"),r=t.GetValueByName("length"),i===this._width&&r===this._length)return!1;this._node3D.removeChild(this._planeNode)}return this._planeNode=this._createPlane(i,r),this._planeNode.setName(t.GetValueByName("_varName")),this._node3D.addChild(this._planeNode),!0}})});
<?xml version="1.0" encoding="utf-8"?> 
<!-- Copyright 2014 , Dassault Systemes. All rights reserved. -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/"> 
	<head>
    	<title>Iterations Widget</title>
	
		<!-- Application Metas -->
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="author" content="YMA4" />
	    <meta name="description" content="widget" />
	    
 		<script type="text/javascript" src="./IterationsWidget.js"></script> 
	    <!-- The DS AMD loader -->
		<script type="text/javascript" src="../AmdLoader/AmdLoader.js"></script>
		<script type="text/javascript" src="../WebappsUtils/WebappsUtils.js"></script>
		
		<!-- The UWA Env -->
		<link rel="stylesheet" type="text/css" href="http://uwa.netvibes.com/lib/c/UWA/assets/css/standalone.css" />
	    <script type="text/javascript" src="http://uwa.netvibes.com/lib/c/UWA/js/UWA_Standalone_Alone.js"></script>
	            
		<link rel="stylesheet" type="text/css" href="../UIKIT/UIKIT.css" /> 	
	    <script type="text/javascript" src="../UIKIT/UIKIT.js"></script>
				
		<script type="text/javascript" src="../WebVisualization/WebVisualization.js"></script>
	    <script type="text/javascript" src="../WebUX/WebUX.js"></script>
	        

	    <script type="text/javascript">
	        'use strict';

	        var dependencies = dependencies || [];
	        require(
                {
                    baseUrl: '../'
                },

                [
                    'DS/IterationsWidget/IterationsWidget',
            //      'i18n!DS/IterationsWidget/assets/nls/IterationsWidget'
                ].concat(dependencies),

                function (IterationsWidget/*, NLS*/) {
                    var myWidget = {
                        onLoad: function () {
                            console.log('onLoad');

                            var options = { droppable: true, title: 'Iterations' };
                            this.myIterationsWidget = new IterationsWidget(widget, widget.body, options);
                            widget.body.style.width = '100%';
                            widget.body.style.height = '100%';
                            widget.setTitle('Iterations');
                            this.myIterationsWidget.setObject(null); // for test
                            this.myIterationsWidget.inject(widget.body.empty());
                        },

                        onRefresh: function () {
                            console.log('onRefresh');
                            this.myIterationsWidget.refresh();
                        }
                    };

                    widget.addEvent('onLoad', myWidget.onLoad);
                    widget.addEvent('onRefresh', myWidget.onRefresh);
                });
        </script>    
	</head>
	<body>
		<p>Loading...</p>		
	</body>
</html>

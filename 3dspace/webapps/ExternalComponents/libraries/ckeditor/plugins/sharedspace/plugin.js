!function(){"use strict";var e=CKEDITOR.addTemplate("sharedcontainer",'<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_shared cke_detached cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="presentation"><div class="cke_inner"><div id="{spaceId}" class="cke_{space}" role="presentation">{content}</div></div></div>');function a(a,n,t){var c,d,s=CKEDITOR.document.getById(t);s&&(c=a.fire("uiSpace",{space:n,html:""}).html)&&(a.on("uiSpace",function(e){e.data.space==n&&e.cancel()},null,null,1),d=s.append(CKEDITOR.dom.element.createFromHtml(e.output({id:a.id,name:a.name,langDir:a.lang.dir,langCode:a.langCode,space:n,spaceId:a.ui.spaceId(n),content:c}))),s.getCustomData("cke_hasshared")?d.hide():s.setCustomData("cke_hasshared",1),d.unselectable(),d.on("mousedown",function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()}),a.focusManager.add(d,1),a.on("focus",function(){for(var e,a=0,n=s.getChildren();e=n.getItem(a);a++)e.type==CKEDITOR.NODE_ELEMENT&&!e.equals(d)&&e.hasClass("cke_shared")&&e.hide();d.show()}),a.on("destroy",function(){d.remove()}))}CKEDITOR.plugins.add("sharedspace",{init:function(e){e.on("loaded",function(){var n=e.config.sharedSpaces;if(n)for(var t in n)a(e,t,n[t])},null,null,9)}})}();
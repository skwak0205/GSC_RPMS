define("DS/DELPPWFacets/common/AppCore",["UWA/Core","DS/DELModularWebAppCore/Core","DS/UIKIT/Mask","text!DS/DELPPWFacets/assets/json/ModuleConfigurations.json"],function(e,n,t,i){"use strict";var o,a,r,l,s,u,c=e.Json.decode(i),d={manufacturingUIModule:"DS/DELPPWManufacturingUIModule/manufacturingUIModule",ImplementModule:"DS/DELPPWImplementModule/ImplementModule",ResultingProductModule:"DS/DELPPWResultingProductModule/ResultingProductModule",InsertCmdModule:"DS/DELPPWInsertCmdModule/InsertCmdModule"},g={DataGridViewBehavior:"DS/DELPPWViewBehaviors/DataGridViewBehavior/DataGridViewBehavior",UXFactoryBehavior:"DS/DELPPWViewBehaviors/UXFactoryBehavior/UXFactoryBehavior",ImplementBehavior:"DS/DELPPWModelBehaviors/ImplementBehavior",ResourceBehavior:"DS/DELPPWModelBehaviors/ResourceBehavior",ModelBehavior:"DS/DELPPWModelBehaviors/ModelBehavior",SelectionBehavior:"DS/DELPPWViewBehaviors/SelectionBehavior",AssignProductBehavior:"DS/DELPPWModelBehaviors/AssignProductBehavior",WUXNodeModelBehavior:"DS/DELPPWViewBehaviors/WUXNodeModelBehavior/WUXNodeModelBehavior",TreeListViewBehavior:"DS/DELPPWViewBehaviors/TreeListViewBehavior/TreeListViewBehavior",ViewBehavior:"DS/DELPPWViewBehaviors/ViewBehavior",LinkBehavior:"DS/DELPPWModelBehaviors/LinkBehavior",SearchBehavior:"DS/DELPPWViewBehaviors/SearchBehavior",ReplaceBehavior:"DS/DELPPWViewBehaviors/MfgItemReplaceBehavior",MfgProcessBehavior:"DS/DELPPWModelBehaviors/MfgProcessBehavior"},P={UXComponentsPlugin:"DS/DELPPWViewPlugins/UXComponentsPlugin/UXComponentsPlugin",DatabasePlugin:"DS/DELPPWModelPlugins/DatabasePlugin/DatabasePlugin",ResourcePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/ResourcePlugin",WebServicePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/WebServicePlugin",AttributePlugin:"DS/DELPPWModelPlugins/AttributePlugin",DicoPlugin:"DS/DELPPWModelPlugins/DicoPlugin",SelectionPlugin:"DS/DELPPWViewPlugins/SelectionPlugin/SelectionPlugin",ImplementPlugin:"DS/DELPPWViewPlugins/ImplementPlugin/ProductImplementPlugin",PlatformPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/PlatformPlugin",MfgItemPlugin:"DS/DELPPWModelPlugins/MfgItem/MfgItemPlugin",KeyBindingPlugin:"DS/DELPPWViewPlugins/KeyBindingPlugin",RootsPlugin:"DS/DELPPWViewPlugins/RootsPlugin",CfgColumnsPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/CfgColumnsPlugin",RelationsPlugin:"DS/DELPPWViewPlugins/RelationsPlugin",DocumentPlugin:"DS/DELPPWModelPlugins/DocumentPlugin",ChangeActionPlugin:"DS/DELPPWModelPlugins/ChangeActionPlugin",TreeViewPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/TreeViewPlugin",BIPlugin:"DS/DELPPWModelPlugins/BI/BIPlugin",SearchPlugin:"DS/DELPPWViewPlugins/SearchPlugin/SearchPlugin",MfgProcessPlugin:"DS/DELPPWModelPlugins/MfgProcess/MfgProcessPlugin"},m={CommandsService:"DS/DELMFNApplicationServices/Commands/CommandsService",ConfigService:"DS/DELPPWServices/ConfigService/ConfigService",EventsService:"DS/DELPPWServices/EventsService",LoggerService:"DS/DELPPWServices/LoggerService/LoggerService",ModelService:"DS/DELPPWServices/ModelService"};return{init:function(){return new Promise(function(i,f){o=new n({appId:"DELMFN_AP",widgetTrigram:"XEN",immersiveFrame:null,isFacet:!0,cloudServiceName:"3dmfgitemsmgt",unAuthorizedTypes:["PRODUCT","PARTS"],appContext:{widget:{getId:function(){return widget.id},data:{appId:"DELMFN_AP"}}},require:{module:d,behavior:g,plugin:P,service:m},resource:{iconCatalogPath:"DS/DELPPWFacets/assets/icons/catalog.json",eventsMappingPath:"DS/DELPPWFacets/assets/json/EventsMapping.json",selectionMappingPath:"DS/DELPPWFacets/assets/json/SelectionMapping.json",rootsMappingPath:"DS/DELPPWFacets/assets/json/RootsMapping.json",commandsAvailabilityPath:"DS/DELPPWFacets/assets/json/CommandsAvailability.json",indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",relationsColumnMappingXML:"relationsColumnMappingXML",insertFormAttributeXML:"insertFormAttributeXML",modelCustomRelationsXML:"modelCustomRelationsXML",documemntColumnConfigXML:"documemntColumnConfigXML",duplicateAdvancedPreferencesXML:"duplicateAdvancedPreferencesXML",columnConfigPathXML:"columnConfigPathXML",nlsFilePath:"DS/DELPPWFacets/assets/nls/NLS",appConfigPath:"DS/DELPPWFacets/AppConfig",custoParameterRegExp:"MFNParameters*",afrWorkbenchName:"DELPPWFacets.xml",afrWorkbenchModule:"DELMFNApp"}}),a=e.createElement("div",{class:"manModContainer",styles:{height:"100%"}}),r=e.createElement("div",{class:"ImplementModule"}),l=e.createElement("div",{class:"ResultingProductModule"}),s=e.createElement("div",{class:"InsertCmdModule"}),t.mask(a),o.useServices(["EventsService","LoggerService","ConfigService","ModelService","CommandsService"],function(){o.createModule("ResultingProductModule","RESULTINGMOD",l,function(){o.start("RESULTINGMOD",null,function(){})}),o.createModule("ImplementModule","IMPMOD",r,function(){o.start("IMPMOD",null,function(){})}),o.createModule("InsertCmdModule","INSTCMDMOD",s,function(){o.start("INSTCMDMOD",null,function(){})}),o.createModule("manufacturingUIModule","MANMOD",a,function(){o.start("MANMOD",c.MANMOD,function(){null!==(u=o.getInstance().MANMOD.instance)?i():f()})})})})},setImmersiveFrame:function(n){e.is(o)&&(o.getConfig().immersiveFrame=n)},getCore:function(){return o},getXENModule:function(){return u},getManModContainer:function(){return a}}}),define("DS/DELPPWFacets/facets/FacetCommandManager",["UWA/Class","UWA/Core","DS/Core/Events"],function(e,n,t){"use strict";var i,o={HistoryHdr:"DS/LifecycleCmd/HistoryCmd",ActionBar_ChangeOwner:"DS/ENOCollabSharingCmds/commands/TransferOwnershipCmd/ActionBar_ChangeOwnerCmd",MaturityHdr:"DS/LifecycleCmd/MaturityCmd"},a={},r=null,l=null,s=null,u=null;return e.singleton({init:function(e){var c=Object.keys(o);r=e.context,l=e.model,s=e.logger,i=this,c.forEach(function(e){i.initCmd(e,o[e])}),t.subscribe({event:"FacetCommandManager/executeCommand"},function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?(a[e.commandName].execute(e.targetNode),u=e.targetNode.displayName):console.log("FacetCommandManafer : error ,command not found")}),t.subscribe({event:"FacetCommandManager/beginCommand"},function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?a[e.commandName].begin():console.log("FacetCommandManafer : error ,command not found")})},initCmd:function(e,t){require([t],function(t){var i=new t({ID:e,context:r});i.options.context.getSelectedNodes=function(){var e=l.getSelectedNodes();return n.is(e,"array")&&e.forEach(function(e){e.getID=function(){return e.options.referencePID},e.getInstID=function(){return null},e.getLabel=function(){return e.options.label}}),e},i.options.context.displayNotification=function(e){"primary"===e.eventID||"success"===e.eventID?s().info(u,e.msg):s().warn(u,e.msg)},a[e]=i})},getCommand:function(e){var t=null;return n.is(e)&&(t=a[e]),t}})}),define("DS/DELPPWFacets/AppConfig",["DS/DELPPWModelServices/BehaviorUtil"],function(e){"use strict";return{preferences:[{name:"showDialog",label:"Preferences.ShowDialog",defaultValue:"true",type:"hidden"},{name:"navigateOnIndexedDB",type:"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"fetchAllLevel",label:"Preferences.fetchAllLevel",defaultValue:"false",type:"hidden"},{name:"showOrg",label:"Preferences.showOrg",defaultValue:"false",type:"hidden"},{name:"showCollaborativeSpace",label:"Preferences.showCollaborativeSpace",defaultValue:"false",type:"hidden"},{name:"showRole",label:"Preferences.showRole",defaultValue:"false",type:"hidden"},{name:"oneDelmiaAggregationMode",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true",type:"hidden"},{name:"separator",label:"Preferences.Separator",defaultValue:"|",type:"hidden"},{name:"navigateOnIndex",options:[{value:"Database",label:"Database"},{value:"Index",label:"Index"},{value:"IndexRelationsOnDemand",label:"Index - Relations On Demand"}],label:"Preferences.NavOnIndex",defaultValue:"Index",type:"hidden"},{name:"organization",label:"Preferences.Org",options:[],defaultValue:"",onchange:"OrganizationUpdated",type:"hidden"},{name:"collaborativeSpace",label:"Preferences.CollabSpace",options:[],defaultValue:"",onchange:"CollabSpaceUpdated",type:"hidden"},{name:"role",label:"Preferences.Role",options:[],defaultValue:"",onchange:"RoleUpdated",type:"hidden"},{name:"custoParametersSet",label:"Preferences.CustoParametersSet",options:[],defaultValue:"",type:"hidden"},{name:"timeout",label:"Preferences.ServerTimeout",defaultValue:"600",onchange:"TimeoutUpdated",type:"hidden"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"},{name:"isManufacturingItemsVisible",type:"hidden",defaultValue:!0},{name:"isProductsPartsVisible",type:"hidden",defaultValue:!0},{name:"isMFNToggleAuxiliaryViewVisible",type:"hidden",defaultValue:!1},{name:"isViewPersistanceOn",type:"hidden",defaultValue:"false"},{name:"refreshBIOnAuthoring",type:"hidden",defaultValue:!0},{name:"isReleaseSyncXENEnabled",type:"hidden",defaultValue:!!UWA.is(e.isReleaseSyncXENEnabled())&&e.isReleaseSyncXENEnabled()}],xmlConfiguration:{columnConfigPathXML:"DELPPWFacets/ProcessColumnConfig",indexMappingXML:"DELPPWFacets/IndexMapping",insertFormAttributeXML:"DELPPWFacets/InsertCmdFormAttribute",relationsColumnMappingXML:"DELPPWFacets/RelationsColumnMapping",documemntColumnConfigXML:"DELPPWFacets/DocumentColumnDisplayAttributeConfig",modelRelationsXML:"DELPPWFacets/ModelRelations",modelCustomRelationsXML:"DELPPWFacets/ModelCustomRelations"}}}),define("DS/DELPPWFacets/DataProvider/ManufacturingDataProvider",["UWA/Core","UWA/Class","DS/DELPPWFacets/common/AppCore","DS/DELPPWResourceServices/ResourceUtils"],function(e,n,t,i){"use strict";var o,a,r,l;return n.singleton({init:function(e){this._parent(e),l=new Promise(function(e){t.init().then(function(){r=t.getXENModule(),e(r)})})},_fetchData:function(n){var t=[];return new Promise(function(r){l.then(function(l){o=l.getDatagridViewBehavior(),a=l.getModelBehavior(),e.is(n)&&(n.forEach(function(n){t.push(new Promise(function(t){o.getScopes(n,function(n){var o,r=[];e.is(n)&&0!==n.length?n.length>1?r=i.getNLSValue("ManufDataProvider.Multiple"):(o=n[0].get("type"),r=(a.isAKindOf(o,"CreateKit")||a.isAKindOf(o,"CreateAssembly")||a.isAKindOf(o,"CreateMaterial")?i.getNLSValue("Column.MakeOrBuy.Make"):a.isAKindOf(o,"Provide")?i.getNLSValue("Column.MakeOrBuy.Buy"):"")+" - "+n[0].get("organization")):r=i.getNLSValue("ManufDataProvider.None"),t(r)})}))}),Promise.all(t).then(function(e){var t=[],i=0;n.forEach(function(n){t[n]=e[i],i++}),t.length=i,r(t)}))})})},getInitPromise:function(){return l}})}),define("DS/DELPPWFacets/facets/ManufacturingIntentFacet",["UWA/Core","UWA/Promise","DS/EditPropWidget/facets/Common/FacetsBase","DS/UIKIT/Mask","DS/CoreEvents/Events","DS/DELPPWFacets/common/AppCore","DS/DELPPWFacets/facets/FacetCommandManager","DS/PlatformAPI/PlatformAPI","DS/DELPPWFacets/DataProvider/ManufacturingDataProvider","css!DS/DELPPWFacets/DELPPWFacets.css"],function(e,n,t,i,o,a,r,l,s){"use strict";var u,c,d,g,P,m,f,D,p=null,M={},h=!1,S=function(){u.show(),m.hide(),h=!0},v=function(e){f.setText(P.getPlugins("ResourcePlugin").instance.getNLSValue(e)),u.hide(),m.show(),h=!1};return t.extend({init:function(t){var i=this;this._parent.apply(this,arguments),widget.setValue("fromXen",!0),e.is(P)?(this.elements.container||(this.elements.container=c),c.show(),g=n.resolve(d)):(this.elements.container||(this.elements.container=e.createElement("div",{class:"manufacturingFacet",styles:{height:"100%"}}),c=this.elements.container,o.subscribe({event:"ManufacturingIntent.Destroy"},function(){c.hide()})),g=new n(function(n,o){s.getInitPromise().then(function(s){d=s,(u=a.getManModContainer()).inject(c),a.setImmersiveFrame(t.immersiveFrame),P=a.getCore(),e.is(d)&&(M={model:d.getModel(),context:P.getConfig().appContext,logger:P.getLogger},m=e.createElement("div",{class:"enoderivedoutputs_information"}),D=e.createElement("div",{class:"content_box"}).inject(m),e.createElement("span",{class:"enoderivedoutputs_information_icon wux-ui-3ds wux-ui-3ds-5x wux-ui-3ds-docs"}).inject(D),f=e.createElement("h2",{class:"enoderivedoutputs_information_msg"}).inject(D),m.setStyle("position","relative"),m.setStyle("height","100%"),m.setStyle("vertical-align","top"),D.setStyle("position","absolute"),D.setStyle("top","calc(50% - 100px)"),D.setStyle("text-align","left"),D.setStyle("color","#303030"),D.setStyle("opacity",".2"),m.hide(),m.inject(i.elements.container),r.init(M),l.publish("XENFacetLoaded"),n(d)),o()})}))},updateFacet:function(){var n,t=this;g.then(function(o){var a,r={context:o},l=null;r.onComplete=function(n){var t;P.getLogger().log("Entering fetchRoot Completed"),t=e.is(n.get("baseType"))?n.get("baseType"):n.get("type"),e.is(n)&&(e.is(n,"array")&&(n=n[0]),o.isAvailableType(t)?(P.getLogger().log("Entering object supported condition"),S(),o.fetchXENSlide(n.get("PID"),i)):(P.getLogger().log("Entering object not supported condition"),v("objectTypeNotSupported")))},r.onFailure=function(){P.getLogger().log("Entering fetchRoot Failure"),v("ObjectRetrievalFailed")},e.is(t.options.appContext)&&e.is(t.options.appContext.settingManager)&&e.is(t.options.appContext.settingManager.getSecurityContext)&&(l=e.is(t.options.appContext.settingManager.getSecurityContext(),"string")&&t.options.appContext.settingManager.getSecurityContext().length>0?t.options.appContext.settingManager.getSecurityContext():null),null!==l&&o.setSecurityContext(l),a=t.getModel(),e.is(a)&&e.is(a.get("objectId"))?(n=a.get("objectId"),P.getLogger().log("Selected objects: "+n),n.indexOf(".")>0?(P.getLogger().log("Entering multi-selection condition"),v("MultiselectionMessage")):(P.getLogger().log("Entering single-Selection condition"),S(),"businessobject"!==a.get("metatype")&&"bus"!==a.get("metatype")||null!==p&&n===p||(o.removeRoots(),o.fetchRoot(n,r),p=n))):(P.getLogger().log("No object selected"),v("NoObjectSelected"),o.unMaskView(i))})},getContent:function(){return u},getCore:function(){return P},getXENDatagridViewBehavior:function(){return d.getDatagridViewBehavior()},getXENManufacturingUIModule:function(){return d},onAction:function(e){var n=this;g.then(function(t){var i;if("Add"===e&&h)return i=document.querySelector(".wux-button-icon-placeholder .fonticon-plus"),t.renderMenu(i.getBoundingClientRect(),n.getModel().get("objectId"),"addToolBar")})},destroyComponent:function(){}})});
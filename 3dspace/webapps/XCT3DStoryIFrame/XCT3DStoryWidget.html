<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
<!-- Copyright 2021 , Dassault Systemes. All rights reserved. -->

<head>
    <title>3DStory Widget App</title>

    <meta name="description" content="Widget to create 3DStories" />
    <meta name="keywords" content="3DStory" />
    <meta name="autoRefresh" content="0" />
    <meta name="author" content="Dassault Systemes" />
    <meta name="brand" content="3DEXCITE" />
    <meta name="thumbnail" content="" />
    <meta name="screenshot" content="" />

    <script>
        /* global widget */
        require(["DS/XCT3DStoryIFrame/XCT3DStoryIFrame"], function (XCT3DStoryIframe) {
            function onLoad() {
                widget.body.empty();
                var storyIframe = new XCT3DStoryIframe();
                var params = {
                    platformId: widget.getValue("x3dPlatformId"),
                    uwaUrl: widget.uwaUrl,
                    "3DDashboard": true
                };
                if (widget.data && widget.data.params) {
                    Object.assign(params, widget.data.params);
                }
                storyIframe.create(widget.body, params);
            }
            widget.addEvents({
                onLoad: onLoad,
                onRefresh: onLoad
                // onSearch : onSearch,
                // onResetSearch: onResetSearch
            });
        });
    </script>
</head>

<body></body>

</html>

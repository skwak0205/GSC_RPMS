define("DS/DELPPWProgressIndicatorModule/ProgressIndModule",["UWA/Core"],function(t){"use strict";return{behaviors:["UXFactoryBehavior"],creator:function(e,o){var i,n,r,s=o.getComponent("ProgressBar"),a=0,u={},d=function(){i=1e3*e.getPreferenceValue("timeout")},h={statusFlag:!1,infiniteFlag:!0,displayStyle:"lite",visibleFlag:!1,emphasize:"info"},f=s.extend({init:function(e){this.showCount=0,e=e||{},e=t.extend(h,e),this._parent(e)},onShow:function(t,e){this.visibleFlag=!0,this.showCount++,u[t]=e},onHide:function(t){this.showCount>0&&(this.showCount--,delete u[t],0===this.showCount&&(this.visibleFlag=!1,a=0))}});return r=function(){var o=e.getElement();t.is(o)?n.inject(o):e.debug("ProgressBar Container is not defined.")},{listenTo:function(){return{startProgress:this.start,stopProgress:this.stop,endEdit:d}},onStart:function(t){(t=t||{}).timeoutPeriod?i=t.timeoutPeriod:d(),n=new f(t),r()},onStop:function(){n=void 0},start:function(o){var r,s,d,h,f=-1;if(!t.is(o))throw new Error("Failed to start ProgressBar : iParam is invalid");if(n){if(t.is(u[o.token]))throw new Error("Failed to start ProgressBar : Token already exists");s=!!t.is(o.noTimeout)&&o.noTimeout,d=t.is(o.emphasize)?o.emphasize:"info",h=t.is(o.timoutDuration)?o.timoutDuration:i,r=a++,s||(f=setTimeout(function(o){e.debug("Timeout:No response within specified time period. Removed progress Indicator"),t.is(n)&&n.onHide(o)},h,r)),n.emphasize=d,n.onShow(r,f),o.token=r}},stop:function(e){var o;if(!t.is(e))throw new Error("Failed to stop ProgressBar : iParam is invalid");if(!t.is(u[e.token]))throw new Error("Failed to stop ProgressBar : Token doesnot exist");n&&((o=u[e.token])>-1&&clearTimeout(o),n.onHide(e.token))}}}}});
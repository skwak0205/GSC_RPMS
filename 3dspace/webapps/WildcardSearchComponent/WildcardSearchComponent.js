define("DS/WildcardSearchComponent/dsWebWorker",[],function(){"use strict";var e=function(e){if("undefined"!=typeof Worker){var r=new Blob([e.textContent],{type:"text/javascript"});window.URL&&(this.worker=new Worker(window.URL.createObjectURL(r)),this.worker.listenerCallbackList=[]),this.status=!0}else UWA.String.stripScripts.call(this,"<script>"+e.textContent+"<\/script>",!0),this.listenerCallbackList=[],this.status=!1,this.postMessage=function(e){for(var r=0;r<this.listenerCallbackList.length;r++){(0,this.listenerCallbackList[r])(e)}};return this};return e.prototype={dispatchMessage:function(e){if(!0===this.status)this.worker.postMessage(JSON.stringify(e));else if(this.onmessage){var r={};r.data=JSON.stringify(e),this.onmessage(r)}},registerListener:function(e){!0===this.status?(this.worker.listenerCallbackList.push(e),1===this.worker.listenerCallbackList.length&&(this.worker.onmessage=function(e){for(var r=0;r<this.listenerCallbackList.length;r++){(0,this.listenerCallbackList[r])(e.data)}})):this.listenerCallbackList.push(e)},destroyWorker:function(){!0===this.status&&this.worker.terminate()}},e}),define("DS/WildcardSearchComponent/dsWebWorkerJob",[],function(){"use strict";var e={};return function(r,t){if(r.jobName&&!e[r.jobName]){var s="this.onmessage ="+r.onmessage.toString(),n=document.createElement("script"),o=document.createTextNode(s);return n.appendChild(o),n.setAttribute("id","workerID"),n.setAttribute("type","javascript/ds-script"),(t||document.body).appendChild(n),e[r.jobName]=n,n}return e[r.jobName]}}),define("DS/WildcardSearchComponent/WildcardSearchComponent",["DS/WildcardSearchComponent/dsWebWorker","DS/WildcardSearchComponent/dsWebWorkerJob"],function(e,r){"use strict";function t(e,r){var t="",s=/[\;\:\.\,\/\|\@\!\?\%\#\+\=\-\^\~\$\&\'\(\)\[\]\{\}\*]/;if(e=(e=e.replace(/\\{2}/g," ")).replace(/\s{2,}/g," "),r)for(var n=0;n<e.length;n++)s.test(e[n])?t=t+"\\"+e[n]:"\\"==e[n]?'"'==e[n+1]?t+=e[n]:t=t+"\\"+e[n]:" "==e[n]?t+="\\s":t+=e[n];else for(n=0;n<e.length;n++)s.test(e[n])||" "==e[n]?"\\"!==e[n-1]?"*"==e[n]?t+=".*?":t+="|":t+=e[n]:"\\"==e[n]?s.test(e[n+1])||'"'==e[n+1]?t+=e[n]:t+="|":t+=e[n];return t=t.replace(/\|{2,}/g," ")}var s=function(){};return s.prototype.search=function(s,n,o,i){this.searchWorker&&null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=null;var a=r({onmessage:function(e){for(var r=JSON.parse(e.data),t=r.dataArray,s=[],n=r.keysToExclude?r.keysToExclude:[],o="",i=new RegExp(r.query.normal),a=new RegExp(r.query.lower),l=0;l<t.length;l++)for(var c=Object.keys(t[l]),h=0;h<c.length;h++)if(-1==n.indexOf(c[h])&&"string"==typeof t[l][c[h]]&&(o="",t[l][c[h]]&&(o=t[l][c[h]]),-1!==o.search(i)||-1!==o.toLowerCase().search(a))){s.push(t[l]);break}this.postMessage(s)},jobName:"ENOXSearch"});null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=new e(a),this.searchWorker.registerListener(o);var l={dataArray:n,query:s?function e(r,s){s&&s.normal&&s.lower||(s||(s={}),s.normal||(s.normal=""),s.lower||(s.lower=""));var n=r,o="";if(-1!==n.indexOf('"')&&(0==n.indexOf('"')||0!==n.indexOf('"')&&n.indexOf('"')-n.indexOf('\\"')!=1)){n.indexOf('"')>0&&(o=t(o=n.substr(0,n.indexOf('"')),!1),s.normal=s.normal+o,s.lower=s.lower+o.toLowerCase(),n=n.substr(n.indexOf('"')));for(var i=0,a=1;a<n.length;a++)'"'==n[a+1]&&"\\"!==n[a]&&(i=a,a=n.length);0!==i?(o=t(o=n.substr(1,i),!0),s.normal=s.normal+o,s.lower=s.lower+o,n=n.substr(i+2)):(o=t(o=n,!1),s.normal=s.normal+o,s.lower=s.lower+o.toLowerCase(),n="")}else-1!==n.indexOf('"')&&0!==n.indexOf('"')&&n.indexOf('"')-n.indexOf('\\"')==1?(o=t(o=n.substr(0,n.indexOf('"')+1),!1),s.normal=s.normal+o,s.lower=s.lower+o.toLowerCase(),n=n.substr(n.indexOf('"')+1)):(o=t(o=n,!1),s.normal=s.normal+o,s.lower=s.lower+o.toLowerCase(),n="");return n.length>0&&'"'!==n?e(n,s):s}(s.trim()):"",keysToExclude:i};this.searchWorker.dispatchMessage(l)},s});
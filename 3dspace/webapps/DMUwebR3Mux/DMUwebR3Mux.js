/*!  Copyright 2021 Dassault Systemes. All rights reserved. */
define("DS/DMUwebR3Mux/DMUwebR3Mlist",["UWA/Core","UWA/Class","DS/Utilities/Dom","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/DataGridView/DataGridView","DS/Controls/TooltipModel","DS/Controls/ProgressBar","DS/CollectionView/CollectionViewStatusBar","i18n!DS/DMUwebR3Mux/assets/nls/DMUwebR3Mux.json","css!DS/DMUwebR3Mux/assets/css/DMUwebR3Mux"],function(e,t,n,i,l,a,o,r,s,d){"use strict";let c=window.WUXManagedFontIcons.Font3DS;return t.extend({init:function(t){let u,p,f,g={},m={},h=t.onSelect,w=t.onUnselect,y=t.onFiltersModified,b=t.onInfo,x=t.cbDnD,S=t.columns,C=t.parent,v=t.getFilterValues,I=t.getIsrTypes,M=t.onRelations,E=t.allowRelations,D=t.onMaturityState,F=t.onAnalysisState,R=t.getFeatureStateInfo,j=t.allowMaturityState,k=t.onValidationState,O=t.allowValidationState,V={show:!1,total:[],completed:[],failed:[]},T=["private","inwork","frozen","released","obsolete","default","exists","inprogress","failed","passed","donenoko","startedwithko","startednoko","donewithko","notcomputed"],_=[{type:s.STATUS.NB_ITEMS},{position:"far",type:s.STATUS.NB_SELECTED_ROWS}];function N(e){return{id:e.options.grid.id,parents:e.getParents().map(function(e){return e.options.grid.id})}}function A(t,n){let i=e.createElement("div",{class:"r3mtweaker "+n});return i.value=t,i.getStringFromValue=function(e){return e||""},i.computeContentSize=function(){let e=15;for(let t=i.childNodes.length-1;t>=0;--t)e+=i.childNodes[t].getDimensions().width;return e},i}function P(e){if(p)return e&&e.nodeModel&&e.cellView?p.getCellDefaultTooltip(e,-1!==(e.nodeModel.options.grid.description||"").search("\n")):p.getCellDefaultTooltip(e)}function U(e){if(!p)return;if(!e||!e.nodeModel||!e.cellView)return p.getCellDefaultTooltip(e);let t=p.getCellDefaultTooltip(e);return{getAllInformationCB:function(){return e.nodeModel.options.grid.validStateWarning?{model:{shortHelp:e.nodeModel.options.grid.validStateWarning},updateModel:!1}:t.getAllInformationCB()}}}function B(e,t,n,i,l,a,s,d){let c;if(n){let a,o=m[l]&&T.indexOf(t)>-1,u=0;if("r3mCellAnalysisState_itfQueryRunning"===t?(a="r3mCellAnalysisState_itfQueryRunning",u=e&&e.nodeModel&&e.nodeModel.options.grid?e.nodeModel.options.grid.analysisStateProgress:0):a="r3mR2VCellState_itfQueryRunning"===t?"r3mR2VCellState_itfQueryRunning":"r3mCellState_"+t+i+(o?"":"_NoColor"),p._reusableCellContentManager.isRegistered(a)||p.registerReusableCellContent({id:a,buildContent:s.bind(null,n,i,o,t,d)}),u>0&&"r3mCellAnalysisState_itfQueryRunning"===t){let e=A("","r3mstatus");new r({value:u}).inject(e),c=e}else c=p.reuseCellContent(a)}e.cellView._setReusableContent(c),e.cellView.tooltipInfos=new o(a?U(e):p.getCellDefaultTooltip(e))}function L(t,n,i,l,a){let o=A(t,"r3mstatus");return e.createElement("span",{html:t,class:i?"r3mstatuscolored r3m"+l:""}).inject(o),a&&(o.style.textAlign="start",o.style.paddingLeft="5px"),o}function W(t){var n=e.createElement("div",{class:"spinner spinning",styles:{display:"flex","justify-content":"center",transform:"translate3d(0,0,0)"}}).inject(t);e.createElement("span",{class:"spinner-bar"}).inject(n),e.createElement("span",{class:"spinner-bar spinner-bar1"}).inject(n),e.createElement("span",{class:"spinner-bar spinner-bar2"}).inject(n),e.createElement("span",{class:"spinner-bar spinner-bar3"}).inject(n)}function Q(t,n,i,l){let a=A(t,"r3mstatus");if("startedwithko"===l||"donewithko"===l){let o=e.createElement("span",{class:i?"r3mstatuscolored r3m"+l:""}).inject(a);e.createElement("span",{html:t+" "}).inject(o),e.createElement("span",{class:"wux-button-icon-fi wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-lg wux-ui-3ds-attention"}).inject(o),e.createElement("span",{html:" "+n}).inject(o)}else if("computed"===l){let i=e.createElement("span",{class:"r3mstatuscolored r3m"+l}).inject(a);e.createElement("span",{html:t+" "}).inject(i),e.createElement("span",{class:"wux-button-icon-fi wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-lg wux-ui-3ds-interference-metric"}).inject(i),e.createElement("span",{html:" "+n}).inject(i)}else l.contains("r3mCellAnalysisState_itfQueryRunning")?W(a):e.createElement("span",{html:t,class:i?"r3mstatuscolored r3m"+l:""}).inject(a);return a}function z(e){if(!(p&&e&&e.nodeModel&&e.cellView))return;let t=e.nodeModel.options.grid;t&&void 0===t.title&&"r2vsurvey"===t.serviceId?(p._reusableCellContentManager.isRegistered("r3mR2VCellState_itfQueryRunning")||p.registerReusableCellContent({id:"r3mR2VCellState_itfQueryRunning",buildContent:function(e){let t=A(e,"r3mR2V_Running");return W(t),t}.bind(null,"r3mR2VCellState_itfQueryRunning")}),B(e,"r3mR2VCellState_itfQueryRunning","r3mR2VCellState_itfQueryRunning",0,t.id,!1,L,!0),R({serviceId:t.serviceId,objectId:t.id,validatedObjId:e.nodeModel._parentNode._parentNode.options.grid.id,text:e.nodeModel._parentNode._options.grid.id})):B(e,t.title,t.title,0,t.id,!1,L,!0)}function H(e){if(!(p&&e&&e.nodeModel&&e.cellView))return;let t=e.nodeModel.options.grid,n=(t.maturity||"").split(".");B(e,n=n[n.length-1].toLowerCase().replace("_",""),t.maturityDisp,0,t.id,!1,L,!1)}function G(e){if(!(p&&e&&e.nodeModel&&e.cellView))return;let t=e.nodeModel.options.grid;B(e,(t.validState||"").toLowerCase(),t.validStateDisp,0,t.id,!0,L,!1)}function X(e){if(!(p&&e&&e.nodeModel&&e.cellView))return;let t=e.nodeModel.options.grid,n=I();t.analysisState=t.analysisState?t.analysisState:"";let i="running"===t.analysisState||"unknown"===t.analysisState?"r3mCellAnalysisState_itfQueryRunning":t.analysisState;i=i||"",B(e,-1===n.indexOf(t.type)?"":i,t.analysisStateDisp,t.analysisStateNbKO,t.id,!0,Q,!1),"unknown"===t.analysisState&&n.indexOf(t.type)>-1&&F([t.id])}function q(t){if(!(p&&t&&t.nodeModel&&t.cellView))return;let n,i=t.nodeModel.options.grid,l=i.id,a=i.validStateWarning,r=(l&&m[l]&&i.validState||"").toLowerCase(),s=I(),d="r3mCellState_validstatewarning";if(!(s.indexOf(i.type)>-1)||p.layout.getColumnVisibleFlag("analysisStateDisp")){if(s.indexOf(i.type)>-1?d=d+(r="inprogress"===r||"failed"===r&&("notcomputed"===i.analysisState||"startednoko"===i.analysisState)?"minorWarning":"majorWarning")+i.analysisState:d+=r="inprogress"===r?"minorWarning":r,a)p._reusableCellContentManager.isRegistered(d)||p.registerReusableCellContent({id:d,buildContent:function(t,n){let i=A(t,"r3mwarning");var l,a;return(l="attention",a="minorWarning"===n?"r3miconcolor":"r3mwarningcolor",e.createElement("span",{class:"wux-button-icon-fi wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-lg wux-ui-3ds-"+l+" "+a})).inject(i),e.createElement("span",{html:t,class:"r3mwarningtext"}).inject(i),i}.bind(null,a,r)}),n=p.reuseCellContent(d);else if(!a&&s.indexOf(i.type)>-1&&"running"===i.analysisState){if(i.analysisStateProgress>0&&("running"===i.analysisState||"unknown"===i.analysisState))return;p._reusableCellContentManager.isRegistered("r3mCellState_itfQueryRunning")||p.registerReusableCellContent({id:"r3mCellState_itfQueryRunning",buildContent:function(e){let t=A(e,"r3mwarning");return W(t),t}.bind(null,"r3mCellState_itfQueryRunning")}),n=p.reuseCellContent("r3mCellState_itfQueryRunning")}t.cellView._setReusableContent(n),t.cellView.tooltipInfos=new o(U(t))}}function J(e){if(!p||!e||!e.nodeModel)return;let t=p.layout.getDataIndexFromColumnIndex(e.columnID);return Boolean(e.nodeModel.options.grid[t])}function K(e){if(!p||!e||!e.nodeModel)return;let t=p.layout.getDataIndexFromColumnIndex(e.columnID),n=e.nodeModel.options.grid[t];return n?{icon:e.nodeModel.options.grid[t+"Img"]?"":"topbar-user",label:n}:void 0}function Y(e){h(e.map(N))}function Z(e){w(e.map(N))}function $(){setTimeout(function(){p.reapplySortModel();var t=JSON.parse(localStorage.getItem("r3mGridFilters"));t&&t.filterModel&&!e.equals(t.filterModel,{})&&(u.setFilterModel({}),u.setFilterModel(t.filterModel))},10)}function ee(){var e=p.getNodesXSO().get();e&&0!==e.length&&p.ensureNodeModelVisible(e[0],!1)}this.updateValidations=function(e,t,n){u.withTransactionUpdate(function(){Object.keys(e).forEach(function(e){var t=n?function e(t,n){let i,l=this[n],a={label:l.title,grid:l},o=g[n];return l.icon&&(a.icons=[{iconPath:l.icon}]),t.search({match:function(e){e.nodeModel.options.grid.id===l.id&&(i=e.nodeModel)}}),o.forEach(t=>{t.updateOptions(a),Object.keys(l.children||{}).forEach(e.bind(l.children,t))}),i}.call(this,u,e):function e(t,n){let i,a=this[n],o={label:a.title,grid:a},r=g[n];a.icon&&(o.icons=[{iconPath:a.icon}]);let s=I();return-1===V.total.indexOf(a.id)&&s.indexOf(a.type)>-1&&V.total.push(a.id),(t.getChildren()||[]).some(e=>{if(e.options.grid.id===a.id)return i=e}),i||(i=new l(o),t.addChild(i),r?r.push(i):r=g[n]=[i]),a.noSort&&(i.sortChildren=function(e){e.isRecursive&&this.getChildren().forEach(function(t){t.sortChildren(e)})}),r.forEach(t=>{t.updateOptions(o),Object.keys(a.children||{}).forEach(e.bind(a.children,t))}),i}.call(this,u,e);m[e]||(m[e]=t)},e)}),t||$()},this.updateStatusBar=function(e,t){"success"===t&&-1!==V.completed.indexOf(e)||"failure"===t&&-1!==V.failed.indexOf(e)||("success"===t&&-1===V.completed.indexOf(e)?V.completed.push(e):"failure"===t&&-1===V.failed.indexOf(e)&&V.failed.push(e),function(){let e=V.total.length;if(e>0){var t=e>0?(V.completed.length+V.failed.length)/e*100:100;if(e-(V.completed.length+V.failed.length)<=0&&(V.completed.length=V.failed.length=0,t=100),V.show){const e=_.findIndex(e=>"progressId"===e.id);-1===e&&100!==t?(_.push({type:s.STATUS.CUSTOM,id:"progressId",position:"center",dataElements:{typeRepresentation:"progress",value:t,tooltip:d.gridAnalysisFilterStatus}}),p.buildStatusBar(_)):-1!==e&&100===t?(_=_.filter(e=>"progressId"!==e.id),V.show=!1,p.buildStatusBar(_)):p.elements.statusBar.getNodeModelByID("progressId").updateOptions({grid:{data:t}})}}}())},this.checkFilterAndFetchValue=function(){if(!p||!u)return;let e=JSON.parse(localStorage.getItem("r3mGridFilters"));if(-1!==p.sortModel.findIndex(e=>"analysisStateDisp"===e.dataIndex||"validStateWarning"===e.dataIndex)||e&&e.filterModel&&(e.filterModel.hasOwnProperty("analysisStateDisp")||e.filterModel.hasOwnProperty("validStateWarning"))){let e=I();u.getAllDescendants().forEach(function(t){let n=t.options.grid;e.indexOf(n.type)>-1&&"unknown"===n.analysisState&&(V.show=!0,F([n.id],!1))})}},this.setInfoState=function(e){let t=p.getToolbar().array3[0].tweaker.elements.container,n=t.hasClassName("r3mInfoColor");n&&!e?t.removeClassName("r3mInfoColor"):!n&&e&&t.addClassName("r3mInfoColor")},this.getSelectedRows=function(){return p.getNodesXSO().get().map(N)},this.onTenantModified=function(e){let t={tree:"title",name:"name",typeDisp:"type",maturityDisp:"maturity",validStateDisp:"validState",description:"description",owner:"owner",originator:"originator",organization:"organization",dateModif:"dateModif",dateCreat:"dateCreat",collabSpace:"collabSpace"};f.forEach(n=>{n.text=e[t[n.dataIndex]]})},this.removeValidation=function(e){u.withTransactionUpdate(function(){e.forEach(function(e){m[e]&&u.removeRoot(m[e]);let t=g[e]&&g[e].indexOf(m[e]);t>-1&&g[e].splice(t,1),!g[e].length&&delete g[e],delete m[e]}),$()})},this.removeAll=function(){p.getNodesXSO().empty(),u.empty(),g={},m={}},function(){function t(e,t){var n=e.getSize(),i=t.getSize(),l=(i.width-n.width)/2,a=(i.height-n.height)/2;e.setStyles({left:l<0?0:l,top:a<0?0:a})}function l(){let e=this.showCustomViewsDialog();function i(){Object.keys(e.buttons).forEach(function(t){e.buttons[t].removeEventListener("click",l)}),e.removeEventListener("close",i),n.removeResizeListener(C)}t(e.elements.container,C),Object.keys(e.buttons).forEach(function(t){e.buttons[t].addEventListener("click",i)}),e.addEventListener("close",i),n.addResizeListener(C,function(){t(e.elements.container,C)})}f=[{dataIndex:"tree",text:S.title,onCellRequest:z,groupableFlag:!1},{dataIndex:"name",text:S.name,width:150,visibleFlag:!1,groupableFlag:!1},{dataIndex:"typeDisp",text:S.type,width:150,visibleFlag:!1,groupableFlag:!1,alignment:"center"},{dataIndex:"maturityDisp",text:S.maturity,onCellRequest:H,width:90,groupableFlag:!1},{dataIndex:"validStateDisp",text:S.validState,onCellRequest:G,width:100,groupableFlag:!1},{dataIndex:"validStateWarning",icon:{iconName:"attention",fontIconFamily:c},onCellRequest:q,width:60,minWidth:30,groupableFlag:!1},{dataIndex:"analysisStateDisp",text:S.analysisState,onCellRequest:X,width:150,visibleFlag:!1,groupableFlag:!1},{dataIndex:"description",text:S.description,getCellTooltip:P,width:300,groupableFlag:!1},{dataIndex:"owner",text:S.owner,typeRepresentation:"user",hasCellValue:J,getCellValue:K,width:150,groupableFlag:!1},{dataIndex:"originator",text:S.originator,typeRepresentation:"user",hasCellValue:J,getCellValue:K,width:150,visibleFlag:!1,groupableFlag:!1},{dataIndex:"organization",text:S.organization,width:100,visibleFlag:!1,groupableFlag:!1},{dataIndex:"dateModif",text:S.dateModif,typeRepresentation:"datetime",width:150,groupableFlag:!1},{dataIndex:"dateCreat",text:S.dateCreat,typeRepresentation:"datetime",width:150,visibleFlag:!1,groupableFlag:!1},{dataIndex:"collabSpace",text:S.collabSpace,visibleFlag:!1,groupableFlag:!1}],u=new i({shouldAcceptDrag:function(){return!0},shouldAcceptDrop:function(){return!1}});var o=e.createElement("div",{class:"r3mListPlaceHolder"});e.createElement("p",{html:d.placeHolderFst,styles:{"text-align":"center"}}).inject(o);var r=e.createElement("div",{styles:{"font-weight":"normal","text-align":"center"}}).inject(o);e.createElement("span",{html:d.placeHolderSnd+" "}).inject(r),e.createElement("span",{class:"fonticon fonticon-list-filter"}).inject(r);var s={identifier:"r3mDataGridView",treeDocument:u,defaultColumnDef:{width:"auto",height:"auto",editableFlag:!1},columns:f,rowSelection:"multiple",cellSelection:{defaultValue:"none"},rowGroupingEnabledFlag:!1,sortModel:[{dataIndex:"tree",sort:"asc"}],rowDragEnabledFlag:!0,allowUnsafeHTMLContent:!1,cellDragEnabledFlag:!0,activateAllCellsRenderedEventFlag:!0,placeholder:o,recId:"r3mValidationList",onContextualEvent:function(e){if(e){var t=[],n=e.cellInfos;if(e.collectionView&&n)if(-1===n.rowID&&-1!==n.columnID){let n=p.layout.getDataIndexFromColumnIndex(e.cellInfos.columnID);"tree"===n&&(n="label");var i=["typeDisp","maturityDisp","validStateDisp","analysisStateDisp","validStateWarning","owner"].indexOf(n)>-1?"set":"stringRegexp";if(u.getFilterManager().getFilters().hasOwnProperty(n)){var a=u.getFilterManager().getFilters()[n];a&&a.defaultFilterModel&&(a.defaultFilterModel=[])}else u.getFilterManager().setPropertyFilterModel(n,{filterId:i});(t=e.collectionView.buildDefaultContextualMenu(e,{pin:!0,firstColumnsVisibility:!1,sizeColumnToFit:!0,columnsManagement:!1})).push({type:"PushItem",title:d.mnuExpandAllRows,icon:{iconName:"flow-tree-expand-down",fontIconFamily:c},action:{callback:function(){u.withTransactionUpdate(function(){Object.values(m).forEach(function(e){e.expandAll()})})}}}),t.push({type:"PushItem",title:d.mnuCollapseAllRows,icon:{iconName:"flow-tree-expand-up",fontIconFamily:c},action:{callback:function(){u.withTransactionUpdate(function(){Object.values(m).forEach(function(e){e.collapseAll()})})}}}),t.push({type:"SeparatorItem",title:""}),"label"!==n&&t.push({type:"PushItem",title:d.mnuHideCol,action:{callback:function(){p.layout.setColumnVisibleFlag(p.layout.getDataIndexFromColumnIndex(e.cellInfos.columnID),!1,{isUserInteraction:!0})}}}),t.push({type:"SeparatorItem",title:""}),t.push({type:"PushItem",title:d.mnuCustomView,action:{callback:l.bind(e.collectionView)}})}else if(-1!==n.columnID&&-1!==n.rowID){var o=p.getNodesXSO().get();o.some(function(e){return e.canBeExpanded()&&(!e.isExpanded()||e.getAllDescendants().some(function(e){return e.canBeExpanded()&&!e.isExpanded()}))})&&t.push({type:"PushItem",title:d.mnuExpandAll,icon:{iconName:"flow-tree-expand-down",fontIconFamily:c},action:{callback:function(){u.withTransactionUpdate(function(){p.getNodesXSO().get().forEach(function(e){e.expandAll()})})}}}),o.some(function(e){return e.canBeExpanded()&&(e.isExpanded()||e.getAllDescendants().some(function(e){return e.canBeExpanded()&&e.isExpanded()}))})&&t.push({type:"PushItem",title:d.mnuCollapseAll,icon:{iconName:"flow-tree-expand-up",fontIconFamily:c},action:{callback:function(){u.withTransactionUpdate(function(){p.getNodesXSO().get().forEach(function(e){e.collapseAll()})})}}}),t.length&&t.push({type:"SeparatorItem"});let e=E(),n=j(),i=O();(e&&e.length||n&&n.length||i&&i.length)&&t.push({type:"PushItem",title:d.mnuRelations,icon:{iconName:"object-related",family:c},action:{callback:M}}),n&&n.length&&t.push({type:"PushItem",title:d.mnuMaturity,icon:{iconName:"collaborative-lifecycle-management",family:c},action:{callback:D}}),i&&i.length&&t.push({type:"PushItem",title:d.mnuValidation,icon:{iconName:"check",family:c},action:{callback:k}})}return t}}};Object.keys(x).forEach(function(e){s[e]=x[e]}),x=null,(p=new a(s)).getContent().addClassName(s.identifier),window.__karma__&&(p.layout.addCellCoordinates=!0);var g=p.getNodesXSO();g.options.getElementID=void 0,g.onPostAdd(Y),g.onPostRemove(Z),p.addEventListener("DSpointerhit",function(e,t){e&&e.multipleHitCount>1&&t&&t.columnID>=0&&t&&t.rowID>=0&&b()}),u.getFilterManager().subscribe("filterModelChange",function(){setTimeout(function(){let t=e.clone(u.getFilterManager().filterModel,!0);t=Object.keys(t).reduce((e,n)=>(t[n].filterModel&&Object.keys(t[n].filterModel).length>0&&(e[n]=t[n]),e),{}),localStorage.setItem("r3mGridFilters",JSON.stringify({filterModel:t})),ee()},10)}),u.getModelEvents().subscribe({event:"sortChildren"},function(){setTimeout(function(){ee()},10)});var h=e.createElement("div",{class:"r3mPanel wux-windows-window-maincontent wux-element-contentbox"}).inject(C),w=e.createElement("div",{class:"wux-windows-window-header wux-element-contentbox"}).inject(h);p.setToolbar({entries:[{id:"listFilter",dataElements:{typeRepresentation:"functionIcon",icon:{iconName:"list-filter",fontIconFamily:c},position:"near",value:function(){require(["DS/Controls/Button","DS/Windows/Dialog","DS/Controls/Toggle","DS/Controls/ButtonGroup"],function(i,l,a,o){let r,s,c=e.createElement("div"),u=v(),p=e.createElement("div").inject(c);e.createElement("span",{class:"fonticon fonticon-3ds-who"}).inject(p),e.createElement("label",{text:d.pnlOwner,class:"r3mFilterOwner",styles:{"margin-left":"2px"}}).inject(p),p=e.createElement("div",{styles:{"margin-left":"20px"}}).inject(c);var f=new o({type:"radio"}).inject(p);f.addChild(new a({label:d.pnlMe,value:0,type:"radio",checkFlag:0===u.owner})),f.addChild(new a({label:d.pnlOrga,value:1,type:"radio",checkFlag:1===u.owner})),f.addChild(new a({label:d.pnlAll,value:2,type:"radio",checkFlag:2===u.owner})),p=e.createElement("div").inject(c),e.createElement("span",{class:"fonticon fonticon-3ds-what"}).inject(p),e.createElement("label",{text:d.pnlMaturity,class:"r3mFilterMaturity",styles:{"margin-left":"2px","margin-top":"10px"}}).inject(p),p=e.createElement("div",{styles:{"margin-left":"20px"}}).inject(c);var g=new a({label:d.pnlReleased,value:"idReleased",type:"checkbox",checkFlag:1===u.released}).inject(p),m=new a({label:d.pnlObsolete,value:"idObsolete",type:"checkbox",checkFlag:1===u.obsolete}).inject(p);p=e.createElement("div").inject(c),e.createElement("span",{class:"fonticon fonticon-3ds-what"}).inject(p),e.createElement("label",{text:d.pnlType,class:"r3mFilterType",styles:{"margin-left":"2px","margin-top":"10px"}}).inject(p),p=e.createElement("div",{styles:{"margin-left":"20px"}}).inject(c);var h=new a({label:d.pnlRvw,value:"idRvw",type:"checkbox",checkFlag:1===u.rvw}).inject(p),w=new a({label:d.pnlIsr,value:"idIsr",type:"checkbox",checkFlag:1===u.isr}).inject(p),b=new a({label:d.pnlMsr,value:"idMsr",type:"checkbox",checkFlag:1===u.msr}).inject(p),x=new a({label:d.pnlMkp,value:"idMkp",type:"checkbox",checkFlag:1===u.mkp}).inject(p);function S(e){return Array.isArray(e.value)?e.value[0]:e.checkFlag?1:0}function I(){n.removeResizeListener(C),r.destroy()}var M=new i({emphasize:"primary",label:d.pnlOK,onClick:function(){I(),V.total.length=V.completed.length=V.failed.length=0,y({rvw:S(h),isr:S(w),mkp:S(x),msr:S(b),owner:S(f),released:S(g),obsolete:S(m)})}}),E=new i({label:d.pnlCancel,onClick:I});r=e.createElement("div",{class:"wux-windows-modalDialog",styles:{}}).inject(C),(s=new l({title:d.pnlTitle,ensureHeightDefinitionOnHierarchy:!0,content:c,resizableFlag:!0,height:345,position:{of:C,constraint:C},buttons:{Cancel:E,Ok:M}})).elements.container.inject(r),s.addEventListener("close",I),t(s.elements.container,C),n.addResizeListener(C,function(){t(s.elements.container,C)})})}}},{id:"sidePanel",dataElements:{typeRepresentation:"functionIcon",icon:{iconName:"info",fontIconFamily:c},position:"far",value:b}}]}).inject(w);var I=e.createElement("div",{class:"wux-windows-window-content wux-element-contentbox"}).inject(h);p.inject(I),n.addEventOnElement(h,h,"dimensionsChanged",function(){var e=window.getComputedStyle(I),t=e?e.getPropertyValue("padding-top"):"";t=""===t?0:parseInt(t,10);var n=e?e.getPropertyValue("padding-bottom"):"";n=""===n?0:parseInt(n,10);var i=w.offsetHeight+t+n;I.setStyle("height",i?"calc(100% - "+i+"px)":"100%")}),p.buildStatusBar(_)}()}})});
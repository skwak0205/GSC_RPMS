define("DS/MPFPortfolioCardComponent/PortfolioCardHeader",["UWA/Class/View","UWA/Core","DS/MPFServices/ObjectService","DS/MPFPortfolioModel/PortfolioModel","i18n!DS/MPFPortfolioCardComponent/assets/nls/PortfolioCardComponent","css!DS/MPFPortfolioCardComponent/MPFPortfolioCardComponent"],function(t,o,e,r,i){"use strict";var n,s={MORE_INFORMATION:"moreInformation"};return(n=t.extend({className:"mpf-portfolio-card-header",setup:function(t){t||(t={}),this._parent(t),this._checkPrototypes(t),this.portfolio=t.portfolio,this.productNameContainer=this._createProductNameContainer(),this.platformLabel=this._createPlatformLabelContainer()},render:function(){return this.container.setContent([this.productNameContainer,this.platformLabel]),this},_createPlatformLabelContainer:function(){return o.createElement("div",{class:"mpf-portfolio-card-header-platform",html:i.get("includingPlatform")})},_createProductNameContainer:function(){return o.createElement("div",{class:"mpf-portfolio-card-header-product-name",html:[this.portfolio.getProductName(),this._createTooltip()]})},_createTooltip:function(){var t=this;return o.createElement("span",{class:"fonticon fonticon-info",events:{click:function(){t.dispatchEvent(s.MORE_INFORMATION)}}})},_checkPrototypes:function(t){e.requiredOfPrototype(t.portfolio,r,"options.offer must be a PortfolioModel")}})).Events=Object.freeze(s),n}),define("DS/MPFPortfolioCardComponent/PortfolioCardFooter",["UWA/Core","UWA/Event","UWA/Class/View","DS/UIKIT/Input/Button","DS/MPFServices/ObjectService","DS/MPFPortfolioModel/PortfolioModel","i18n!DS/MPFPortfolioCardComponent/assets/nls/PortfolioCardComponent","css!DS/MPFPortfolioCardComponent/MPFPortfolioCardComponent"],function(t,o,e,r,i,n,s){"use strict";var a,c={BUY:"buy"};return(a=e.extend({className:"mpf-portfolio-card-footer",setup:function(t){t||(t={}),this._parent(t),this._checkPrototypes(t),this.portfolio=t.portfolio,this.worldOfferContainer=this._getWorldOfferContainer(),this.priceContainer=this._getPriceContainer(),this.dateContainer=this._getDateContainer(),this.taxContainer=this._getTaxContainer(),this.periodicityLabel=this._getPeriodicityLabel(),this.perMonthLabel=this._getPerMonthLabel(),this.buyButton=this._createBuyButton()},render:function(){var t=[this.dateContainer,this._getSubscriptionsContainer()];return this.container.setContent(t),this},_getSubscriptionsContainer:function(){return t.createElement("div",{class:"mpf-portfolio-card-subscriptions",html:[this.periodicityLabel,this.priceContainer,this.perMonthLabel,this.taxContainer,this.buyButton]})},_createBuyButton:function(){var t=this;return new r({className:"primary",value:s.get("buyNow"),events:{onClick:function(e){o.stopPropagation(e),t.dispatchEvent(c.BUY)}}})},_getWorldOfferContainer:function(){return t.createElement("div",{class:"mpf-subscriptions-portfolio-message-world-offer",html:[t.createElement("span",{text:"3D"}),"EXPERIENCE ",t.createElement("span",{text:"World Offer"})]})},_getPeriodicityLabel:function(){return t.createElement("div",{class:"mpf-portfolio-card-subscriptions-label",text:s.get("subsInfo")})},_getPerMonthLabel:function(){return t.createElement("div",{class:"mpf-portfolio-card-subscriptions-month",text:s.get("perMonth")})},_getTaxContainer:function(){return t.createElement("div",{class:"mpf-portfolio-card-subscriptions-tax",text:s.get("taxExcl")})},_getDateContainer:function(){var o=new Date(2020,3,1);if(Date.now()-o<0)return t.createElement("div",{class:"mpf-subscriptions-portfolio-date",text:s.get("untilMarch")})},_getPriceContainer:function(){var o,e,r;return o=this.portfolio.getPrice(),r=(100-parseFloat(this.portfolio.getDiscountToDisplay()))/100,e=parseFloat(o*r).toLocaleString("fr-FR",{style:"currency",currency:this.portfolio.getCurrency()}),t.createElement("div",{class:"mpf-price-portfolio",text:e})},_checkPrototypes:function(t){i.requiredOfPrototype(t.portfolio,n,"options.offer must be a PortfolioModel")}})).Events=Object.freeze(c),a}),define("DS/MPFPortfolioCardComponent/PortfolioCardBody",["UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFPortfolioModel/PortfolioModel","DS/MPFView/EmptyView","i18n!DS/MPFPortfolioCardComponent/assets/nls/PortfolioCardComponent","css!DS/MPFPortfolioCardComponent/MPFPortfolioCardComponent"],function(t,o,e,r,i){"use strict";return t.extend({className:"mpf-portfolio-card-body",setup:function(t){t||(t={}),this._parent(t),this._checkPrototypes(t),this.portfolio=t.portfolio,this.serviceView=t.serviceView||r.getInstance()},render:function(){return this.container.setContent(this.serviceView.render()),this},_checkPrototypes:function(t){o.requiredOfPrototype(t.portfolio,e,"options.offer must be a PortfolioModel")}})}),define("DS/MPFPortfolioCardComponent/PortfolioCardComponent",["UWA/Class/View","UWA/Core","DS/MPFServices/ObjectService","DS/MPFPortfolioModel/PortfolioModel","DS/MPFPortfolioCardComponent/PortfolioCardHeader","DS/MPFPortfolioCardComponent/PortfolioCardBody","DS/MPFPortfolioCardComponent/PortfolioCardFooter","i18n!DS/MPFPortfolioCardComponent/assets/nls/PortfolioCardComponent","css!DS/MPFPortfolioCardComponent/MPFPortfolioCardComponent"],function(t,o,e,r,i,n,s,a){"use strict";var c,l={BUY:"buy",MORE_INFORMATION:"moreInformation"};return(c=t.extend({className:"mpf-portfolio-card",setup:function(t){t||(t={}),this._parent(t),this._checkPrototypes(t),this.portfolio=t.portfolio,this.serviceView=t.serviceView,this.displayFooter=!1!==t.displayFooter,this.header=this._createHeader(),this.body=this._createBody(),this.footer=this._createFooter()},render:function(){var t=[];return t.push(this.header.render()),t.push(this.body.render()),this.displayFooter&&t.push(this.footer.render()),this.container.setContent(t),this},onMoreInformation:function(){this.dispatchEvent(l.MORE_INFORMATION,{portfolio:this.portfolio})},_dispatchBuyEvent:function(){this.dispatchEvent(l.BUY,{productTrigram:this.portfolio.getProductTrigram(),licensorId:this.portfolio.getLicensorId()})},_createFooter:function(){var t;return t=new s({portfolio:this.portfolio}),this.listenTo(t,s.Events.BUY,this._dispatchBuyEvent.bind(this)),t},_createBody:function(){return new n({serviceView:this.serviceView,portfolio:this.portfolio})},_createHeader:function(){var t;return t=new i({portfolio:this.portfolio}),this.listenTo(t,i.Events.MORE_INFORMATION,this.onMoreInformation.bind(this)),t},_checkPrototypes:function(t){e.requiredOfPrototype(t.portfolio,r,"options.portfolio must be a PortfolioModel")}})).Events=Object.freeze(l),c});
define("DS/MPFAddressModel/AddressDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],function(e,t){"use strict";return t.extend({init:function(e){this._parent(e,"/mdpeoplecompany/postal-addresses")},urlGet:function(e){return this._parent(e,{expand:["country"]})}})}),define("DS/MPFAddressModel/AddressModel",["DS/MPFModel/MPFModel","DS/MPFModel/ModelValidator","i18n!DS/MPFAddressModel/assets/nls/AddressModel"],(e,t,r)=>{"use strict";const s={},o={};s.LINE0="addressLine0",s.LINE1="addressLine1",s.LINE2="addressLine2",s.LINE3="addressLine3",s.LINE4="addressLine4",s.CITY="city",s.COUNTY="county",s.STATE="state",s.POSTAL_CODE="postalCode",s.COUNTRY="country",s.IS_SHIP_TO="isShipTo",s.IS_BILL_TO="isBillTo",s.PHONE_NUMBER="phoneNumber",o[s.LINE1]="",o[s.LINE2]="",o[s.LINE3]="",o[s.LINE4]="",o[s.CITY]="",o[s.COUNTY]="",o[s.STATE]="",o[s.POSTAL_CODE]="",o[s.COUNTRY]="DEFAULT",o[s.IS_SHIP_TO]="",o[s.IS_BILL_TO]="";const n=e.extend({setup(e,r){this.constraints=r.constraints||null,this._parent(e,r),this.validator=new t({model:this,keyAttribute:s.COUNTRY})},defaults:o,parse(e){var t=e.country;return"object"==typeof t?e.country=t["Country Code (3 Letter)"]:"string"==typeof t&&(e.country=t.split("/").pop()),e.postalCode=e.zipcode,delete e.zipcode,e},toJSON(e){var t=this._parent(e);return t.zipcode=t.postalCode,delete t.postalCode,delete t.parentResourceId,t},validate(e){return this.validator.validate(e)},isEmpty(){const e=this.omit();return 0===Object.keys(e).filter(t=>{const r=e[t],o=void 0!==r,n=null!==r,d=""!==r,i=!(t===s.COUNTRY&&"DEFAULT"===r);return o&&n&&d&&i}).length},isShipTo(){return"TRUE"===this.get(s.IS_SHIP_TO)},isBillTo(){return"TRUE"===this.get(s.IS_BILL_TO)},getLine1(){return this.get(s.LINE1)},getLine2(){return this.get(s.LINE2)},getLine3(){return this.get(s.LINE3)},getLine4(){return this.get(s.LINE4)},getCity(){return this.get(s.CITY)},getCounty(){return this.get(s.COUNTY)},getState(){return this.get(s.STATE)},getPostalCode(){return this.get(s.POSTAL_CODE)},getCountry(){return this.get(s.COUNTRY)}});return n.Fields=Object.freeze(s),n}),define("DS/MPFAddressModel/AddressSaveError",[],function(){"use strict";function e(t,r,s){var o=new Error(t,r,s);return Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,e),o}return e.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,Error):e.__proto__=Error,e}),define("DS/MPFAddressModel/PersonAddressDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],function(e,t){"use strict";return t.extend({init:function(e,t){this._parent(e,"/mdpeople/people/{0}/postal-addresses",t)},buildPath:function(t){return e.String.format(this.resourcePath,t.parentResourceId)},urlPut:t.delegate,doPut:t.delegate})}),define("DS/MPFAddressModel/PublicAddressDataProxy",["DS/MPFError/NotImplementedError","DS/MPFDataProxy/DataProxy"],function(e,t){"use strict";return t.extend({init:function(e){this._parent(e,"/mdpeoplecompany/public/postal-addresses")},urlPost:e.emit,urlPut:e.emit,urlDelete:e.emit,urlPatch:e.emit,doPost:e.emit,doPut:e.emit,doDelete:e.emit,doPatch:e.emit})}),define("DS/MPFAddressModel/MeAddressDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy"],function(e,t){"use strict";return t.extend({init:function(e){this._parent(e,"/me/postal-addresses")}})}),define("DS/MPFAddressModel/CompanyAddressDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFAddressModel/AddressDataProxy"],function(e,t,r){"use strict";return t.extend({init:function(e){this._parent(e,"/mdpeoplecompany/companies/{0}/postal-addresses",new r(e))},buildPath:function(t){var r;return r=t.parentResourceId||t.collection.parentResourceId,e.format(this.resourcePath,r)},urlGet:function(e){return this._parent(e,{expand:["country"]})},urlPut:t.delegate,urlPatch:t.delegate,urlDelete:t.delegate})}),define("DS/MPFAddressModel/AddressCollection",["DS/MPFModel/MPFCollection","DS/MPFAddressModel/AddressModel"],function(e,t){"use strict";return e.extend({model:t,setup:function(e,t){this.constraints=t.constraints||null,this._parent(e,t)},create:function(e,t){return(t=t||{}).constraints=this.constraints,e.parentResourceId=this.companyId,this._parent(e,t)},hasBillingAddresses:function(){return this.some(function(e){return e.isBillTo()})},getBillingAddresses:function(e){return this.filter(function(t){return t.isBillTo()&&(!e.country||t.getCountry()===e.country)&&(!e.omitNew||!t.isNew())})}})}),define("DS/MPFAddressModel/ShopAddressDataProxy",["UWA/Core","DS/MPFDataProxy/DataProxy","DS/MPFAddressModel/AddressDataProxy","DS/MPFError/NotImplementedError"],function(e,t,r,s){"use strict";return t.extend({init:function(e){this._parent(e,"/mdshop/shops/{0}/postal-addresses?expand=country",new r(e))},urlGet:function(t){return this.connector.url(e.String.format(this.resourcePath,t.parentResourceId||t.collection.parentResourceId))},urlPost:function(t){return this.connector.url(e.String.format(this.resourcePath,t.parentResourceId||t.collection.parentResourceId))},urlDelete:s.emit,urlPut:s.emit})}),define("DS/MPFAddressModel/AddressFactory",["UWA/Core","UWA/Promise","DS/MPFModelFactory/Factory","DS/MPFAddressModel/AddressModel","DS/MPFAddressModel/AddressCollection","DS/MPFAddressConstraintsModel/AddressConstraintsCollection","DS/MPFAddressModel/AddressDataProxy","DS/MPFAddressModel/CompanyAddressDataProxy","DS/MPFAddressConstraintsModel/AddressConstraintsDataProxy","DS/MPFAddressModel/MeAddressDataProxy","DS/MPFAddressModel/PersonAddressDataProxy","DS/MPFAddressModel/ShopAddressDataProxy","DS/MPFAddressModel/PublicAddressDataProxy"],function(e,t,r,s,o,n,d,i,a,u,c,P,l){"use strict";var h={COMPANY:"company",ME:"me",PERSON:"person",SHOP:"shop",ADDRESS:"address",CONSTRAINTS:"constraints",PUBLIC:"public",company:"company",me:"me",person:"person",shop:"shop",address:"address"},S=r.extend({init:function(e,t){t=t||{},this._parent(e,t),this.addressesConstraints=t.constraints||new n([],{dataProxy:this.getDataProxy(h.CONSTRAINTS)})},whenReady:function(){return this.addressesConstraints.size()>0?t.resolve(this.addressesConstraints):this.addressesConstraints.fetchPromise()},getConstraints:function(){return this.addressesConstraints},createModel:function(e,t,r){return e=e||h.ADDRESS,(r=r||{}).constraints=this.addressesConstraints,this._parent(s,e,t,r)},createCollection:function(e,t,r){return e=e||h.ADDRESS,(r=r||{}).modelDataProxy=this.getDataProxy(h.ADDRESS),r.constraints=this.addressesConstraints,this._parent(o,e,t,r)},getDataProxy:function(e){var t=null;return e===h.COMPANY||"companyAddress"===e?(this.dataProxies[h.COMPANY]=this.dataProxies[h.COMPANY]||new i(this.connector,this.getDataProxy("address")),t=this.dataProxies[h.COMPANY]):e===h.ADDRESS?(this.dataProxies[h.ADDRESS]=this.dataProxies[h.ADDRESS]||new d(this.connector),t=this.dataProxies[h.ADDRESS]):e===h.CONSTRAINTS?(this.dataProxies[h.CONSTRAINTS]=this.dataProxies[h.CONSTRAINTS]||new a(this.connector),t=this.dataProxies[h.CONSTRAINTS]):e===h.ME?(this.dataProxies[h.ME]=this.dataProxies[h.ME]||new u(this.connector),t=this.dataProxies[h.ME]):e===h.PERSON?(this.dataProxies[h.PERSON]=this.dataProxies[h.PERSON]||new c(this.connector,this.getDataProxy("address")),t=this.dataProxies[h.PERSON]):e===h.SHOP?(this.dataProxies[h.SHOP]=this.dataProxies[h.SHOP]||new P(this.connector),t=this.dataProxies[h.SHOP]):e===h.PUBLIC&&(this.dataProxies[h.PUBLIC]=this.dataProxies[h.PUBLIC]||new l(this.connector),t=this.dataProxies[h.PUBLIC]),t}});return S.Types=Object.freeze(h),S});
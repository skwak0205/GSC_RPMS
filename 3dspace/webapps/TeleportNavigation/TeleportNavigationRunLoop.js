define("DS/TeleportNavigation/TeleportNavigationRunLoop",["UWA/Class"],function(i){"use strict";var t=i.extend({init:function(){this._running=!1,this._subscriber=null,this._animationFrameRequestID=null,this._startTime=0,this._lastTime=0},setup:function(i){this._subscriber=i.subscriber,this._animationLoopCB=i.animationLoopCB,this._animationLoopStartCB=i.animationLoopStartCB,this._animationLoopStopCB=i.animationLoopStopCB,this._animationLoopErrorCB=i.animationLoopErrorCB,this._setAnimationLoopCB(i.animationLoopCB)},_setAnimationLoopCB:function(i){if(null!==i){var t=this;this._runloop=function(){!0===t._running&&(t._animationFrameRequestID=requestAnimationFrame(t._runloop));var i=(new Date).getTime();t._subscriber?t._animationLoopCB.apply(t._subscriber,[{time:i-t._startTime,deltaTime:i-t._lastTime}]):t._animationLoopCB.apply({time:i-t._startTime,deltaTime:i-t._lastTime}),t._lastTime=i}}},start:function(){this._startTime=(new Date).getTime(),this._lastTime=(new Date).getTime(),this._running=!0,this._runloop(),this._animationLoopStartCB&&this._animationLoopStartCB()},stop:function(){this._running=!1,cancelAnimationFrame(this._animationFrameRequestID),this._animationLoopStopCB&&this._animationLoopStopCB()}});return UWA.namespace("DS/TeleportNavigation/TeleportNavigationRunLoop",t)});
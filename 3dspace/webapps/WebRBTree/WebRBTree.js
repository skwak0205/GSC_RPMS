define("DS/WebRBTree/WebRBIterator",[],function(){"use strict";var t=function(t){this._tree=t,this._ancestors=[],this._cursor=null};return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var r;if(null===this._cursor.right)do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===r);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var r;if(null===this._cursor.left)do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===r);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}),define("DS/WebRBTree/WebRBNode",[],function(t){"use strict";var r=function(t){this.data=t,this.left=null,this.right=null,this.red=!0};return r.prototype.get_child=function(t){return t?this.right:this.left},r.prototype.set_child=function(t,r){t?this.right=r:this.left=r},r}),define("DS/WebRBTree/WebRBTreeBase",["DS/WebRBTree/WebRBIterator"],function(t){"use strict";var r=function(){};return r.prototype.clear=function(){this._root=null,this.size=0},r.prototype.find=function(t){for(var r=this._root;null!==r;){var e=this._comparator(t,r.data);if(0===e)return r.data;r=r.get_child(e>0)}return null},r.prototype.findIter=function(t){for(var r=this._root,e=this.iterator();null!==r;){var i=this._comparator(t,r.data);if(0===i)return e._cursor=r,e;e._ancestors.push(r),r=r.get_child(i>0)}return null},r.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},r.prototype.upperBound=function(t){var r=this._comparator;return this._bound(t,function(t,e){return r(e,t)})},r.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},r.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},r.prototype.iterator=function(){return new t(this)},r.prototype.each=function(t){for(var r,e=this.iterator();null!==(r=e.next());)t(r)},r.prototype.reach=function(t){for(var r,e=this.iterator();null!==(r=e.prev());)t(r)},r.prototype._bound=function(t,r){for(var e=this._root,i=this.iterator();null!==e;){var o=this._comparator(t,e.data);if(0===o)return i._cursor=e,i;i._ancestors.push(e),e=e.get_child(o>0)}for(var s=i._ancestors.length-1;s>=0;--s)if(r(t,(e=i._ancestors[s]).data)>0)return i._cursor=e,i._ancestors.length=s,i;return i._ancestors.length=0,i},r}),define("DS/WebRBTree/WebRBTree",["DS/WebRBTree/WebRBNode","DS/WebRBTree/WebRBTreeBase"],function(t,r){"use strict";var e=function(t){this._root=null,this._comparator=t,this.size=0};return(e.prototype=Object.create(r.prototype)).insert=function(r){var e=!1;if(null===this._root)this._root=new t(r),e=!0,this.size++;else{var i=new t(void 0),o=0,s=0,n=null,h=i,l=null,u=this._root;for(h.right=this._root;;){if(null===u?(u=new t(r),l.set_child(o,u),e=!0,this.size++):this.is_red(u.left)&&this.is_red(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1),this.is_red(u)&&this.is_red(l)){var _=h.right===n;u===l.get_child(s)?h.set_child(_,this.single_rotate(n,!s)):h.set_child(_,this.double_rotate(n,!s))}var a=this._comparator(u.data,r);if(0===a)break;s=o,o=a<0,null!==n&&(h=n),n=l,l=u,u=u.get_child(o)}this._root=i.right}return this._root.red=!1,e},e.prototype.remove=function(r){if(null===this._root)return!1;var e=new t(void 0),i=e;i.right=this._root;for(var o=null,s=null,n=null,h=1;null!==i.get_child(h);){var l=h;s=o,o=i,i=i.get_child(h);var u=this._comparator(r,i.data);if(h=u>0,0===u&&(n=i),!this.is_red(i)&&!this.is_red(i.get_child(h)))if(this.is_red(i.get_child(!h))){var _=this.single_rotate(i,h);o.set_child(l,_),o=_}else if(!this.is_red(i.get_child(!h))){var a=o.get_child(!l);if(null!==a)if(this.is_red(a.get_child(!l))||this.is_red(a.get_child(l))){var c=s.right===o;this.is_red(a.get_child(l))?s.set_child(c,this.double_rotate(o,l)):this.is_red(a.get_child(!l))&&s.set_child(c,this.single_rotate(o,l));var d=s.get_child(c);d.red=!0,i.red=!0,d.left.red=!1,d.right.red=!1}else o.red=!1,a.red=!0,i.red=!0}}return null!==n&&(n.data=i.data,o.set_child(o.right===i,i.get_child(null===i.left)),this.size--),this._root=e.right,null!==this._root&&(this._root.red=!1),null!==n},e.prototype.is_red=function(t){return null!==t&&t.red},e.prototype.single_rotate=function(t,r){var e=t.get_child(!r);return t.set_child(!r,e.get_child(r)),e.set_child(r,t),t.red=!0,e.red=!1,e},e.prototype.double_rotate=function(t,r){return t.set_child(!r,this.single_rotate(t.get_child(!r),!r)),this.single_rotate(t,r)},e});
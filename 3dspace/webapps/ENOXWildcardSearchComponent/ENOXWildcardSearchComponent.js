define("DS/ENOXWildcardSearchComponent/ENOXdsWebWorker",[],function(){"use strict";var WorkerClass=function(workerScriptObj){if("undefined"!=typeof Worker){var blob=new Blob([workerScriptObj.textContent],{type:"text/javascript"});window.URL&&(this.worker=new Worker(window.URL.createObjectURL(blob)),this.worker.listenerCallbackList=[]),this.status=!0}else eval(workerScriptObj.textContent),this.listenerCallbackList=[],this.status=!1,this.postMessage=function(e){for(var r=0;r<this.listenerCallbackList.length;r++){(0,this.listenerCallbackList[r])(e)}};return this};return WorkerClass.prototype={dispatchMessage:function(e){if(!0===this.status)this.worker.postMessage(JSON.stringify(e));else if(this.onmessage){var r={};r.data=e,this.onmessage(r)}},registerListener:function(e){!0===this.status?(this.worker.listenerCallbackList.push(e),1===this.worker.listenerCallbackList.length&&(this.worker.onmessage=function(e){for(var r=0;r<this.listenerCallbackList.length;r++){(0,this.listenerCallbackList[r])(e.data)}})):this.listenerCallbackList.push(e)},destroyWorker:function(){!0===this.status&&this.worker.terminate()}},WorkerClass}),define("DS/ENOXWildcardSearchComponent/ENOXdsWebWorkerJob",[],function(){"use strict";var e={};return function(r,t){if(r.jobName&&!e[r.jobName]){var s="this.onmessage ="+r.onmessage.toString(),o=document.createElement("script"),n=document.createTextNode(s);return o.appendChild(n),o.setAttribute("id","workerID"),o.setAttribute("type","javascript/ds-script"),(t||document.body).appendChild(o),e[r.jobName]=o,o}return e[r.jobName]}}),define("DS/ENOXWildcardSearchComponent/ENOXWildcardSearchComponent",["DS/ENOXWildcardSearchComponent/ENOXdsWebWorker","DS/ENOXWildcardSearchComponent/ENOXdsWebWorkerJob"],function(e,r){"use strict";function t(e,r){var t="",s=/[\;\:\.\,\/\|\@\!\?\%\#\+\=\-\^\~\$\&\'\(\)\[\]\{\}\*]/;if(e=(e=e.replace(/\\{2}/g," ")).replace(/\s{2,}/g," "),r)for(var o=0;o<e.length;o++)s.test(e[o])?t=t+"\\"+e[o]:"\\"==e[o]?'"'==e[o+1]?t+=e[o]:t=t+"\\"+e[o]:" "==e[o]?t+="\\s":t+=e[o];else for(o=0;o<e.length;o++)s.test(e[o])||" "==e[o]?"\\"!==e[o-1]?"*"==e[o]?t+=".*?":t+="|":t+=e[o]:"\\"==e[o]?s.test(e[o+1])||'"'==e[o+1]?t+=e[o]:t+="|":t+=e[o];return t=t.replace(/\|{2,}/g," ")}var s=function(){};return s.prototype.search=function(s,o,n,a){this.searchWorker&&null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=null;var i=r({onmessage:function(e){for(var r=JSON.parse(e.data),t=r.dataArray,s=[],o=r.keysToExclude?r.keysToExclude:[],n="",a=new RegExp(r.query.normal),i=new RegExp(r.query.lower),l=0;l<t.length;l++)for(var c=Object.keys(t[l]),h=0;h<c.length;h++)if(-1==o.indexOf(c[h])&&"string"==typeof t[l][c[h]]&&(t[l][c[h]]&&(n=t[l][c[h]]),-1!==n.search(a)||-1!==n.toLowerCase().search(i))){s.push(t[l]);break}this.postMessage(s)},jobName:"ENOXSearch"});null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=new e(i),this.searchWorker.registerListener(n);var l={dataArray:o,query:s?function e(r,s){s&&s.normal&&s.lower||(s||(s={}),s.normal||(s.normal=""),s.lower||(s.lower=""));var o=r,n="";if(-1!==o.indexOf('"')&&(0==o.indexOf('"')||0!==o.indexOf('"')&&o.indexOf('"')-o.indexOf('\\"')!=1)){o.indexOf('"')>0&&(n=t(n=o.substr(0,o.indexOf('"')),!1),s.normal=s.normal+n,s.lower=s.lower+n.toLowerCase(),o=o.substr(o.indexOf('"')));for(var a=0,i=1;i<o.length;i++)'"'==o[i+1]&&"\\"!==o[i]&&(a=i,i=o.length);0!==a?(n=t(n=o.substr(1,a),!0),s.normal=s.normal+n,s.lower=s.lower+n,o=o.substr(a+2)):(n=t(n=o,!1),s.normal=s.normal+n,s.lower=s.lower+n.toLowerCase(),o="")}else-1!==o.indexOf('"')&&0!==o.indexOf('"')&&o.indexOf('"')-o.indexOf('\\"')==1?(n=t(n=o.substr(0,o.indexOf('"')+1),!1),s.normal=s.normal+n,s.lower=s.lower+n.toLowerCase(),o=o.substr(o.indexOf('"')+1)):(n=t(n=o,!1),s.normal=s.normal+n,s.lower=s.lower+n.toLowerCase(),o="");return o.length>0&&'"'!==o?e(o,s):s}(s.trim()):"",keysToExclude:a};this.searchWorker.dispatchMessage(l)},s});
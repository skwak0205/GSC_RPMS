define("DS/BksSelectorWebInWin/BksSelectorWebInWin",[],()=>{for(var e in require(["DS/UWPClientCode/PublicAPI"]),window.onReadyFolderSelector=function(e){require(["DS/BksSelectorWebInWin/FolderSelectorWebInWin"],function(){console.log("Folder Selector onReady >>>> inputData = "),console.log(e.params)})},window.launchFolderSelector=function(e){window.FolderSelector="string"==typeof e?JSON.parse(e):e,onReadyFolderSelector(window.FolderSelector)},window.exportCmd={selectObjects:function(e){window.FolderActive&&FolderActive.selectObjects(e?e.split(","):[])}},exportCmd)window[e]=exportCmd[e];var t=function(){"undefined"!=typeof dscef&&dscef.sendString('{"operation":"readyForInit"}')},n={init:()=>{require(["UWA/Widget"],function(e){var t=window.widget=new e;t.addEvent("onLoad",n.onLoad.bind(this)),t.dispatchEvent("onLoad")})},onLoad:function(){"undefined"!=typeof dscef||!location.search.contains("test=true")&&!0!==window.odt||require(["DS/BksStandalone/Standalone"],e=>{var n={authoring:!0,dialogButtons:!0,favoriteButton:!0,selectionMode:["DefaultSingle","ONLYSingle","DefaultMulti"]};!0===window.odt&&(n.simpleOptions=!1),e(n).then(e=>{t(),launchFolderSelector({params:e})})}),t()}};n.init()}),require(["DS/BksSelectorWebInWin/BksSelectorWebInWin"]),define("DS/BksSelectorWebInWin/FolderSelectorWebInWin",["DS/i3DXCompass/Data","DS/PADUtils/PADProbes","DS/PADUtils/PADSettingsMgt","DS/PADUtils/PADUtilsServices","DS/FolderActive/FolderActive","DS/IPClassifyActive/utils/IPClassifyActiveCommunication","DS/IPClassifyActive/utils/WidgetDataProvider"],function(e,t,n,o,i,d,l){var s=window.FolderSelector.params;console.log("Inside FolderSelectorWebInWin"),widget.setValue("noCompass",!0),widget.lang=s.lang,s.userId&&(window.top.dsUserLogin=s.userId),n.setSetting("pad_security_ctx",s.securityContext),s.tenantId&&(n.setSetting("x3dPlatformId",s.tenantId),widget.setValue("x3dPlatformId",s.tenantId));var r=!widget.body;widget.body=widget.body?widget.body:UWA.createElement("div"),widget.body.addClassName("FolderSelector"),widget.body.setStyles({height:"100%",width:"100%"}),e.initialize({myAppsBaseUrl:s.myAppsUrl,userId:s.userId,passportUrl:"",proxyTicketUrl:""});var c=document.body.getElement("#tempDiv");c&&c.remove(),window.top.performance.mark("createWidget_begin"),o.app_initialization(function(){let e={multiSelectionComponent:{withClassify:!1,inputObjects:s.objects},selectionMode:s.selectionMode,authoring:s.authoring,dialogButtons:s.dialogButtons,favoriteButton:s.favoriteButton,couldBeValid:function(e,t,n,o){var i=!1,d=t.getSelectedNodes().length;if(t&&d>0){if(0==n&&d>1)return!1;i=0==o?!t.getRoots()[0].isSelected():1==o?!t.getRoots()[1].isSelected():!t.getRoots()[0].isSelected()&&!t.getRoots()[1].isSelected()}return i},couldBeSelected:function(){return!0}};!0===s.simpleOptions&&(delete e.multiSelectionComponent,delete e.couldBeValid,delete e.couldBeSelected);var t=new i(e);window.FolderActive=t,widget.body.setContent(t.nestedMenuInContext.getMultiSelectorContainer()),r&&widget.body.inject(document.body,"top"),t.nestedMenuInContext.addEvent("onClassifyMultiple",function(e){console.log("onClassifyMultiple published, data = "+e.chosenClasses);var t=l.getEventNameProvider();t&&t.classify&&(d.publish(t.classify,e.chosenClasses,!0),console.log(t.classify))}),t.nestedMenuInContext.addEvent("onSelectorCancel",function(e){console.log("onSelectorCancel published");var t=l.getEventNameProvider();t&&t.cancel&&(d.publish(t.cancel,!0,!0),console.log(t.cancel))}),t.nestedMenuInContext._modelEvents.subscribe({event:"IPActive/NodeSelection/OnChange"},function(){var e=t.nestedMenuInContext.nestedMenu?t.nestedMenuInContext.nestedMenu._treeView:null,n=e?e.getTreeDocument():null;if(n){var o=[],i=[];n.getSelectedNodes().forEach(function(e){o.indexOf(e.id)>-1||(o.push(e.id),i.push({FolderID:e.id,FolderLabel:e.getLabel()}))});var s=l.getEventNameProvider();s&&s.selectionChange&&(d.publish(s.selectionChange,i,!0),console.log(s.selectionChange),console.log(i))}}),d.publish("selectorReady","",!0)}),widget.dispatchEvent("onRefresh"),widget.dispatchEvent("onDestroy"),widget.dispatchEvent("onResize")});
define("DS/CAT3DExpMaterialWeb/extensions/CATE3DXMaterialAsset",["UWA/Core","UWA/Class","UWA/Class/Listener","UWA/Class/Events"],function(e,t,i,r){"use strict";return t.extend(i,r,{init:function(){},Build:function(){this.listenTo(this.QueryInterface("CATI3DExperienceObject"),"ASSET_CHANGED",()=>{this._clearMaterial(),this.dispatchEvent("MATERIAL_CHANGED")})},Dispose:function(){this._clearMaterial()},_clearMaterial:function(){delete this._material,delete this._materialPromise},getMaterial:function(){return this._material?e.Promise.resolve(this._material):this._materialPromise?this._materialPromise:(this._materialPromise=this.QueryInterface("CATI3DXAssetHolder")._resolveAsset().then(e=>this._getMaterialFromAsset(e)).then(e=>(this._material=e,delete this._materialPromise,this._material)).catch(t=>(delete this._materialPromise,e.Promise.reject(t))),this._materialPromise)},_getMaterialFromAsset:function(){return e.Promise.reject(new Error("CATE3DXMaterialAsset._getMaterialFromAsset : Must be implemented by derived class"))},getTextureSize:function(e){var t=this.QueryInterface("CATI3DXAssetHolder")._getCache();if(t&&t[e]&&t[e].texture_size)return{width:t[e].texture_size[0],height:t[e].texture_size[1]}}})}),define("DS/CAT3DExpMaterialWeb/interfaces/CATI3DXMaterialAsset",["UWA/Class","DS/WebComponentModeler/CATWebInterface"],function(e,t){"use strict";return t.singleton({interfaceName:"CATI3DXMaterialAsset",required:{getMaterial:function(){},getTextureSize:function(){}},optional:{}})});
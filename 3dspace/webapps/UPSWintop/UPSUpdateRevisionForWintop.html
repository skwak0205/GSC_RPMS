<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
<head>
  <!-- Application Metas -->
  <title>Update Revision widget</title>
  <meta name="author" content="DS" />
  <meta name="brand" content="CATIA" />
  <meta name="description" content="Update Revision widget" />
  <link rel="stylesheet" href="./UPSWintop.css" />
  <link rel="stylesheet" href="../c/UWA/assets/css/standalone.css" />
  <link rel="stylesheet" href="../UIKIT/UIKIT.css" />

  <!-- AMDLoader -->
  <script src="../AmdLoader/AmdLoader.js"></script>
  <script src="../c/UWA/js/UWA_Standalone_Alone.js"></script>
  <script src="../UIKIT/UIKIT.js"></script>

  <!-- Code -->
  <script type="text/javascript">
    /**
    *	Set the options of the widget
    *	@param {String} options.myAppsBaseUrl - the url to my apps url	
    *	@param {String} [options.userId] - The current id of the user
    *	@param {String} [options.lang] - language of the browser
    */
    var setOptions = function (options) {
        if (!window["COMPASS_CONFIG"]) window["COMPASS_CONFIG"] = {};
        if (options.myAppsBaseUrl) window["COMPASS_CONFIG"].myAppsBaseUrl = options.myAppsBaseUrl;
        if (options.userId) window["COMPASS_CONFIG"].userId = options.userId;
        if (options.lang) window["COMPASS_CONFIG"].lang = options.lang;
    }

    var command;
    function init(jsonIn) {
      require([
        'DS/UPSWintop/UPSUpdateRevisionForWintop' // 'Update Revision' command
      ], function(
        UPSCmdForWintop
      ){
        jsonIn = (typeof jsonIn === "string") ? JSON.parse(jsonIn) : jsonIn;
        command = UPSCmdForWintop.init(jsonIn);
      });
    }

    // Dispatch event when page is loaded to win, so that it can call init function.  
    require(['DS/UPSWintop/UPSWebInWinHelper'], function(UPSWebInWinHelper) {
      widget.addEvent('onLoad', function() {
        UPSWebInWinHelper.sendNotificationToNative('onPageLoaded=true');
      });
    });
  </script>
</head>
<body>
</body>
</html>

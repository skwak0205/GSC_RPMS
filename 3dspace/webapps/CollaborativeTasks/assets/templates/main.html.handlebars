{{!--
    template file for widget frame
    version: 0.10  SCM 29.eno6w_bcc_r418
       history:
   http://dsxproj.matrixone.net/twiki/bin/view/SIXWGOV/R418CollaborativeTasksMainTemplate
 --}}
<style id='respColumnWidth'>{{!--css generated by js goes here--}}</style>
<div class="collaborative-tasks-head">

      <div class="toolbar-container">
            {{!-- Field to add Tasks --}}
            <div class="toolbar-group add-actions">
                  <div class="toolbar add-button"><button class="btn btn-primary"><span class="fonticon fonticon-plus"></span></button></div>
                  <div class="toolbar add-field" id="addTaskDropZone">
                        {{!--add task pop up dialog, this needs to be in the same toolbar as the input field so the width are correct--}}
                        <div id="addExpandedTaskDiv" class="ds-dialog fluid-width">
                              <div class="body">
                                    {{!--recreate detail display view to correctly display error message --}}
                                    <div class="form form-vertical">
                                          <div class="form-group">
                                                <div class="field-group">
                                                      <div class="input-group-wrapper">
                                                            <div class="input-group">
                                                                  <div class="input-element">
                                                                        <textarea id="addExpandedTaskText" class="form-control" rows="3" tabindex="-1"></textarea>
                                                                        <span class="form-control-error-text" />
                                                                  </div>
                                                            </div>
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                              <div class="footer">
                                    <div class="collab-space" title="{{i18n "emxCollaborativeTasks.Label.CollaborativeSpace" "Collaborative Space"}} {{collabSpace}}">
                                          <label>{{i18n "emxCollaborativeTasks.Label.CollaborativeSpace" "Collaborative Space"}}: </label>
                                          <span class="collab-space-name">{{collabSpace}}</span>
                                          <span class="fonticon fonticon-attention" title="{{i18n  "emxCollaborativeTasks.Label.CollaborativeSpaceAttention" "Task will be created in the current context's collab space which is different than the preference setting"}}"></span>
                                    </div>
                                    <div class="actions">
                                          {{!--this is rebuilt using javascript, this text doesn't need to be NLS--}}
                                          <button id="addTask" class="btn btn-primary">{{i18n "emxCollaborativeTasks.Command.Add" "Add"}}</button>
                                          <button id="addAndOpenTask" class="btn btn-default">{{i18n "emxCollaborativeTasks.Command.AddAndOpen" "Add and Open"}}</button>
                                          <button id="closeCreateTask" class="btn btn-default">{{i18n "emxCollaborativeTasks.Command.Close" "Close"}}</button>
                                          <button id="cancelCreateTask" class="btn btn-default">{{i18n "emxCollaborativeTasks.Command.Cancel" "Cancel"}}</button>
                                    </div>
                              </div>
                        </div>
                        {{!--
                        <div class="drop-target">
            			    <input id="addTaskText" type="text" class="form-control drop-target">
                        </div>
                        --}}
                        <div class="drop-target button-group">
                              <div class="input-group">
                                    <span class="input-group-btn"><button id="addTaskButton" class="btn btn-primary"><span class="fonticon fonticon-plus"></span></button></span>
                                    <span class="input-element"><input id="addTaskText" type="text" class="form-control drop-target"></span>
                              </div>
                        </div>
                  </div>
            </div>

            {{!-- Drop Zone for setting scope "e.g.show tasks for this object" --}}
            <div class="toolbar-group context-display">
                  <div class="toolbar" id="contextDropZone">
                        <label>{{i18n "emxCollaborativeTasks.Label.Context" "Context"}}: </label>
                        <div id="scopeIdContainer" class="ds-dialog fluid-width visible">{{!-- scope context controls are injected here at runtime --}}</div>
                  </div>
            </div>

            {{!--buttons or menu depending on width--}}
            <div class="toolbar-group view-actions">
                  <div class="toolbar button-group" id="taskTools">
                        {{!--this is rebuilt using javascript, this text doesn't need to be NLS--}}
                        <button class="btn-default btn">Context<span class="caret"></span></button>
                        <button class="btn-default btn">View<span class="caret"></span></button>
                        <button class="btn-default btn reset"><span class="fonticon fonticon-ccw" title="Reset Local Storage"></button>
                  </div>

                  <div class="toolbar overflow-menu" id="overflowMenu"><span class="fonticon fonticon-dot-3"></span></div>
            </div>
      </div>

</div>
<div class="collaborative-tasks-alert" id="taskAlertDiv">
</div>
<div class="collaborative-tasks-body">
      {{#if isAgile}}
        {{> showHideArrow}}
      {{/if}}
      <div class="collaborative-tasks-content-wrapper">
            <div class="collaborative-tasks-content" id="collaborativeTasksContentDiv">
                  <div class="columns-carrier" style="left: 0%;"> {{!-- initialize inline style so animation works from the start --}}
                        {{!-- Kanban column views go here --}}
                  </div>
                  <button class="btn scroll-left tsk-scroll"><span class="fonticon fonticon-left-open"></span></button>
                  <button class="btn scroll-right tsk-scroll"><span class="fonticon fonticon-right-open"></span></button>
                  <div class="pagination">
                  </div>
            </div>
            <div class="collaborative-tasks-table-view common-grid-view" id="taskTableViewDiv">
            </div>
      </div>
</div>

define("DS/ENOXPageToolBar/js/PageToolBar",["UWA/Class/View","DS/Handlebars/Handlebars","DS/Core/ModelEvents","text!DS/ENOXPageToolBar/html/PageToolBar.html","i18n!DS/ENOXPageToolBar/assets/nls/PageToolBar","css!DS/ENOXPageToolBar/css/PageToolBar","css!DS/UIKIT/UIKIT.css"],function(e,n,t,o,l,i,s){"use strict";var a=n.compile(o),c=!1,m=!1;return e.extend({name:"page-toolbar-view",className:function(){return this.getClassNames("-container")},tagName:"div",domEvents:{"click .welcome-panel":"welcomePanelIconClick","click .information-panel":"informationIconClick","click .mobile-menu":"mobileMenuClick"},init:function(e){for(var n in e._self=this,e.withInformationButton=!1!==e.withInformationButton&&!0!==e.withInformationButton||e.withInformationButton,e.withWelcomePanelButton=!!e.withWelcomePanelButton&&e.withWelcomePanelButton,e.isWelcomePanelCollapsed=!!e.isWelcomePanelCollapsed&&e.isWelcomePanelCollapsed,this._informationOpen=!(!e.informationOriginalState||"open"!==e.informationOriginalState),e._informationOpen=this._informationOpen,this._welcomePanelCollapsed=e.isWelcomePanelCollapsed,this._withWelcomePanelMenuMobile=e.withWelcomePanelButton,e.withWelcomePanelMenuMobile=this._withWelcomePanelMenuMobile,this._modelEvents=e.modelEvents?e.modelEvents:new t,e)this[n]=e[n];this._parent(e),c=!!e.isWelcomePanelCollapsed&&e.isWelcomePanelCollapsed},setup:function(e){var n=this;UWA.is(e.className)&&this.container.addClassName(e.className),e.collapse_nls_name=l.collapse,e.expand_nls_name=l.expand,e.information_nls_name=l.information,this.container.setHTML(a(e)),this._collaspe_expander=n.container.getElement(".welcome-panel"),this._modelEvents.subscribe({event:"top-toolbar-update-body"},function(){}),this._modelEvents.subscribe({event:"welcome-panel-expanded"},function(){var e=n.container.getElement(".welcome-panel");e&&((e=e.getElement(".fonticon")).classList.add("fonticon-expand-left"),e.classList.remove("fonticon-expand-right"),e.setAttribute("title",l.collapse))}),this._modelEvents.subscribe({event:"welcome-panel-collapsed"},function(){var e=n.container.getElement(".welcome-panel");e&&((e=e.getElement(".fonticon")).classList.remove("fonticon-expand-left"),e.classList.add("fonticon-expand-right"),e.setAttribute("title",l.expand))}),this._modelEvents.subscribe({event:"information-panel-visible"},function(){var e=n.container.getElement(".information-panel");e&&(e=e.getElement(".fonticon")).classList.add("selected")}),this._modelEvents.subscribe({event:"information-panel-hidden"},function(){var e=n.container.getElement(".information-panel");e&&(e=e.getElement(".fonticon")).classList.remove("selected")}),this._modelEvents.subscribe({event:"hide-welcomepanel-icon"},function(){var e=n.container.getElement(".welcome-panel"),t=n.container.getElement(".body-content");e&&(e.classList.add("displaynone"),t.classList.add("noleftshift"));var o=n.container.getElement(".mobile-menu");o&&(o.classList.add("displaynone"),t.classList.add("noleftshift"))}),this._modelEvents.subscribe({event:"show-welcomepanel-icon"},function(){var e=n.container.getElement(".welcome-panel"),t=n.container.getElement(".body-content");e&&(e.classList.remove("displaynone"),t.classList.remove("noleftshift"));var o=n.container.getElement(".mobile-menu");o&&(o.classList.remove("displaynone"),t.classList.remove("noleftshift"))})},render:function(e){return this},welcomePanelIconClick:function(){var e=this.container.getElement(".welcome-panel");e&&(e=e.getElement(".fonticon"),c=!e.classList.contains("fonticon-expand-left")),c?this._modelEvents.publish({event:"welcome-panel-expand"}):this._modelEvents.publish({event:"welcome-panel-collapse"})},informationIconClick:function(){var e=this.container.getElement(".information-panel");e&&((e=e.getElement(".fonticon")).classList.contains("selected")?(m=!0,e.classList.remove("selected")):(m=!1,e.classList.add("selected"))),m?this._modelEvents.publish({event:"information-panel-close"}):this._modelEvents.publish({event:"information-panel-open"})},mobileMenuClick:function(){this._modelEvents.publish({event:"welcome-panel-expand"})},getBodyContent:function(){return this.container.getElement(".body-content")}})});
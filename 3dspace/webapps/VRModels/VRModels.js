define("DS/VRModels/ControllerModel",["UWA/Core","DS/Visualization/ThreeJS_DS","DS/WebappsUtils/WebappsUtils","DS/Visualization/Node3D","DS/Visualization/ModelLoader"],function(e,o,t,l,d){"use strict";return e.Class.extend({init:function(e){this._modelNode=new l("ControllerModel"),this._modelNode.intersectable=!1,this._loaded=!0,this._modelPath=null,e.modelPath?this._modelPath=modelPath:e.controllerType&&(this._modelPath=this.getControllerTypeDefaultPath(e.controllerType)),this._loadModel(e.callback)},getNode:function(){return this._modelNode},changeModel:function(e){e&&(this._modelPath=e,this._loadModel())},_loadModel:function(e){if(this._modelPath){var o=new d,t=this;o.setOnLoadedCallback(function(){var o=t._modelNode.getChildren()[0];o&&(o.setMaterialMode(!0),o.excludeFromHighlight(!0,!0),o.intersectable=!1,o.setShadow(!1,!0)),e&&e()}),o.loadModel(this._modelPath,this._modelNode)}},getControllerTypeDefaultPath:function(e){return"htc-vive"==e?t.getWebappsAssetUrl("VRModels","models/vr_controller_vive_1_5/OpenVR_Controller.cgr"):"oculus-touch"!=e&&"samsung-gearvr"!=e&&"windows-mr"==e?t.getWebappsAssetUrl("VRModels","models/vr_controller_vive_1_5/WindowsMR_Controller_Right.cgr"):void 0}})});
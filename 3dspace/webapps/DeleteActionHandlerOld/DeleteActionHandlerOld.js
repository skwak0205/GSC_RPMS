define("DS/DeleteActionHandler/DeleteActionHandler",["UWA/Core","UWA/Class","UWA/Promise","DS/WAFData/WAFData","DS/PlatformAPI/PlatformAPI","i18n!DS/LifecycleWidget/assets/nls/LifecycleWidgetNls"],function(e,t,o,c,n,r){"use strict";return t.singleton({actions:function(){return[{id:"DeleteHdr",icon:"fonticon fonticon-wrong",multisel:!0,title:r.delete_}]},executeAction:function(e,t){switch(e.action_id){case"enovialifecycle_custo_delete_3DSpace":var o=document.createElement("form");document.body.appendChild(o),o.method="POST";var c=document.createElement("input");c.type="hidden",c.name="objectId",c.value=e.object_id;var n=document.createElement("input");n.type="hidden",n.name="action",o.appendChild(c),o.appendChild(n);var r=null;if(e.object_ids.length>1){for(var a="",i=0;i<e.object_ids.length;i++)a=a+"&emxTableRowId="+e.object_ids[i];r="../common/emxDeleteBPSProcess.jsp?suiteKey=Framework&"+a+"&objectName="+e.object_ids.length+" objects&StringResourceFileId=emxFrameworkStringResource&SuiteDirectory=common&widgetId=null&addFrom3DSearch=true"}else r="../common/emxDeleteBPSProcess.jsp?emxTableRowId="+e.object_ids+"&suiteKey=Framework&objectName="+e.model._attributes["ds6w:label"]+"&StringResourceFileId=emxFrameworkStringResource&SuiteDirectory=common&widgetId=null&addFrom3DSearch=true";o.action=r,o.action.value="New",o.target="listHidden",o.method="post",addSecureToken(o),o.submit(),removeSecureToken(o);break;case"enovialifecycle_custo_newdelete_3DSpace":if(e.object_ids.length>0){var s=[],d="";e.hasOwnProperty("collection")&&e.collection.hasOwnProperty("search_ressources")&&e.collection.search_ressources.hasOwnProperty("active_tenant")&&(d=e.collection.search_ressources.active_tenant),e.object_ids.forEach(function(t){var o=t,c="";e.hasOwnProperty("collection")&&e.collection.hasOwnProperty("search_ressources")&&e.collection.search_ressources.hasOwnProperty("active_tenant")&&(c=e.collection.search_ressources.active_tenant),s.push({objectId:o,idType:"modelID",commands:null,envId:c,serviceId:"3DSpace",contextId:"",displayName:"",path:""})});var l={envId:d,protocol:"3DXContent",version:"1.0",source:"X3DSEAR_AP",widgetId:e.widget_id,useIndex:!1,commandId:"LifecycleDelete",data:{items:s}};require(["UWA/Utils/InterCom"],function(e){var t=new e.Socket("compassPageSocket");t.subscribeServer("com.ds.compass",window.parent),t.dispatchEvent("onSetX3DContent",l,"compassPageSocket"),t.dispatchEvent("onLaunchApp",{appId:"ENOLCMI_AP"},"compassPageSocket")})}}}})});
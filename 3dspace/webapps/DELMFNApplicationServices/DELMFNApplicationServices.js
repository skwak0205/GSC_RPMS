define("DS/DELMFNApplicationServices/Commands/CommandsService",["UWA/Core","DS/Core/Events","DS/DELPPWServices/CommandsService/CommandsService"],function(e,n,t){"use strict";return function(i){var s,o,a=[],r=[],u=function(e,n){s.notifyApp(e,n)},c=function(e,n){s.toggleModule(e,n)},d=function(){s.initState()},m=function(){var e,n,t,a,r,u,c,d,m,l=i.getPlugins("SelectionPlugin");l?(t=(e=l.instance.getSelections("CMDS"))[0]||[],a=e[1]||[],r=e[2]||[],c=e[3]||[],d=e[4]||[],m=e[5]||[],n=[],u=[],o=c.length+d.length+m.length,s.manageCommandsAvailability(t,a,r,n,u)):i.getLogger().debug("CommandsService","Selection Plugin is not available.")},l=function(){s.manageDocCmdAvailability()},C=function(e){s.toggleCmdCheckHeaderState(e)},g=function(){s.toggleCmdCheckHeaderState({cmdName:"BIEssentialsCmd",cmdState:!1})},P=function(){s.manageGraphViewCmdAvailablity()},p=function(){m(),s.manageCommandsAvailabilityOnGrouping()},b=function(){s.authoringCmdAvailability()},f=function(){var e=i.getPlugins("TreeViewPlugin");e?(e=e.instance).isGroupingExist()?s.manageCommandsAvailabilityOnGrouping():m():i.getLogger().debug("CommandsService","TreeView Plugin is not available.")};return s=new t(i),e.extend(s,{manageConfigurationCommands:function(n){var t,a=n||{},r=!!e.is(a.isLicenseCFGValid,"boolean")&&a.isLicenseCFGValid,u=!!e.is(a.isRoot,"boolean")&&a.isRoot,c=e.is(a.auxLength,"number")?a.auxLength:0,d=e.is(a.processViewLength,"number")?a.processViewLength:0,m=(e.is(a.routingsViewLength,"number")&&a.routingsViewLength,e.is(a.selectedItemsCount,"number")?a.selectedItemsCount:0),l=!!e.is(a.isAuthoring,"boolean")&&a.isAuthoring,C=!!e.is(a.isCrossLevel,"boolean")&&a.isCrossLevel,g=c>0,P=o>0;t=!g&&!P&&d>0,s.setCommandState("EditConfigurationContext",r&&t),1===m&&(s.setCommandState("DefineFilter",u&&!g&&!P&&!l),s.setEffectivityCmdState("EditEvolution",r&&!u&&t)),s.setEffectivityCmdState("EditVariant",r&&!u&&t&&!C),function(){var n,t,o=i.getPlugins("DatabasePlugin"),a=1,r=!1;if(e.is(o)&&o.isStarted){if(o.instance.isNavigateOnDemand()){if(n=i.getPlugins("SelectionPlugin"),!e.is(n)||!n.isStarted)return void i.getLogger().debug("Selection Plugin is not available.");if(r=((t=n.instance.getSelections("CMDS"))[0]||[]).length>0)for(;a<t.length;a++)if(t[a].length>0){r=!1;break}}s.setCommandState("LoadRelations",r)}else i.getLogger().debug("DatabasePlugin is not available.")}()},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.mfgItemsViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByExisting",!n&&t<1&&1===i),this.setCommandState("ReplaceByNewReference",!n&&t<1&&1===i),this.setCommandState("ReplaceWhereUsed",!n&&t<1&&i>0)},getInsertAsCommands:function(n){var t,s,o=[];return s=i.getPlugins("DatabasePlugin"),e.is(n)&&e.is(s)&&s.isStarted&&(t=s.instance.getValidChildTypes(n),e.is(t)&&t.length>0&&"PROCESS"===n.get("PPRTYPE")&&o.push("SearchAndAddInstanceCommand","InsertAsCopy")),o}}),{onStart:function(e){a.push(i.addExternalListener("select",p)),a.push(i.addExternalListener("toggleCmdCheckHeaderState",C)),a.push(i.addExternalListener("authoringMode",m)),a.push(i.addExternalListener("actionBarReady",d)),a.push(i.addExternalListener("manageDocCmdAvailability",l)),a.push(i.addExternalListener("ManageGraphViewCmdAvailablity",P)),a.push(i.addExternalListener("refreshAll",g)),a.push(i.addExternalListener("endEdit",b)),a.push(i.addExternalListener("manageCommandsOnGrouping",f)),r.push(n.subscribe({event:"DELPPWCommands/LandingPage"},function(e){u("ShowLandingPage",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateMfgItemAndScopeCmd"},function(e){u("CreateMfgItemAndScope",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateMfgItemAndResultingProductCmd"},function(e){u("CreateMfgItemAndResultingProduct",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateMfgItemAndLinkAltSubstCmd"},function(e){u("CreateMfgItemAndLinkAltSubst",e)})),r.push(n.subscribe({event:"DELMFNCommands/AssignProductCmd"},function(e){u("AssignProduct",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialLength"},function(e){u("CreateContinuousProvidedMaterialLength",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialMass"},function(e){u("CreateContinuousProvidedMaterialMass",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialArea"},function(e){u("CreateContinuousProvidedMaterialArea",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialVolume"},function(e){u("CreateContinuousProvidedMaterialVolume",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialLengthAndScope"},function(e){u("CreateContinuousProvidedMaterialLengthAndScope",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialMassAndScope"},function(e){u("CreateContinuousProvidedMaterialMassAndScope",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialAreaAndScope"},function(e){u("CreateContinuousProvidedMaterialAreaAndScope",e)})),r.push(n.subscribe({event:"DELMFNCommands/CreateContinuousProvidedMaterialVolumeAndScope"},function(e){u("CreateContinuousProvidedMaterialVolumeAndScope",e)})),r.push(n.subscribe({event:"DELPPWCommands/Hide"},function(e){u("Hide",e)})),r.push(n.subscribe({event:"DELPPWCommands/HideAll"},function(e){u("HideAll",e)})),r.push(n.subscribe({event:"DELPPWCommands/Relations"},function(e){c("LINKS",e)})),r.push(n.subscribe({event:"DELPPWCommands/ShowGroupingDataGridView"},function(e){c("GROUPINGMOD",e)})),r.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},function(e){u("ShowLogPanel",e)})),r.push(n.subscribe({event:"DELPPWCommands/AlternatesAndSubstitutes"},function(e){c("ALTERNATES_AND_SUBSTITUTES",e)})),r.push(n.subscribe({event:"DELPPWCommands/Alternates"},function(e){c("ALTERNATE",e)})),r.push(n.subscribe({event:"DELPPWCommands/ResultingProduct"},function(e){c("RESULTING_PRODUCT_VIEW",e)})),r.push(n.subscribe({event:"DELPPWCommands/Origin"},function(e){c("ORIGIN",e)})),r.push(n.subscribe({event:"DELPPWCommands/CapableResource"},function(e){c("CAPRESOURCE",e)})),r.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},function(e){c("PROPERTIES",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreateLink"},function(e){u("CreateLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},function(e){u("CreateInstance",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},function(e){u("CreateLinkOrInstance",e)})),r.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},function(e){u("InsertCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/UnassignProduct"},function(e){u("UnassignProduct",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreateMfgItemStructure"},function(e){u("CreateMfgItemStructure",e)})),r.push(n.subscribe({event:"DELPPWCommands/UpdateMfgItemStructure"},function(e){u("UpdateMfgItemStructure",e)})),r.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},function(e){c("MIL",e)})),r.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},function(e){u("BIEssentialsCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/BIAltSub"},function(e){u("BIAltSub",e)})),r.push(n.subscribe({event:"DELPPWCommands/DuplicateAdv"},function(e){u("DuplicateAdvCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/Delete"},function(e){u("Delete",e)})),r.push(n.subscribe({event:"DELPPWCommands/DetachInstance"},function(e){u("DetachInstance",e)})),r.push(n.subscribe({event:"DELPPWCommands/SearchAndAddInstanceCommand"},function(e){u("searchAndAddInstance",e)})),r.push(n.subscribe({event:"DELPPWCommands/InsertAsCopy"},function(e){u("InsertAsCopy",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReplaceByLatestRevision"},function(e){u("ReplaceByLatestRevision",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReplaceByExisting"},function(e){u("ReplaceByExisting",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewRevision"},function(e){u("ReplaceByNewRevision",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewReference"},function(e){u("ReplaceByNewReference",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReplaceWhereUsed"},function(e){u("ReplaceWhereUsed",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreateScopeLink"},function(e){u("CreateScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/DeleteScopeLink"},function(e){u("DeleteScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/CreatePartialScopeLink"},function(e){u("CreatePartialScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/DeletePartialScopeLink"},function(e){u("DeletePartialScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/StretchPartialScopeLink"},function(e){u("StretchPartialScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/SwitchToFullScopeLink"},function(e){u("SwitchToFullScopeLink",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReconnectScope"},function(e){u("ReconnectScope",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReviseAndReconnectScope"},function(e){u("ReviseAndReconnectScope",e)})),r.push(n.subscribe({event:"DELPPWCommands/ToggleGraphView"},function(e){u("ToggleGraphView",e)})),r.push(n.subscribe({event:"DELPPWCommands/Reframe"},function(e){u("Reframe",e)})),r.push(n.subscribe({event:"DELPPWCommands/ReframeOn"},function(e){u("ReframeOn",e)})),r.push(n.subscribe({event:"DELPPWCommands/ToggleOrientation"},function(e){u("ToggleOrientation",e)})),r.push(n.subscribe({event:"DELPPWCommands/ToggleOverview"},function(e){u("ToggleOverview",e)})),r.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},function(e){u("toggleAuxPanel",e)})),r.push(n.subscribe({event:"DELPPWCommands/ProductsParts"},function(e){u("ProductsParts",e)})),r.push(n.subscribe({event:"DELPPWCommands/ManufacturingItems"},function(e){u("ManufacturingItems",e)})),r.push(n.subscribe({event:"DELPPWCommands/AttachDocument"},function(e){u("AttachDocumentCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/SearchDocument"},function(e){u("SearchDocumentCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/ManageDocuments"},function(e){u("ManageDocumentsCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/Show3DViewerCmd"},function(e){u("Show3DViewerCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},function(e){u("EditViewPreferencesCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},function(e){u("LayoutPreferences",e)})),r.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},function(e){u("ExportCSVCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},function(e){u("LoadRelations",e)})),r.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},function(e){u("expandAll",e)})),r.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},function(e){u("collapseAll",e)})),r.push(n.subscribe({event:"DELPPWCommands/Refresh"},function(e){u("RefreshCmd",e)})),r.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},function(e){u("UserDefExplore",e)})),r.push(n.subscribe({event:"DELPPWCommands/DELCreateEngineeringMadeFromItem"},function(e){u("DELCreateEngineeringMadeFromItem",e)})),s.onStart(e)},onStop:function(){var e,t;for(e=0,t=a.length;e<t;e++)i.removeExternalListener(a[e]);for(a=[],e=0,t=r.length;e<t;e++)n.unsubscribe(r[e]);r=[]}}}}),define("DS/DELMFNApplicationServices/Services",["UWA/Class"],function(e){"use strict";var n={CommandsService:"DS/DELMFNApplicationServices/Commands/CommandsService",LayoutService:"DS/DELMFNApplicationServices/LayoutService"};return e.singleton({getMap:function(){return n}})}),define("DS/DELMFNApplicationServices/LayoutConfig",[],function(){"use strict";return{EBOM:{row:0,col:0,command:"ProductsParts"},MBOM:{row:0,col:1,command:"ManufacturingItems"}}}),define("DS/DELMFNApplicationServices/LayoutService",["UWA/Core","DS/DELPPWServices/LayoutService/LayoutService","DS/DELMFNApplicationServices/LayoutConfig"],function(e,n,t){"use strict";return function(i){var s,o,a,r,u,c,d=new n(i),m=[];return u=function(){var n,s;d.isLayoutBuilt()?e.is(d.onActionBarReady,"function")&&d.onActionBarReady():(d.buildView({rows:[{columns:2}],actionBarReady:function(){e.is(s,"array")&&s.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),d.showLayout()}}),d.removeDockingElement(WUXDockAreaEnum.TopDockArea),d.removeDockingElement(WUXDockAreaEnum.BottomDockArea),n=widget.getViewportDimensions(),d.setDockingElement(WUXDockAreaEnum.LeftDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0}),d.setDockingElement(WUXDockAreaEnum.RightDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0,resizableFlag:!0,visibleDockingZoneFlag:!1}),o=d.buildTreeListAuthoringDom(!0),a=d.buildTreeListAuthoringDom(!0),r=d.buildAuxiliaryViewDom(),d.setBlocLayoutContent(t.EBOM.row,t.EBOM.col,a),d.setBlocLayoutContent(t.MBOM.row,t.MBOM.col,o),s=d.setPreferredLayoutOnStartup(t))},c=function(){m.push(i.addExternalListener(t.EBOM.command,function(e){var n=d.isViewShown(t.EBOM.row,t.EBOM.col);n&&!0===e.state||!n&&!1===e.state||d.toggleView(t.EBOM.row,t.EBOM.col,e.state)})),m.push(i.addExternalListener(t.MBOM.command,function(e){var n=d.isViewShown(t.MBOM.row,t.MBOM.col);n&&!0===e.state||!n&&!1===e.state||d.toggleView(t.MBOM.row,t.MBOM.col,e.state)})),m.push(i.addExternalListener("widgetLayoutChanged",function(){var n,o,a;o=s.getPreference("widgetLayoutValues"),e.is(o)&&(n=e.Json.decode(o),(a=d.setPreferredLayout(n,t)).deferredPromise.promise.then(function(){a.columns.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),i.getMediator().notify("LayoutCommandsToggled")}))}))},e.extend(d,{getContainer:function(n){switch(n){case"layoutContainer":return d.getUIContainer();case"product_part":return a;case"process":return o;case"auxiliary":return r;case"alerts":return d.getAlertContainer();case"progressIndicator":return d.getProgressIndContainer();case"action":return d.getActionModuleContainer();case"properties":return d.getPropertiesModuleContainer();case"grouping":return d.getGroupingModuleContainer();case"none":return e.createElement("div",{class:"empty-container"});default:i.getLogger().debug("MFN_LayoutService","Invalid side choice: %s",n)}},getLayoutConfig:function(){return e.clone(t)},onStart:function(e){s=i.getService("ConfigService"),u(),c(),e()},onStop:function(){var e,n;for(e=0,n=m.length;e<n;e++)i.removeExternalListener(m[e]);m=[]}})}});
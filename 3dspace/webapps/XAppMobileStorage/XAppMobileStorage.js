define("DS/XAppMobileStorage/XAppMobileStorage",["UWA/Core","UWA/Class"],function(e,t){var i=e.Class.extend({init:function(e){if(this._widget=e,window.localStorage)if(this._widget){var t=this._widget.data;if(this._widget.setValue=this.setValue.bind(this),this._widget.getValue=this.getValue.bind(this),t)for(var i in t)this._widget.setValue(i,t[i])}else console.error("XAppMobileStorage - Widget undefined");else console.error("XAppMobileStorage - Local storage not available")},setValue:function(e,t){if(e){var i=null,l=typeof t;if("string"===l)i=l+"_"+t;else if(null!=t){var a=JSON.stringify(t);i=a?l+"_"+a:null}return i?localStorage.setItem(e,i):localStorage.removeItem(e),console.log("setMobileData:"+e+","+t+" ("+l+")"),t}},getValue:function(e){if(e){var t=localStorage.getItem(e),i=null,l=null;if(t){var a=t.split("_",1),o=t.indexOf("_");if(a.length&&o>-1){l=a[0];var r=t.substr(o+1);i=r&&"string"!==l?JSON.parse(r):r}}var n="getMobileData:"+e+","+i;return l&&(n+=" ("+l+")"),console.log(n),i}}});return e.namespace("DS/XAppMobileStorage/XAppMobileStorage",i)});
requirejs.config({paths:{react:"../webapps/react/react.development","react-dom":"../webapps/react-dom/react-dom.development"}}),define("DS/ENOProcessStepsDiscussionsUX/scripts/ProcessDiscussions",["DS/Handlebars/Handlebars4","DS/PlatformAPI/PlatformAPI","UWA/Core","UWA/Data","UWA/Class/Promise","DS/i3DXCompassServices/i3DXCompassServices","DS/ENOFrameworkPlugins/jQuery","react","react-dom"],function(e,t,n,r,a,o,s,l,i){"use strict";var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){p(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={topics:[]},n.updateReplies(),n}return m(t,l.Component),c(t,[{key:"updateReplies",value:function(){var e=this;setInterval(function(){if(console.log("this.state.topics"+e.state.topics),e.state.topics){var t=e.state.topics[0].replies.length,n=e.state.topics.slice(0);console.log("curReplies:"+t),t>0&&(n[0].replies.push({userhref:"images/person.jpg",usertooltip:"",timestamp:"Aug 21, 2.30 PM",username:"John Doe",reply:"OK, thank you again!"}),e.setState({topics:n}))}},1e3)}},{key:"componentDidMount",value:function(){console.log("componentDidMount called....."),this.setState({topics:[{title:"Issue with Document font formatting",view:"open",users:[{href:"images/person.jpg",tooltip:""},{href:"images/person_lady.jpg",tooltip:""},{href:"images/person_man.png",tooltip:""}],messages:"3",activity:"November 14, 2018",relateddata:{href:"../common/images/iconSmallQualitySystemDocument.png",tooltip:""},replies:[{userhref:"images/person.jpg",usertooltip:"",timestamp:"Aug 21, 12.30 PM",username:"John Doe",reply:"Does anybody have any idea if it is possible to add automatic header and footer to the document?"},{userhref:"images/person_lady.jpg",usertooltip:"",timestamp:"Aug 21, 1.30 PM",username:"Sally Smith",reply:"Yes, you just need to enable the setting ABC to true in the document properties."},{userhref:"images/person.jpg",usertooltip:"",timestamp:"Aug 21, 2.30 PM",username:"John Doe",reply:"OK, thank you!"}]},{title:"PDF Rendering not working?",view:"",users:[{href:"images/person.jpg",tooltip:""},{href:"images/person_lady.jpg",tooltip:""},{href:"images/person_man.png",tooltip:""}],messages:"19",activity:"August 14, 2018",relateddata:{href:"../common/images/iconSmallQualitySystemDocument.png",tooltip:""},replies:[]},{title:"Can effective date be postponed?",view:"",users:[{href:"images/person.jpg",tooltip:""},{href:"images/person_lady.jpg",tooltip:""},{href:"images/person_man.png",tooltip:""}],messages:"2",activity:"May 14, 2018",relateddata:{href:"../common/images/iconSmallQualitySystemDocument.png",tooltip:""},replies:[]}]})}},{key:"render",value:function(){return l.createElement("div",{id:"container"},l.createElement("span",null,l.createElement("a",{href:"#"},"Process Discussions")),l.createElement(d,{topics:this.state.topics}))}}]),t}(),d=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"main-container d-flex"},l.createElement(f,null),l.createElement(y,{topics:this.props.topics}))}}]),t}(),f=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"left-whole"},l.createElement("h4",null,"Related Process"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"javascript:void(0)"},"All")),l.createElement("li",null,l.createElement("a",{href:"javascript:void(0)",style:{fontWeight:"bolder"}},"Document")),l.createElement("li",null,l.createElement("a",{href:"javascript:void(0)"},"Change"))),l.createElement("h4",null,"Threads"),l.createElement("ul",null,l.createElement("li",null,l.createElement("a",{href:"javascript:void(0)",style:{fontWeight:"bolder"}},"All")),l.createElement("li",null,l.createElement("a",{href:"javascript:void(0)"},"My"))))}}]),t}(),g=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"right-top"},l.createElement(E,null),l.createElement(v,null))}}]),t}(),y=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"right-container d-flex"},l.createElement(g,null),l.createElement(_,{topics:this.props.topics}))}}]),t}(),E=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",null,l.createElement("ul",{className:"left"},l.createElement("li",null,l.createElement("span",{style:{fontWeight:"bold"}},"Discussions:")," 3")),l.createElement("ul",{className:"left"},l.createElement("li",null,l.createElement("span",{style:{fontWeight:"bold"}},"Messages:")," 24")),l.createElement("ul",{className:"left"},l.createElement("li",null,l.createElement("span",{style:{fontWeight:"bold"}},"Users:")," 3")))}}]),t}(),v=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("select",{className:"m-r-2"},l.createElement("option",{value:"threaded"},"Threaded"),l.createElement("option",{value:"timeline"},"Timeline"))}}]),t}(),_=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"right-bottom"},l.createElement("div",{className:"discussions_container"},l.createElement(b,{topics:this.props.topics})))}}]),t}(),b=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("table",{className:"fold-table",id:"fold-table"},l.createElement(j,null),l.createElement(O,{topics:this.props.topics}))}}]),t}(),j=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Topic"),l.createElement("th",null,"Users"),l.createElement("th",null,"Messages"),l.createElement("th",null,"Activity"),l.createElement("th",null,"Related Data")))}}]),t}(),O=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("tbody",null,this.props.topics.map(function(e){return l.createElement(l.Fragment,null,l.createElement(w,{key:e.title,title:e.title,view:e.view,users:e.users,messages:e.messages,activity:e.activity,relateddata:e.relateddata}),l.createElement(P,{key:e.title,replies:e.replies}))}))}}]),t}(),w=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){var e=""===this.props.view?"view":"view "+this.props.view;return l.createElement("tr",{className:e},l.createElement("td",{style:{fontWeight:"bold"}},this.props.title," ",l.createElement("i",{class:"indicator glyphicon glyphicon-chevron-up pull-right"})),l.createElement("td",{className:"pcs"},this.props.users.map(function(e){return l.createElement("img",{key:e.tooltip,src:e.href,width:"30",height:"30",alt:""})})),l.createElement("td",{className:"cur"},this.props.messages),l.createElement("td",null,this.props.activity),l.createElement("td",{id:"slider"},l.createElement("img",{style:{borderRadius:0,width:"20px",height:"20px"},src:this.props.relateddata.href,width:"30",height:"30",alt:""})))}}]),t}(),P=(function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("tr",{className:"view"},l.createElement("td",{style:{fontWeight:"bold"}},"PDF rendering not working?"),l.createElement("td",{className:"pcs"},l.createElement("img",{src:"images/person.jpg",width:"30",height:"30",alt:""}),l.createElement("img",{src:"images/person_lady.jpg",width:"30",height:"30",alt:""}),l.createElement("img",{src:"images/person_man.png",width:"30",height:"30",alt:""})),l.createElement("td",{className:"cur"},"19"),l.createElement("td",null,"August 19, 2018"),l.createElement("td",null,l.createElement("img",{style:{borderRadius:0,width:"20px",height:"20px"},src:"../common/images/iconSmallQualitySystemDocument.png",width:"30",height:"30",alt:""})))}}])}(),function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return 0===this.props.replies.length?null:l.createElement("tr",{className:"fold accordion-toggle",id:"package1","data-toggle":"collapse","data-parent":"#OrderPackages","data-target":".packageDetails1"},l.createElement("td",{colSpan:"5"},l.createElement("div",{id:"reply"},this.props.replies.map(function(e){return l.createElement(k,{key:e.timestamp,userhref:e.userhref,username:e.username,usertooltip:e.usertooltip,timestamp:e.timestamp,message:e.reply})}))))}}]),t}()),k=function(e){function t(){return p(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l.Component),c(t,[{key:"render",value:function(){return l.createElement("div",{className:"fold-content d-flex hiddenRow",id:"accordion1"},l.createElement("div",{className:"d-flex"},l.createElement("img",{src:this.props.userhref,class:"left",width:"50",height:"50",alt:""}),l.createElement("div",{className:"name-date"},l.createElement("span",{className:"name"},l.createElement("b",null,this.props.username)),l.createElement("span",null,this.props.timestamp))),l.createElement("div",{className:"d-flex content-reply"},l.createElement("p",{className:""},this.props.message),l.createElement("div",{className:""},l.createElement("a",{href:"javascript:void(0)",class:"m-r-half"},"Reply"))),l.createElement("textarea",{style:{visibility:"hidden",color:"lightgrey"},id:"replyhere",rows:"1",cols:"50"},"Enter reply here"))}}]),t}();return{test:function(e){console.log("ProcessDiscussions..........."),i.render(l.createElement(h,null),document.getElementById("testreact"))}}});
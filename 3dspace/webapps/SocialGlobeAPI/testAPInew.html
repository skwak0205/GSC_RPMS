<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">

<head>

    <link rel="stylesheet" href="GlobeViewer2D.css" />
    <link rel="stylesheet" href="test.css" />

    <!-- AMDLoader -->
    <script type="text/javascript" src="../AmdLoader/AmdLoader.js"></script>
    <script type="text/javascript" src="../WebappsUtils/WebappsUtils.js"></script>

    <!-- UWA -->
    <script type="text/javascript" src="../c/UWA/js/UWA_Standalone_Alone.js"></script>

    <!--script type="text/javascript" src="../WebUX/WebUX.js"></script>
    <script type="text/javascript" src="../WebVisualization/WebVisualization.js"></script>
    <script type="text/javascript" src="../SocialGlobe/SocialGlobe.js"></script>
    <script type="text/javascript" src="../SocialGlobe/Globe.js"></script-->

    <!-- <script src="GlobeViewer2D.js"></script> -->

    <script>
        require(["DS/SocialGlobeAPI/GlobeAPI"
        ], function (GlobeAPI) {
			// SET DELAY FOR TESTS
			function sleep(ms) {
				return new Promise(
				resolve => setTimeout(resolve, ms)
				);
			}
			
			async function launchTest() {
				var options = {
					initialCoordinates: [48.786192,2.210616],
					initialZoomLevel: 8
				};
				
				// init the map
				var globeMap = new GlobeAPI("left-map", "https://tile.openstreetmap.org/", "png", 18, options);
				await sleep(5000);
				
				// load a geojson
				var jsonContent = {
					"type": "FeatureCollection",
					"features": [
					{ "type": "Feature", "properties": { "color": "#005685", "title": "<h3 style='margin-bottom: 0.1em'>RENAULT DREAM</h3>", "description": "<style>.nav td {  background-color: #f9f9f9;  border-width: 1px;  padding: 5px;  border-style: solid;  border-color: #d1d4d4;}</style><div style='max-height:600px;overflow:auto;'><table style='margin-bottom: 5px;font-size: 12px;color: #003e61;width: 100%;border-width: 1px;border-color: #ffffff;'><tbody class='nav'><tr><td>Location</td><td>Boulogne Billancour (FRANCE)</td></tr><tr><td>Users</td><td>1912 users</td></tr><tr><td>Industry</td><td>Transportation & Mobility</td></tr><tr><td>Engagement Model</td><td>Customer Solution Experience</td></tr><tr><td>Website</td><td><a href='http://www.renault.fr'>http://www.renault.fr</a></td></tr></tbody></table></div>","tags": [{"tagName":"ds6w:where/ds6w:location","tagValue": ["EUROPE","France","BOULOGNE BILLANCOURT"]},{"tagName":"ds6w:who/ds6w:Users","tagValue":">100"},{"tagName":"ds6w:what/ds6w:industry","tagValue":"Transportation & Mobility"},{ "tagName":"ds6w:how/ds6w:engagement model","tagValue":"Customer Solution Experience"}]}, "geometry": { "type": "Point", "coordinates": [2.22,48.89 ] } },
					{ "type": "Feature", "properties": { "color": "#005685", "title": "<h3 style='margin-bottom: 0.1em'>PEUGEOT</h3>", "description": "<style>.nav td {  background-color: #f9f9f9;  border-width: 1px;  padding: 5px;  border-style: solid;  border-color: #d1d4d4;}</style><div style='max-height:600px;overflow:auto;'><table style='margin-bottom: 5px;font-size: 12px;color: #003e61;width: 100%;border-width: 1px;border-color: #ffffff;'><tbody class='nav'><tr><td>Location</td><td>Gouda (THE NETHERLANDS)</td></tr><tr><td>Users</td><td>1 users</td></tr><tr><td>Industry</td><td></td></tr><tr><td>Engagement Model</td><td>Customer Role Experience</td></tr><tr><td>Website</td><td><a href=' '> </a></td></tr></tbody></table></div>","tags": [{"tagName":"ds6w:where/ds6w:location","tagValue": ["EUROPE","The Netherlands","Gouda"]},{"tagName":"ds6w:who/ds6w:Users","tagValue":"<10"},{"tagName":"ds6w:what/ds6w:industry","tagValue":""},{ "tagName":"ds6w:how/ds6w:engagement model","tagValue":"Customer Role Experience"}]}, "geometry": { "type": "Point", "coordinates": [75.70,22.01 ] } },
					{ "type": "Feature", "properties": { "color": "#FFD700", "title": "<h3 style='margin-bottom: 0.1em'>ANDHRA PRADESH STATE SKILL DEVELOPMENT CORPORATION</h3>", "description": "<style>.nav td {  background-color: #f9f9f9;  border-width: 1px;  padding: 5px;  border-style: solid;  border-color: #d1d4d4;}</style><div style='max-height:600px;overflow:auto;'><table style='margin-bottom: 5px;font-size: 12px;color: #003e61;width: 100%;border-width: 1px;border-color: #ffffff;'><tbody class='nav'><tr><td>Location</td><td>Vijayawada (INDIA)</td></tr><tr><td>Users</td><td>841 users</td></tr><tr><td>Industry</td><td>Business Services</td></tr><tr><td>Engagement Model</td><td>Customer Solution Experience</td></tr><tr><td>Website</td><td><a href='http://apssdc.in/'>http://apssdc.in/</a></td></tr></tbody></table></div>","tags": [{"tagName":"ds6w:where/ds6w:location","tagValue": ["ASIA","India","VIJAYAWADA"]},{"tagName":"ds6w:who/ds6w:Users","tagValue":">100"},{"tagName":"ds6w:what/ds6w:industry","tagValue":"Business Services"},{ "tagName":"ds6w:how/ds6w:engagement model","tagValue":"Customer Solution Experience"}]}, "geometry": { "type": "Point", "coordinates": [80.82,16.78 ] } },
					{ "type": "Feature", "properties": { "color": "#005685", "title": "<h3 style='margin-bottom: 0.1em'>IOTOPUS</h3>", "description": "<style>.nav td {  background-color: #f9f9f9;  border-width: 1px;  padding: 5px;  border-style: solid;  border-color: #d1d4d4;}</style><div style='max-height:600px;overflow:auto;'><table style='margin-bottom: 5px;font-size: 12px;color: #003e61;width: 100%;border-width: 1px;border-color: #ffffff;'><tbody class='nav'><tr><td>Location</td><td>Gouda (THE NETHERLANDS)</td></tr><tr><td>Users</td><td>1 users</td></tr><tr><td>Industry</td><td></td></tr><tr><td>Engagement Model</td><td>Customer Role Experience</td></tr><tr><td>Website</td><td><a href=' '> </a></td></tr></tbody></table></div>","tags": [{"tagName":"ds6w:where/ds6w:location","tagValue": ["EUROPE","The Netherlands","Gouda"]},{"tagName":"ds6w:who/ds6w:Users","tagValue":"<10"},{"tagName":"ds6w:what/ds6w:industry","tagValue":""},{ "tagName":"ds6w:how/ds6w:engagement model","tagValue":"Customer Role Experience"}]}, "geometry": { "type": "Point", "coordinates": [4.70,52.01 ] } },
					{ "type": "Feature", "properties": { "color": "#005685", "title": "<h3 style='margin-bottom: 0.1em'>K_DLC CO__LTD</h3>", "description": "<style>.nav td {  background-color: #f9f9f9;  border-width: 1px;  padding: 5px;  border-style: solid;  border-color: #d1d4d4;}</style><div style='max-height:600px;overflow:auto;'><table style='margin-bottom: 5px;font-size: 12px;color: #003e61;width: 100%;border-width: 1px;border-color: #ffffff;'><tbody class='nav'><tr><td>Location</td><td>Gunpo (REPUBLIC OF KOREA)</td></tr><tr><td>Users</td><td>1 users</td></tr><tr><td>Industry</td><td></td></tr><tr><td>Engagement Model</td><td>Customer Role Experience</td></tr><tr><td>Website</td><td><a href=' '> </a></td></tr></tbody></table></div>","tags": [{"tagName":"ds6w:where/ds6w:location","tagValue": ["ASIA","Republic of Korea","Gunpo"]},{"tagName":"ds6w:who/ds6w:Users","tagValue":"<10"},{"tagName":"ds6w:what/ds6w:industry","tagValue":""},{ "tagName":"ds6w:how/ds6w:engagement model","tagValue":"Customer Role Experience"}]}, "geometry": { "type": "Point", "coordinates": [126.93,37.36 ] } }]
				};
				globeMap.addGeoJson(jsonContent);
				await sleep(5000);
				
				// move the camera without and with a distance option
				globeMap.moveCamera(48.13729150787028, -1.6215134739695942);
				await sleep(5000);
				globeMap.moveCamera(48.13729150787028, -1.6215134739695942, {zoomLevel: 12});
				await sleep(5000);
				globeMap.moveCamera(48.13729150787028, -1.6215134739695942, {zoomLevel: 17});				
				await sleep(5000);
				
				// try to set a callback
				globeMap.setOnSelectCallback(function(data) {console.log("callback function : " + data);});
				
				// add new markers
				globeMap.addMarker(48.13729150787028, -1.6215134739695942, "Dassault Systemes", "Cesson Sevigne Office", {"color": "#ff0000"});
				globeMap.addMarker(48.13729150787028, -1.6185, "Dassault Systemes 2", "Cesson Sevigne Office");
				await sleep(5000);
				
				// select one of the markers
				globeMap.select(["Dassault Systemes"]);
				
				await sleep(5000);
				globeMap.unselect(["Dassault Systemes"]);
				
				await sleep(5000);
				globeMap.removeMarker(["Dassault Systemes"]);
				
				await sleep(5000);
				
			}
			
			launchTest();
			
        });
    </script>



</head>

<body>
    <div>
        <div id="left-map">
        </div>
        <div id="right">
            <div id="right-left">
            </div>
            <div id="right-right">
            </div>
            </div>
        </div>
</body>

</html>

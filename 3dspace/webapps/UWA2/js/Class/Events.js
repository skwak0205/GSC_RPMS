define("UWA/Class/Events",["UWA/Core","UWA/Class","UWA/Dispatcher","UWA/Utils"],function(t,n,e,s){"use strict";var i;function r(t,n,s){var i=t._dispatchers,r=i&&i[n]||new e;return s||(i||(i=t._dispatchers=Object.create(null)),i[n]=r),r}return i=n.extend({dispatchEvent:function(t,n,e){var i,a;return void 0===e&&(e=this),n=s.splat(n),i=r(this,t),"function"==typeof this[t]&&i.addOnce(this[t],e,1),"onAnyEvent"!==t&&this.hasEvent("onAnyEvent")?(a=r(this,"onAnyEvent"),"function"==typeof this.onAnyEvent&&a.addOnce(this.onAnyEvent,e),a.addOnce(function(){i.dispatch(n,e)}),a.dispatch([t].concat(n),e)):i.dispatch(n,e),this},dispatchAsEventListener:function(t,n,e){var i=this;return void 0===e&&(e=i),n=s.splat(n),function(s){i.dispatchEvent(t,[s].concat(n),e)}},addEvent:function(t,n,e,s){return r(this,t).add(n,e,s),this},addEventOnce:function(t,n,e,s){return r(this,t).addOnce(n,e,s),this},addEvents:function(t,n,e){var s;for(s in t)t.hasOwnProperty(s)&&this.addEvent(s,t[s],n,e);return this},removeEvent:function(t,n,e){var s,i=this._dispatchers,r=i&&i[t];if(t)r&&(n?r.remove(n,e):r.removeAll(e),0===r.getNumListeners()&&delete i[t]);else for(s in i)this.removeEvent(s,n,e);return this},removeEvents:function(t){var n;if(t)for(n in t)t.hasOwnProperty(n)&&this.removeEvent(n,t[n]);else this.removeEvent();return this},hasEvent:function(t,n){var e,s=this;return e=function(t){return!!(r(s,t,!0).getNumListeners()||!n&&s[t])},(t?[t]:Object.keys(s._dispatchers||{})).some(e)}}),t.namespace("Events",i,n)});
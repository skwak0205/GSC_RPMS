define("UWA/Class/Listener",["UWA/Core","UWA/Class"],function(e,n){"use strict";var t,i;function s(n){return function(i,s,r,o){var a,l,v,h=i[n];if("object"===(a=e.typeOf(s))&&(l=s),!h||!(l||"string"===a&&e.is(r,"function")))throw new Error("invalid input args");for(v in e.is(this._listeningTo)||(this._listeningTo={}),e.is(i._observableId)||(i._observableId="o"+ ++t),this._listeningTo[i._observableId]=i,l||((l={})[s]=r),l)l.hasOwnProperty(v)&&h.call(i,v,l[v],this,o);return this}}return t=0,i=n.extend({listenTo:s("addEvent"),listenToOnce:s("addEventOnce"),stopListening:function(n,t,i){var s,r,o,a,l=this._listeningTo;if(r="removeEvent",l)for(a in o=e.typeOf(t),i||(!1===o?s=!0:"object"===o&&(r="removeEvents",i=this)),n&&((l={})[n._observableId]=n),l)(n=l[a])[r](t,i,this),!s&&n.hasEvent()||delete this._listeningTo[a];return this}}),e.namespace("Listener",i,n)});
define("UWA/Controls/Abstract",["vendors/webcomponents/MutationObserver","UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(t,e,n,o,r,i){"use strict";var s=[].forEach,a=new WeakMap,l=new WeakMap;function c(t,e){var n,o;for(n=0,o=t.length;n<o;n++){var r=t[n];if(1===r.nodeType){var i,s;e(r);var a=r.getElementsByTagName("*");for(i=0,s=a.length;i<s;i++)e(a[i])}}}function h(e){var n,o;try{o=(n=e&&(e.ownerDocument||e.document||e))&&n.documentElement}catch(t){}if(o&&!l.has(o)){var r=new t(function(t){function e(t,e,n){var o=a.get(t);o?o.dispatchEvent(e?"onInjected":"onRemoved",n):"IFRAME"===t.tagName&&h(t.contentWindow)}s.call(t,function(t){var n={nextSibling:t.nextSibling||null,previousSibling:t.previousSibling||null,parentNode:t.target};c(t.addedNodes,function(t){e(t,!0,n)}),c(t.removedNodes,function(t){e(t,!1,n)})})});l.set(o,r),r.observe(o,{childList:!0,subtree:!0})}}h(e.getGlobal());var u=n.extend(o,r,{elements:null,init:function(t){this.elements={},this.setOptions(t)},inject:function(t,e){var n=this.getContent();if(n){var o=a.get(n);if(o&&o!==this)throw new Error("This control container element is already owned by another control!");a.set(n,this),h(t),this.dispatchEvent("onPreInject",[t]),n.inject(t,e),this.dispatchEvent("onPostInject",[t]),this.dispatchEvent("onResize",[t])}return this},remove:function(){var t=this.getContent();return t&&t.remove(),this},getContent:function(){if(!this.elements.container&&!this.container)throw new Error("You don't have an elements.container or container.");return this.elements.container||this.container},getClassNames:function(){var t=this.constructor,e=i.toArray(arguments),n=this.options.className||"",o=i.splat(n).join(" ");for(e.length||(e=[""]),e.indexOf("")>=0&&!1!==this.options._root&&e.push("-root");t;)t.prototype.name&&(o+=" "+t.prototype.name+e.join(" "+t.prototype.name)),t=t.parent;return o},hide:function(){return this.getContent().hide(),this.dispatchEvent("onHide")},show:function(){return this.getContent().show(),this.dispatchEvent("onShow")},destroy:function(){var t,e=this.elements||{};for(t in this.container&&(e.container=this.container),this.elements.container&&a.delete(this.elements.container),e)e.hasOwnProperty(t)&&(e[t].destroy(),delete e[t]);this.removeEvents(),this.clearAllTimed&&this.clearAllTimed()}}),d=new WeakMap;return u._getClosestControlFromElement=function(t){for(;t;){var e=d.get(t);if(e)return e;t=t.parentNode}return null},u._getClosestControlsFromElement=function(t){for(var e=[];t;){var n=d.get(t);n&&e.indexOf(n)<0&&e.push(n),t=t.parentNode}return e},u._linkElementToControl=function(t,e){var n=d.get(e);if(n){if(n!==t)throw new Error("This element is already linked to another control")}else d.set(e,t)},e.namespace("Controls/Abstract",u,e)});
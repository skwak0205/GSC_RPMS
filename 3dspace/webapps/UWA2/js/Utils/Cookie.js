define("UWA/Utils/Cookie",["UWA/Core"],function(e){"use strict";var t,o={},n=window.document,r="nv.",i=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),a=null,c=null;function u(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?i:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&(o=e,"[object Date]"!==Object.prototype.toString.call(o)||isNaN(o.getTime())))throw new Error("`expires` parameter cannot be converted to a valid Date instance");var o;return e}function s(e){var t=e.indexOf("=");t=t<0?e.length:t;var o,n=e.substr(0,t);try{o=decodeURIComponent(n)}catch(e){throw new Error('Could not decode cookie with key "'+n+'" ['+e+"]")}return{key:o,value:e.substr(t+1)}}function d(){a=function(e){for(var t={},o=e?e.split("; "):[],n=0;n<o.length;n++){var i=s(o[n]);void 0===t[r+i.key]&&(t[r+i.key]=i.value)}return t}(n.cookie),c=n.cookie}return o.defaults={path:"/",secure:!1},o.get=function(e){c!==n.cookie&&d();var t=a[r+e];return void 0===t?void 0:decodeURIComponent(t)},o.getAll=function(){c!==n.cookie&&d();var e={};for(var t in a)e[t.slice(r.length)]=decodeURIComponent(a[t]);return e},o.set=function(e,t,r){return(r=function(e){return{path:e&&e.path||o.defaults.path,domain:e&&e.domain||o.defaults.domain,expires:e&&e.expires||o.defaults.expires,secure:e&&void 0!==e.secure?e.secure:o.defaults.secure}}(r)).expires=u(void 0===t?-1:r.expires),n.cookie=function(e,t,o){var n=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return n+=(o=o||{}).path?";path="+o.path:"",n+=o.domain?";domain="+o.domain:"",n+=o.expires?";expires="+o.expires.toUTCString():"",n+=o.secure?";secure":""}(e,t,r),o},o.expire=function(e,t){return o.set(e,void 0,t)},o.enabled=(t="1"===o.set("cookie.js",1).get("cookie.js"),o.expire("cookie.js"),t),e.namespace("Utils/Cookie",o,e)});
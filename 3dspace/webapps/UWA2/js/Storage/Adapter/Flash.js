define("UWA/Storage/Adapter/Flash",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";var a=e.extend({type:"Flash",limit:5242880,connect:function(t){this.database=t,this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage,this.storage.isReady=!0},isAvailable:function(){return!!this.hasFlash("8.0.0")},get:function(t){this.interruptAccess();var e=this.db.f_get_cookie(t);return"null"===e?null:e},set:function(t,e){return this.interruptAccess(),this.db.f_set_cookie(t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.f_delete_cookie(t),e},hasFlash:function(t){var e,a=this.flashVersion().match(/\d+/g),r=t.match(/\d+/g);for(e=0;e<3;e++){if(a[e]=parseInt(a[e]||0,10),r[e]=parseInt(r[e]||0,10),a[e]<r[e])return!1;if(a[e]>r[e])return!0}return!0},flashVersion:function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"}});return t.namespace("Storage/Adapter/Flash",a,t)});
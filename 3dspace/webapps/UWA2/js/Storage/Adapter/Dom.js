define("UWA/Storage/Adapter/Dom",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(t,e){"use strict";function o(t){var e=!1;try{t.setItem("uwa-test",1),t.removeItem("uwa-test"),e=!0}catch(t){}return e}var a=e.extend({type:"Dom",limit:5242880,connect:function(t){this.database=t,window.localStorage||window.globalStorage?this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage:window.sessionStorage&&(this.db=window.sessionStorage),this.storage.isReady=!0},isAvailable:function(){return!!window.sessionStorage&&o(window.sessionStorage)||!(!window.localStorage&&!window.globalStorage)&&o(window.globalStorage?window.globalStorage[location.hostname]:window.localStorage)},get:function(t){this.interruptAccess();var e=this.db.getItem(this.database+"-"+t);return(e&&void 0!==e.value?e.value:e)||void 0},set:function(t,e){return this.interruptAccess(),this.db.setItem(this.database+"-"+t,e),e},rem:function(t){this.interruptAccess();var e=this.get(t);return this.db.removeItem(this.database+"-"+t),e}});return t.namespace("Storage/Adapter/Dom",a,t)});
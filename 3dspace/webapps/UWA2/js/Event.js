define("UWA/Event",["UWA/Core"],function(e){"use strict";var t,n,a={onDomReady:function(e,t){t=t||window;var n=!1,a=!0,o=window.document,c=o.documentElement,r=Boolean(o.addEventListener),l=r?"addEventListener":"attachEvent",i=r?"removeEventListener":"detachEvent",u=r?"":"on";function d(a){var c=a.type;"complete"!==o.readyState&&"interactive"!==o.readyState||(o[i](u+"DOMContentLoaded",d,!1),o[i](u+"readystatechange",d,!1),window[i](u+"load",d,!1),n||(n=!0,e.call(t,c||a)))}if("complete"===o.readyState)setTimeout(e.bind(t,"lazy"),1);else{if(o.createEventObject&&c.doScroll){try{a=!window.frameElement}catch(e){}a&&function e(){try{c.doScroll("left"),d("poll")}catch(t){setTimeout(e,50)}}()}o[l](u+"DOMContentLoaded",d,!1),o[l](u+"readystatechange",d,!1),window[l](u+"load",d,!1)}},dispatchEvent:function(t,n,a){var o,c,r,l=9===t.nodeType?t:t.ownerDocument||t.document,i={canBubble:!0,cancelable:!0,view:l.defaultView||l.parentWindow,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null,keyCode:null,charCode:null,touches:null,targetTouches:null,changedTouches:null,scale:1,rotation:0};if(a=e.merge(a||{},i),l.createEvent){if("click"===n||"dblclick"===n||"contextmenu"===n||0===n.indexOf("mouse")?(c="MouseEvent",r=[n,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget]):0===n.indexOf("touch")?(c="TouchEvent",r=[n,a.canBubble,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.touches,a.targetTouches,a.changedTouches,a.scale,a.rotation]):0===n.indexOf("key")?(c="KeyboardEvent",r=[n,a.canBubble,a.cancelable,a.view,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode]):(c="HTMLEvents",r=[n,a.canBubble,a.cancelable]),o=l.createEvent(c),"KeyboardEvent"===c&&"function"==typeof o.initKeyEvent?c="KeyEvent":"HTMLEvents"===c&&"function"!=typeof o.initHTMLEvents&&(c="Event"),"function"!=typeof o["init"+c])throw new Error("Unsuported Event type "+c);o["init"+c].apply(o,r),t.dispatchEvent(o)}else if(l.createEventObject){o=l.createEventObject(),e.extend(o,a);try{t.fireEvent("on"+n,o)}catch(e){throw new Error("Unsuported Event type "+n)}}return o},getElement:function(t){var n=t._uwaTarget||t.target||t.srcElement;return"DOMCharacterDataModified"===t.type||!n||3!==n.nodeType&&4!==n.nodeType||(n=n.parentNode),e.extendElement(n)},findElement:function(e,t){return a.getElement(e).getClosest(t)},getPosition:function(e,t){var n;"number"==typeof t?t={touchIndex:t}:t||(t={});var a=e.changedTouches||e.touches,o="client"===t.relativeTo,c=o?"clientX":"pageX",r=o?"clientY":"pageY";if(a)if(void 0!==t.touchIndex&&a[t.touchIndex])n={x:a[t.touchIndex][c],y:a[t.touchIndex][r]};else{n={x:0,y:0};for(var l=0,i=a.length;l<i;l++)n.x+=a[l][c],n.y+=a[l][r];n.x/=i,n.y/=i}else n={x:e[c],y:e[r]};return n},stopPropagation:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1,void 0!==e.cancelable&&!0!==e.cancelable||void 0!==e.defaultPrevented||(e.defaultPrevented=!0)},stop:function(e){a.preventDefault(e),a.stopPropagation(e)},isDefaultPrevented:function(e){return e.defaultPrevented||!0!==e.returnValue&&void 0!==e.returnValue},whichButton:function(t){var n=t.button,a=t.which;return!a&&e.is(n)&&(a=[0,1,3,1,2][n]||0),a-1},whichKey:(t=["alt","ctrl","meta","shift"],n={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},function(e){var a,o,c,r=e.which||e.keyCode,l="keypress"!==e.type&&n[r],i=[];for(a=0,o=t.length;a<o;a++)e[(c=t[a])+"Key"]&&l!==c&&i.push(c);return l?i.push(l):r&&0===e.type.indexOf("key")&&i.push(String.fromCharCode(r).toLowerCase()),i.join("+")}),wheelDelta:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}};return e.namespace("Event",a,e)});
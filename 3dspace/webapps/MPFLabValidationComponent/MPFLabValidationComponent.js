define("DS/MPFLabValidationComponent/LabValidationComponent",["UWA/Core","DS/MPFView/MPFView","DS/UIKIT/Input/Button","DS/UWPClientCode/Navigation","i18n!DS/MPFLabValidationComponent/assets/nls/LabValidationComponent","css!DS/MPFUI/MPFUI"],function(e,t,n,a,s){"use strict";return t.extend({className:"mpf-lab-validation",setup:function(e){e=e||{},this._parent(e),this.labs=e.shops},render:function(){var t;return t=e.createElement("div",{class:"mpf-lab-list",html:[this._createLabListHeader(),this._createLabList()]}),this.container.setContent(t),this},_createLabList:function(){return e.createElement("div",{class:"mpf-validation-labs",html:this._createLabRow()})},_createLabRow:function(){var t,n=this,a=[];return this.labs.forEach(function(s){t=e.createElement("div",{class:"mpf-lab-details row",html:[e.createElement("div",{class:"col-xs-1 ellipsis center",html:s.get("id")}),e.createElement("a",{class:"col-xs-3 no-padding center",href:"/lab-validation-detail/"+s.get("id"),html:[e.createElement("div",{class:"col-xs-4 no-padding center",html:n._renderLogo(s)}),e.createElement("div",{class:"col-xs-8 center ellipsis lab-name",html:s.get("shopName")})]}),e.createElement("div",{class:"col-xs-2 no-padding center",html:n._extractDate(s)}),e.createElement("div",{class:"col-xs-1 no-padding center",html:n._displayFonticon(s)}),e.createElement("div",{class:"col-xs-2 no-padding center",html:n._displayStatusShowroom(s)}),e.createElement("div",{class:"col-xs-2 no-padding center",html:n._displayStatusTestOrder(s)}),e.createElement("div",{class:"col-xs-1 no-padding center",html:n._displayStatusLab(s)})]}),a.push(t)}),a},_displayStatusLab:function(t){return"DRAFT"===t.get("currentState")?e.createElement("b",{html:s.get("draft")}):e.createElement("b",{html:s.get("validated")})},_displayStatusTestOrder:function(t){return"TRUE"===(t.get("shopServices").testOrderStatus||t.get("shopServices").MP_SoftwareShopService.testOrderStatus)?e.createElement("span",{class:"fonticon fonticon-check green-icon"}):new n({value:s.get("sendTestOrder"),events:{onClick:function(){a.routeTo("/lab-validation-detail/"+t.get("id")+"/order-creation")}}})},_displayStatusShowroom:function(t){return""===t.get("description")?new n({value:s.get("reviewshowroom"),events:{onClick:function(){a.routeTo("/lab-validation-detail/"+t.get("id")+"/showroom")}}}):e.createElement("span",{class:"fonticon fonticon-check green-icon"})},_displayFonticon:function(t){return"TRUE"===t.get("kycStatus")||"TRUE"===t.get("kycForcedStatus")?e.createElement("span",{class:"fonticon fonticon-check green-icon"}):e.createElement("span",{class:"fonticon fonticon-cancel red-icon"})},_extractDate:function(t){var n=t.get("modified").split(" ");return[e.createElement("b",{html:n[0]}),e.createElement("br"),n[1]+" "+n[2]]},_renderLogo:function(t){var n,a,s,o,i;return n=["#078BFA","#F95753","#6FBC4B","#9E846A","#AA4BB2","#1A997B","#F564A3","#FF8A2E"],t.getLogo()?i=e.createElement("img",{styles:{"background-color":"grey"},src:t.get("logoUrl")}):(s=(a=t.get("shopName").split(" "))[0].charAt(0).toUpperCase(),o=0,o=a[1]?((s+=a[1].charAt(0).toUpperCase()).charCodeAt(0)+s.charCodeAt(1))%n.length:s.charCodeAt(0)%n.length,i=e.createElement("div",{html:s,class:"mpf-dot-view",styles:{"background-color":n[o]}})),i},_createLabListHeader:function(){return e.createElement("div",{class:"mpf-lab-list-top row",html:[this._createColumnHeader("1","sellerID"),this._createColumnHeader("3","shopName"),this._createColumnHeader("2","lastUpdate"),this._createColumnHeader("1","kyc"),this._createColumnHeader("2","showroom"),this._createColumnHeader("2","testOrder"),this._createColumnHeader("1","status")]})},_createColumnHeader:function(t,n){return e.createElement("div",{class:"col-xs-"+t+" no-padding",html:[e.createElement("span",{class:"fonticon fonticon-down-dir"}),e.createElement("span",{html:s.get(n)}),e.createElement("span",{class:"fonticon fonticon-filter"})]})},destroy:function(){this.model=null,this._parent(),this.container=null}})}),define("DS/MPFLabValidationComponent/SuspendLabToggle",["UWA/Core","UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopServiceModel","DS/MPFView/FieldToggleInput","i18n!DS/MPFLabValidationComponent/assets/nls/LabValidationComponent"],function(e,t,n,a,s,o){"use strict";const i=s.Events,r=t.extend({className:"mpf-suspend-lab-toggle",setup:function(e){n.requiredOfPrototype(e.shopService,a,"options.shop must be a ShopModel"),this.shopService=e.shopService,this.readOnly=!0===e.readOnly,this.toggle=this._createToggle(),this.listenTo(this.toggle,s.Events.SAVED,this.dispatchEvent.bind(this,i.SAVED)),this.listenTo(this.toggle,s.Events.ERROR,this.dispatchEvent.bind(this,i.ERROR))},render:function(){var e=this.shopService.getState();return e===a.States.ACTIVE||e===a.States.SUSPENDED?this.container.setContent(this.toggle.render()):this.container.setContent([]),this},destroy:function(){this.stopListening(),this.toggle.destroy(),this.shopService=null,this._parent(),this.container=null},_createToggle:function(){return new s({fieldName:a.Fields.STATE,fieldLabel:o.get("setOffline"),onValue:a.States.SUSPENDED,offValue:a.States.ACTIVE,model:this.shopService,readOnly:this.readOnly,type:"switch",saveOnChange:!0})}});return r.Events=i,r});
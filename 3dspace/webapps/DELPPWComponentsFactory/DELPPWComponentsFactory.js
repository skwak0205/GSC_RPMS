define("DS/DELPPWComponentsFactory/AppCore",["UWA/Core","UWA/Class","DS/DELModularWebAppCore/Core"],function(e,n,t){"use strict";var i=null,a={},o={CreateCmdModule:"DS/DELPPWComponentsFactory/CreateCmdModule"},r={UXFactoryBehavior:"DS/DELPPWViewBehaviors/UXFactoryBehavior/UXFactoryBehavior",ResourceBehavior:"DS/DELPPWModelBehaviors/ResourceBehavior",ModelBehavior:"DS/DELPPWModelBehaviors/ModelBehavior"},l={UXComponentsPlugin:"DS/DELPPWViewPlugins/UXComponentsPlugin/UXComponentsPlugin",DatabasePlugin:"DS/DELPPWModelPlugins/DatabasePlugin/DatabasePlugin",ResourcePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/ResourcePlugin",WebServicePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/WebServicePlugin",AttributePlugin:"DS/DELPPWModelPlugins/AttributePlugin",DicoPlugin:"DS/DELPPWModelPlugins/DicoPlugin",PlatformPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/PlatformPlugin",ChangeActionPlugin:"DS/DELPPWModelPlugins/ChangeActionPlugin",SelectionPlugin:"DS/DELPPWViewPlugins/SelectionPlugin/SelectionPlugin",ImplementPlugin:"DS/DELPPWViewPlugins/ImplementPlugin/ProductImplementPlugin",BIPlugin:"DS/DELPPWModelPlugins/BI/BIPlugin"},s={CommandsService:"DS/DELMFNApplicationServices/Commands/CommandsService",ConfigService:"DS/DELPPWServices/ConfigService/ConfigService",EventsService:"DS/DELPPWServices/EventsService",LoggerService:"DS/DELPPWServices/LoggerService/LoggerService",ModelService:"DS/DELPPWServices/ModelService"};return i=n.singleton({_core:null,initCore:function(n){return new Promise(function(u,c){i._core=new t({appId:"DELTST_AP",widgetTrigram:"TST",immersiveFrame:n,isFacet:!0,cloudServiceName:"3dmfgitemsmgt",unAuthorizedTypes:["PRODUCT","PARTS"],appContext:{widget:{getId:function(){return widget.id},data:{appId:"DELTST_AP"}}},require:{module:o,behavior:r,plugin:l,service:s},resource:{appConfigPath:"DS/DELPPWComponentsFactory/AppConfig",iconCatalogPath:"DS/DELPPWFacets/assets/icons/catalog.json",eventsMappingPath:"DS/DELPPWFacets/assets/json/EventsMapping.json",commandsAvailabilityPath:"DS/DELPPWFacets/assets/json/CommandsAvailability.json",selectionMappingPath:"DS/DELPPWFacets/assets/json/SelectionMapping.json",nlsFilePath:"DS/DELMFNApp/assets/nls/NLS",insertFormAttributeXML:"insertFormAttributeXML",indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",modelCustomRelationsXML:"modelCustomRelationsXML",ItemOOTBFiltering:"ItemOOTBFiltering"}}),i._core.useServices(["EventsService","LoggerService","ConfigService","ModelService","CommandsService"],function(){i._core.createModule("CreateCmdModule","CREATECMDMOD",a,function(){i._core.start("CREATECMDMOD",{insertFormAttributeXML:"insertFormAttributeXML"},function(){var n=i._core.getInstance().CREATECMDMOD;e.is(n)&&e.is(n.instance)?u():c()})})})})},getCore:function(){return i._core}})}),define("DS/DELPPWComponentsFactory/CreateCmdModule",["UWA/Core","DS/DELPPWInsertCmdModule/InsertUI"],function(e,n){"use strict";return{behaviors:["UXFactoryBehavior","ModelBehavior","ResourceBehavior"],creator:function(t,i,a,o){var r,l,s=null;return l=function(n,i){var o=i||{},r=e.is(o.fatherPID,"string")&&o.fatherPID.length>0?o.fatherPID:null;o.onComplete=function(n,i,a){e.is(a)&&(a.message=n,a.creationStatus=!0,t.debug(a),t.notify("objectCreation",a))},o.onFailure=function(n,i){e.is(i)&&(i.message=n,i.creationStatus=!1,t.debug(i),t.notify("objectCreation",i))},t.debug((e.is(o.transactionUUID,"string")&&o.transactionUUID.length,o.transactionUUID)),a.createRefOrInst(n,r,o)},r=function(n){var t=n||{},i=e.is(t.referenceType,"string")&&t.referenceType.length>0?t.referenceType:null,a=!e.is(t.showDialog,"boolean")||t.showDialog,o=e.is(t.fatherPID,"string")&&t.fatherPID.length>0?t.fatherPID:null,r=e.is(t.transactionUUID,"string")&&t.transactionUUID.length>0?t.transactionUUID:null;s.isActive()&&s.destroyUI(),s.createDialog(i,l,a,null,null,{fatherPID:o,transactionUUID:r})},{listenTo:function(){return{InsertCmd:r}},onStart:function(e,r){s=new n(t,i,o,a),r()},onStop:function(){e.is(s)&&s.isActive()&&s.destroyUI(),s=null}}}}}),define("DS/DELPPWComponentsFactory/AppConfig",[],function(){"use strict";return{preferences:[{name:"showDialog",label:"Preferences.ShowDialog",defaultValue:"true",type:"hidden"},{name:"navigateOnIndexedDB",type:"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"fetchAllLevel",label:"Preferences.fetchAllLevel",defaultValue:"false",type:"hidden"},{name:"showOrg",label:"Preferences.showOrg",defaultValue:"false",type:"hidden"},{name:"showCollaborativeSpace",label:"Preferences.showCollaborativeSpace",defaultValue:"false",type:"hidden"},{name:"showRole",label:"Preferences.showRole",defaultValue:"false",type:"hidden"},{name:"oneDelmiaAggregationMode",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true",type:"hidden"},{name:"separator",label:"Preferences.Separator",defaultValue:"|",type:"hidden"},{name:"navigateOnIndex",options:[{value:"Database",label:"Database"},{value:"Index",label:"Index"},{value:"IndexRelationsOnDemand",label:"Index - Relations On Demand"}],label:"Preferences.NavOnIndex",defaultValue:"Index",type:"hidden"},{name:"organization",label:"Preferences.Org",options:[],defaultValue:"",onchange:"OrganizationUpdated",type:"hidden"},{name:"collaborativeSpace",label:"Preferences.CollabSpace",options:[],defaultValue:"",onchange:"CollabSpaceUpdated",type:"hidden"},{name:"role",label:"Preferences.Role",options:[],defaultValue:"",onchange:"RoleUpdated",type:"hidden"},{name:"custoParametersSet",label:"Preferences.CustoParametersSet",options:[],defaultValue:"",type:"hidden"},{name:"timeout",label:"Preferences.ServerTimeout",defaultValue:"600",onchange:"TimeoutUpdated",type:"hidden"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"},{name:"isManufacturingItemsVisible",type:"hidden",defaultValue:!0},{name:"isProductsPartsVisible",type:"hidden",defaultValue:!0},{name:"isMFNToggleAuxiliaryViewVisible",type:"hidden",defaultValue:!1},{name:"isViewPersistanceOn",type:"hidden",defaultValue:"false"},{name:"refreshBIOnAuthoring",type:"hidden",defaultValue:!0}],xmlConfiguration:{insertFormAttributeXML:"DELPPWComponentsFactory/InsertCmdFormAttribute",indexMappingXML:"DELPPWComponentsFactory/IndexMapping",modelRelationsXML:"DELPPWComponentsFactory/ModelRelations",modelCustomRelationsXML:"DELPPWComponentsFactory/ModelCustomRelations",ItemOOTBFiltering:"DELPPWApplications/ItemOOTBFiltering"}}}),define("DS/DELPPWComponentsFactory/ComponentsFactory",["UWA/Core","UWA/Utils","DS/DELPPWComponentsFactory/AppCore","css!DS/DELPPWComponentsFactory/DELPPWComponentsFactory.css"],function(e,n,t){"use strict";return{init:function(n){var i=Promise.resolve();return e.is(t.getCore())||(i=t.initCore(n)),i},run:function(i,a){return new Promise(function(o,r){var l=t.getCore(),s=null,u=[],c=0,d=0,P=n.getUUID(),g=a||{},m=function(){var e=u.some(function(e){return e.creationStatus});l.removeExternalListener(s),e?o(u):r(u)};if(e.is(l))switch(i){case"CreateObject":g.transactionUUID=P,s=l.addExternalListener("objectCreation",function(n){e.is(n)&&e.is(P,"string")&&P.length>0&&n.transactionUUID===P&&(c++,u.push(n),c===d&&m())}),l.addExternalListenerOnce("objectCreationUIClosed",function(n){e.is(n)&&e.is(P,"string")&&P.length>0&&n.transactionUUID===P&&(d=n.requestedCreation,c===d&&(0===d&&u.push({transactionUUID:n.transactionUUID,creationStatus:!1,referenceAttrs:null,instanceAttrs:null,message:"Creation dialog box has been closed by user without creation request"}),m()))}),l.getMediator().notify("InsertCmd",g)}else r("No App Core retrieved")})}}});
define("DS/CommandRecord/DelegateRec",["DS/WebRecordEnabler/Adapter","DS/ApplicationFrame/CommandsManager","DS/Core/PointerEvents","DS/ApplicationFrame/ContextualUIManager","DS/ApplicationFrame/FrameWindowsManager"],function(e,t,a,r,n){"use strict";return{record:function(t){for(t.recordInfo.delegate="DS/CommandRecord/DelegateRec";-1===t.target.className.toLowerCase().indexOf("wux-afr-cmdstarter")&&-1===t.target.className.toLowerCase().indexOf("afractionbar")&&"AfrActionBarDropDown"!==t.target.getAttribute("data-representationtype");)t.target=t.target.parentNode;return delete t.recordInfo.event,delete t.recordInfo.target.cssPath,delete t.recordInfo.target.position,delete t.recordInfo.target.attributes,"AfrActionBarDropDown"===t.target.getAttribute("data-representationtype")?(t.recordInfo.data={target:t.target.getAttribute("data-name")},t.success=!0):-1!==t.target.className.toLowerCase().indexOf("wux-afr-cmdstarter")?(t.target._record._commandId?(t.recordInfo.data={commandId:t.target._record._commandId},t.success=!0):(e.TraceManager.error("no command ID Found"),t.success=!1),t.target._record._context&&t.target._record._context.length>0&&(t.recordInfo.data.context=t.target._record._context)):t.success=!0,t},replay:function(r){if(r.data&&r.data.commandId){var n=t.getCommand(r.data.commandId,r.data.context),o=t.getCommandCheckHeader(r.data.commandId,r.data.context);if(void 0===n&&null==o)return e.TraceManager.fatal("ODT KO command is not found");n?n.begin():o.toggleState()}else if(r.data&&r.data.target){var d="[data-name="+r.data.target+"]",c=document.querySelectorAll(d)[0].children,i=c[c.length-1],s=document.createEvent("Event");s.initEvent(a.POINTERUP,!0,!1),i.dispatchEvent(s)}return!0},customReplay:function(e){return"contextMenu"===e.data.reason&&n.getFrameWindow(e.data.context)._contextualUIManager._onRightClick({pos:e.data.pos,posInit:e.data.posInit,posFinal:e.data.posFinal}),"hideListenerCalled"===e.data.reason&&n.getFrameWindow(e.data.context)._contextualUIManager._hideListener({parentElement:e.data.parentElement,parentElement2:e.data.parentElement2,reason:e.data.reason}),!0},eventOptions:{}}}),define("DS/CommandRecord/ContextualBarRecord",["DS/WebRecordEnabler/Adapter","DS/Core/PointerEvents","DS/ApplicationFrame/CommandsManager","DS/CommandRecord/DelegateRec"],function(e,t,a,r){"use strict";return{record:function(e){return r.record(e),e},eventOptions:{subscribed:[t.POINTERUP]}}}),define("DS/CommandRecord/ActionBarRecord",["DS/WebRecordEnabler/Adapter","DS/Core/PointerEvents","DS/ApplicationFrame/CommandsManager","DS/CommandRecord/DelegateRec"],function(e,t,a,r){"use strict";return{record:function(e){return r.record(e),e},eventOptions:{subscribed:[t.POINTERUP]}}});
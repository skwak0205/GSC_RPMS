<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
<head>


    <title>Set Architecture Number For Physical - Web In Win</title>

    <!-- App icon set to blue CATIA icon -->
	<!-- <link rel="icon" type="image/png" href="assets/icons/16/iconCATIA.png" /> -->

	<!-- Application Metas -->
	<meta name="autoRefresh" content="false" />
	<meta name="debugMode" content="true" />
    <meta name="author" content="FLE Team" />
    <meta name="description" content="FL Cockpit Widget" />

    <!-- AMDLoader -->
    <script type="text/javascript" src="../AmdLoader/AmdLoader.js"></script>
    <script type="text/javascript" src="../WebappsUtils/WebappsUtils.js"></script>

    <!-- UWA -->
    <script type="text/javascript" src="../c/UWA/js/UWA_Standalone_Alone.js"></script>

    <!--  CSS -->
    <link rel="stylesheet" type="text/css" href="../UIKIT/UIKIT.css" />
    <link rel="stylesheet" type="text/css" href="CATFLCockpitWidget.css" />
    <!-- <link rel="stylesheet" type="text/css" href="components/WIWItemCreationModal/WIWItemCreationModal.css" /> -->

    <!-- Web Fundamentals -->
    <script type="text/javascript" src="../WebUX/WebUX.js"></script>

    <!-- Sample code -->
    <script>
        // Expose global method here
      window.invokeSetArchitectureNumberOnPSpool = function (physicalids) {
          require([
          	'DS/CATFLCockpitWidget/components/WIWItemCreationModal/WIWItemCreationModal',
              'UWA/Core',
              'DS/CATFLCockpitWidget/services/logitem.service',
              'DS/CATFLCockpitWidget/utils/common.util',
              'i18n!DS/CATFLCockpitWidget/assets/nls/CATFLCockpitWidget'
          ], function (WIWItemCreationModal, UWA,LogItemService, CommonUtil, NLS) {

                LogItemService.getDataForSetArchNumberOnPSpool(physicalids).then(function (resp){
                  var parentDiv = UWA.createElement('div');
									var titleOfWIW = document.getElementsByClassName('title');
									if(titleOfWIW && titleOfWIW.length == 1){
											titleOfWIW[0].innerText = NLS.set_AN_OnP;
									}
                  resp.winInfo={
                    action: 'setArcNumPhysical',
                    title: NLS.set_AN_OnP /*resp.SelectionContext.LinkedSystemTitle*/,
                    submitBtn: NLS.action_set
                  };
                    parentDiv.setStyles({
                  		width : '100%',
                  		height: '100%'
                  	});
                  //  parentDiv.inject(widget.body);
                    widget.body.empty();
                    widget.body.appendChild(parentDiv);
                  	WIWItemCreationModal.init(parentDiv,resp,null);
										var moduleFooter = document.getElementsByClassName('moduleFooter')
										if(moduleFooter && moduleFooter.length == 1){
											moduleFooter[0].setStyle('display', 'none')
										}
                }, function (errors){
                      CommonUtil.displayError(errors, null, null, NLS.msg_generic_error_get_failed);
                });
          });
      };
      // var nativeData = {
      //   "ListSelectedInstances": [
      //       {
      //         "PReferenceID": "F80D3D3F998948D9938675ECF66FFA7A",
      //         "PInstanceID": "CF4A4DC2000068705F15630C0000BB13",
      //         "LReferenceID" : "CF4A4DC2000068705F15630C0000B848"
      //       },
      //       {
      //         "PReferenceID": "C721327F20204D63B6A39A16987B4682",
      //         "PInstanceID": "CF4A4DC2000068705F15632A0000BD22",
      //         "LReferenceID" : "CF4A4DC2000068705F15632A0000BD20"
      //       }
      //     ]
      // };
      // invokeSetArchitectureNumberOnPSpool(nativeData);
    </script>
    <!-- Application JS End -->
</head>

<body>
</body>

</html>

/*!  COPYRIGHT DASSAULT SYSTEMES 2015   */
var isCloud;define("DS/WebSystem/Rsc",["DS/RuntimeView/RSCManager","UWA/Class"],function(e,i){"use strict";return i.singleton({init:function(e){},loadRsc:function(i){e.loadResource({resourceFile:i})},rsc:function(i,t,n){e.onResourceLoaded({resourceFile:i},function(){if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.getIcon({key:t[i].iconName,size:t[i].iconSize});n(e)}else n(this.getIcon({key:t.iconName,size:t.iconSize}))}),e._listOfResources&&e._listOfResources[i]||this.loadRsc(i)}})}),define("DS/WebSystem/Css",["DS/WebappsUtils/WebappsUtils"],function(e){"use strict";return function(i,t){if(Array.isArray(i)){for(var n=0;n<i.length;n++)this.loadCssFile(i[n],t);return this}var s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=void 0===t?i:e.getWebappsBaseUrl()+i,document.getElementsByTagName("head")[0].appendChild(s)}}),define("DS/WebSystem/App",["UWA/Class"],function(e){var i={"3dswym":"X3DSWYM_AP",my3dexperience:"X3DSWYM_AP",ResultWebInWin:"X3DSEARWIN_AP","engineeringcentral/emxLaunch3DPlay.jsp":"ENOENBO_AP"};try{(window.top.require||window.require)(["DS/UWPClientCode/PublicAPI"],function(e){isCloud="true"===e.getApplicationConfiguration("app.build.isCloud")})}catch(e){}return{isInWidget:function(){return"undefined"!=typeof widget},isOnCloud:function(){return void 0!==isCloud?isCloud:!!window.widget&&"OnPremise"!==window.widget.getValue("x3dPlatformId")},is3DPlay:function(){return"X3DPLAW_AP"===this.getEmbeder()},is3DDrive:function(){return["X3PDRIV_AP","X3DDRIV_AP"].indexOf(this.getEmbeder())>-1},is3DSwym:function(){return["X3DMCTY_AP","X3DSWYM_AP","X3DWNEW_AP","X3DVIEW_AP"].indexOf(this.getEmbeder())>-1},is3DSearch:function(){return["X3DSEARWIN_AP","X3DSEAR_AP"].indexOf(this.getEmbeder())>-1},is3DSpace:function(){return["X3DCSMA_AP"].indexOf(this.getEmbeder())>-1},getEmbeder:function(){var e;try{if(window.WinJS?e="X3DPLAO_AP":window.HybridApp&&(window.HybridApp.isIOS&&window.HybridApp.isIOS()?e="X3DPLAI_AP":window.HybridApp.isAndroid&&window.HybridApp.isAndroid()&&(e="X3DPLAA_AP")),e||this.isInWidget()&&!(e=widget.getValue("appId"))&&window.parent&&window.parent.widget&&window.parent.widget.getValue&&(e=window.parent.widget.getValue("appId")),!e)for(var t in i)if(i.hasOwnProperty(t)&&window.location.href.indexOf(t)>-1){e=i[t];break}e||this.isInWidget()&&null===widget.id&&widget.body===window.document.body&&(e="X3DSEAR_AP")}catch(e){}return e||(e="Syndication"),e}}}),define("DS/WebSystem/UrlTools",[],function(){return{getURLParameters:function(){var e,i={},t=/([^&=]+)=?([^&]*)/g,n=window.location.toString();for(n=n.substring(n.indexOf("?")+1);e=t.exec(n);)i[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return i}}}),define("DS/WebSystem/FpsInfo",["UWA/Class"],function(e){"use strict";return e.extend({min:1/0,max:0,avg:0,init:function(){this.clear()},clear:function(){this.avg=this.max=0,this.min=1/0},toString:function(){return Math.round(this.min)+"/"+Math.round(this.max)+"/"+Math.round(this.avg)}})}),define("DS/WebSystem/DataUrlTools",["UWA/Class"],function(e){return e.singleton({toBlob:function(e){for(var i=e.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/),t=atob(i[3]),n=new ArrayBuffer(t.length),s=new Uint8Array(n),r=0;r<s.length;r++)s[r]=t.charCodeAt(r);var o=new Blob([s],{type:i[1]});return window.URL.createObjectURL(o)}})}),define("DS/WebSystem/MemoryInfo",[],function(){"use strict";return function(e){var i=e&&e.size||1048576;return"undefined"!=typeof gc&&gc(),window.performance&&window.performance.memory&&window.performance.memory.usedJSHeapSize?Math.floor(window.performance.memory.usedJSHeapSize/i):0}}),define("DS/WebSystem/Downloader",function(){return function(e,i){var t="string"!=typeof i,n=t?URL.createObjectURL(i):i,s=document.createElement("a");s.download=e,s.innerHTML="Download File",s.href=n,s.onclick=function(e){document.body.removeChild(e.target),s=null,t&&setTimeout(function(){window.URL.revokeObjectURL(n),n=null},2e3)},s.style.display="none",document.body.appendChild(s),"ODT_TEST_DO_NOT_DOWNLOAD"===e&&(s.click=function(){window[e]="done"}),s.click()}}),define("DS/WebSystem/Scripting",["UWA/Class"],function(e){"use strict";return e.extend({name:"Scripting",init:function(){this._parent(),this.scriptableAPIdef={},this._subscribers=[]},dispose:function(){this.disposeAllScriptingFunctions()},disposeAllScriptingFunctions:function(){for(var e in this.scriptableAPIdef)this.removeScriptingFunction(e);this.scriptableAPIdef=null},addScriptingFunction:function(e,i,t,n,s,r){this.scriptableAPIdef[e]={callback:i,documentation:t,declare:n,dispose:s,callbackUsage:r};var o=this;if(n){var a=function(){return o.executeScriptingFunction(e,arguments)};Array.isArray(n)?n.forEach(function(i){i[e]=a}):n[e]=a}return this},removeScriptingFunction:function(e){if(this.scriptableAPIdef[e]){if(this.scriptableAPIdef[e].declare&&(Array.isArray(this.scriptableAPIdef[e].declare)?this.scriptableAPIdef[e].declare.forEach(function(i){i[e]=void 0}):this.scriptableAPIdef[e].declare[e]=void 0),this.scriptableAPIdef[e].dispose&&this.scriptableAPIdef[e].dispose(),this._subscribers[e]){for(var i in this._subscribers[e])this._subscribers[e][i]=null;this._subscribers[e]=null}this.scriptableAPIdef[e]=void 0,delete this.scriptableAPIdef[e]}return this},getScriptingFunctions:function(){return this.scriptableAPIdef},hasScriptingFunction:function(e){return this.scriptableAPIdef[e]},getFunctionsDoc:function(){var e={};for(var i in this.scriptableAPIdef)e[i]=this.scriptableAPIdef[i].documentation||"noDoc";return e},subscribeScriptingFunction:function(e,i){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e].push(i),this},unsubscribeScriptingFunction:function(e,i){if(this._subscribers[e])for(var t in this._subscribers[e])this._subscribers[e][t]==i&&(this._subscribers[e][t]=null);return this},subscribeAllScriptingFunctions:function(e){for(var i in this.scriptableAPIdef)this.subscribeScriptingFunction(i,e)},unsubscribeAllScriptingFunctions:function(e){for(var i in this.scriptableAPIdef)this.unsubscribeScriptingFunction(i,e)},notifyScriptingFunction:function(e,i){if(this.scriptableAPIdef[e]&&this._subscribers[e])for(var t in this._subscribers[e])this._subscribers[e][t]&&this._subscribers[e][t](e,i);return this},executeScriptingFunction:function(e,i){var t=this.scriptableAPIdef[e];if(!t)throw"Unkown command";if(!t.callback)throw"internal error: callback not present";t.callbackUsage&&t.callbackUsage(e);var n=!1;try{void 0!==typeof i.callee}catch(e){n=!0}var s=n||void 0===i?i:[i];return t.callback.apply(this,s)}})}),define("DS/WebSystem/Context",["UWA/Class"],function(e){"use strict";var i={};return e.singleton({createContext:function(e){var t=e||"Context";return void 0===i[t]&&(i[t]=-1),i[t]++,t+(i[t]>0?"_"+i[t]:"")}})}),define("DS/WebSystem/DetectBrowser",[],function(){"use strict";return function(e,i){var t,n={browser:{},os:{}},s=e||navigator.userAgent,r=s.match(/(opr|opera(?=\/))\/?\s*([\d\.]+)/i)||[];r[0]?r[1]="opera":(r=s.match(/(edge(?=\/))\/?\s*([\d\.]+)/i)||[])[0]?r[1]="ie":(r=s.match(/(edge|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[],/trident/i.test(r[1])&&(t=/\brv[ :]+(\d+(\.\d+)?)/g.exec(s)||[],r[1]="ie",r[2]=t[1]||""),/edge/i.test(r[1])&&(t=/\brv[ :]+(\d+(\.\d+)?)/g.exec(s)||[],r[1]="ie",r[2]=t[1]||"")),r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],n.browser.name=r[0].toLowerCase(),n.browser.version=r[1].split(".")[0],n.browser.mobile=/IEMobile|Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(i||navigator.appVersion),n.browser.arm=/ARM/.test(s),n.browser.hasTouch="ontouchstart"in document.documentElement||n.browser.mobile,n.browser.safariWithChrome=!1;var o=[{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{v:"7",s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{v:"8",s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{v:"8.1",f:"winphone",s:"Windows Phone 8.1",r:/Windows Phone 8.1/},{v:"8",s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{v:"10",s:"Windows 10",r:/(Windows 10|Windows NT 10.0|Windows NT 6.3)/},{s:"android",r:/Android/},{s:"linux",r:/(Linux|X11)/},{s:"ios",r:/iP(hone|ad|od)/},{s:"macosx",r:/Mac OS X/},{s:"cros",r:/CrOS/}];for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];if(c.r.test(s)){n.os.name=c.s,c.v&&(n.os.version=c.v),c.f&&(n.os.name=c.f);break}}var d="";if(/Windows/.test(n.os.name))void 0!==n.os.version&&null!==(d=/Windows (\d.\d)/.exec(n.os.name))&&(d=d[1]),n.os.name="win";else switch(n.os.name){case"macosx":null!==(u=/Mac OS X (\d+)_(\d+)_?(\d+)?/.exec(s))?d=u[1]+"."+u[2]:null!==(u=/Mac OS X (\d+.\d+)/.exec(s))&&(d=u[1]);break;case"android":d=null!==(d=/Android ([\.\_\d]+)/.exec(s))?(d=d[1].split("."))[0]:4;break;case"ios":var u;d=(u=/OS (\d+)_(\d+)_?(\d+)?/.exec(i||navigator.appVersion))[1]+"."+u[2]}if(void 0===n.os.version&&(n.os.version=d),"safari"==n.browser.name.toLocaleLowerCase()){/(Chrome|CriOS)/i.test(navigator.userAgent)&&(n.browser.safariWithChrome=!0)}return n}}),define("DS/WebSystem/Settings",["UWA/Core","UWA/Class"],function(e,i){"use strict";var t=i.singleton({init:function(){this.storageSystem=null;var e=!1;try{e="localStorage"in window&&null!==window.localStorage&&void 0!==window.localStorage}catch(i){e=!1}e&&void 0===this.localStorage.get("ODT_SETTINGS_COOKIE")?this.storageSystem=this.localStorage:this.storageSystem=this.cookies},set:function(e,i){this.storageSystem.set(e,i)},get:function(e,i){var t=this.storageSystem.get(e);return void 0===t&&(t=i),t},remove:function(e){this.storageSystem.remove(e)},localStorage:{set:function(e,i){localStorage[e]=i},get:function(e){return localStorage[e]},remove:function(e){localStorage.removeItem(e)}},cookies:{set:function(e,i){document.cookie=e+"="+i},get:function(e){var i=document.cookie,t=i.indexOf(" "+e+"=");if(-1==t&&(t=i.indexOf(e+"=")),-1==t)i=null;else{t=i.indexOf("=",t)+1;var n=i.indexOf(";",t);-1==n&&(n=i.length),i=unescape(i.substring(t,n))}return null!==i&&""!==i||(i=void 0),i},remove:function(e){document.cookie=e+"="}}});return e.namespace("SHARE/Settings",t)}),define("DS/WebSystem/BrowserInfos",["DS/WebSystem/DetectBrowser"],function(e){"use strict";var i=e(),t=!!(navigator.userAgent.match(/(Android|iPhone|iPad)/i)||(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),n=!1;return t&&"iPhone"==navigator.platform&&(n=!0),{isMobile:function(){return t},browser:i,is_iPhone:n}}),define("DS/WebSystem/Preference",["DS/WebSystem/Settings"],function(e){"use strict";let i;return setTimeout(function(){require(["DS/WebSystem/Environment"],function(e){i=e.isSet("3DPlay.EmulateWidgetPrefs")})},200),{isAvailable:function(){return"undefined"!=typeof widget},delete:function(t){i?e.remove(t):this.isAvailable()&&widget.deleteValue(t)},set:function(t,n){i?e.set(t,n):this.isAvailable()&&widget.setValue(t,n)},get:function(t){if(i)return e.get(t);let n;return this.isAvailable()&&(n=widget.getValue(t)),n},setObject:function(e,i){this.set(e,JSON.stringify(i))},getObject:function(e){let i=this.get(e);return i?JSON.parse(i):{}}}}),define("DS/WebSystem/Environment",["UWA/Class","UWA/Core","UWA/Utils","DS/WebSystem/Settings","DS/WebSystem/Preference"],function(e,i,t,n,s){"use strict";return e.singleton({_parseURL:function(e){if(""!==e){var n=i.extend({},t.parseQuery(e));for(var s in n)this.set(s,n[s])}},init:function(){this.data={};try{this._parseURL(window.top.location.search)}catch(e){}this._parseURL(window.location.search)},set:function(e,i){e&&(this.data[e]=i)},isSet:function(e,i){var t=this.get(e);return void 0!==i?t===i:void 0!==t},get:function(e){var i=this.data[e];return void 0===i&&void 0!==n&&(i=n.get(e)),void 0===i&&void 0!==s&&(i=s.get(e)),i},remove:function(e){void 0!==this.data[e]&&delete this.data[e]},isBoolActive:function(e){return this.isSet(e,"true")||this.isSet(e,"1")}})}),define("DS/WebSystem/SessionManager",["DS/WebUtils/WebServices","DS/WebUtils/Logger","DS/WebSystem/App","DS/WebSystem/Environment","DS/WebSystem/Preference","UWA/Utils"],function(e,i,t,n,s,r){"use strict";let o=i("WebSystem.SessionManager"),a="WebSystem.Session",c="data",d=[],u=[],l=("undefined"!=typeof widget&&widget.id,function(){(t.is3DPlay()||n.isSet("ODT_SessionManager_"))&&function(){}.apply(this)}),f={isReading:!1,version:1,hasLoaded:!1,session:{},listeners:{},loadingPromises:[],getSession:()=>{let e={version:1};return e[c]=f.session,function(e){let i=function(e,i,t){let n=s.get(i);if(n){try{n=JSON.parse(n)}catch(e){}o.log("Copy",i,t),e[t||i]=n}};d.forEach((t,n)=>{i(e,t.src,t.dst),s.delete(t)}),u.forEach(t=>{i(e,t)})}(e[c]),e},init:function(e){e&&(e.sessionKey&&(a=e.sessionKey),e.dataKey&&(c=e.dataKey),e.ToCopy&&(u=u.concat(e.ToCopy)),e.toMigrate&&(d=d.concat(e.toMigrate)))},isReady:function(){return!this.isReading},dispose:function(){this.listeners={},this.pendingSaveTimeout&&(clearTimeout(this.pendingSaveTimeout),this.pendingSaveTimeout=null),l.apply(this),this.session={}},getSessionEntry:function(e){return this.session[e]},setSessionEntry:function(e,i){this.isReady()&&(i?this.session[e]=i:delete this.session[e],function(){if(!this.pendingSaveTimeout){var e=this;this.pendingSaveTimeout=setTimeout(function(){l.apply(e),e.pendingSaveTimeout=null,e=null},2e3)}}.apply(this))},register:function(e){e&&e.key&&e.readCB?(this.listeners[e.key]={readCB:e.readCB},this.hasLoaded&&this.getSessionEntry(e.key)&&e.readCB(this.getSessionEntry(e.key),this.version,function(){})):o.error("Args error : ",e)},restoreSession:function(e){if(this.isReady()){this.hasLoaded=!1,this.isReading=!0,e?function(e){if(o.log("restoreSession",e),e){this.version=e.version||1,this.session=e[c]||{};var i=this;Object.keys(this.session).forEach(e=>{let t=this.listeners[e];t&&i.loadingPromises.push(new Promise(function(n,s){o.log(e,i.getSessionEntry(e)),t.readCB(i.getSessionEntry(e),i.version,n)}))}),this.loadingPromises.length>0?Promise.all(i.loadingPromises).then(function(){i.isReading=!1,i.loadingPromises=[],i=null}):(this.isReading=!1,i=null)}this.hasLoaded=!0}.apply(this,[e]):this.isReading=!1}},clearSession:function(){this.session={},this.hasLoaded=!1,d=[],u=[],l.apply(this)}};return f}),define("DS/WebSystem/Assert",["DS/WebSystem/DetectBrowser","DS/WebSystem/Environment"],function(e,i){"use strict";return function(e,t){if(i.isSet("System.Assert.EnableAsserts")){var n,s=!0;switch(arguments.length){case 2:"string"==typeof arguments[1]?"string"==typeof arguments[0]?s=arguments[1]==arguments[0]:(s=arguments[0],n=arguments[1]):s=arguments[1]==arguments[0];break;case 1:s=arguments[0];break;default:return}if(0==s){var r="Assert Failed !!!\n";n?r+=n:(r+="Tested value: "+arguments[0]+"\n",r+="Expected value: "+arguments[1]),console.error(r)}return s}}}),define("DS/WebSystem/Nls",["UWA/Class","DS/WebSystem/Environment"],function(e,i){"use strict";var t,n,s=function(e){t?e(t):require(["DS/RuntimeView/NLSManager"],function(i){e(t=i)})};return e.singleton({init:function(e){n=this,i.isSet("3DPlay.Nls.Lang")&&this._setLang(i.get("3DPlay.Nls.Lang"))},_setLang:function(e){e&&(this.lang=e)},loadNls:function(e,i){i!==this.lang&&void 0!==i&&(this.lang=i),s(function(i){i.loadResource({resourceFile:e,language:n.lang})})},nls:function(e,i,t,r){console.error("catnls is deprecated in 3DPlay, please consider moving to nls infrastructure !"),s(function(s){s.onResourceLoaded({resourceFile:e},function(){if(Array.isArray(i)){for(var e=[],n=0;n<i.length;n++)e[n]=this.getKey({key:i[n]});t(e)}else t(this.getKey({key:i}))}),s._listOfResources[e]||n.loadNls(e,r)})}})});
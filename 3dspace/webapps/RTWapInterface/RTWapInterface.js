define("DS/RTWapInterface/RTWapInterface",["UWA/Class","UWA/Class/Events","DS/PlatformAPI/PlatformAPI"],function(t,e,i){"use strict";return t.extend(e,{initialised:!1,WapNativeBridge:null,DESKTOP_TOPIC:"toDesktopApp.ds.com",FROM_DESKTOP_TOPIC:"fromDesktopApp.ds.com",init(t){this.initialised||(this.initialised=!0,this.WapNativeBridge=t,this.subscribeDesktopTopic())},subscribeDesktopTopic(){var t;i.subscribe(this.DESKTOP_TOPIC,(t=this,function(e){var i=e.type||e.data&&e.data.type,a=e.payload||e.data&&e.data.payload,s=e.state||e.data&&e.data.state;t.WapNativeBridge&&t.WapNativeBridge.notifyNativeAppCallEvent&&t.WapNativeBridge.notifyNativeAppCallEvent(i,{data:a,state:s})}))},receiveCallActionFromNativeApp(t){i.publish(this.FROM_DESKTOP_TOPIC,{action:t.action,data:t.data})},receiveMinimizeCallEventFromNativeApp(t){i.publish(this.FROM_DESKTOP_TOPIC,{action:"minimize",data:!0===t})},receiveShowInviteStateEventFromNativeApp(t){var e="showInvite";!1===t&&(e="hideInvite"),i.publish(this.FROM_DESKTOP_TOPIC,{action:e,data:t})},receivePresenceStatusFromNativeApp(t){i.publish(this.FROM_DESKTOP_TOPIC,{action:"setPresence",data:t})},receiveCloseCallEventFromNativeApp(t){i.publish(this.FROM_DESKTOP_TOPIC,{action:"endCurrentCall",data:t})}})});
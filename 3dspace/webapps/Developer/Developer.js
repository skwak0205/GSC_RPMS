define("DS/Developer/HistoryManager",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","UWA/Class","DS/CoreEvents/ModelEvents"],function(e,t,n,s,o,a){"use strict";var i=o.singleton({init:function(e){this._parent(),this._modelEvents=new a;var t=window.parent||window,n=this;t.onpopstate=function(e){n._modelEvents.publish({event:"STATE_CHANGE",data:e})}},newState:function(t,n){t=e.extend({pid:0,p:null},t);var s=window.parent||window,o="";for(var a in t)null!==t[a]&&(o=o+a+"/"+t[a]+"/");s.history.pushState(t,void 0,"#!/"+o),n&&s.onpopstate.call(s,{state:t})},onChange:function(e){this._modelEvents.subscribe({event:"STATE_CHANGE"},function(t){e(t)})},loadFromHash:function(){for(var e=(window.parent||window).location.hash.substring(3).split("/"),t={},n=e.length%2==0?e.length:e.length-1,s=0;s<n;s++)s%2!=0&&(t[e[s-1]]=e[s]);i.newState(t,!0)},getCurrentState:function(){return(window.parent||window).history.state}});return i}),define("DS/Developer/ReleaseNotes",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","DS/WebappsUtils/WebappsUtils"],function(e,t,n,s,o){"use strict";return n.extend({defaultOptions:{file:"assets/ReleaseNotes.json"},init:function(e){this._parent(e),this._buildView()},_buildView:function(){var t=this,n=o.getWebappsBaseUrl()+this.options.file;this.elements.container=e.Element("div",{class:"wux-ReleaseNotes"}),e.Ajax.request(n,{type:"json",cors:!0,onComplete:function(n){(n=e.Json.decode(n)).versions.forEach(function(n){var s=new e.Element("h1",{html:"Version "+n.number}),o=new e.Element("div",{html:s,styles:{fontSize:24,marginBottom:20,margin:"0 40px"}});n.updates.forEach(function(t){var n;switch(t.type){case"add":n={html:"+",styles:{backgroundColor:"#7BE02C"}};break;case"update":n={html:"!",styles:{backgroundColor:"#FFB810"}};break;case"remove":n={html:"-",styles:{backgroundColor:"F86084"}}}var s={styles:{borderRadius:10,width:14,height:14,lineHeight:"14px",verticalAlign:"center",padding:2,display:"inline-block",textAlign:"center",color:"black",marginRight:10,border:"1px solid white",fontWeight:"bold"}};e.extend(s,n,!0);var a=new e.Element("div",s),i=new e.Element("span",{html:"- "+t.desc});new e.Element("div",{html:[a,i],styles:{fontSize:14,lineHeight:"20px",marginLeft:40,marginBottom:8}}).inject(o);var l=new e.Element("div",{styles:{fontSize:12,minHeight:40,marginLeft:40}}).inject(o);t.classes&&t.classes.forEach(function(t){new e.Element("span",{class:"wux-showroom-keywords-class",html:t}).inject(l)})}),t.elements.container.addContent(o)})}})}})}),define("DS/Developer/SandBoxIframe",["UWA/Core","UWA/Event","UWA/Controls/Abstract","DS/Core/Core","DS/WebappsUtils/WebappsUtils","DS/Utilities/Dom"],function(UWA,Event,Abstract,WUX,WebappsUtils,DomUtils){"use strict";var SandBoxIframe=Abstract.extend({defaultOptions:{code:{js:[]},template:null,command:null},init:function(e){this.options=UWA.extend(e,this.defaultOptions),this._parent(this.options),this.options.targetIframe?(this._sandboxIframe=this.options.targetIframe,this._sandbox=this.options.targetIframe.contentWindow):this._createIframe()},_createIframe:function(){this._sandboxIframe=new UWA.Element("iframe"),this._sandbox=this._sandboxIframe.contentWindow,!this._sandbox.eval&&this._sandbox.execScript&&this._sandbox.execScript("null")},evaluate:function(options){var command=options.command;options.template&&this._sandboxIframe.setAttribute("src",options.template);var me=this;setTimeout(function(){return options.baseUrl&&me.defineBaseurl(options.baseUrl),options.code&&options.code.js&&me.loadJS(options.code.js),options.code&&options.code.css&&me.loadCSS(options.code.css),me._sandbox.eval?me._sandbox.eval(command):me.get("fallback")?eval(command):new Error("Can't evaluate inside the iframe - please report this bug along with your browser information!")},1e3)},loadJS:function(e){var t=this;e.forEach(function(e){t.load(e)})},loadCSS:function(e){var t=this._sandboxIframe.contentDocument.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(t)},load:function(e){var t=this._sandboxIframe.contentDocument.createElement("script");return t.type="text/javascript",t.src=e,this._sandbox?this._sandboxIframe?this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(t):new Error("sandbox: iframe has not been created yet, cannot load "+e):document.body.appendChild(t)},defineBaseurl:function(e){var t=this._sandboxIframe.contentDocument.createElement("base");return t.href=e,this._sandbox?this._sandboxIframe?this._sandboxIframe.contentDocument.getElementsByTagName("head")[0].appendChild(t):new Error("sandbox: iframe has not been created yet, cannot load "+e):document.body.appendChild(t)}});return SandBoxIframe}),define("DS/Developer/UnsafeHTMLDisplay",["DS/Utilities/Utils","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(e,t,n){var s={startUnsafeHTMLDisplay:function(){if(!this._unsafeHTMLDisplayInterval){var e=this;e._displayUnsafeHTMLRunning=!1,this._unsafeHTMLDisplayInterval=window.setInterval(function(){!0!==e._displayUnsafeHTMLRunning&&(e._applyUnsafeHTMLDisplay(!0),e._displayUnsafeHTMLRunning=!1)},500);n.setNotificationManager(t),n.setFadeOutPolicy(WUXNotificationsOnScreenFadeOutPolicy.Slow),t.addNotif({level:"info",title:"Start displaying Unsafe HTML",subtitle:"Surrounding dynamically all fields containing unsafe HTML.",message:"To stop this debug feature, you can type WUX.stopUnsafeHTMLDisplay() in your browser console.",sticky:!1})}},stopUnsafeHTMLDisplay:function(){if(this._displayUnsafeHTMLRunning=!1,this._unsafeHTMLDisplayInterval){window.clearInterval(this._unsafeHTMLDisplayInterval),delete this._unsafeHTMLDisplayInterval,this._applyUnsafeHTMLDisplay(!1);n.setNotificationManager(t),n.setFadeOutPolicy(WUXNotificationsOnScreenFadeOutPolicy.Slow),t.addNotif({level:"info",title:"Stop displaying Unsafe HTML",subtitle:"Removing unsafe HTML feedback.",message:"Warning : residual unsafe feedback can remain after cleaning. You may need to refresh your session to remove them.",sticky:!1})}},_applyUnsafeHTMLDisplayToFrame:function(t,n){this._displayUnsafeHTMLRunning=!0;for(var s=[],o=t.getElementsByTagName("*"),a=0;a<o.length;a++){var i,l=o[a].dsModel,r=o[a].layoutDsModel,d=!1,c=r||l;if(c){var m=!1,u=c.options&&Object.keys(c.options).length>0?c.options:c;for(var f in u)if(-1!==f.indexOf("allowUnsafe")){m=!0,d=u[f],i=f;break}if(!m)continue}else{if(!0!==o[a]._allowUnsafeHTMLContent&&!1!==[a]._allowUnsafeHTMLContent)continue;d=o[a]._allowUnsafeHTMLContent}if(o[a].removeClassName("wux-controls-unsafe-default-html-debug-display"),o[a].removeClassName("wux-controls-unsafe-html-debug-display"),o[a].removeClassName("wux-controls-safe-text-debug-display"),o[a].removeClassName("wux-controls-safe-default-text-debug-display"),!0===n){if(i&&c){var p=e.getXSSDefaultBehavior();!0===d?o[a].addClassName("wux-controls-unsafe-html-debug-display"):!1===d?o[a].addClassName("wux-controls-safe-text-debug-display"):"safe"===p?o[a].addClassName("wux-controls-safe-default-text-debug-display"):o[a].addClassName("wux-controls-unsafe-default-html-debug-display")}else o[a].addClassName("wux-controls-unsafe-html-debug-display");s.push(o[a].innerHTML)}}},_applyUnsafeHTMLDisplay:function(e){this._displayUnsafeHTMLRunning=!0,s._applyUnsafeHTMLDisplayToFrame(document,e);for(var t=document.getElementsByTagName("iframe"),n=0;n<t.length;n++){var o=t[n].contentDocument;o&&s._applyUnsafeHTMLDisplayToFrame(o,e)}}};return s}),define("DS/Developer/Portal",["UWA/Drivers/Alone","UWA/Core","UWA/Element","DS/Core/Core","UWA/Controls/Abstract","DS/WebappsUtils/WebappsUtils","DS/Developer/HistoryManager"],function(e,t,n,s,o,a,i){"use strict";window._flagFrameIsLoaded=[];var l=function(e){return 0===e.indexOf("http://")||0===e.indexOf("https://")?e:a.getWebappsBaseUrl()+e};return o.extend({defaultOptions:{title:"Web<b>UX</b> for Developers",menu:[]},init:function(e){this._parent(e),this._buildLayout();var t=this;i.onChange(function(e){e.state&&t.goToPageID(e.state.pid,!1)}),this._buildMenu(),setTimeout(function(){var e=i.getCurrentState();e?t.goToPageID(e.pid,!1):t.goToPageID(0,!1),t.elements.selection.show()},500)},_buildLayout:function(){this.elements.container=new e.Element("div",{class:"wux-welcome"}),this.elements.top=new e.Element("div",{class:"wux-welcome-top",html:this.options.title,styles:{height:80,lineHeight:"80px"}}).inject(this.elements.container),this.elements.menu=new e.Element("div",{class:"wux-welcome-menu",styles:{height:39,transition:"all 0s ease-in-out",lineHeight:"40px"}}).inject(this.elements.container),this.elements.contentView=new e.Element("div",{class:"wux-welcome-content-view",styles:{top:122}}).inject(this.elements.container),this.elements.contentViewContainer=new e.Element("div",{class:"wux-welcome-content-view-container",styles:{transition:"all 0s ease-in-out"}}).inject(this.elements.contentView),this.elements.credits=new e.Element("div",{html:this.options.credits,class:"wux-welcome-credits"}).inject(this.elements.container)},_buildMenu:function(){var t=this;this._lastSelectedContentIndex=null,this._selectedContentIndex=0,this.elements.selection=new e.Element("div",{class:"wux-welcome-menu-item-selection",styles:{transition:"all 0s ease-in-out"}}).inject(this.elements.menu).hide(),this.elements.menuItems=[],this.options.menu.forEach(function(n,s){var o;if(t.elements.menuItems.push(new e.Element("div",{html:n.title,class:"wux-welcome-menu-item",styles:{transition:"all 0s ease-in-out"},events:{click:function(e){t.goToPageID(s)}}})),t.elements.menuItems[s].inject(t.elements.menu),"string"==typeof n.content){o=new e.Element("iframe",{src:l(n.content),frameborder:0,onload:"window._flagFrameIsLoaded["+s+"]=true",styles:{width:"100%",position:"absolute",top:0,bottom:0,height:"100%"}});var a=0,i=window.setInterval(function(){++a>20&&(window.clearInterval(i),n.contentError&&(o.src=l(n.contentError)))},100)}else(o=n.content)&&o.setStyles&&o.setStyles({padding:40});new e.Element("div",{html:o,class:"wux-welcome-page",styles:n.styles}).inject(t.elements.contentViewContainer)})},goToPageID:function(e,t){void 0===t&&(t=!0);var n=this;n._lastSelectedContentIndex=n._selectedContentIndex,n._selectedContentIndex=e,null!==n._lastSelectedContentIndex&&n.elements.menuItems[n._lastSelectedContentIndex]&&n.elements.menuItems[n._lastSelectedContentIndex].removeClassName("wux-ui-state-active");var s=n.elements.menuItems[e],o=100*-e+"%";n.elements.contentViewContainer.setStyles({transform:"translate3d("+o+", 0, 0)"}),n.elements.selection.setStyles({transform:"translate3d("+s.getPosition().x+"px, "+s.getPosition().y+"px, 0)",backgroundColor:n.options.menu[e].bgColor||"#3CF",height:s.getDimensions().height,width:s.getDimensions().width}),n.elements.menu.setStyles({borderBottom:"2px solid "+(n.options.menu[e].bgColor||"#3CF")}),s.addClassName("wux-ui-state-active"),t&&i.newState({p:encodeURIComponent(n.options.menu[e].title),pid:e})}})});
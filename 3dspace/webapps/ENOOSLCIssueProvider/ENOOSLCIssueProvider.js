define("DS/ENOOSLCIssueProvider/Views/ENODataGrid",["UWA/Core","UWA/Element","UWA/Class/View","DS/WAFData/WAFData","DS/Core/Core","DS/Spreadsheet/DataGrid","DS/UIBehaviors/Draggable","DS/WebappsUtils/WebappsUtils","DS/Controls/Timeline","UWA/Widget","UWA/Drivers/Alone","DS/UIKIT/Input/Button","DS/Controls/Button","DS/Controls/LineEditor","i18n!DS/ENOOSLCIssueProvider/assets/nls/ENOOSLCIssueProvider","css!DS/ENOOSLCIssueProvider/ENOOSLCIssueProvider.css","css!DS/UIKIT/UIKIT.css"],function(e,t,n,s,i,a,o,r,l,c,d,u,m,p,h){"use strict";return window.selectedRows=[],window.document.handleClick=function(e){var t=selectedRows.indexOf(e);t>-1?selectedRows.splice(t,1):selectedRows.push(e)},window.document.handleClickSingleSelect=function(e){var t=selectedRows.indexOf(e);if(t>-1)selectedRows.splice(t,1);else{var n=selectedRows.pop(),s=document.getElementById("check_"+n);s&&(s.checked=!1),selectedRows.push(e)}},window.document.disableDblClick=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()},n.extend({name:"issuesGrid",tagName:"div",className:"issue-gridview",selectedRows:[],init:function(e){var t=UWA.clone(e,!1);["container","template","tagName","domEvents"].forEach(function(e){delete t[e]}),this._parent(t)},loadHTMLWithTooltip:function(e){if(-1==e.virtualRowID)return!1;var t=e.cellModel.options.value,n="<span class='label_container' ondblclick='disableDblClick(event);' title='"+t+"'>"+t+"</span>";e.cellView.getContent().setHTML(n)},setup:function(){this.container.addClassName(this.getClassNames("-container")),this._initPageElements(),this._initGrid([])},_initGrid:function(e){this.options;var t,n=this.elements;if(this._gridData=e,void 0!==e&&0!=e.length){this._grid&&this._grid.destroy&&this._grid.destroy();var s=!1;"N"==this.getParameterByName("showDesc")&&(s=!0);var i=!0;"Y"==this.getParameterByName("showTitle")&&(i=!1);var o="handleClick";"N"==this.getParameterByName("allowMultiSelect")&&(o="handleClickSingleSelect"),t=new a({columns:[{text:"",dataIndex:"index",width:"9%",onCellRequest:function(e){if(-1==e.virtualRowID)return!1;var t=e.cellModel.options.value,n=selectedRows.indexOf(t)>-1?"checked":"",s="<span class='checkbox_container' ondblclick='disableDblClick(event);'><input type='checkbox' name='test' id='check_"+t+"' value='"+t+"' onclick='"+o+'("'+t+"\");' "+n+" style='width: 20px;width height: 20px; '></span>";e.cellView.getContent().setHTML(s)},changeContent:function(e){return!1},shouldAcceptDrag:function(e){return!1},isEditable:!1,isDraggable:!1},{text:h.name,dataIndex:"name",width:"20%",onCellRequest:this.loadHTMLWithTooltip},{text:h.title,dataIndex:"title",width:"25%",onCellRequest:this.loadHTMLWithTooltip,isHidden:i},{text:h.type,dataIndex:"type",width:"15%",onCellRequest:this.loadHTMLWithTooltip},{text:h.maturity,dataIndex:"current",width:"15%",onCellRequest:this.loadHTMLWithTooltip},{text:h.revision,dataIndex:"revision",width:"15%",onCellRequest:this.loadHTMLWithTooltip},{text:h.description,dataIndex:"description",width:"25%",onCellRequest:this.loadHTMLWithTooltip,isHidden:s}],isEditable:{switchToReadView:{event:"click",callback:function(){return!1}}},data:e,resize:{columns:!1},selection:{cells:!1,rowHeaders:!1,columnHeaders:!1,unselectAllOnEmptyArea:!1,canMultiSelect:!1},show:{rowHeaders:!1}}),this._grid=t,n.grid=t,t.inject(this.elements.gridContainer)}else this.buildMessageForEmptyGrid(this,h.defaultGridMessage)},_initPageElements:function(){var e,t,n,s=this;n=new UWA.Element("div",{class:"gridContainer"});new UWA.Element("div",{class:"wux-control-inline-container",style:{"vertical-align":"top"}});var i=new p({placeholder:h.searchPlaceHolder,sizeInCharNumber:40}),a=new m({label:h.search,allowUnsafeHTMLLabel:!0,emphasize:"primary"});a.addEventListener("buttonclick",function(e){var t=document.getElementsByClassName("wux-controls-lineeditor")[0].dsModel.value;if(""==t)return alert(h.warningInvalidPattern),!1;var n=t;if(""==(n=(n=n.replace(/\*/g,"")).replace(/\?/g,"")))return alert(h.warningInvalidPattern),!1;s.loadAjaxData(t)});var o=UWA.createElement("div",{class:"header",html:[i,a]});e=new m({label:h.DoneButton,disabled:!0,allowUnsafeHTMLLabel:!0,emphasize:"primary"}),t=new m({label:h.CancelButton,allowUnsafeHTMLLabel:!0,emphasize:"primary"}),e.addEventListener("buttonclick",function(e){s.submitSelectedData(s)}),t.addEventListener("buttonclick",function(e){window.opener?window.opener.postMessage('oslc-response:{"oslc:results":[]}',"*"):window.parent.postMessage('oslc-response:{"oslc:results":[]}',"*")}),s.elements.header=o,s.elements.gridContainer=n,s.elements.done=e,s.elements.cancel=t},getDoneButton:function(){return this.elements.done},getCancelButton:function(){return this.elements.cancel},submitEnabled:function(){return null===this.elements.create.elements.content.getAttribute("disabled")},render:function(){var e=this.elements,t=e.gridContainer,n=e.grid,s=e.done,i=e.header,a=e.cancel;return n.inject(t),this.container.setContent([i,t,{tag:"div",class:"footer",html:[s,a]}]),this},onCreate:function(){var e=window._myDatagrid.getManager()._selectedRows._items[0];alert(window._myDatagrid.getManager().getCellContent(e,1))},loadAjaxData:function(t){var n=this;n.buildMessageForEmptyGrid(n,h.loadingMessage);var i={};(i=e.extend(i,{},!0)).method="GET",i.wait=!0,i.onComplete=function(e,t,s){if(204==s.status)return n.buildMessageForEmptyGrid(n,h.noContentMessage),void(n.getDoneButton().disabled=!0);var i=JSON.parse(e);n.getDoneButton().disabled=!1,n._initGrid(i)};var a=n.getParameterByName("type"),o=n.getParameterByName("domainPath");""!=o&&(o="&rdfURLDomainPath="+o);var r="../../resources/v1/bps/oslc/cm/issue/cs/"+n.getParameterByName("cspid")+"?searchQuery="+t+"&types="+a+o+"&relationships="+n.getParameterByName("relationships");i.onFailure=function(e,t,n){document.getElementsByClassName("default_message").length>0&&(document.getElementsByClassName("default_message")[0].innerHTML=h.serverError)},s.request(r,i)},buildMessageForEmptyGrid:function(e,t){e._grid&&e._grid.destroy&&e._grid.destroy(),e.grid=new UWA.Element("div",{class:"default_message",text:t}),e._grid=e.grid,e.elements.grid=e.grid,e.grid.inject(e.elements.gridContainer)},submitSelectedData:function(e){if(selectedRows.length<1)alert(h.invalidSelection);else{var t=[];for(var n in selectedRows){var s=e._gridData[selectedRows[n]],i=new e.OSLCResultObject(s.physicalid,s.name,s.resourceURL);t.push(i)}var a={};a["oslc:results"]=t,window.opener?window.opener.postMessage("oslc-response:"+JSON.stringify(a),"*"):window.parent.postMessage("oslc-response:"+JSON.stringify(a),"*")}},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""},OSLCResultObject:function(e,t,n){this["oslc:PID"]=e,this["oslc:label"]=t,null!=n&&""!=n&&(this["rdf:resource"]=n)}})}),define("DS/ENOOSLCIssueProvider/Views/SearchReportedAgainst",["UWA/Core","DS/UIKIT/Input","i18n!DS/ENOOSLCIssueProvider/assets/nls/ENOOSLCIssueProvider","DS/WAFData/WAFData","css!DS/ENOOSLCIssueProvider/ENOOSLCIssueProvider.css"],function(e,t,n,s){"use strict";return t.extend({defaultOptions:{placeholder:n.ReportedAgainstPlaceHolder,fileBannedChars:["'","#","$","@","%"],multiple:!1},routeTemplate:{},socket:null,init:function(t){e.merge(this.defaultOptions,t),this._parent(t)},buildInput:function(){var t=e.createElement("div",{class:"eno-rt-search",html:this.options.text});return this.mLabelElement=e.createElement("label",{html:n.ReportedAgainstLabel+"   <span style='color:#e87b00'>*</span>"}).inject(t),this.mInputElement=e.createElement("div",{class:"eno-rt-input input-group"}).inject(t),this.mTextElement=e.createElement("input",{class:"form-control",name:"txtIssueAffectedItem",placeholder:this.options.placeholder,disabled:!0}).inject(this.mInputElement),this.mTextElementPID=e.createElement("input",{type:"hidden",name:"txtActualAffectedItem"}).inject(this.mInputElement),this.searchButton=e.createElement("span",{class:"input-group-addon btn-default btn",html:n.Native,events:{click:this.onInputClick.bind(this)}}).inject(this.mInputElement),this.extSearchButton=e.createElement("span",{class:"input-group-addon btn-default btn",html:n.External,events:{click:this.onExtInputClick.bind(this)}}).inject(this.mInputElement),t.addEventListener("dragover",this.onInputDragOver.bind(this),!1),t.addEventListener("dragleave",this.onInputDragLeave.bind(this),!1),t.addEventListener("drop",this.onInputDrop.bind(this),!1),t},clear:function(){this.elements.container.removeClassName("error"),this.elements.container.setText(this.options.placeholder)},selected_Objects_search:function(e){},onInputClick:function(){var e=this,t=e.options,n="../../webapps/ENOOSLCIssueProvider/ENODataGrid.html?showTitle="+t.showTitle+"&showDesc="+t.showDesc+"&type="+t.type+"&cspid="+t.cspid,s=window.open(n,"_blank","toolbar=yes,scrollbars=no,resizable=yes,top=300,left=300,width=800,height=500");window.focus&&s.focus(),window.addEventListener("message",function(t){var n=t.data;n=n.replace("oslc-response:","").trim();var i=JSON.parse(n)["oslc:results"];if(i.length>0){var a=new Array,o=new Array;for(var r in i)a.push(i[r]["oslc:label"]),o.push(i[r]["oslc:PID"]);e.mTextElement.value=a.join("|"),e.mTextElementPID.value=o.join("|")}s.close()},!1);var i=this.mTextElement.parentNode;i&&i.removeClassName("has-error")},onExtInputClick:function(){var t=this;t.extSearchButton.addClassName("disabled"),require(["DS/ENOOSLCIssueConsumer/ENOOSLCReqConsumer"],function(i){var a=new i,o={};(o=e.extend(o,{},!0)).method="GET",o.wait=!0,o.onComplete=function(e,n,s){t.extSearchButton.removeClassName("disabled"),a.setupWithExternalSetting(e),a.launchDelegatedUIWithExternalSetting(a.createIssueDelegatedUI)},o.onFailure=function(e,s,i){t.extSearchButton.removeClassName("disabled"),null!=e&&null!=e&&-1!==e.toString().indexOf('return ResponseCode with value "401"')?window.location.href=window.location.protocol+"//"+window.location.host+"/3DSpace/oslc/SSO_emxSecurityContextSelection.jsp?redirectParam="+window.location.href:alert(n.Server_Error)};var r=window.location.protocol+"//"+window.location.host+"/3DSpace/resources/v1/bps/oslc/cm/platform-urls";s.request(r,o)})},onInputDragOver:function(e){},onInputDragLeave:function(e){},onInputDrop:function(e){},onInputChange:function(e){},getValue:function(){return this.mTextElement.value}})}),define("DS/ENOOSLCIssueProvider/Views/ENOViewForm",["UWA/Core","UWA/Data","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/Abstract"],function(e,t,n,s,i,a){"use strict";function o(e){var t,n,s;if(e){for(t=0,n=(e=e.split(" ")).length;t<n;t++)(s=e[t].match(/horizontal|inline|vertical$/))&&!s[1]&&("horizontal"===s[0]?e[t]="form-horizontal":"inline"===s[0]?e[t]="form-inline":"vertical"===s[0]&&(e[t]="form-vertical"));return e.join(" ")}}var r={name:"viewform",defaultOptions:{className:"form-vertical",fields:[],buttons:[],labelSuffix:"",grid:"4 8"},init:function(e){(e=e||{}).className&&(e.className=o(e.className)),this.id=i.getUUID().substring(0,6),this._parent(e),this.buildSkeleton()},buildSkeleton:function(){var t,n=this,s=this.options.fields,i=this.fields,a=[];t=e.createElement("form",{class:this.getClassNames()}),s.forEach(function(e){var t;"hidden"!==e.type&&(void 0===i[e.type]&&(e.type="text"),t=i[e.type](e,n,void 0),e.label&&e.className&&e.className.contains("input-sm")&&t.getElement("label").addClassName("label-sm"),a.push(t))}),t.addContent(a),this.elements.container=t},createField:function(t,n,s,i){var a,o;return this.options.className.indexOf("form-horizontal")>-1&&this.options.grid?((!(o=this.options.grid.split(" "))||o.length<2)&&(o=[2,10]),i?t.inject(i.getChildren()[0]):n?(n.addClassName("col-xs-"+o[0]+" control-label"),a=e.createElement("div",{class:"form-group",html:[n,{tag:"div",class:"col-xs-"+o[1],html:t}]})):a=e.createElement("div",{class:"form-group",html:{tag:"div",class:"col-xs-offset-"+o[0]+" col-xs-"+o[1],html:t}})):this.options.className.indexOf("form-inline")>-1?i?t.inject(i):n?(n.addClassName("sr-only"),a=e.createElement("div",{class:"form-group",html:[n,t]})):a=e.createElement("div",{class:"form-group",html:t}):i?t.inject(i):a=n?e.createElement("div",{class:"form-group",html:[n,t]}):e.createElement("div",{class:"form-group",html:t}),s&&a.hide(),a},setClassName:function(e){return this.options.className=o(e),this.getContent().className=this.getClassNames(),this},fields:{text:function(t,n){var s,a,o=n;return s=e.createElement("label",{for:i.getUUID().substring(0,6),text:e.i18n(t.value),class:"field-value"}),e.is(t.label)&&(a=e.createElement("label",{for:i.getUUID().substring(0,6),text:e.i18n(t.label+o.options.labelSuffix)})),o.createField.call(o,s,a)}}};return a.extend(r)}),define("DS/ENOOSLCIssueProvider/Views/IssueCreateForm",["UWA/Core","UWA/Element","DS/WAFData/WAFData","UWA/Class/View","DS/UIKIT/Alert","UWA/Widget","UWA/Drivers/Alone","DS/UIKIT/Form","DS/UIKIT/Input/Button","DS/ENOOSLCIssueProvider/Views/SearchReportedAgainst","i18n!DS/ENOOSLCIssueProvider/assets/nls/ENOOSLCIssueProvider","css!DS/ENOOSLCIssueProvider/ENOOSLCIssueProvider.css","css!DS/UIKIT/UIKIT.css"],function(e,t,n,s,i,a,o,r,l,c,d){"use strict";return s.extend({name:"createIssue",isIE:!1,tagName:"div",className:"create-issue-view",init:function(e){var t=UWA.clone(e,!1);["container","template","tagName","domEvents"].forEach(function(e){delete t[e]}),this._parent(t)},setup:function(){this.container.addClassName(this.getClassNames("-container")),this._initAlert(),this._initForm(),this._initListenKeyDown(),this._detectBrowser(navigator.userAgent)},_detectBrowser:function(e){/(msie|trident)/i.test(e)&&(this.isIE=!0)},_initAlert:function(){},_initForm:function(){var e,t,n,s,i=this,a=(this.options,this.elements),o=i.getParameterByName("cspid"),u=new c({cspid:o,showTitle:"Y",showDesc:"N",type:"type_Requirement"});e=[{type:"textarea",name:"txtIssueDescription",rows:3,required:!0,label:d.DescriptionLabel,maxlength:"128",placeholder:d.DescriptionPlaceHolder,events:{onChange:function(){if(""!==this.getValue().trim()){var e=this.elements.input.parentNode;e&&e.removeClassName("has-error")}}}},{type:"html",name:"ReportedAgainstElem",required:!0,html:u},{type:"select",name:"txtIssuePriority",label:d.PriorityLabel,nativeSelect:!1,required:!0,placeholder:!1,options:[{value:"Pre-assigned",label:d.Priority_PreAssigned},{value:"Low",label:d.Priority_Low,selected:!0},{value:"Medium",label:d.Priority_Medium},{value:"High",label:d.Priority_High}]},{type:"select",name:"txtIssueProblemType",label:d.ProblemTypeLabel,nativeSelect:!1,required:!0,placeholder:!1,options:[{value:"Training",label:d.ProblemType_Training},{value:"Platform",label:d.ProblemType_Platform},{value:"Training",label:d.ProblemType_Training},{value:"Platform",label:d.ProblemType_Platform},{value:"Performance",label:d.ProblemType_Performance},{value:"Mistake",label:d.ProblemType_Mistake},{value:"Installation",label:d.ProblemType_Installation},{value:"Licensing",label:d.ProblemType_Licensing},{value:"Functionality",label:d.ProblemType_Functionality},{value:"Ease of Use",label:d["ProblemType_Ease of Use"]},{value:"Defect",label:d.ProblemType_Defect},{value:"3rd Party",label:d["ProblemType_3rd Party"]},{value:"Not Determined",label:d["ProblemType_Not Determined"],selected:!0},{value:"Usage Model",label:d["ProblemType_Usage Model"]}]},{type:"textarea",name:"txtIssueResolutionRecommendation",rows:3,label:d.ResolutionRecommendationLabel,maxlength:"128",placeholder:d.ResolutionRecommendationPlaceHolder},{type:"textarea",name:"txtIssueStepsToReproduce",rows:3,label:d.StepsToReproduceLabel,maxlength:"128",placeholder:d.StepsToReproducePlaceHolder}],t=new r({fields:e,events:{onSubmit:function(){i.onCreate()},onInvalid:function(e){},onValid:function(){}}}),i._form=t;var m=UWA.createElement("div",{class:"header",html:d.HeaderText});n=new l({value:d.DoneButton,className:"primary",events:{onClick:this.dispatchAsEventListener("onCreate")}}),s=new l({value:d.CancelButton,events:{onClick:this.dispatchAsEventListener("onCancel")}}),a.form=t,a.header=m,a.create=n,a.cancel=s},getCreateButton:function(){return this.elements.create},getCancelButton:function(){return this.elements.cancel},_initListenKeyDown:function(){this.onKeyDown=this.onKeyDown.bind(this),document.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){},submitEnabled:function(){return null===this.elements.create.elements.content.getAttribute("disabled")},onCancel:function(){window.parent.postMessage('oslc-response:{"oslc:results":[]}',"*")},render:function(){var e=this.elements,t=e.form,n=e.create,s=e.header,i=e.cancel;return this.container.setContent([s,t,{tag:"div",class:"footer",html:[n,i]}]),this},_validateInput:function(){var e,t={txtIssueDescription:this.elements.form.getField("txtIssueDescription"),txtActualAffectedItem:this.elements.form.getField("txtActualAffectedItem"),txtIssueAffectedItem:this.elements.form.getField("txtIssueAffectedItem")};return void 0===t.txtIssueDescription.value||""==t.txtIssueDescription.value.trim()?(alert(d.DescriptionEmptyFieldMessage),(e=t.txtIssueDescription.parentNode)&&e.addClassName("has-error"),t.txtIssueDescription.focus(),!1):void 0!==t.txtActualAffectedItem.value&&""!=t.txtActualAffectedItem.value.trim()&&void 0!==t.txtIssueAffectedItem.value&&""!=t.txtIssueAffectedItem.value.trim()||(alert(d.ReportedAgainstEmptyFieldMessage),(e=t.txtIssueAffectedItem.parentNode)&&e.addClassName("has-error"),t.txtIssueAffectedItem.focus(),!1)},onCreate:function(){var t=this;if(this._validateInput()){var s;t.elements.create.setDisabled(),(s=t.isIE?navigator.userLanguage:navigator.language).replace("-","_");var i={description:t.elements.form.getValue("txtIssueDescription").trim(),affectedItemsId:t.elements.form.getValue("txtActualAffectedItem"),affectedItemsName:t.elements.form.getValue("txtIssueAffectedItem"),priority:t.elements.form.getValue("txtIssuePriority"),problemType:t.elements.form.getValue("txtIssueProblemType"),resolutionRecommendation:t.elements.form.getValue("txtIssueResolutionRecommendation").trim(),issueStepsToReproduce:t.elements.form.getValue("txtIssueStepsToReproduce").trim(),timeZone:((new Date).getTimezoneOffset()/60).toString(),locale:s},a={};(a=e.extend(a,{},!0)).method="POST",a.type="json",a.headers={"Content-Type":"application/ds-json",Accept:"application/ds-json"},a.data=JSON.stringify(i),a.onComplete=function(e,n,s){null!=e&&void 0!==e?window.parent.postMessage("oslc-response:"+JSON.stringify(e),"*"):null!=s&&void 0!==s&&t.sendErrorResponse(s.statusText,s.status+""),t.elements.create.enable()},a.onFailure=function(e){if(e.message&&e.message.indexOf("Error:")&&e.message.indexOf("ResponseCode")){var n,s=e.message.substring(e.message.indexOf("ResponseCode")).split('"')[1];"500"==s?n="Internal Server Error":null==s||"undefined"==typeof request?(s="504",n="Gateway Timeout error"):n="Error processing request",t.sendErrorResponse(n,s)}t.elements.create.enable()},n.request("../../resources/v1/bps/oslc/cm/issue",a)}},sendErrorResponse:function(e,t){var n={"oslc:statusCode":t,"oslc:message":e};window.parent.postMessage("oslc-response:"+JSON.stringify(n),"*")},onDestroy:function(){},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""}})}),define("DS/ENOOSLCIssueProvider/Views/IssueViewForm",["UWA/Core","UWA/Element","DS/WAFData/WAFData","UWA/Class/View","UWA/Widget","UWA/Drivers/Alone","DS/ENOOSLCIssueProvider/Views/ENOViewForm","DS/UIKIT/Input/Button","DS/UIKIT/Spinner","i18n!DS/ENOOSLCIssueProvider/assets/nls/ENOOSLCIssueProvider","css!DS/ENOOSLCIssueProvider/ENOOSLCIssueProvider.css","css!DS/UIKIT/UIKIT.css"],function(e,t,n,s,i,a,o,r,l,c){"use strict";return s.extend({name:"createIssue",tagName:"div",className:"details-issue-view",init:function(e){var t=UWA.clone(e,!1);["container","template","tagName","domEvents"].forEach(function(e){delete t[e]}),this._parent(t)},_getUrlParams:function(){for(var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(t," "))},i=window.location.search.substring(1),a={};e=n.exec(i);)a[s(e[1])]=s(e[2]);return a},_getFormFields:function(e){var t=[];for(var n in e)t.push({type:"text",name:n,label:void 0!==c[n]?c[n]:n,value:e[n]});return t},setup:function(){this.container.addClassName(this.getClassNames("-container"));var t=new l({className:"large"}).inject(document.body).show(),s=this,i=s._getUrlParams();if(void 0===i.issuePid||null==i.issuePid||""==i.issuePid)s._initForm(s._getFormFields(i)),t.hide();else{var a={};(a=e.extend(a,{},!0)).method="GET",a.data="timeZone="+((new Date).getTimezoneOffset()/60).toString(),a.wait=!0,a.onComplete=function(e,n,i){s._initForm(s._getFormFields(JSON.parse(e))),s.render().inject(document.body),t.hide()},a.onFailure=function(e,n,i){s._initForm([]),alert(c.previewServerError),t.hide()},n.request("../../resources/v1/bps/oslc/cm/issue/"+i.issuePid,a)}},_initForm:function(e){var t,n,s,i=this,a=(this.options,this.elements);t=new o({fields:e,className:"horizontal",events:{onSubmit:function(){i.onCreate()},onInvalid:function(e){},onValid:function(){}}}),i._form=t;var l=UWA.createElement("div",{class:"header",html:c.ViewHeaderText});n=new r({value:c.DoneButton,className:"primary",events:{onClick:this.dispatchAsEventListener("onCreate")}}),s=new r({value:c.CancelButton,events:{onClick:this.dispatchAsEventListener("onCancel")}}),a.form=t,a.header=l,a.create=n,a.cancel=s},getCreateButton:function(){return this.elements.create},getCancelButton:function(){return this.elements.cancel},_initListenKeyDown:function(){this.onKeyDown=this.onKeyDown.bind(this),document.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){},submitEnabled:function(){return null===this.elements.create.elements.content.getAttribute("disabled")},render:function(){var e=this.elements,t=e.form;e.create,e.header,e.cancel;return this.container.setContent([t,{tag:"div",class:"footer"}]),this},onCreate:function(){}})});
/*!  Copyright 2020 Dassault Systemes. All rights reserved. */
define("DS/DMUBaseUIWebInWin/DMUWebInWinSlidePanel",["UWA/Class","DS/WebappsUtils/WebappsUtils","DS/DMUControls/panels/DMUSlidesPanel","i18n!DS/DMUBaseUIControllers/assets/nls/DMUBaseUIControllers","css!DS/UIKIT/UIKIT"],function(e,i,n,t){"use strict";return e.extend({init:function(e){var l,o,s=!1;function d(e,i){let n=i;n&&n.event&&delete n.event,window&&window.dscef&&window.dscef.sendString(JSON.stringify({event:e,data:n}))}function u(){var e=[{id:"switchReviewVisibilityBtn",checkFlag:!0,type:"switch",title:t.switchMarkupVisibility,cb:function(e){d("onReviewActiveFlagChanged",{flag:e.dsModel.checkFlag})}}];return s&&e.push({id:"filterButton",type:"checkbox",fontIcon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-filter",title:t.filterSlides,checkFlag:!!l&&l.getFilterActivationFlag(),cb:function(){l&&l.switchFilterActivation()}}),e.push({id:"newButton",type:"button",fontIcon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-plus",title:t.newSlide,cb:function(){d("onNewSlideCreated")}}),e}this.getSlidePanelObject=function(){return l},this.setFilteringAllowedFlag=function(e){s=e,l&&l.setPanelQuickAccessCommands(u())},e&&e.container&&(l=new n,(o={}).onTopBarDoubleClick=l.subscribe("onTopBarDoubleClick",function(e){d("onTopBarDoubleClick",e)}),o.onSlideDisplayed=l.subscribe("onSlideDisplayed",function(e){d("onSlideDisplayed",e)}),o.onSlidePreselected=l.subscribe("onSlidePreselected",function(e){d("onSlidePreselected",e)}),o.onSlideSelected=l.subscribe("onSlideSelected",function(e){d("onSlideSelected",e)}),o.onSlideUpdateRequired=l.subscribe("onSlideUpdateRequired",function(e){d("onSlideUpdateRequired",e)}),o.onSlideNameChanged=l.subscribe("onSlideNameChanged",function(e){d("onSlideNameChanged",e)}),o.onSlideCtxMenuRequired=l.subscribe("onSlideCtxMenuRequired",function(e){d("onSlideCtxMenuRequired",e)}),o.onMarkupCtxMenuDisplayed=l.subscribe("onMarkupCtxMenuRequired",function(e){d("onMarkupCtxMenuRequired",e)}),o.onNewSlideCreated=l.subscribe("onNewSlideCreated",function(){d("onNewSlideCreated")}),l.buildPanel({allowReplies:e.allowReplies,contextualCmdList:[{id:"DMUEditProperties",type:"button",nls:t.launchEditProperties,icon:i.getWebappsAssetUrl("DMUControls","icons/22/")+"I_DMUEditProperties.png",cb:function(){d("onReviewEditProperties")}}],quickAccessBtnList:u()}).inject(e.container),d("onPanelInitialized"))}})});
define("DS/WelcomeScreenView/WelcomeScreenDragAndDropManager",["css!DS/WelcomeScreenView/afr-welcome-screen.css","css!DS/UIKIT/UIKIT.css"],function(){"use strict";const e={forbidden:"Forbidden",overFullPage:"OverFullPage"};return class{constructor(e){this._container=e.container,this._dndForbiddenOverlay=null,this._dndFullPageOverlay=null,this._boundOnDragEnter=this.onDragEnter.bind(this),this._boundOnDragLeave=this.onDragLeave.bind(this),this._boundOnDragOver=this.onDragOver.bind(this),this._boundOnDrop=this.onDrop.bind(this),this._callbacks=e.callbacks,this.initDndListeners(this._container),this.buildOverlay()}buildOverlay(){this._dndFullPageOverlay=document.createElement("div"),this._dndFullPageOverlay.classList.add("afr-welcome-screen-drag-drop-overlay"),this._dndForbiddenOverlay=document.createElement("div"),this._dndForbiddenOverlay.classList.add("afr-welcome-screen-drag-drop-overlay");let e=document.createElement("div"),t=document.createElement("div");e.classList.add("fonticon","fonticon-drag-drop","fonticon-5x"),t.classList.add("fonticon","fonticon-wrong","fonticon-5x"),this._dndFullPageOverlay.appendChild(e),this._dndForbiddenOverlay.appendChild(t)}set callbacks(e){this._callbacks=e}onDragEnter(t){t.stopPropagation(),t.preventDefault(),function(){if(this._callbacks){let e=this._callbacks.onDragEnter(t);if(!(e&&e instanceof Promise))throw new Error("The applicative callback must return a promise.");return e}}.bind(this)().then(t=>{t===e.overFullPage?(this._dndFullPageOverlay.style.display="flex",this._container.appendChild(this._dndFullPageOverlay)):t===e.forbidden&&(this._dndForbiddenOverlay.style.display="flex",this._container.appendChild(this._dndForbiddenOverlay))})}onDrop(e){this._callbacks.onDrop&&this._callbacks.onDrop(e),e.preventDefault(),this.hideDndOverlay()}onDragOver(e){clearTimeout(this.hideOverlayToken),this.hideOverlayToken=void 0,e.stopPropagation(),e.preventDefault()}onDragLeave(e){this.hideOverlayToken=setTimeout(function(){e.stopPropagation(),this.hideDndOverlay()}.bind(this),300)}hideDndOverlay(){this._dndForbiddenOverlay.style.display="none",this._dndFullPageOverlay.style.display="none"}initDndListeners(e){e&&(e.addEventListener("dragenter",this._boundOnDragEnter,!1),e.addEventListener("dragleave",this._boundOnDragLeave,!1),e.addEventListener("dragover",this._boundOnDragOver,!1),e.addEventListener("drop",this._boundOnDrop,!1))}removeDndListeners(e){e&&(e.removeEventListener("dragenter",this._boundOnDragEnter,!1),e.removeEventListener("dragleave",this._boundOnDragLeave,!1),e.removeEventListener("dragover",this._boundOnDragOver,!1),e.removeEventListener("drop",this._boundOnDrop,!1))}destroy(){this.removeEventListener(this._container),delete this._dndForbiddenOverlay,delete this._dndFullPageOverlay,delete this._boundOnDragEnter,delete this._boundOnDragLeave,delete this._boundOnDragOver,delete this._boundOnDrop,delete this._callbacks}}}),define("DS/WelcomeScreenView/WelcomeScreenApplicationContainer",["DS/Controls/Button","i18n!DS/WelcomeScreenView/assets/nls/welcome-screen","css!DS/WelcomeScreenView/afr-welcome-screen.css"],function(e,t){"use strict";return class{constructor(e){if(this._private=Object.create(null),!(e&&e.title&&e.subtitle&&e.linksCategories))throw new Error("Missing parameters");this._private._data=e,this._private._currentCheckedButton=null,this._private._currentCheckedButtonId="",this._private._buttonCallbacks=new Map,e.modelEventsComponent&&"function"==typeof e.modelEventsComponent.publish&&(this._private._modelEventsComponent=e.modelEventsComponent),this.buildView()}unselectAll(){let e=this._private._currentCheckedButton,t=this._private._buttonCallbacks;if(!t)throw new Error("The callbacks map must be defined");e&&t.get(e)()}getDOM(){let e=null;return this._private._views&&this._private._views.container&&(e=this._private._views.container),e}getMRUWrapper(){let e=null;return this._private._views&&this._private._views.mruwrapper&&(e=this._private._views.mruwrapper),e}buildView(){let i=`\n                    <div class="afr-welcome-screen-side-panel-content">\n                        <header class="afr-welcome-screen-header">\n                            <h1 class="afr-welcome-screen-title">${this._private._data.title}</h1>\n                            <h2 class="afr-welcome-screen-subtitle">${this._private._data.subtitle}</h2>\n                            <section class="afr-welcome-screen-expand">\n                                <span class="afr-welcome-screen-expand-icon wux-button-icon-fi wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-drag-drop wux-ui-3ds-lg"></span>\n                                <div class="afr-welcome-screen-expand-text">${t.get("NLS_ExpandWidget")}</div>\n                            </section>\n                        </header>\n                        <section class="afr-welcome-screen-actions">\n                            <div class="afr-welcome-screen-alt">\n                                <span class="afr-welcome-screen-alt-icon wux-button-icon-fi wux-ui-genereatedicon-fi wux-ui-3ds wux-ui-3ds-drag-drop wux-ui-3ds-lg"></span>\n                                <div class="afr-welcome-screen-alt-l1">${t.get("NLS_AlternativeActionLine1")}</div>\n                            </div>\n                        </section>\n                        <section class="afr-welcome-screen-mru-wrapper"></section>\n                        <footer class="afr-welcome-screen-footer">${function(e){let t=[],i=null;for(let n=0,s=e.length;n<s;++n){let s=`\n                    <div class="afr-welcome-screen-links-category" style="grid-row: 1; grid-column: ${n+1}">\n                        <h1 class="afr-welcome-screen-links-category-title">${(i=e[n]).i18n.title}</h1>\n                    </div>\n                `;t.push(s);let r=i.links,a=null;for(let e=0,i=r.length;e<i;++e){let i;i=(a=r[e]).icon?`\n                            <div class="afr-welcome-screen-link-item" style="grid-row: ${e+2}; grid-column: ${n+1}">\n                                <span class="wux-ui-3ds-${a.icon} wux-ui-3ds"></span>\n                                <a href="${a.url}" class="afr-welcome-screen-link">${a.i18n.title}</a>\n                            </div>\n                        `:`\n                            <div>\n                                <a href="${a.url}" class="afr-welcome-screen-link" style="grid-row: ${e+2}; grid-column: ${n+1}">${a.i18n.title}</a>\n                            </div>\n                        `,t.push(i)}}return t.join("")}(this._private._data.linksCategories)}</footer>\n                    </div>\n                `,n=document.createElement("aside");n.classList.add("afr-welcome-screen-side-panel"),n.innerHTML=i;let s={container:n,sidepanel:n.getElementsByClassName("afr-welcome-screen-side-panel-content")[0],header:n.getElementsByClassName("afr-welcome-screen-header")[0],title:n.getElementsByClassName("afr-welcome-screen-title")[0],subtitle:n.getElementsByClassName("afr-welcome-screen-subtitle")[0],actions:n.getElementsByClassName("afr-welcome-screen-actions")[0],alt:n.getElementsByClassName("afr-welcome-screen-alt")[0],alticon:n.getElementsByClassName("afr-welcome-screen-alt-icon")[0],altltext:n.getElementsByClassName("afr-welcome-screen-alt-l1")[0],mruwrapper:n.getElementsByClassName("afr-welcome-screen-mru-wrapper")[0],expand:n.getElementsByClassName("afr-welcome-screen-expand")[0],expandicon:n.getElementsByClassName("afr-welcome-screen-expand-icon")[0],expandtext:n.getElementsByClassName("afr-welcome-screen-expand-text")[0],footer:n.getElementsByClassName("afr-welcome-screen-footer")[0],buttons:{},links:n.getElementsByClassName("afr-welcome-screen-link")},r=this._private._buttonCallbacks,a=this._private._data.guidedTour;if(a){let i=new e({label:t.get("NLS_GuidedTour"),icon:{iconName:"play",fontIconFamily:WUXManagedFontIcons.Font3DS},allowUnsafeHTMLLabel:!0});this._private._modelEventsComponent?r.set(i,()=>{a.controller.onAction(),this._private._modelEventsComponent.publish({event:"EVT_WelcomeScreenGuidedTourClicked"})}):r.set(i,()=>{a.controller.onAction()}),i.addEventListener("buttonclick",r.get(i)),i.getContent().classList.add("afr-welcome-screen-button"),s.buttons.GuidedTour=i,s.header.appendChild(i.getContent())}if(this._private._modelEventsComponent&&this._private._data.linksCategories){let e=this._private._data.linksCategories,t=e.length,i=[];for(let n=0;n<t;++n)i=i.concat(e[n].links);let n,r,a=s.links,o=function(e){this._private._modelEventsComponent.publish({event:"EVT_WelcomeScreenLinkClicked",data:e})};for(let e=0;e<a.length;++e)n=i[e],(r=a[e]).onclick=o.bind(this,{id:n.id})}this._private._views=s,this._private._data.hasOwnProperty("buttons")&&this.setButtons(this._private._data.buttons)}destroy(){let e=this.getDOM();e.parentNode&&e.parentNode.removeChild(e);let t=this._private._buttonCallbacks;for(let[e,i]of t)e.removeEventListener("buttonclick",i);t.clear(),delete this._private._buttonCallbacks;let i=this._private._views,n=i.buttons;for(let e in n)n.hasOwnProperty(e)&&(n[e].destroy(),delete n[e]);delete i.buttons;for(let e in i)i.hasOwnProperty(e)&&(i[e]=null,delete i[e]);delete this._private._views,delete this._private._data,delete this._private._currentCheckedButton,delete this._private._currentCheckedButtonId,delete this._private}resetCurrentCheckButton(){""!==this._private._currentCheckedButtonId&&(this._private._currentCheckedButton.checkFlag=!this._private._currentCheckedButton.checkFlag,this._private._currentCheckedButtonId="",this._private._currentCheckedButton=null)}setButtons(t){let i=this._private._views;if(i&&i.buttons){let e=this._private._buttonCallbacks;for(let[t,n]of e)t!==i.buttons.GuidedTour&&(t.removeEventListener("buttonclick",n),e.delete(t));for(let e in i.buttons)if("GuidedTour"!==e&&i.buttons.hasOwnProperty(e)){let t=i.buttons[e];t&&(i.actions.removeChild(t.getContent()),delete i.buttons[e])}}if(null===t?delete this._private._data.buttons:(this._private._data.buttons||(this._private._data.buttons={}),Object.assign(this._private._data.buttons,t)),!this._private._data.buttons||!this._private._data.buttons.items)return;const n=t.items;if(!Array.isArray(n))throw new Error("buttons.items must be an array");let s=this._private._buttonCallbacks;for(let t of n){let n=null;(n=new e({label:`<span class='afr-welcome-screen-button-label'>${t.i18n.title}</span>`,icon:{iconName:t.icon,fontIconFamily:WUXManagedFontIcons.Font3DS},allowUnsafeHTMLLabel:!0})).getContent().classList.add("afr-welcome-screen-button"),i.buttons[t.id]=n,i.actions.appendChild(n.getContent()),s.set(n,()=>{if(t.hasCustomContent){if(this._private._currentCheckedButton===n)for(let e in this._private._data.buttons.items)this._private._data.buttons.items[e].id==this._private._currentCheckedButtonId&&this._private._data.buttons.items[e].controller.publishRemoveCustomViewEvent();n.checkFlag=!n.checkFlag,t.controller.onAction({newState:n.checkFlag,title:t.i18n.title}),n.checkFlag?(this._private._currentCheckedButton=n,this._private._currentCheckedButtonId=t.id):this._private._currentCheckedButton===n&&(this._private._currentCheckedButton=null,this._private._currentCheckedButtonId="")}else t.controller.onAction();let e={id:t.id};this._private._modelEventsComponent&&this._private._modelEventsComponent.publish({event:"EVT_WelcomeScreenButtonClicked",data:e});let s=i.buttons;for(let e in s)s.hasOwnProperty(e)&&n!==s[e]&&(s[e].checkFlag=!1)}),n.addEventListener("buttonclick",s.get(n))}}}}),define("DS/WelcomeScreenView/WelcomeScreenButtonController",["DS/CoreEvents/ModelEvents"],function(e){"use strict";const t={NEW_CONTENT:"NEW_CONTENT",REMOVE_CONTENT:"REMOVE_CONTENT",TRIGGER:"TRIGGER"};return class{constructor(i){!function(e){if(!e||!e.onAction||"function"!=typeof e.onAction)throw new Error("missing callbacks")}(i),this._callbacks=i,this._boundOnAction=function(e){let i=null;if(!e||e&&e.newState){if(!((i=this._callbacks.onAction())&&i instanceof Promise))throw new Error("The applicative callback must return a promise.");i.then(i=>{i?(this._domContent&&this._modelEvents.publish({event:t.REMOVE_CONTENT,data:this._domContent}),this._domContent=i,this._modelEvents.publish({event:t.NEW_CONTENT,data:{dom:i,title:e.title}})):this._modelEvents.publish({event:t.TRIGGER})})}else this._modelEvents.publish({event:t.REMOVE_CONTENT,data:this._domContent});return i}.bind(this),this._modelEvents=new e,this._domContent=null}get onAction(){return this._boundOnAction}subscribe(e,t){return this._modelEvents.subscribe(e,t)}unsubscribe(e){return this._modelEvents.unsubscribe(e)}publishRemoveCustomViewEvent(){this._modelEvents.publish({event:"REMOVE_CUSTOM_CONTENT"})}destroy(){this._modelEvents.destroy(),delete this._boundOnAction,delete this._domContent,delete this._callbacks}}}),define("DS/WelcomeScreenView/WelcomeScreenCarousel",["DS/UIKIT/Carousel","css!DS/WelcomeScreenView/afr-welcome-screen.css","css!DS/UIKIT/UIKIT.css"],function(e){"use strict";const t={IMAGE:e=>{let t=UWA.createElement("div"),i=document.createElement("p"),n=document.createElement("p"),s=document.createElement("img");return s.setAttribute("src",e.img),t.classList.add("afr-welcome-screen-carousel-slide-container"),s.classList.add("afr-welcome-screen-carousel-slide-image"),i.classList.add("afr-welcome-screen-carousel-slide-title"),n.classList.add("afr-welcome-screen-carousel-slide-description"),i.appendChild(document.createTextNode(e.title)),n.appendChild(document.createTextNode(e.text)),t.appendChild(s),t.appendChild(i),t.appendChild(n),t},VIDEO:e=>{let t=UWA.createElement("div"),i=document.createElement("p"),n=document.createElement("p"),s=document.createElement("video");s.setAttribute("controls",!0),s.setAttribute("preload","metadata"),s.classList.add("afr-welcome-screen-carousel-slide-video");let r=document.createElement("source");return r.setAttribute("src",e.video),r.setAttribute("type","video/mp4"),s.appendChild(r),t.classList.add("afr-welcome-screen-carousel-slide-container"),i.classList.add("afr-welcome-screen-carousel-slide-title"),n.classList.add("afr-welcome-screen-carousel-slide-description"),i.appendChild(document.createTextNode(e.title)),n.appendChild(document.createTextNode(e.text)),t.appendChild(s),t.appendChild(i),t.appendChild(n),t}};return class{constructor(e){if(this._private=Object.create(null),!e||!Array.isArray(e))throw new Error("Missing parameters");this._private._items=e,this.buildView()}getDOM(){let e=null;return this._private._views&&this._private._views.container&&(e=this._private._views.container),e}buildView(){let e=new Object;e.container=document.createElement("div"),e.container.classList.add("afr-welcome-screen-carousel");let i=this._private._items,n=[];for(let e of i){let i=e.type;if(!t.hasOwnProperty(i))throw new Error("Unsupported type",i);n.push(t[i](e))}e.slides=n,this._private._views=e}createCarousel(){let t=new e({animation:"slide",dots:!0,autoPlay:!1});if(!this._private._views)throw new Error("View not created");return t.add(this._private._views.slides),this._private._views.container=t,t}destroy(){let e=this.getDOM();e.parentNode&&e.parentNode.removeChild(e);let t=this._private._views;for(let e in t)t.hasOwnProperty(e)&&(t[e]=null,delete t[e]);delete this._private._views,delete this._private}}}),define("DS/WelcomeScreenView/WelcomeScreenMRUController",[],function(){"use strict";return class{constructor(e){if(!e||!e.onHit&&!e.onContextualMenu)throw new Error("Missing parameters.");this._private=Object.create(null),e.onContextualMenu&&(this._private._onContextualMenu=e.onContextualMenu),e.onHit&&(this._private._onHit=e.onHit,e.simpleHit&&(this._private._simpleHit=e.simpleHit))}getOnContextualMenu(){if(!this._private)throw new Error("This controller has been destroyed.");return this._private._onContextualMenu}getOnHit(){if(!this._private)throw new Error("This controller has been destroyed.");return this._private._onHit}getSimpleHit(){if(!this._private)throw new Error("This controller has been destroyed.");return this._private._simpleHit}destroy(){delete this._private._onContextualMenu,delete this._private._onHit,delete this._private}}}),define("DS/WelcomeScreenView/WelcomeScreenCustomContentPanel",["DS/UIKIT/Iconbar","css!DS/WelcomeScreenView/afr-welcome-screen.css","css!DS/UIKIT/UIKIT.css"],function(e){"use strict";return class{constructor(){this._private=Object.create(null),this.buildView()}set title(e){this._private._title=e,this._private._views.title.textContent=e}getDOM(){let e=null;return this._private._views&&this._private._views.container&&(e=this._private._views.container),e}getContent(){let e=null;return this._private._views&&this._private._views.content&&(e=this._private._views.content),e}buildView(){this._private._views={};let t=this._private._views,i=document.createElement("section");i.classList.add("afr-custom-panel"),i.innerHTML='\n                    <header class="afr-custom-panel-header">\n                        <span class="afr-custom-panel-title"></span>\n                        <div class="afr-custom-panel-header-buttons"></div>\n                    </header>\n                    <section class="afr-custom-panel-content"></section>\n                ',t.container=i,t.header=i.getElementsByClassName("afr-custom-panel-header")[0],t.title=i.getElementsByClassName("afr-custom-panel-title")[0],t.buttons=i.getElementsByClassName("afr-custom-panel-header-buttons")[0],t.content=i.getElementsByClassName("afr-custom-panel-content")[0],this._private._iconBar=new e({renderTo:t.buttons,items:[{fonticon:"close",text:"Close",handler:()=>{const e=new CustomEvent("hide");t.container.dispatchEvent(e)}}]})}destroy(){let e=this.getDOM();e.parentNode&&e.parentNode.removeChild(e),this._private._iconBar.destroy();let t=this._private._views;for(let e in t)t.hasOwnProperty(e)&&(t[e]=null,delete t[e]);delete this._private._views,delete this._private}}}),define("DS/WelcomeScreenView/WelcomeScreenMRUTimeManager",["DS/Core/Core"],function(e){"use strict";const t=1e4;class i{constructor(){this._private=Object.create(null),this._private._subscriptions=[],this._private._intervalToken=-1}add(e){if(!e||!e.node)throw new Error("The parameter subscription must be an object with a property node corresponding to a TreeNodeModel");this._private._subscriptions.push(e)}clear(){let e=this._private._subscriptions;for(;e.length>0;)e.pop()}isRunning(){return-1!==this._private._intervalToken}start(){if(-1!==this._private._intervalToken)throw new Error("The time manager is already running.");this._private._intervalToken=setInterval(this.step.bind(this),t)}step(){let e=this._private._subscriptions;if(null!=e[0]){let t=e[0].node.getTreeDocument();if(t){t.prepareUpdate();let n="",s=null,r=new Date,a=null,o=null,l=void 0;for(let t of e)a=t.node.options.grid.subLabelInfos,s=Array.isArray(a)?[].concat(a):[],(o=t.node.options.grid.modified)?(l=i.getRelativeTimeFormat(o,r),s.unshift(l)):l=void 0,n=s.join(" | "),t.node.options.grid.modifiedInfo!==l&&t.node.updateOptions({grid:{modifiedInfo:l,subLabel:n}});t.pushUpdate()}}}stop(){if(-1===this._private._intervalToken)throw new Error("The time manager is not running.");clearInterval(this._private._intervalToken),this._private._intervalToken=-1}destroy(){this.isRunning()&&this.stop(),this.clear(),delete this._private._subscriptions,delete this._private._intervalToken,delete this._private}static createSubscription(e){return{node:e}}static getRelativeTimeFormat(t,i){i||(i=new Date);const n=new Intl.RelativeTimeFormat(e.getLocalization(),{localeMatcher:"best fit",numeric:"always",style:"long"});let s="";const r=(i-t)/1e3;let a=[{value:31536e3,str:"year"},{value:2419200,str:"month"},{value:604800,str:"week"},{value:86400,str:"day"},{value:3600,str:"hour"},{value:60,str:"minute"},{value:1,str:"second"}],o=!1,l=null,d=0,c=0;for(;!o&&c<a.length;)r>=(l=a[c]).value&&(d=r/l.value,s=n.format(-Math.ceil(d),l.str),o=!0),++c;return 0===s.length&&(s=n.format(-1,"second")),s}}return i}),define("DS/WelcomeScreenView/WelcomeScreenMRU",["DS/UIKIT/Iconbar","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/CollectionView/ResponsiveThumbnailsCollectionView","DS/CollectionView/ResponsiveTilesCollectionView","DS/CollectionView/modelProviders/CollectionViewTreeDocumentModelProvider","DS/DataGridView/DataGridView","DS/Core/PointerEvents","DS/WelcomeScreenView/WelcomeScreenMRUTimeManager","DS/Controls/ProgressBar","DS/Controls/TooltipModel","i18n!DS/WelcomeScreenView/assets/nls/welcome-screen-mru","css!DS/WelcomeScreenView/afr-welcome-screen.css","css!DS/UIKIT/UIKIT.css"],function(e,t,i,n,s,r,a,o,l,d,c,u){"use strict";function p(){let e=this,t=e._private._timeManager;return t||(t=new l,e._private._timeManager=t),t}function _(){let e=this,t=e._private._thumbnailsView;t&&t.visibleFlag&&(t.visibleFlag=!1,e._private._thumbnailsContainer.classList.add("afr-mru-content-wrapper-hidden"))}function h(){let e=this,t=e._private._tilesView;t&&t.visibleFlag&&(t.visibleFlag=!1,e._private._tilesContainer.classList.add("afr-mru-content-wrapper-hidden"))}function v(){let e=this,t=e._private._dataGridView;t&&t.visibleFlag&&(t.visibleFlag=!1,e._private._listViewContainer.classList.add("afr-mru-content-wrapper-hidden"))}function m(e,t,i){let n=e.getColumnOrGroup(t+"sColumns");if(n){n.visibleFlag=i>0;let s=n.children,r=Array.isArray(s)?s.length:0;if(r>i)for(let n=i;n<r;++n)e.removeColumnOrGroup(t+"_"+n.toString());else if(r<i){let s=[];for(let a=r;a<i;++a)e.addColumnOrGroup({dataIndex:t+"_"+a.toString(),getCellValue:function(e){if(e.nodeModel){let i=e.nodeModel.getAttributeValue(t+"s");if(Array.isArray(i)&&a<i.length)return i[a]}}}),(s=e.columns.splice(-1,1)).length>0&&(Array.isArray(n.children)||(n.children=[]),n.children.push(s[0]))}}}function w(e,t){e&&(t>4?(e.classList.remove("afr-mru-content-wrapper-one-row"),e.classList.add("afr-mru-content-wrapper-two-rows")):(e.classList.add("afr-mru-content-wrapper-one-row"),e.classList.remove("afr-mru-content-wrapper-two-rows")))}const f={title:"label",image:"picture",modified:"subLabel",icon:"icon",subTitleInfos:"subLabelInfos"};function b(e){let t={},i=null;for(let n in f)f.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(t[i=f[n]]=e[n]);let n=e.subTitleInfos,s=Array.isArray(n)?[].concat(n):[],r=e.modified;if(Array.isArray(n)&&n.length>0&&(t.subLabelInfos=n),r){t.modified=r;let e=l.getRelativeTimeFormat(r,new Date);t.modifiedInfo=e,s.unshift(e)}t.subLabel=s.join(" | ");let a=e.descriptionInfos;if(Array.isArray(a)&&(t.descriptionInfos=a,t.description=a.join(" | ")),e.custom)if(t.custom=e.custom,e.custom.hasOwnProperty("tooltip")&&Array.isArray(e.custom.tooltip)){let i="";e.custom.tooltip.forEach(e=>{i+=`<p style="margin:0;">${e.key}: ${e.value}</p>`}),t.customTooltip=new c({shortHelp:i,allowUnsafeHTMLShortHelp:!0})}else t.customTooltip=new c({shortHelp:`<p style="margin:0;">Title: ${e.title}</p>`});else t.customTooltip=new c({shortHelp:""});return e.id&&(t.id=e.id),t.contextualMenu=["Nothing but... mandatory"],t}function g(e){let t=Object.assign({},e),i=null,n=null;for(let s in f)f.hasOwnProperty(s)&&(n=f[i=s],e.hasOwnProperty(n)&&(t[i]=e[n],delete t[n]));return e.custom&&(t.custom=e.custom),e.id&&(t.id=e.id),t}function C(e,t){let i=null;if(e&&e.getOnHit()&&t){(i=Object.create(null)).view=t,i.event=o.POINTERHIT;let n=(t,i)=>{let n=e.getSimpleHit()?1:2,s=!0;if(1===n){let e=t.target.getChildren();Array.isArray(e)&&e.length&&(s=!e[0].classList.contains("wux-ui-3ds-chevron-down"))}if(t.multipleHitCount===n&&s){let t=null;i&&i.nodeModel&&(t=g(i.nodeModel.options.grid)),e.getOnHit()(t)}};i.callback=i.view.addEventListener(i.event,n)}return i}function y(e,t){let i=e.options.grid.modified,n=t.options.grid.modified;return i<n?1:n<i?-1:0}function V(e){return t=>{let i=null;return t&&t.cellInfos&&t.cellInfos.nodeModel&&(i=g(t.cellInfos.nodeModel.options.grid)),e.getOnContextualMenu()(i)}}function E(e){e.selectionBehavior={canMultiSelect:!1,canInteractiveMultiselectWithCheckboxClick:!1,enableShiftSelection:!1}}let L=r.inherit({getPropertyValue:function(e,t){let i=this._parent(e,t);return!i&&e.options.grid&&(i=e.options.grid[t]),i}});return class{constructor(e){this._private=Object.create(null),this._private._timeManager=null;let t=null;e&&(t=e.items,this._private._controller=e.controller,this._private._defaultViewMode=e.defaultViewMode,this._private._onViewModeChange=e.onViewModeChange),this._private._onHitSubscriptions=[],this.buildTreeDocument(t),this.buildView()}getDOM(){let e=null;return this._private._views&&this._private._views.container&&(e=this._private._views.container),e}buildTreeDocument(e){this._private._treeModel=new t,void 0!==e&&Array.isArray(e)&&this.setItems(e)}getItemsCount(){return this._private._treeModel.getRoots().length}buildView(){this._private._views={};let t=this._private._views,i=document.createElement("section");i.classList.add("afr-mru-panel"),i.innerHTML=`\n                    <header class="afr-mru-panel-header">\n                        <span>${u.get("NLS_RecentContent")}</span>\n                        <div class="afr-mru-panel-header-buttons">\n                        </div>\n                    </header>\n                    <div class="afr-mru-panel-loader afr-mru-panel-loader-hidden"></div>\n                    <section class="afr-mru-panel-content"></section>\n                `,t.container=i,t.header=i.getElementsByClassName("afr-mru-panel-header")[0],t.buttons=i.getElementsByClassName("afr-mru-panel-header-buttons")[0],t.loader=i.getElementsByClassName("afr-mru-panel-loader")[0],t.content=i.getElementsByClassName("afr-mru-panel-content")[0],this._private._iconBar=new e({renderTo:t.buttons,items:[{id:"selectedViewItem",fonticon:"view-small-thb",text:u.get("NLS_ViewModeIconTooltip"),content:{type:"icondropdown",options:{items:[{id:"thumbnailViewItem",fonticon:"view-small-thb",description:u.get("NLS_ThumbnailViewIconTooltip"),selected:!0,handler:()=>{this.displayThumbnailsView(),"function"==typeof this._private._onViewModeChange&&this._private._onViewModeChange("Thumbnails")}},{id:"tileViewItem",fonticon:"view-small-tile",description:u.get("NLS_TileViewIconTooltip"),handler:()=>{this.displayTilesView(),"function"==typeof this._private._onViewModeChange&&this._private._onViewModeChange("Tiles")}},{id:"listViewItem",fonticon:"view-list",description:u.get("NLS_ListViewIconTooltip"),handler:()=>{this.displayListView(),"function"==typeof this._private._onViewModeChange&&this._private._onViewModeChange("List")}}]}}},{id:"resize",fonticon:"resize-full",text:u.get("NLS_MaximizeIconTooltip"),handler:(e,n)=>{let s=i.classList.toggle("afr-mru-maximized");n.elements.icon.classList.toggle("fonticon-resize-full"),n.elements.icon.classList.toggle("fonticon-resize-small");let r=n.tooltip.getBody();if(r){let e=s?u.get("NLS_MinimizeIconTooltip"):u.get("NLS_MaximizeIconTooltip");r.setText(e)}const a=new CustomEvent("mrumaximizedstate",{detail:{value:this.isMaximized()}});t.container.dispatchEvent(a)}}]}),this._private._iconBar.elements.container.setStyle("display",""),this._private._loadingBar=new d({displayStyle:"lite",infiniteFlag:!0}),this._private._loadingBar.inject(t.loader),this.displayDefaultView()}buildThumbnailsCollectionView(){let e=this._private._controller,t=Boolean(e&&e.getOnContextualMenu());this._private._thumbnailsView=new n({displayedOptionalCellProperties:t?["contextualMenu"]:["None"],allowUnsafeHTMLContent:!0}),E(this._private._thumbnailsView),t&&(this._private._thumbnailsView.onContextualEvent={callback:V(e)});let i=C(e,this._private._thumbnailsView);i&&this._private._onHitSubscriptions.push(i),this._private._thumbnailsView.layout.columnMaxWidth=170,this._private._thumbnailsView.elements.container.classList.add("afr-mru-collectview"),this._private._thumbnailsView.modelProvider=new L,this._private._thumbnailsView.loadApplicativeModel(this._private._treeModel),this._private._thumbnailsContainer=document.createElement("div"),this._private._thumbnailsContainer.classList.add(this.getItemsCount()>4?"afr-mru-content-wrapper-two-rows":"afr-mru-content-wrapper-one-row"),this._private._thumbnailsContainer.classList.add("afr-mru-thumbnails-view-wrapper"),this._private._thumbnailsView.inject(this._private._thumbnailsContainer),this._private._views.content.appendChild(this._private._thumbnailsContainer)}buildTilesCollectionView(){let e=["description"],t=this._private._controller,i=Boolean(t&&t.getOnContextualMenu());i&&e.push("contextualMenu"),this._private._tilesView=new s({displayedOptionalCellProperties:e,allowUnsafeHTMLContent:!0}),E(this._private._tilesView),i&&(this._private._tilesView.onContextualEvent={callback:V(t)});let n=C(t,this._private._tilesView);n&&this._private._onHitSubscriptions.push(n),this._private._tilesView.modelProvider=new L,this._private._tilesView.loadApplicativeModel(this._private._treeModel),this._private._tilesContainer=document.createElement("div"),this._private._tilesContainer.classList.add(this.getItemsCount()>4?"afr-mru-content-wrapper-two-rows":"afr-mru-content-wrapper-one-row"),this._private._tilesContainer.classList.add("afr-mru-tiles-view-wrapper"),this._private._tilesView.inject(this._private._tilesContainer),this._private._views.content.appendChild(this._private._tilesContainer)}buildListView(){let e=this._private._controller,t=Boolean(e&&e.getOnContextualMenu());this._private._dataGridView=new a({treeDocument:this._private._treeModel,columns:[{dataIndex:"icon",typeRepresentation:"icon",width:24,minWidth:24},{text:u.get("NLS_ListViewTitleColumnHeaderLabel"),dataIndex:"label"},{text:u.get("NLS_ListViewModifiedColumnHeaderLabel"),dataIndex:"modifiedInfo"},{dataIndex:"subLabelInfosColumns"},{dataIndex:"descriptionInfosColumns"}],getCellTooltip:function(e){if(e.nodeModel.options.grid.custom&&e.nodeModel.options.grid.custom.hasOwnProperty("tooltip")&&Array.isArray(e.nodeModel.options.grid.custom.tooltip)){let t="";return e.nodeModel.options.grid.custom.tooltip.forEach(e=>{t+=`<p style="margin:0;">${e.key}: ${e.value}</p>`}),new c({shortHelp:t,allowUnsafeHTMLShortHelp:!0})}return null},cellActivationFeedback:"none",cellPreselectionFeedback:"row",cellSelection:"none",showContextualMenuColumnFlag:t});let i=this._private._treeModel.getChildren(),n=null,s=!1,r=!1,o=0,l=0;for(let e of i)(n=e.options.grid)&&(s=s||n.hasOwnProperty("icon"),r=r||n.hasOwnProperty("modified"),Array.isArray(n.subLabelInfos)&&(o=Math.max(o,n.subLabelInfos.length)),Array.isArray(n.descriptionInfos)&&(l=Math.max(l,n.descriptionInfos.length)));var d;this.updateListViewColumns(s,r,o,l),(d=this._private._dataGridView).rowSelection="single",d.columnSelection="none",d.cellSelection="none";let p=C(e,this._private._dataGridView);p&&this._private._onHitSubscriptions.push(p),t&&(this._private._dataGridView.onContextualEvent=V(e)),this._private._dataGridView.layout.columnsHeader=!1,this._private._dataGridView.layout.rowsHeader=!1,this._private._listViewContainer=document.createElement("div"),this._private._listViewContainer.classList.add(this.getItemsCount()>4?"afr-mru-content-wrapper-two-rows":"afr-mru-content-wrapper-one-row"),this._private._dataGridView.inject(this._private._listViewContainer),this._private._views.content.appendChild(this._private._listViewContainer)}displayThumbnailsView(){if(this._private._thumbnailsView&&!0===this._private._thumbnailsView.visibleFlag)return;let e=this._private._iconBar.getItem("selectedViewItem");if(e.content.hasOwnProperty("component"))e.content.component.setActiveItem("thumbnailViewItem");else{let t=e.content.options.items;if(Array.isArray(t)){let e=t.find(function(e){return e.selected});e&&delete e.selected;let i=t.find(function(e){return"thumbnailViewItem"===e.id});i&&(i.selected=!0)}}e.elements.icon.classList.add("fonticon-view-small-thb"),e.elements.icon.classList.remove("fonticon-view-small-tile"),e.elements.icon.classList.remove("fonticon-view-list"),h.call(this),v.call(this),this._private._thumbnailsView?(this._private._thumbnailsView.visibleFlag=!0,this._private._thumbnailsContainer.classList.remove("afr-mru-content-wrapper-hidden"),w(this._private._thumbnailsContainer,this.getItemsCount())):this.buildThumbnailsCollectionView()}displayTilesView(){if(this._private._tilesView&&!0===this._private._tilesView.visibleFlag)return;let e=this._private._iconBar.getItem("selectedViewItem");if(e.content.hasOwnProperty("component"))e.content.component.setActiveItem("tileViewItem");else{let t=e.content.options.items;if(Array.isArray(t)){let e=t.find(function(e){return e.selected});e&&delete e.selected;let i=t.find(function(e){return"tileViewItem"===e.id});i&&(i.selected=!0)}}e.elements.icon.classList.remove("fonticon-view-small-thb"),e.elements.icon.classList.add("fonticon-view-small-tile"),e.elements.icon.classList.remove("fonticon-view-list"),_.call(this),v.call(this),this._private._tilesView?(this._private._tilesView.visibleFlag=!0,this._private._tilesContainer.classList.remove("afr-mru-content-wrapper-hidden"),w(this._private._tilesContainer,this.getItemsCount())):this.buildTilesCollectionView()}displayListView(){if(this._private._dataGridView&&!0===this._private._dataGridView.visibleFlag)return;let e=this._private._iconBar.getItem("selectedViewItem");if(e.content.hasOwnProperty("component"))e.content.component.setActiveItem("listViewItem");else{let t=e.content.options.items;if(Array.isArray(t)){let e=t.find(function(e){return e.selected});e&&delete e.selected;let i=t.find(function(e){return"listViewItem"===e.id});i&&(i.selected=!0)}}e.elements.icon.classList.remove("fonticon-view-small-thb"),e.elements.icon.classList.remove("fonticon-view-small-tile"),e.elements.icon.classList.add("fonticon-view-list"),_.call(this),h.call(this),this._private._dataGridView?(this._private._dataGridView.visibleFlag=!0,this._private._listViewContainer.classList.remove("afr-mru-content-wrapper-hidden"),w(this._private._listViewContainer,this.getItemsCount())):this.buildListView()}displayDefaultView(){"List"===this._private._defaultViewMode?this.displayListView():"Tiles"===this._private._defaultViewMode?this.displayTilesView():(this._private._defaultViewMode,this.displayThumbnailsView())}updateListViewColumns(e,t,i,n){let s=this._private._dataGridView;if(s){let r=s.getColumnOrGroup("icon");r&&(r.visibleFlag=e);let a=s.getColumnOrGroup("modifiedInfo");a&&(a.visibleFlag=t),m(s,"subLabelInfo",i),m(s,"descriptionInfo",n),s.layout.applyColumns()}}isMaximized(){return this._private._views.container.classList.contains("afr-mru-maximized")}showLoader(){let e=this._private._views.loader;e&&(this._private._loadingBar||(this._private._loadingBar=new d({displayStyle:"lite",infiniteFlag:!0}),this._private._loadingBar.inject(e)),e.classList.contains("afr-mru-panel-loader-hidden")&&e.classList.remove("afr-mru-panel-loader-hidden"))}hideLoader(){let e=this._private._views.loader;e&&(this._private._loadingBar&&(this._private._loadingBar.container&&this._private._loadingBar.remove(),this._private._loadingBar.destroy()),e.classList.contains("afr-mru-panel-loader-hidden")||e.classList.add("afr-mru-panel-loader-hidden"))}setItems(e){if(!Array.isArray(e))throw new Error("items must be an array.",e);let t=this._private._treeModel,n=this._private._timeManager;this.stopTimeUpdate(),n&&n.clear(),t.prepareUpdate(),t.empty();let s=null,r=null,a=!1,o=!1,d=!1,c=0,u=0;for(let _ of e)a=a||_.hasOwnProperty("icon"),d=!isNaN(_.modified),o=o||d,Array.isArray(_.subLabelInfos)&&(c=Math.max(c,_.subLabelInfos.length)),Array.isArray(_.descriptionInfos)&&(u=Math.max(u,_.descriptionInfos.length)),s=b(_),r=new i({label:s.label,grid:s}),t.addRoot(r),d&&(n=p.call(this)).add(l.createSubscription(r));this.updateListViewColumns(a,o,c,u);let _=this.getItemsCount();w(this._private._listViewContainer,_),w(this._private._tilesContainer,_),w(this._private._thumbnailsContainer,_),t.pushUpdate(),this.startTimeUpdate()}setController(e){let t=this._private;if(!e)throw new Error("controller must be defined.");let i=!1;t._controller&&(t._controller.getOnContextualMenu()&&(i=!0),t._controller.destroy()),t._controller=e,e.getOnContextualMenu()?(t._thumbnailsView&&(t._thumbnailsView.displayedOptionalCellProperties=["contextualMenu"],t._thumbnailsView.onContextualEvent={callback:V(e)}),t._tilesView&&(t._tilesView.displayedOptionalCellProperties=["description","contextualMenu"],t._tilesView.onContextualEvent={callback:V(e)}),t._dataGridView&&(t._dataGridView.hasContextualMenu=!0,t._dataGridView.onContextualEvent=V(e))):i&&(t._thumbnailsView&&(t._thumbnailsView.displayedOptionalCellProperties=["None"],t._thumbnailsView.onContextualEvent=null),t._tilesView&&(t._tilesView.displayedOptionalCellProperties=["None"],t._tilesView.onContextualEvent=null),t._dataGridView&&(t._dataGridView.hasContextualMenu=!1,t._dataGridView.onContextualEvent=null));for(let e of t._onHitSubscriptions)e.view.removeEventListener(e.event,e.callback);if(t._onHitSubscriptions=[],e.getOnHit()){let i=null;t._thumbnailsView&&(i=C(e,t._thumbnailsView))&&t._onHitSubscriptions.push(i),t._tilesView&&(i=C(e,t._tilesView))&&t._onHitSubscriptions.push(i),t._dataGridView&&(i=C(e,t._dataGridView))&&t._onHitSubscriptions.push(i)}}setDefaultViewMode(e){"string"==typeof e&&["Thumbnails","Tiles","List"].includes(e)&&(this._private._defaultViewMode=e)}editItemCustom(e,t){if(!e)throw new Error("searchCallback must be defined");let i=this._private._treeModel;if(!i)throw new Error("No model to edit.");if(!t)throw new Error("Missing parameters");let n=i.search({match:function(t){let i=g(t.nodeModel.options.grid);return e(i)}});if(1!==n.length)throw 0===n.length?new Error("Item not found"):new Error("Found two items using the provided searchCallback. Please ensure that the searchCallback is capable of identifying nodes.");{let e=n[0],r=b(t),a={grid:r};r.label&&(a.label=r.label),i.prepareUpdate(),e.updateOptions(a),(s=i)&&(s.prepareUpdate(),s.getRoots().sort(y),s.pushUpdate()),i.pushUpdate()}var s}editItem(e,t){return this.editItemCustom(t=>{let i=t.id;return!!i&&e===i},t)}startTimeUpdate(){const e=this._private._timeManager;e&&!e.isRunning()&&e.start()}stopTimeUpdate(){const e=this._private._timeManager;e&&e.isRunning()&&e.stop()}destroy(){let e=this.getDOM();e.parentNode&&e.parentNode.removeChild(e);let t=this._private;for(let e of t._onHitSubscriptions)e.view.removeEventListener(e.event,e.callback);let i=["_timeManager","_iconBar","_loadingBar","_thumbnailsView","_tilesView","_dataGridView"];for(let e=0,n=i.length,s=null;e<n;++e)(s=t[i[e]])&&s.destroy();let n=t._views;for(let e in n)n.hasOwnProperty(e)&&(n[e]=null,delete n[e]);delete t._views,t._treeModel&&t._treeModel.destroy(),delete this._private}}}),define("DS/WelcomeScreenView/WelcomeScreen",["DS/WelcomeScreenView/WelcomeScreenApplicationContainer","DS/WelcomeScreenView/WelcomeScreenMRU","DS/WelcomeScreenView/WelcomeScreenCustomContentPanel","DS/WelcomeScreenView/WelcomeScreenCarousel","DS/WelcomeScreenView/WelcomeScreenDragAndDropManager","DS/Windows/ImmersiveFrame","DS/Windows/Dialog","DS/Controls/Button","i18n!DS/WelcomeScreenView/assets/nls/welcome-screen"],function(e,t,i,n,s,r,a,o,l){"use strict";class d{constructor(e){if(!e||!e.onAction)throw new Error("onAction must be defined.");this._callbacks=e}get onAction(){return this._callbacks.onAction}destroy(){delete this._callbacks.onAction,delete this._callbacks}}function c(e){let t=this._private,i=t._mru;if(i.getItemsCount()>0){let n=i.getDOM();if(this._private._mediumOrLessMediaQuery.matches){if(i.isMaximized())n.parentNode!==t._views.container&&t._views.container.appendChild(n),t._views.container.classList.add("afr-welcome-screen-mru-maximized");else{let e=t._sidePanel.getMRUWrapper();n.parentNode!==e&&e.appendChild(n),t._views.container.classList.remove("afr-welcome-screen-mru-maximized")}n.classList.add("afr-mru-side-panel")}else n.parentNode!==t._views.content&&t._views.content.appendChild(n),n.classList.remove("afr-mru-side-panel");"setMRU"===e&&i.displayDefaultView()}}function u(){let e=this._private,t=e._views.container,i=e._views.content,n=e._mediumOrLessMediaQuery,s=e._customPanel,r=e._customContent;if(t.classList.contains("afr-welcome-screen-custom-content"))if(n.matches){let e=s.getContent();r.dom.parentNode!==e&&(e.appendChild(r.dom),s.title=r.title)}else r.dom.parentNode!==i&&i.appendChild(r.dom)}function p(){c.call(this,"onMediumMediaOrLessQueryListener"),u.call(this)}function _(){let e=this._private._views.container,t=this._private._customContent;if(null!==t){let e=t.dom;e.parentNode&&e.parentNode.removeChild(e),this._private._customContent=null}e.classList.remove("afr-welcome-screen-custom-content"),c.call(this,"onRemoveCustomContent")}return class{constructor(e){this._private=Object.create(null),this._private._data=Object.assign({},e),this._private._sidePanel=null,this._private._customPanel=null,this._private._customContent=null,this._private._dragAndDrop=null,this._buildView(),this._configureMediaQueries(),p.call(this),this._tokens=new Map,this._boundOnNewCustomContent=function(e){let t=this._private._views.content,i=this._private._views.container;t.innerHTML="",i.classList.add("afr-welcome-screen-custom-content"),this._private._customContent=e,u.call(this)}.bind(this),this._boundOnRemoveCustomContent=_.bind(this),this._boundOnButtonTrigger=function(){let e=this._private._views.content,t=this._private._views.container;e.innerHTML="",t.classList.remove("afr-welcome-screen-custom-content"),c.call(this,"onButtonTrigger")}.bind(this),this._listenButtonController()}getDOM(){let e=null;return this._private._views&&this._private._views.container&&(e=this._private._views.container),e}_buildView(){let c=this;this._private._sidePanel=new e(this._private._data),this._private._mru=new t(this._private._data.MRU),this._private._customPanel=new i,this._private._views=Object.create(null),this._private._views._overlay=document.createElement("div"),this._private._views._overlay.classList.add("afr-welcome-screen-overlay"),this._private._data.guidedTour&&(this._private._data.guidedTour.controller=new d({onAction:()=>{if(!this._private._views.guidedTourPanel){let e=new r({});this._private._views.guidedTourPanel=e}this._private._carousel=new n(this._private._data.guidedTour.items);let e=new a({immersiveFrame:this._private._views.guidedTourPanel,title:this._private._data.guidedTour.title,content:this._private._carousel.createCarousel(),modalFlag:!0,closeButtonFlag:!1,width:600,buttons:{Yes:new o({label:l.get("NLS_GuidedTourValidation"),onClick:function(){c._private._carousel.destroy(),e.close()}})}});e.elements.container.addClassName("afr-welcome-screen-carousel-modal"),this._private._views.container.appendChild(this._private._views.guidedTourPanel.elements.container)}}));let u=this._private._customPanel.getDOM();u.addEventListener("hide",e=>{e.target==u&&(e.stopPropagation(),this._private._sidePanel.unselectAll(),_.call(this))});let p=document.createElement("div");p.classList.add("afr-welcome-screen-container"),this._private._views.container=p;let h=document.createElement("section");h.classList.add("afr-welcome-screen-content"),this._private._views.content=h;let v=this._private._data.background,m=document.createElement("img");m.classList.add("afr-welcome-screen-background"),m.setAttribute("src",v),this._private._views.background=m,this._private._mru.getItemsCount()>0&&h.appendChild(this._private._mru.getDOM()),p.appendChild(m),p.appendChild(this._private._sidePanel.getDOM()),p.appendChild(h),p.appendChild(this._private._customPanel.getDOM()),p.appendChild(this._private._views._overlay),this._private._data.dragAndDrop&&(this._private._dragAndDrop=new s({container:p,callbacks:this._private._data.dragAndDrop.callbacks}))}setButtons(e){if(!this._private._sidePanel)throw new Error("Welcome Screen side panel is not yet created.");if(!Array.isArray(e))throw new Error("WelcomeScreen.setButtons invalid parameters.");this._cleanSubscriptionsToButtonController(),this._private._data.hasOwnProperty("buttons")?this._private._data.buttons.items=e:this._private._data.buttons={items:e},this._private._sidePanel.setButtons(this._private._data.buttons),this._listenButtonController()}setOverlayContent(e){let t=this._private._views._overlay;e?t.appendChild(e):t.innerHTML=""}showOverlay(e){e&&this.setOverlayContent(e),this._private._views._overlay.classList.add("afr-welcome-screen-overlay-show")}hideOverlay(){this._private._views._overlay.classList.remove("afr-welcome-screen-overlay-show"),this._private._views._overlay.innerHTML=""}createTPBOverlay(){return this._private._sidePanel&&this._private._sidePanel.getDOM().classList.add("afr-welcome-screen-hidden"),this._private._mru&&this._private._mru.getDOM().classList.add("afr-welcome-screen-hidden"),this._private._customPanel&&this._private._customPanel.getDOM().classList.add("afr-welcome-screen-hidden"),this.showOverlay(),this._private._views._overlay}removeTPBOverlay(){this.hideOverlay()}setMRU(e){if(!e||!e.items&&!e.controller)throw new Error("Missing parameters");e.items&&this._private._mru.setItems(e.items),e.controller&&this._private._mru.setController(e.controller),e.defaultViewMode&&this._private._mru.setDefaultViewMode(e.defaultViewMode),e.isLoading?this._private._mru.showLoader():this._private._mru.hideLoader(),c.call(this,"setMRU")}setDndCallbacks(e){if(!e||!e.callbacks)throw new Error("Missing parameters");e.callbacks&&this._private._dragAndDrop&&(this._private._dragAndDrop.callbacks=e.callbacks)}show(){const e=this._private._mru;e&&e.startTimeUpdate();let t=this,i=!1;if(t._private._sidePanel){let e=t._private._sidePanel.getDOM().classList;i=i||e.contains("afr-welcome-screen-hidden"),e.remove("afr-welcome-screen-hidden")}if(t._private._mru){let e=t._private._mru.getDOM().classList;i=i||e.contains("afr-welcome-screen-hidden"),e.remove("afr-welcome-screen-hidden")}if(t._private._customPanel){let e=t._private._customPanel.getDOM().classList;i=i||e.contains("afr-welcome-screen-hidden"),e.remove("afr-welcome-screen-hidden")}if(t._private._views&&t._private._views.container){let e=t._private._views.container.classList;i=i||e.contains("afr-welcome-screen-hidden"),e.remove("afr-welcome-screen-hidden"),t._private._views.container.isHidden=!1}return i}hide(){const e=this._private._mru;e&&e.stopTimeUpdate();let t=this,i=!1;if(t._private._views&&t._private._views.container){let e=t._private._views.container.classList;i=i||!e.contains("afr-welcome-screen-hidden"),e.add("afr-welcome-screen-hidden"),t._private._views.container.isHidden=!0}return i}getCustomContentPanel(){return this._private._customPanel.getDOM()}resetCustomContentView(){let e=this._private._views.content,t=this._private._views.container;e.innerHTML="",t.classList.remove("afr-welcome-screen-custom-content"),c.call(this,"resetCustomContentView"),this._private._sidePanel&&this._private._sidePanel.resetCurrentCheckButton()}_configureMediaQueries(){let e=window.matchMedia("screen and (max-width:879px)");this._private._boundOnMediumOrLessMediaQueryListener=p.bind(this),e.addListener(this._private._boundOnMediumOrLessMediaQueryListener),this._private._mediumOrLessMediaQuery=e;let t=this._private._mru.getDOM();this._private._boundOnMRUExpandedStateChange=function(){c.call(this,"onMRUExpandedStateChange")}.bind(this),t.addEventListener("mrumaximizedstate",this._private._boundOnMRUExpandedStateChange)}_listenButtonController(){if(!this._private._data.buttons||!this._private._data.buttons.items)return;const e=this._private._data.buttons.items;if(!e||!Array.isArray(e))throw new Error("buttons.items must be an array");let t=this._tokens;for(let i of e){let e=i.controller;if(!e)throw new Error("A controller must be defined for a button.");let n=[];i.hasCustomContent?(n.push(e.subscribe({event:"NEW_CONTENT"},this._boundOnNewCustomContent)),n.push(e.subscribe({event:"REMOVE_CONTENT"},this._boundOnRemoveCustomContent))):n.push(e.subscribe({event:"TRIGGER"},this._boundOnButtonTrigger)),t.set(i,n)}}_cleanSubscriptionsToButtonController(){for(let[e,t]of this._tokens)for(let i of t)e.controller.unsubscribe(i);this._tokens.clear()}destroy(){let e=this._private;this._cleanSubscriptionsToButtonController(),e._sidePanel.destroy(),e._mru.destroy(),e._customPanel.destroy(),e._carousel&&e._carousel.destroy(),delete e._carousel,e._overlay&&e._overlay.parentNode.removeChild(e._overlay),delete e._overlay,e._dragAndDrop&&e._dragAndDrop.destroy(),delete e._dragAndDrop;let t=this.getDOM();t&&t.parentNode&&t.parentNode.removeChild(t),delete this._private}}});
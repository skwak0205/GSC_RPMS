define("DS/InstantMessagingCallWebView/api/desktop/listeners_papi",["DS/InstantMessagingCall/store/index"],function(e){"use strict";const t={},i=["accepted"],n=["room_accepted","minimize"];for(let i of n)t[i]=(t=>{e.commit(i,t)});for(let n of i)t[n]=(t=>{e.dispatch(n,t)});return e=>{if(e.evenement&&t[e.evenement]||e.action&&t[e.action])return console.log("From Electron : "+JSON.stringify(e)),t[e.evenement||e.action](e&&e.data)}}),require.config({paths:{vuejs:window.dsDefaultWebappsBaseUrl+"vuejs/2.6.10/vue.min",vuex:window.dsDefaultWebappsBaseUrl+"vuex/3.1.1/vuex.min","vu-kit":window.dsDefaultWebappsBaseUrl+"vuekit/vu-kit.umd.min"}}),define("DS/InstantMessagingCallWebView/InstantMessagingCallWebView",["vuejs","vu-kit","vuex","css!vuekit/vu-kit"],function(e,t,i){"use strict";return e.use(t),e.use(i),{init(e){require(["DS/InstantMessagingCallWebView/main"],function(t){t.init(e)})}}}),define("DS/InstantMessagingCallWebView/api/desktop/watchers",["DS/InstantMessagingCall/store/index","DS/PlatformAPI/PlatformAPI"],function(e,t){"use strict";const i=[],n=["acceptCall","endCall"];var s;return{init:function(t){this.unsubscribe=e.subscribe(this.mutationsOccured,{prepend:!0}),this.unsubscribeAction=e.subscribeAction(this.actionsOccured,{prepend:!0}),s=t},destroy:function(){this.unsubscribe(),this.unsubscribeAction()},actionsOccured:function(e,i){-1!=n.indexOf(e.type)&&(console.log("To Electron : "+JSON.stringify(e)),t.publish(s,{data:e,state:{}}))},mutationsOccured:function(e,n){-1!=i.indexOf(e.type)&&(console.log("To Electron : "+JSON.stringify(e)),t.publish(s,{data:e,state:{}}))}}}),define("DS/InstantMessagingCallWebView/api/desktop/interface",["DS/PlatformAPI/PlatformAPI","DS/InstantMessagingCallWebView/api/desktop/listeners_papi","DS/InstantMessagingCallWebView/api/desktop/watchers"],function(e,t,i){"use strict";return{init:function(){return e.subscribe("fromDesktopApp.ds.com",t),i.init("toDesktopApp.ds.com"),this}}}),define("DS/InstantMessagingCallWebView/api/interface",["DS/PlatformAPI/PlatformAPI","DS/InstantMessagingCallWebView/api/desktop/interface"],function(e,t){"use strict";return{dispatch:function(t,i){console.log("To Electron : ",t,JSON.stringify(i)),e.publish("toDesktopApp.ds.com",{type:t,payload:i})},init:function(e){return t.init(),this}}}),define("DS/InstantMessagingCallWebView/main",["DS/RTProxyDriver/RTLogger","vuejs","DS/InstantMessagingCall/components/Base/Base","DS/InstantMessagingCall/store/index","DS/InstantMessagingCallWebView/api/interface","DS/RTAPIManager/RTAPIManager","DS/RTStore/RTStore","css!DS/InstantMessagingCall/InstantMessagingCall.css","css!DS/InstantMessagingCallWebView/InstantMessagingCallWebView.css"],function(e,t,i,n,s,a,l){"use strict";e.addLevel("Call","purple"),e.Call("InstantMessagingCallWebView load 01/2022 22x FD02 2.6.x");const o={divID:"vue-im-call-desktop-app",addDiv:function(t){return document.getElementById(this.divID)?e.Call("InstantMessagingCallWebView div already injected"):t?(this.divCall=document.createElement("div"),this.divCall.id=this.divID,void t.appendChild(this.divCall)):e.Call("InstantMessagingCallWebView needs a div container")},initVm:function(s={}){if(this.vmCall)return e.Call("InstantMessagingCallWebView initVm already done");this.vmCall=new t({el:"#"+this.divID,data:()=>s,components:{"im-call-base":i},store:n,template:"<im-call-base id="+this.divID+" />"})},initTransport:function(e){this.interface=s.init(e)},initAPIManager:function(e){a&&e&&a.manager&&e.swymUrl&&e.tenant&&a.manager._setSwymURL(e.swymUrl,e.tenant.toUpperCase())},initReceivedCall:function(t){e.Call("InstantMessagingCallWebView initCall:"+JSON.stringify(t)),n.dispatch("inviteReceived",t),s.dispatch("inviteWindowReady",t)},initSentCall:function(t){e.Call("InstantMessagingCallWebView initCall:"+JSON.stringify(t)),n.dispatch("inviteSent",t),s.dispatch("inviteWindowReady",t)},initStore:function(e){n.commit("tenant",e.platformId||e.tenant),n.commit("appName",e.appName),n.commit("swymUrl",e.swymUrl),l.store.dispatch("swymUrl",{swymUrl:e.swymUrl})}};return{init:function(e){return o.initStore(e),o.initAPIManager(e),o.addDiv(e.callContainer||document.body),o.initVm(e),o.initTransport(e),e.inviteReceived?o.initReceivedCall(e.inviteReceived):e.inviteSent&&o.initSentCall(e.inviteSent),document.IMCallWebView=document.IMCallWebView||o,document.IMCallWebView}}});
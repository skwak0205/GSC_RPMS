"undefined"==typeof define&&(define=function(e){CSIGrammarUpgrader=e(),define=void 0}),define("DS/CSIJSONToolsWeb/CSIGrammarUpgrader",["DS/CSIJSONToolsWeb/CSIGrammarUpgraderJsonField","DS/CSIJSONToolsWeb/CSIGrammarUpgraderParser"],function(e,r){"use strict";return new class{constructor(){}upgradeJSON(e){const r=JSON.parse(e),n=this.upgradeObject(r);return JSON.stringify(n,null,2)+"\n"}upgradeJSONCommandToFunction(e){const n=JSON.parse(e);r.enableUpgradeCommandToFunction(!0);const a=this.upgradeObject(n);return r.enableUpgradeCommandToFunction(!1),JSON.stringify(a,null,2)+"\n"}upgradeObject(e){r.analyseFileType(e);let n=r.getCurrentFileGrammarVersion();const a=r.getMaxGrammarVersion();let o=void 0;n===r.maxGrammarVersion_&&--n;for(let t=n;t<a;++t)o={},r.parseObject(e,o,r.ParsingOrder.root,t),e=o;return o}}});
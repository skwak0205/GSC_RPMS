define("DS/CfgWebAppSpecificationsUX/facets/CfgSpecificationsFacet",["UWA/Core","DS/EditPropWidget/facets/Common/FacetsBase","DS/EditPropWidget/constants/EditPropConstants","DS/UIKIT/Mask","DS/CfgBaseUX/scripts/CfgData"],function(t,e,n,i,s){"use strict";return e.extend({init:function(){this._parent.apply(this,arguments),this.elements.container||(this.elements.container=t.createElement("div",{styles:{height:"100%"}}))},updateFacet:function(){var t=this;require(["DS/CfgSpecificationsViewUX/scripts/CfgSpecificationsView"],function(e){if(t.elements&&t.elements.container){var n=t.getModel();if(!n)return!1;t.instanceID="";var i=t.getOccurrence().getOptions("Specifications");t.instanceID=i?i.targets[0].id:n.get("objectId"),t.getTenantID(n),t.elements.container.setContent(""),t.elements.container.setContent(new e({env:t.isNativeEnvironnement()?"Native":"3DDashboard",tenantID:t.tenantID,instanceID:t.instanceID,displayCompactMode:!0}).render()),t.subscribeConfigurationRevisionEvents()}})},isNativeEnvironnement:function(){let t=!1;return(this.options.webToWinComSocket||"undefined"!=typeof dscef)&&(t=!0),t},getTenantID:function(t){this.tenantID=t.getTenant(),!this.tenantID&&widget.getValue("x3dPlatformId")?(console.log(">> tenant taken from widget"),this.tenantID=widget.getValue("x3dPlatformId")):!this.tenantID&&this.options.context&&this.options.context._context?(console.log(">> tenant taken from options for web in win"),this.tenantID=this.options.context._context.tenant):this.tenantID||(console.log(">> tenant value not found and OnPremise tenant value is used"),this.tenantID="OnPremise")},destroyComponent:function(){t.is(this.destroy,"function")&&this.destroy()},onSave:function(){s.cfgRevActionEvents.publish({event:"ConfiguredRevisionAssociatedObjectsSaveClicked",data:{}})},subscribeConfigurationRevisionEvents:function(){var t=this;s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionAssociatedObjectsUpdated"},function(){t._raiseEvent("switchSave",!0)}),s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionAssociatedObjectsNotUpdated"},function(){t._raiseEvent("switchSave",!1)}),s.cfgRevActionEvents.subscribe({event:"ConfiguredRevisionViewLoaded"},function(){})}})});
define("DS/VisuLoaders/SceneGraphConverter",["UWA/Class","DS/Visualization/ThreeJS_DS","DS/Visualization/SceneGraph","DS/Visualization/Node3D","DS/Visualization/Mesh3D","DS/Visualization/GeometryHelper","DS/Visualization/SceneGraphFactory"],function(e,n,t,i,o,r,s){"use strict";return e.extend({init:function(e,n){this.glContext=e,this.v6SceneGraph=new i,this.v6SceneGraph.name="convertedSceneGraph",this.nodes=[this.v6SceneGraph],this.convert(n)},getRootNode:function(){return this.v6SceneGraph},traverse:function(e,t){var i,o;for(t.call(this,e,this.nodes),i=0,o=e.children.length;i<o;i++)this.traverse(e.children[i],t);e instanceof n.Object3D&&!(e instanceof n.Mesh)&&this.nodes.pop()},convert:function(e){this.traverse(e,function(e,t){var o,a;e instanceof n.Mesh?(o=(new r).convertFromTHREEMesh(e),(a=s.createMeshNode(o,void 0,void 0,"mono")).setMatrix(e.matrix),t[t.length-1].addChild(a)):e instanceof n.Object3D?((a=new i(e.name)).setMatrix(e.matrix),e.children.length&&t[t.length-1].addChild(a),t.push(a)):console.log("SceneGraph converter : unsupported node "+e)})}})});
define("DS/MPFEmpMyEcosystemComponent/Header",["UWA/Core","UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopModel","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent","css!DS/MPFEmpMyEcosystemComponent/MPFEmpMyEcosystemComponent"],function(e,t,s,n,i){"use strict";var o,r={};return r.BACK_BUTTON_CLICKED="backButtonClicked",(o=t.extend({className:"mpf-emp-my-ecosystem-header",setup:function(e){s.requiredOfPrototype(e.shop,n,"options.shop must be a ShopModel"),this.shop=e.shop,this.pages=e.pages,this.placeholder=e.placeholder||i.get("internalServiceProvider"),this.currentPageIndex=e.currentPageIndex||0,this.showBackButton=!1!==e.showBackButton,this.showBackButton&&(this.backButton=this._createBackButton()),this.listenTo(this.shop,"onChange:"+n.Fields.NAME,this.render.bind(this))},render:function(){var e,t=this.shop.getName()?this.shop.getName():this.placeholder;return this.pages&&this.pages[this.currentPageIndex]&&this.pages[this.currentPageIndex].title&&(e=this.pages[this.currentPageIndex].title),this.container.setContent([this.backButton,{tag:"div",class:"mpf-emp-header-title-container",html:[{tag:"span",class:"mpf-emp-header-title",text:t+(e?" | ":"")},{tag:"span",class:"mpf-emp-header-sub-title",text:e||""}]}]),this},destroy:function(){this.shop=null,this._parent(),this.container=null},setCurrentPageIndex:function(e){Array.isArray(this.pages)&&e!==this.currentPageIndex&&e>=0&&e<this.pages.length&&(this.currentPageIndex=e,this.render())},_createBackButton:function(){return e.createElement("div",{class:"fonticon fonticon-chevron-left mpf-back-button",events:{click:this._onBackClicked.bind(this)}})},_onBackClicked:function(){this.dispatchEvent(r.BACK_BUTTON_CLICKED,this.shop)}})).Events=Object.freeze(r),o}),define("DS/MPFEmpMyEcosystemComponent/ServiceInformationComponent",["UWA/Class/View","DS/UIKIT/Alert","DS/MPFView/FieldTextInputV2","DS/MPFCurrencySelectComponent/CurrencySelectComponent","DS/MPFAddressFormComponent/AddressFormComponentV2","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopModel","DS/MPFAddressModel/AddressModel","DS/MPFCountryModel/CountryCollection","DS/MPFShopModel/ShopServiceFactory","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o,r,a,c,h,p){"use strict";return e.extend({className:"mpf-emp-service-information-component mpf-form mpf-horizontal",setup:function(e){o.requiredOfPrototype(e.shop,r,"options.shop must be a ShopModel"),o.requiredOfPrototype(e.address,a,"options.address must be an AddressModel"),o.requiredOfPrototype(e.countries,c,"options.countries must be a CountryCollection"),this.shop=e.shop,this.address=e.address,this.countries=e.countries,this.shop.isNew()&&(o.requiredOfPrototype(e.shopServiceFactory,h,"options.shopServiceFactory must be a ShopServiceFactory"),this.shopServiceFactory=e.shopServiceFactory),this.nameInput=this._createNameInput(),this.currencyInput=this._createCurrencyInput(),this.addressForm=this._createAddressForm(),this.alert=this._createAlert()},render:function(){return this.container.setContent([this.alert,this.nameInput.render(),this.currencyInput.render(),this.addressForm.render()]),this},destroy:function(){this.stopListening(),this.nameInput.destroy(),this.currencyInput.destroy(),this.addressForm.destroy(),this.shop=null,this.address=null,this.countries=null,this.shopServiceFactory=null,this._parent(),this.container=null},showError:function(e){this.alert.add({className:"error",message:e}).show()},isComplete:function(){return!this.shop.isNew()},validate:function(){var e=this.nameInput.validate().isValid,t=this.currencyInput.validate().isValid,s=this.addressForm.validate();return e&&t&&s},savePromise:function(){var e=this;this.shop.set(r.Fields.IS_INTERNAL,"TRUE");var t=this.shop.isNew();return this.shop.savePromise().then(this._saveShopServiceForNewShops.bind(this,t)).then(this._saveAddress.bind(this)).then(function(){return{success:!0,shop:e.shop,address:e.address}}).catch(function(t){var s;return s=Error.prototype.isPrototypeOf(t)?t.message:p.get("savingError"),e.showError(s),{success:!1,shop:e.shop,address:e.address}})},_saveShopServiceForNewShops:function(e,t){if(e)return this._createShopService(t).savePromise()},_createShopService:function(e){return this.shopServiceFactory.createModel(h.Types.SHOP_SHOP_SERVICE,null,{parentResourceId:e.get("id")})},_saveAddress:function(){return this.address.setParentResourceId(this.shop.get("id")),this.addressForm.savePromise()},_createNameInput:function(){return new s({model:this.shop,fieldName:r.Fields.NAME,fieldLabel:p.get("serviceName"),required:!0,readOnly:this.shop.getState()===r.States.SUBMITTED,dynamicValidation:!0})},_createCurrencyInput:function(){return new n({className:"mpf-select-v2 mpf-currencySelect",model:this.shop})},_createAddressForm:function(){return new i({addressConstraints:this.address.constraints,addressModel:this.address,countries:this.countries})},_createAlert:function(){return new t({autoHide:!0,hideDelay:3e3,visible:!1})}})}),define("DS/MPFEmpMyEcosystemComponent/CspLabList",["UWA/Core","UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFError/BadArgumentError","DS/MPFCompanyModel/CompanyModel","DS/MPFShopModel/ShopCollection","DS/MPFShopCardComponent/SmallShopCardComponent","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o,r,a){"use strict";var c,h={};return h.MORE_INFORMATION="moreInformation",h.FILTER_CHANGE="filterChange",(c=t.extend({className:"mpf-csp-lab-list",setup:function(e){if(s.requiredOfPrototype(e.company,i,"options.company must be a CompanyModel"),!Array.isArray(e.shops))throw new n("options.shops must be an array of ShopModels");this.company=e.company,this.shops=e.shops},render:function(){return this.container.setContent(this._createShopCards()),this},update:function(e){this.shops=e,this.render()},destroy:function(){this._parent(),this.container=null},_createShopCards:function(){var e=[],t=this.company.get(i.Fields.EMP_FILTER);this.stopListening();for(var s=0;s<this.shops.length;s++){var n=this.shops[s],o=t.indexOf(n.get("id"))>-1,c=new r({shop:n,isSelected:o,doesRouteToLabInfo:!1,button:{label:o?a.get("deselect"):a.get("select")}});this.listenTo(c.container,"click",this._onSelect.bind(this,c)),this.listenTo(c,"moreInformationClicked",this.dispatchEvent.bind(this,h.MORE_INFORMATION,n)),e.push(c.render())}return e},_onSelect:function(e){var t=this.company.get(i.Fields.EMP_FILTER),s=e.shop.get("id");e.isSelected?(e.setSelected(!1),e.button.setValue(a.get("select")),t.splice(t.indexOf(s),1)):(e.setSelected(),e.button.setValue(a.get("deselect")),t.push(s)),this.company.set(i.Fields.EMP_FILTER,t)}})).Events=Object.freeze(h),c}),define("DS/MPFEmpMyEcosystemComponent/ServiceProviderActionTile",["UWA/Core","UWA/Class/View","DS/UIKIT/Input/Button"],function(e,t,s){"use strict";var n={};return n.ON_CLICK="onClick",t.extend({className:"mpf-service-provider-action-tile",domEvents:{"click button.btn-primary":"_onClick","click div.mpf-emp-sp-icon-container":"_onClick"},setup:function(e){this.headerText=e.headerText,this.number=e.number,this.headerIcon=e.headerIcon,this.backgroundImage=e.backgroundImage,this.infoText=e.infoText,this.buttonLabel=e.buttonLabel,this.eventName=e.eventName,this.backgroundPositionY=e.backgroundPositionY||"25%",this.button=this._createButton()},render:function(){return this.container.setContent([{tag:"div",class:"mpf-emp-sp-image-container",styles:{"background-image":"url("+this.backgroundImage+")","background-position-y":this.backgroundPositionY},html:[{tag:"div",class:"mpf-emp-sp-header",html:[{tag:"span",class:"mpf-emp-sp-header-text",text:this.headerText+" | "+this.number.toString()}]},{tag:"div",class:"mpf-emp-sp-icon-container",attributes:{title:this.buttonLabel},html:[{tag:"div",class:"mpf-semi-circle-container",html:[{tag:"div",class:"mpf-semi-circle"}]},{tag:"div",class:"mpf-foncticon-container",html:this.headerIcon}]}]},{tag:"div",class:"mpf-emp-sp-info-text",text:this.infoText},this.button]),this},destroy:function(){this._parent(),this.container=null},_createButton:function(){return new s({value:this.buttonLabel,className:"primary"})},_onClick:function(){var e=this.eventName?this.eventName:n.ON_CLICK;this.dispatchEvent(e)}})}),define("DS/MPFEmpMyEcosystemComponent/CspHeader",["UWA/Core","UWA/Class/View","DS/UIKIT/Alert","DS/UIKIT/Input/Button","DS/MPFServices/ObjectService","DS/MPFCompanyModel/CompanyModel","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o,r){"use strict";var a,c={};return c.BACK="back",c.SAVING="saving",c.SAVED="saved",(a=t.extend({className:"mpf-csp-header",setup:function(e){i.requiredOfPrototype(e.company,o,"options.company must be a CompanyModel"),this.company=e.company,this.title=e.title||r.get("selectComunityProvidersLabel"),this.alert=this._createAlert(),this.backButton=this._createBackButton(),this.saveButton=this._createSaveButton()},render:function(){return this.container.setContent([this.alert,this.backButton,{tag:"span",text:this.title,class:"mpf-emp-csp-header-title"},this.saveButton]),this},destroy:function(){this._parent(),this.container=null},_createAlert:function(){return new s({visible:!1,autohide:!0})},_createBackButton:function(){return e.createElement("div",{class:"fonticon fonticon-chevron-left mpf-csp-header-back-button",events:{click:this.dispatchEvent.bind(this,c.BACK)}})},_createSaveButton:function(){var e=new n({className:"primary",value:r.get("save")});return e.addEvent("onClick",this._saveLabList.bind(this)),e},_saveLabList:function(){var e=this;this.dispatchEvent(c.SAVING),this.saveButton.load(!0,r.get("saving"));var t={};t[o.Fields.EMP_FILTER]=this.company.get(o.Fields.EMP_FILTER).join(),this.company.savePromise(t,{patch:!0}).then(function(){e.saveButton.load(!1),e.dispatchEvent(c.SAVED,{company:e.company})}).catch(function(t){console.log(t),e.alert.add({className:"error",message:r.get("savingError")}).show()})}})).Events=Object.freeze(c),a}),define("DS/MPFEmpMyEcosystemComponent/NavigationButtons",["UWA/Class/View","DS/UIKIT/Input/Button","DS/MPFError/BadArgumentError","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/NavigationButtons","css!DS/MPFEmpMyEcosystemComponent/MPFEmpMyEcosystemComponent"],function(e,t,s,n){"use strict";var i,o={};return o.SHOW_NEW_PAGE="newPageRequested",o.FINISH="finish",(i=e.extend({className:"mpf-navigation-buttons",setup:function(e){if(!Array.isArray(e.pages))throw new s("options.pages must be an array");this.pages=e.pages,this.currentPageIndex=e.currentPageIndex||0,this.displayFinishButton=!1!==e.displayFinishButton,this.finishButtonLabel=e.finishButtonLabel||n.get("finish"),this.previousButton=this._createPreviousButton(),this.nextButton=this._createNextButton(),this.finishButton=this._createFinishButton()},render:function(){var e=[];return this.currentPageIndex>0&&e.push(this.previousButton),this.currentPageIndex<this.pages.length-1&&e.push(this.nextButton),this.displayFinishButton&&this.currentPageIndex===this.pages.length-1&&e.push(this.finishButton),this.container.setContent(e),this},destroy:function(){this.previousButton.removeEvents(),this.nextButton.removeEvents(),this.finishButton.removeEvents(),this.previousButton=null,this.nextButton=null,this.finishButton=null,this._parent(),this.container=null},setCurrentPageIndex:function(e){e!==this.currentPageIndex&&e>=0&&e<this.pages.length&&(this.currentPageIndex=e,this.render())},_createPreviousButton:function(){var e=new t({value:n.get("back"),icon:"chevron-left"});return e.addEvent("onClick",this._changePage.bind(this,-1)),e},_createNextButton:function(){var e=new t({value:n.get("next"),icon:"chevron-right right"});return e.addEvent("onClick",this._changePage.bind(this,1)),e},_createFinishButton:function(){var e=new t({value:this.finishButtonLabel,className:"primary"});return e.addEvent("onClick",this.dispatchEvent.bind(this,o.FINISH)),e},_changePage:function(e){var t=this.currentPageIndex+e;t>=0&&t<this.pages.length&&this.dispatchEvent(o.SHOW_NEW_PAGE,{index:t,page:this.pages[t]})}})).Events=Object.freeze(o),i}),define("DS/MPFEmpMyEcosystemComponent/InternalLabsList",["UWA/Core","UWA/Class/View","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopCollection","DS/MPFShopCardComponent/SmallShopCardComponent","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o){"use strict";var r,a={};return a.EDIT_CLICKED="editClicked",a.MORE_INFORMATION_CLICKED="moreInformationClicked",(r=t.extend({className:"mpf-internal-labs-list",setup:function(e){s.requiredOfPrototype(e.privateShops,n,"options.privateShops must be a ShopCollection"),this.shops=e.privateShops},render:function(){for(var e=[],t=0;t<this.shops.length;t++)e.push(this._createShopCard(this.shops.at(t)).render());return this.container.setContent(e),this},destroy:function(){this._parent(),this.container=null},_createShopCard:function(e){var t={shop:e,displayEMPIcon:!0,selected:!1,doesRouteToLabInfo:!1};e.isInternal()&&(t.button={label:o.get("edit")});var s=new i(t);return this.listenTo(s,i.Events.CUSTOM_BUTTON_CLICKED,this.dispatchEvent.bind(this,a.EDIT_CLICKED,e)),this.listenTo(s,i.Events.MORE_INFORMATION_CLICKED,this.dispatchEvent.bind(this,a.EDIT_CLICKED,e)),s}})).Events=Object.freeze(a),r}),define("DS/MPFEmpMyEcosystemComponent/CommunityServiceProvidersComponent",["UWA/Core","UWA/String","UWA/Class/View","DS/UIKIT/Alert","DS/PlatformAPI/PlatformAPI","DS/MPFServices/ObjectService","DS/MPFCompanyModel/CompanyModel","DS/MPFShopModel/ShopCollection","DS/MPFEmpMyEcosystemComponent/CspHeader","DS/MPFEmpMyEcosystemComponent/CspLabList","DS/MPFLabMap/LabMap","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent","css!DS/MPFEmpMyEcosystemComponent/MPFEmpMyEcosystemComponent"],function(e,t,s,n,i,o,r,a,c,h,p,l){"use strict";var u,d={};return d.BACK="back",d.SAVING="saving",d.SAVED="saved",d.MORE_INFORMATION="moreInformation",(u=s.extend({className:"mpf-emp-csp-component",setup:function(e){o.requiredOfPrototype(e.company,r,"options.company must be a CompanyModel"),o.requiredOfPrototype(e.publicShops,a,"options.publicShops must be a ShopCollection"),this.company=e.company,this.publicShops=e.publicShops,this.isMapActive=!1!==e.isMapActive,this.nameFilter=e.nameFilter||null,this.coordinateFilter=e.coordinateFilter||null,this.publicShopsArray=this.publicShops.toArray(),this.coordinateFilteredShops=null,this.header=this._createHeader(),this.numberResultsTile=this._createNumberResultsTile(this.publicShops.size()),this.mapToggle=this._createMapToggle(),this.labList=this._createLabList(this._filterShops()),this.map=this._createMap(),this.mapAlert=this._createMapAlert(),i.subscribe("SearchBar/search",this.setNameFilter.bind(this)),i.subscribe("SearchBar/clear",this.removeNameFilter.bind(this))},render:function(){return this.container.setContent([this.header.render(),{tag:"div",class:"mpf-csp-main-panel",html:[{tag:"div",class:"mpf-csp-map-container",html:[this.mapAlert,this.map.render()]},{tag:"div",class:"mpf-csp-left-column",html:[{tag:"div",class:"mpf-csp-top-bar",html:[this.numberResultsTile,this.mapToggle]},this.labList.render()]}]}]),this},destroy:function(){this.stopListening(),this.header.destroy(),this.labList.destroy(),this.map.destroy(),this.company=null,this.publicShops=null,this.publicShopsArray=null,this.nameFilter=null,this.coordinateFilter=null,this.coordinateFilteredShops=null,this._parent(),this.container=null,i.unsubscribe("SearchBar/search"),i.unsubscribe("SearchBar/clear")},setNameFilter:function(s){if(e.is(s,"string")&&s.length>0){this.nameFilter=s;var n=this._filterShopsAndUpdate(),i=1===n?t.format(l.get("oneLabFound"),s):t.format(l.get("xLabsFound"),n,s);this.mapAlert.add({className:"primary",message:i}).show()}},removeNameFilter:function(){this.nameFilter=null,this._filterShopsAndUpdate()},setCoordinateFilter:function(t){e.is(t,"object")&&(this.coordinateFilter=t,this.coordinateFilteredShops=null,this._filterShopsAndUpdate())},removeCoordinateFilter:function(){this.coordinateFilter=null,this.coordinateFilteredShops=null,this._filterShopsAndUpdate()},_filterShopsAndUpdate:function(){var e=this._filterShops();this.labList.update(e),this.map.updateMapWithNewListLab(e);var t=e.length;return this._updateNumberResults(t),t},_filterShops:function(){var e=this.publicShopsArray;return null!==this.coordinateFilter&&(null===this.coordinateFilteredShops&&(this.coordinateFilteredShops=this._filterByCoordinates(e,this.coordinateFilter)),e=this.coordinateFilteredShops),null!==this.nameFilter&&(e=this._filterByName(e,this.nameFilter)),e},_filterByName:function(e,t){return a.filterByName(e,t)},_filterByCoordinates:function(e,t){for(var s=[],n=0;n<e.length;n++){var i=e[n];i.getLatitude()<t._northEast.lat&&i.getLatitude()>t._southWest.lat&&i.getLongitude()<t._northEast.lng&&i.getLongitude()>t._southWest.lng&&s.push(i)}return s},_createHeader:function(){var e=new c({company:this.company});return this.listenTo(e,c.Events.BACK,this.dispatchEvent.bind(this,d.BACK)),this.listenTo(e,c.Events.SAVING,this.dispatchEvent.bind(this,d.SAVING)),this.listenTo(e,c.Events.SAVED,this.dispatchEvent.bind(this,d.SAVED,this.company)),e},_createNumberResultsTile:function(t){return e.createElement("div",{class:"mpf-emp-csp-number-results-tile",text:t+" "+l.get("results")})},_updateNumberResults:function(e){var s=1===e?l.get("oneResult"):t.format(l.get("results"),e);this.numberResultsTile.setText(s)},_createMapToggle:function(){var t="fonticon fonticon-map mpf-emp-csp-map-toggle";return t+=this.isMapActive?" active":"",e.createElement("div",{class:t,events:{click:this._toggleMap.bind(this)}})},_toggleMap:function(){this.isMapActive?(this.container.getElement(".mpf-csp-map-container").hide(),this.mapToggle.removeClassName("active"),this.isMapActive=!1):(this.container.getElement(".mpf-csp-map-container").show(),this.mapToggle.addClassName("active"),this.isMapActive=!0)},_createLabList:function(e){var t=new h({company:this.company,shops:this.publicShopsArray,shopsDisplayed:e});return this.listenTo(t,h.Events.MORE_INFORMATION,this.dispatchEvent.bind(this,d.MORE_INFORMATION)),t},_createMap:function(){return new p({className:"mpf-emp-csp-map",defaultZoom:2,onCenterChangedCB:this.setCoordinateFilter.bind(this)})},_createMapAlert:function(){return new n({visible:!1,autoHide:!0})}})).Events=Object.freeze(d),u}),define("DS/MPFEmpMyEcosystemComponent/DeclareInternalProviderTile",["UWA/Core","DS/MPFEmpMyEcosystemComponent/ServiceProviderActionTile","WebappsUtils/WebappsUtils","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopCollection","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o){"use strict";var r,a={};return a.BUTTON_CLICKED="buttonClicked",(r=t.extend({setup:function(e){n.requiredOfPrototype(e.privateShops,i,"options.privateShops must be a ShopCollection"),this.privateShops=e.privateShops,e.number=this._getNumShops(e.privateShops),e.headerText=o.get("internalProvidersHeader"),e.headerIcon=this._createHeaderIcon(),e.backgroundImage=s.getWebappsAssetUrl("MPFEmpMyEcosystemComponent","img/internal.png"),e.infoText=o.get("internalProvidersInfo"),e.buttonLabel=o.get("declareInternalProviderLabel"),e.inverseIconColors=!0,this._parent(e)},destroy:function(){this._parent(),this.container=null},_getNumShops:function(e){return e.filter(function(e){return e.isInternal()}).length},_onClick:function(){this.dispatchEvent(a.BUTTON_CLICKED,this.privateShops)},_createHeaderIcon:function(){return e.createElement("span",{class:"fonticon fonticon-location-home mpf-inversed"})}})).Events=Object.freeze(a),r}),define("DS/MPFEmpMyEcosystemComponent/SelectCommunityProviderTile",["UWA/Core","WebappsUtils/WebappsUtils","DS/MPFServices/ObjectService","DS/MPFShopModel/ShopCollection","DS/MPFEmpMyEcosystemComponent/ServiceProviderActionTile","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent"],function(e,t,s,n,i,o){"use strict";var r,a={};return a.BUTTON_CLICKED="buttonClicked",(r=i.extend({setup:function(e){s.requiredOfPrototype(e.privateShops,n,"options.privateShops must be a ShopCollection"),e.number=this._getNumShops(e.privateShops),e.headerText=o.get("communityProvidersHeader"),e.headerIcon=this._createHeaderIcon(),e.backgroundImage=t.getWebappsAssetUrl("MPFEmpMyEcosystemComponent","img/external.png"),e.infoText=o.get("communityProvidersInfo"),e.buttonLabel=o.get("selectComunityProvidersLabel"),e.eventName=a.BUTTON_CLICKED,e.backgroundPositionY="4%",this._parent(e)},destroy:function(){this.publicShops=null,this._parent()},_getNumShops:function(e){return e.filter(function(e){return!e.isInternal()}).length},_createHeaderIcon:function(){return e.createElement("span",{class:"fonticon fonticon-globe"})}})).Events=Object.freeze(a),r}),define("DS/MPFEmpMyEcosystemComponent/ServiceProviderMainPage",["UWA/Class/View","DS/UIKIT/Input/Toggle","DS/MPFServices/ObjectService","DS/MPFCompanyModel/CompanyModel","DS/MPFShopModel/ShopCollection","DS/MPFEmpMyEcosystemComponent/SelectCommunityProviderTile","DS/MPFEmpMyEcosystemComponent/DeclareInternalProviderTile","DS/MPFEmpMyEcosystemComponent/InternalLabsList","i18n!DS/MPFEmpMyEcosystemComponent/assets/nls/EmpMyEcosystemComponent","css!DS/MPFEmpMyEcosystemComponent/MPFEmpMyEcosystemComponent"],function(e,t,s,n,i,o,r,a,c){"use strict";var h,p={};return p.SELECT_COMMUNITY_SERVICE="selectCommunityService",p.CREATE_INTERNAL_SERVICE="createInternalService",p.EDIT_CLICKED="editClicked",p.MORE_INFORMATION_CLICKED="moreInformationClicked",(h=e.extend({className:"mpf-emp-my-ecosystem-component",setup:function(e){s.requiredOfPrototype(e.company,n,"options.company must be a CompanyModel"),s.requiredOfPrototype(e.privateShops,i,"options.privateShops must be a ShopCollection"),this.company=e.company,this.privateShops=e.privateShops,this.selectCommunityProviderTile=this._createSelectCommunityProviderTile(),this.declareInternalProviderTile=this._createDeclareInternalProviderTile(),this.nonSelectedProviderToggle=this._createNonSelectedProviderToggle(),this.internLabList=this._createInternalLabList(),this.listenTo(this.selectCommunityProviderTile,o.Events.BUTTON_CLICKED,this.dispatchEvent.bind(this,p.SELECT_COMMUNITY_SERVICE)),this.listenTo(this.declareInternalProviderTile,r.Events.BUTTON_CLICKED,this.dispatchEvent.bind(this,p.CREATE_INTERNAL_SERVICE)),this.listenTo(this.internLabList,a.Events.MORE_INFORMATION_CLICKED,this.dispatchEvent.bind(this,p.MORE_INFORMATION_CLICKED)),this.listenTo(this.internLabList,a.Events.EDIT_CLICKED,this.dispatchEvent.bind(this,p.EDIT_CLICKED))},render:function(){return this.container.setContent([{tag:"div",class:"mpf-emp-sp-row",html:[this.selectCommunityProviderTile.render(),this.declareInternalProviderTile.render()]},this.nonSelectedProviderToggle,this.internLabList.render()]),this},destroy:function(){this.stopListening(),this.selectCommunityProviderTile.destroy(),this.declareInternalProviderTile.destroy(),this.internLabList.destroy(),this.company=null,this.privateShops=null,this._parent(),this.container=null},_createSelectCommunityProviderTile:function(){return new o({privateShops:this.privateShops})},_createDeclareInternalProviderTile:function(){return new r({privateShops:this.privateShops})},_createNonSelectedProviderToggle:function(){return new t({className:"mpf-company-sp-toggle primary",type:"checkbox",value:c.get("allowNonSelectedProvidersLabel"),checked:this.company.getEMPAllowPublicSellers(),events:{onClick:this._allowNonSelectedProviders.bind(this)}})},_allowNonSelectedProviders:function(){return this.company.savePromise({PrivateMPAllowPublicSellers:this.nonSelectedProviderToggle.isChecked()},{patch:!0})},_createInternalLabList:function(){return new a({privateShops:this.privateShops})}})).Events=Object.freeze(p),h});
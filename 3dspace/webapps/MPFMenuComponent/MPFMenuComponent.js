define("DS/MPFMenuComponent/IntLabMenuCardLayoutModule",["DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/WidgetFactory"],function(e,t){"use strict";return{isMenuReady:!1,messageQueue:[],init:function(e,t){if(this.widget=e,this.self=t,this.widgetTopic=e.getValue("widgetTopic"),this.menuTopic=e.getValue("menuTopic"),this.isCreationMode=!1,!this.widgetTopic)throw new Error("wigetTopic must be defined for MenuCardLayoutModule");if(!this.menuTopic)throw new Error("menuTopic must be defined for MenuCardLayoutModule");t.refreshIfVisible()},onBeforeLoadCards:function(t,n,i){e.subscribe(this.widgetTopic,this._handleWidgetMessage.bind(this)),e.subscribe(this.menuTopic,this._handleMenuMessage.bind(this)),e.publish(this.menuTopic,{event:"moduleReady",id:"MenuCardLayoutModule"})},onChangeCard:function(t){var n,i,s=t.layout.selectedTab.options.item.urlPart;s&&(e.publish(this.widgetTopic,{event:"stepSet",step:s}),-1!==s.indexOf("service-information")&&(this.isMenuReady?e.publish(this.menuTopic,{event:"activateMenuItem",id:s}):this.messageQueue.push({event:"activateMenuItem",id:s}))),(n=t.layout.selectedTab.options.item.widget)&&(i=n.environment)&&i.setVisible(!0,!0)},onLoadCards:function(e,t){this.isCreationMode=-1!==window.location.pathname.indexOf("service-information-creation"),this._loadCard(this.isCreationMode?"service-information-creation":"service-information")},_handleWidgetMessage:function(t){switch(t.event){case"save":case"stepSet":break;default:this.isMenuReady?e.publish(this.menuTopic,t):this.messageQueue.push(t)}},_handleMenuMessage:function(t){var n;switch(t.event){case"menuReady":for(this.isMenuReady=!0,n=this.messageQueue.shift();n;)e.publish(this.menuTopic,n),n=this.messageQueue.shift();case"moduleReady":break;case"loadWidgets":this._loadCards();break;case"save":case"stepSet":e.publish(this.widgetTopic,t)}},_loadCards:function(){this.isCreationMode||this.widget.layout.tabs.filter(function(e){return!e.options.rendered}).forEach(function(e){e.options.rendered=!0,this.self.wp.children.push(e.options.item),t.load(e.options.item)},this)},_loadCard:function(e){var n,i;n=this.widget.layout.tabs;for(var s=0;s<n.length;s++)if(n[s].options.item.urlPart===e){i=n[s];break}i&&!i.options.rendered&&(i.options.rendered=!0,this.self.wp.children.push(i.options.item),t.load(i.options.item))}}}),define("DS/MPFMenuComponent/CheckMarkMenuItem",["UWA/Core","UWA/Class/View"],function(e,t){"use strict";var n,i={};return i.ON_CLICK="onClick",(n=t.extend({className:"mpf-check-mark-menu-item",domEvents:{click:"_onClick"},setup:function(e){this.title=e.title,this.itemIndex=e.itemIndex,this.isSelected=e.isSelected,this.isCompleted=e.isCompleted},render:function(){var e="mpf-menu-item-icon "+(this.isCompleted?"fonticon fonticon-check checked":"unchecked"),t="mpf-menu-item-ring "+(this.isCompleted?"checked":"unchecked");return this.container.setContent([{tag:"div",class:"mpf-icon-container",html:[{tag:"span",class:e},{tag:"span",class:t}]},{tag:"span",text:this.title,class:"mpf-menu-label"}]),this.isSelected?this.container.addClassName("selected"):this.container.removeClassName("selected"),this},destroy:function(){this._parent(),this.container=null},setCompleted:function(t){e.is(t,"boolean")&&t!==this.isCompleted&&(this.isCompleted=t,this.render())},_onClick:function(){this.dispatchEvent(i.ON_CLICK,this)}})).Events=Object.freeze(i),n}),define("DS/MPFMenuComponent/MenuEntryComponent",["UWA/Class/View"],function(e){"use strict";var t,n={selected:"selected",completed:"completed",inactive:"inactive"};return(t=e.extend({setup:function(e){e||(e={}),this.url=e.url,this.status=e.status||n.inactive},render:function(){return this.container.setContent(void 0),this}})).Status=n,t}),define("DS/MPFMenuComponent/MenuComponent",["UWA/Core","UWA/Class/View","DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/Navigation","DS/MPFUtils/MPFUtils","i18n!DS/MPFMenuComponent/assets/nls/MenuComponent","css!DS/MPFUI/MPFUI"],function(e,t,n,i,s,o){"use strict";return t.extend({init:function(t){this._parent(t);var i,s=this;this.baseURL=t.baseURL,this.topic=t.topic,this.menuItems=t.steps,n.subscribe(this.topic,function(t){switch(t.event){case"activateMenuItem":if(s.currentComponent&&(i=s._findMenuItem(s.currentComponent),s._inactiveDiv(s.menuItems[i].div)),s.currentComponent=t.id,void 0===(i=s._findMenuItem(t.id)))for(var o=0;o<s.menuItems.length;o++)if(s.menuItems[o].oldName&&s.menuItems[o].oldName===t.id){i=o;break}void 0!==i&&(s.menuItems[i].complete&&s._completeIcon(s.menuItems[i].icon),s._activeDiv(s.menuItems[i].div));break;case"moduleReady":n.publish(s.topic,{event:"menuReady",id:"menu"});break;case"idChange":void 0!==(i=s._findMenuItem(t.oldID))&&(s.menuItems[i].name=t.newID,s.menuItems[i].oldNjeame=t.oldID,s.menuItems[i].div.removeClassName(t.oldID),s.menuItems[i].div.addClassName(t.newID),s.currentComponent===t.oldID&&(s.currentComponent=t.newID),i=s._findMenuItem(s.currentComponent),s.nextComponent=s.menuItems[i+1].name);break;case"resetMenu":s.container.setContent(e.createElement("div",{class:"mpf-companyMenuContainer",html:s._createMenuItems()}));break;case"saveComplete":var a=s.nextComponent;t.next&&(i=s._findMenuItem(t.id),a=s.menuItems[i+1].name),s._navigateComponent({id:s.currentComponent,next:a});case"updateMenu":var c;i=s._findMenuItem(t.id),(c=s.menuItems[i]).complete=s._isMenuItemComplete(t),c.complete?(s._completeIcon(c.icon),n.publish(s.topic,{event:"loadWidgets",id:"menu"})):t.id===s.currentComponent?s._activeDiv(c.div):s._inactiveDiv(c.div);break;case"widgetBack":i=s._findMenuItem(t.id),t.next=s.menuItems[i-1].name,s._navigateComponent(t);break;case"widgetNext":(i=s._findMenuItem(t.id))===s.menuItems.length-1?window.location.pathname="/welcome":(t.next=s.menuItems[i+1].name,s._navigateComponent(t))}}),n.publish(s.topic,{event:"menuReady",id:"menu"})},load:function(){return this.container.setContent(e.createElement("div",{class:"mpf-companyMenuContainer",html:this._createMenuItems()})),this},destroy:function(){n.unsubscribe(this.topic),this.model=null,this._parent(),this.container=null,this.menuItems=null},_createMenuItems:function(){var t,i,o=this,a=[];return this._getCurrentComponent(),this.menuItems.forEach(function(c){t=o.currentComponent===c.name?"mpf-companyActiveMenuIcon":"mpf-companyInactiveMenuIcon",i=o.currentComponent===c.name?"mpf-companyActiveMenuItemDiv current mpf-companyMenuItemDiv":"mpf-companyMenuItemDiv",c.icon=e.createElement("span",{class:t+" fonticon fonticon-record unchecked"}),c.span=e.createElement("span",{text:c.label}),c.div=e.createElement("div",{class:i+" "+c.name,html:[c.icon,c.span],events:{click:function(e){var t=e.currentTarget||e.target;"div"!==t.tagName.toLowerCase()&&(t=t.getParent()),o.nextComponent=s.findInArray(o.menuItems,function(e){return t.hasClassName(e.name)}).name,o.menuItems.forEach(function(e){o.currentComponent===e.name&&(e.saveNeeded?n.publish(o.topic,{event:"save",id:"menu",target:o.currentComponent}):o._navigateComponent({id:o.currentComponent,next:o.nextComponent}))})}}}),a.push(c.div)}),a},_getCurrentComponent:function(){var e=this;this.currentComponent=this.menuItems[0].name,this.menuItems.forEach(function(t){-1!==window.location.pathname.indexOf(t.name)&&(e.currentComponent=t.name)})},_navigateComponent:function(e){var t,s=this._findMenuItem(e.id),o=this._findMenuItem(e.next);this.menuItems[s].icon.hasClassName("mpf-companyActiveMenuIcon")&&this._inactiveIcon(this.menuItems[s].icon),this._inactiveDiv(this.menuItems[s].div),t=-1===e.next.indexOf(this.baseURL)?this.baseURL+"/"+e.next:e.next,t+=window.location.search,i.routeTo(t),n.publish(this.topic,{event:"stepSet",id:e.next,step:e.next}),this.currentComponent=e.next,this._activeDiv(this.menuItems[o].div),this._activeIcon(this.menuItems[o].icon)},_activeDiv:function(e){e.removeClassName("mpf-companyMenuHoverLabelDiv"),e.addClassName("mpf-companyActiveMenuItemDiv"),e.addClassName("current")},_inactiveDiv:function(e){e.removeClassName("mpf-companyActiveMenuItemDiv"),e.removeClassName("current"),e.addClassName("mpf-companyMenuItemDiv")},_completeIcon:function(e){e.removeClassName("fonticon-record"),e.addClassName("fonticon-check"),e.removeClassName("mpf-companyActiveMenuIcon"),e.removeClassName("mpf-companyInactiveMenuIcon"),e.addClassName("mpf-companyCompletedMenuIcon")},_activeIcon:function(e){e.hasClassName("mpf-companyCompletedMenuIcon")||(e.removeClassName("mpf-companyInactiveMenuIcon"),e.addClassName("mpf-companyActiveMenuIcon"))},_inactiveIcon:function(e){e.removeClassName("mpf-companyActiveMenuIcon"),e.removeClassName("mpf-companyCompletedMenuIcon"),e.addClassName("mpf-companyInactiveMenuIcon"),e.removeClassName("fonticon-check"),e.hasClassName("fonticon-record")||e.addClassName("fonticon-record")},_findMenuItem:function(e){for(var t,n=0;n<this.menuItems.length;n++)if(this.menuItems[n].name===e){t=n;break}return t},_isMenuItemComplete:function(e){return void 0!==e.complete?!0===e.complete:void 0===e.status||"complete"===e.status}})}),define("DS/MPFMenuComponent/StepNavigationButtonsComponent",["UWA/Core","UWA/Class/View","DS/UIKIT/Mask","DS/PlatformAPI/PlatformAPI","DS/UIKIT/Input/Button","i18n!DS/MPFMenuComponent/assets/nls/MenuComponent","css!DS/MPFUI/MPFUI"],function(e,t,n,i,s,o){"use strict";return t.extend({setup:function(e){e||(e={}),this.checkSave=e.checkSave,this.displayBack=e.displayBack,this.displayFinish=e.displayFinish,this.displayNext=e.displayNext,this.stepName=e.stepName,this.topic=e.topic,this.backButton=this._createBackButton(),this.finishButton=this._createFinishButton(),this.nextButton=this._createNextButton(),i.subscribe(this.topic,this._onTopicMessage.bind(this))},render:function(){var e=[];return this.displayBack&&e.push(this.backButton),this.displayFinish&&e.push(this.finishButton),this.displayNext&&e.push(this.nextButton),this.container.setContent(e),this},_onTopicMessage:function(e){var t,i,s;i=(t=e&&e.event)&&"validationFailure"===e.event,s=t&&"saveComplete"===e.event,(i||s)&&n.unmask(this.nextButton.elements.container)},_onClickNext:function(){this.checkSave&&n.mask(this.nextButton.elements.container,""),i.publish(this.topic,{event:this.checkSave?"save":"widgetNext",id:this.stepName,next:!0,target:this.stepName})},_onClickBack:function(){i.publish(this.topic,{event:"widgetBack",id:this.stepName,next:!0,target:this.stepName})},_onClickFinish:function(e){i.publish(this.topic,{event:"widgetNext",id:this.stepName})},_createNextButton:function(){return new s({className:"default mpf-menuFooterButton next",value:o.get("next"),icon:"chevron-right right",events:{onClick:this._onClickNext.bind(this)}})},_createBackButton:function(){return new s({className:"default mpf-menuFooterButton back",value:o.get("back"),icon:"left-open",events:{onClick:this._onClickBack.bind(this)}})},_createFinishButton:function(){return new s({className:"primary mpf-menuFooterButton finish",events:{onClick:this._onClickFinish.bind(this)},value:o.get("finish")})}})}),define("DS/MPFMenuComponent/CompanyMenuCardLayoutModule",["DS/PlatformAPI/PlatformAPI","DS/UWPClientCode/WidgetFactory"],function(e,t){"use strict";return{isMenuReady:!1,messageQueue:[],init:function(e,t){if(this.widget=e,this.self=t,this.widgetTopic=e.getValue("widgetTopic"),this.menuTopic=e.getValue("menuTopic"),!this.widgetTopic)throw new Error("wigetTopic must be defined for MenuCardLayoutModule");if(!this.menuTopic)throw new Error("menuTopic must be defined for MenuCardLayoutModule");t.refreshIfVisible()},onBeforeLoadCards:function(t,n,i){e.subscribe(this.widgetTopic,this._handleWidgetMessage.bind(this)),e.subscribe(this.menuTopic,this._handleMenuMessage.bind(this)),e.publish(this.menuTopic,{event:"moduleReady",id:"MenuCardLayoutModule"})},onChangeCard:function(e){var t,n;(t=e.layout.selectedTab.options.item.widget)&&(n=t.environment)&&n.setVisible(!0,!0)},onLoadCards:function(e,t){this._loadCard("information")},_handleWidgetMessage:function(t){"save"!==t.event&&"stepSet"!==t.event&&(this.isMenuReady?e.publish(this.menuTopic,t):this.messageQueue.push(t))},_handleMenuMessage:function(t){var n;switch(t.event){case"menuReady":for(this.isMenuReady=!0,n=this.messageQueue.shift();n;)e.publish(this.menuTopic,n),n=this.messageQueue.shift();case"moduleReady":break;case"loadWidgets":this._loadCards();break;case"save":case"stepSet":e.publish(this.widgetTopic,t)}},_loadCards:function(){this.widget.layout.tabs.filter(function(e){return!e.options.rendered}).forEach(function(e){e.options.rendered=!0,this.self.wp.children.push(e.options.item),t.load(e.options.item)},this)},_loadCard:function(e){var n,i;n=this.widget.layout.tabs;for(var s=0;s<n.length;s++)if(n[s].options.item.urlPart===e){i=n[s];break}i&&!i.options.rendered&&(i.options.rendered=!0,this.self.wp.children.push(i.options.item),t.load(i.options.item))}}}),define("DS/MPFMenuComponent/CheckMarkMenu",["UWA/Core","UWA/Class/View","DS/MPFError/BadArgumentError","DS/MPFMenuComponent/CheckMarkMenuItem","css!DS/MPFMenuComponent/MPFMenuComponent"],function(e,t,n,i){"use strict";var s,o={};return o.SHOW_NEW_PAGE="showNewPage",(s=t.extend({className:"mpf-check-mark-menu",setup:function(e){if(!Array.isArray(e.pages))throw new n("options.pages must be an array of objects");this.pages=e.pages,this.currentPageIndex=e.currentPageIndex||0,this.items=this._createItems()},render:function(){for(var e=[],t=0;t<this.pages.length;t++)e.push(this.items[t].render());return this.container.setContent(e),this},destroy:function(){this.stopListening();for(var e=0;e<this.items.length;e++)this.items[e].destroy();this._parent(),this.container=null},setCurrentPageIndex:function(t){if(!(e.is(t,"number")&&t!==this.currentPageIndex&&t>=0&&t<this.items.length))throw n("Number (item index) of selected page expected (between 0 and pages.length)");this.items[this.currentPageIndex].isSelected=!1,this.items[t].isSelected=!0,this.currentPageIndex=t,this.updateMenu()},setItemCompleted:function(t,n){e.is(t,"number")&&e.is(n,"boolean")&&t>=0&&t<this.items.length&&this.items[t].setCompleted(n)},updateMenu:function(){for(var e=0;e<this.items.length;e++)this.items[e].render()},_createItems:function(){for(var e=[],t=0;t<this.pages.length;t++){var n=new i({title:this.pages[t].title,isSelected:this.currentPageIndex===t,isCompleted:this.pages[t].isCompleted,itemIndex:t});this.listenTo(n,i.Events.ON_CLICK,this._onItemClicked.bind(this)),e.push(n)}return e},_onItemClicked:function(e){e.itemIndex!==this.currentPageIndex&&this.dispatchEvent(o.SHOW_NEW_PAGE,{index:e.itemIndex,page:this.pages[e.itemIndex],menuItem:e})}})).Events=Object.freeze(o),s});
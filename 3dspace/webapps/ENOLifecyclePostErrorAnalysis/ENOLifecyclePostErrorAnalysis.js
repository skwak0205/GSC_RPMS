define("DS/ENOLifecyclePostErrorAnalysis/controller/ENOLifecyclePostErrorAnalysisController",["UWA/Controls/Abstract","UWA/Json","UWA/Promise","DS/WidgetServices/WidgetServices","DS/WAFData/WAFData","DS/LifecycleServices/LifecycleServicesSettings","DS/LifecycleServices/LifecycleServices","DS/PlatformAPI/PlatformAPI"],function(e,t,n,i,s,r,o,a){var c=void 0,l=void 0;return e.extend({getListOfAttributesForObject:function(e,t){var n,i={};i.objectphysicalid=e.objectphysicalid,i.completions=["Transfer","TransferFakeCommand","Share","Change Status","Delete"],a.getUser()&&(n=a.getUser().login),i.user=n;var s={method:"POST",serviceURI:"/resources/lifecycle/analysis/postErrorAnalysis",data:i};return this._returnPromise(s)},_returnPromise:function(e,i){var a=this;return new n(function(n,i){var d=e;r.app_initialization(function(){!function(e,n,i,a){function d(n){var o,l=r.getHeaders(encodeURIComponent(n)),d=n.split("::");if(2==d.length){var f=d[1].split(".");3==f.length&&e.hasOwnProperty("data")&&(e.data.credentialresponsisbility=f[0],e.data.credentialorg=f[1],e.data.credentialcs=f[2])}e.serviceURI.contains("http")&&DEBUG_MODE?(o=e.serviceURI,"GET"===e.method&&delete l["Content-Type"]):(o=r.get3DSpaceWSUrl(c||r.getTenant(),e.serviceURI,null),l.SecurityContext=encodeURIComponent(n)),l.Accept="application/json",proxyUsed="passport","GET"===e.method&&(o+=(o.indexOf("?")>=0?"&":"?")+"timestamp="+Date.now().toString());var h=t.encode({data:e.data});s.authenticatedRequest(o,{method:e.method,headers:l,timeout:6e5,proxy:proxyUsed,data:h,type:"json",onComplete:function(e){var t=this;if("failure"===e.status||!1===e.success){var n=UWA.i18n("OperationFailed");t.eventData={eventID:"error",msg:n},require(["DS/PADUtils/PADContext"],function(e){e.get().displayNotification(t.eventData)})}else if(e.hasOwnProperty("results")&&e.results){var i={response:e.results};a.dispatchEvent("fetchedObjectData",i)}},onTimeout:function(e){i(e)},onFailure:function(e){i(e)}})}"string"==typeof l&&l.length?d(l):o.getSecurityContextPromise(c||r.getTenant()).then(function(e){d(e)}).catch(function(e){i(e)})}(d,0,i,a),console.log("test")})})}})}),define("DS/ENOLifecyclePostErrorAnalysis/ENOLifecyclePostErrorAnalysisUI",["DS/EditPropWidget/facets/Common/FacetsBase","UWA/Core","UWA/Class/Model","UWA/Widget","DS/ENOLifecyclePostErrorAnalysis/controller/ENOLifecyclePostErrorAnalysisController","DS/LifecycleServices/LifecycleServicesSettings","UWA/Controls/ThemedScroller","DS/Tree/TreeDocument","DS/EditPropWidget/constants/EditPropConstants","WebappsUtils/WebappsUtils","DS/CoreEvents/ModelEvents","DS/ApplicationFrame/Command","DS/ApplicationFrame/CommandsManager","DS/ApplicationFrame/CommandFactory","DS/PlatformAPI/PlatformAPI","DS/Tree/TreeNodeModel","DS/Controls/ResponsiveTileView","DS/WidgetServices/WidgetServices"],function(e,t,n,i,s,r,o,a,c,l,d,f,h,u,p,m,y,S){"use strict";new d;return e.extend({defaultOptions:{className:"postErrorAnalysisWidget"},_eventListeners:[],init:function(e){this._parent(e),this.lastCurrentView="";var t=this;t.getModel();t._initUI(),t._emptyView=null,t._controller=new s({events:{fetchedObjectData:function(e){if(e&&e.hasOwnProperty("response")&&e.response){var n=e.response,i=JSON.stringify(n,void 0,2);t._scrollerContainer.setContent("<pre>"+i+"</pre>")}},refreshViewOnUpdate:function(e){t.onRefresh()}}})},_initUI:function(){var e=this.elements.container=UWA.createElement("div",{name:"sharing-widget",class:"sharingWidget"});this.elements.content=UWA.createElement("div",{class:"content_Sharing"}).inject(e);this.elements.content.setStyle("width","100%"),this.elements.content.setStyle("height","100%")},_initDataModels:function(){this._currentModelId=null,this.searchData={},this.searchTextBox=null,this._scroller=(new o).inject(this.elements.content),this._scroller.getContent().setStyle("height","100%"),this._scrollerContainer=UWA.createElement("div",{id:"postErrorAnalysisScrollerContainer",class:"postErrorAnalysisScrollerContainer"}),this._scroller.getInnerElement().setContent(this._scrollerContainer),self._emptyView=null},_emptyDataModels:function(){},_getAttributesOfSelectedItems:function(e){this._controller.getListOfAttributesForObject(e,[])},destroyComponent:function(){UWA.is(this.destroy,"function")&&this.destroy()},onRefresh:function(){this.updateFacet()},onAction:function(e){},hide:function(){this._isVisible=!1,this.elements.container.hide()},show:function(){this._isVisible=!0,this.elements.container.show()},updateFacet:function(){var e=this.getModel();if(e){var t=this;r.app_initialization(function(){var n=e.get("objectId");t.currentModelId!==n?(t.currentModelId=n,t.elements.content.empty(),t._emptyDataModels()):t.elements.content.empty();var i={objectphysicalid:t.currentModelId};t._initDataModels(),t._getAttributesOfSelectedItems(i)})}}})});
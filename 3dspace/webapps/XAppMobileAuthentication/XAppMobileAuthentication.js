define("DS/XAppMobileAuthentication/XAppMobileAuthentication",["UWA/Core","UWA/Class","DS/HybridInfraCore/HybridApp"],function(n,i,o){var e=null,t=n.Class.extend({init:function(n){this._onAuthSuccessCB=n.onAuthSuccess?n.onAuthSuccess:function(){console.log("XAppMobileAuthentication - Mobile authentication successed")}.bind(this),this._onAuthFailedCB=n.onAuthFailed?n.onAuthFailed:function(){console.log("XAppMobileAuthentication - Mobile authentication failed")}.bind(this),this._onLoginCanceledCB=n.onLoginCanceled?n.onLoginCanceled:function(){console.log("XAppMobileAuthentication - Login canceled by the user")}.bind(this),this._body=n.body},onAuthSuccess:function(n){n&&(this._onAuthSuccessCB=n)},onAuthFailed:function(n){n&&(this._onAuthFailedCB=n)},onLoginCanceled:function(n){n&&(this._onLoginCanceledCB=n)},start:function(){e=setTimeout(function(){clearTimeout(e),void 0===window.HybridAppArgs?(console.warn("XAppMobileAuthentication - Not connected to the native"),this._onLoginSuccess()):(console.error("XAppMobileAuthentication - authentication failed"),this._onAuthFailedCB())}.bind(this),3e3),o.onDeviceReady(function(n){clearTimeout(e),this._onLoginSuccess()}.bind(this))},_onLoginSuccess:function(n){console.log("XAppMobileAuthentication - Login success"),this._onAuthSuccessCB()},_onLoginCanceled:function(n){console.log("XAppMobileAuthentication - Login cancelled by the user"),this._onLoginCanceledCB()}});return n.namespace("DS/XAppMobileAuthentication/XAppMobileAuthentication",t)});
define("DS/3DPlaySocialPanel/3DPlaySocialPanel",[],function(){}),define("DS/3DPlaySocialPanel/3DPlaySocialPanelManager",["UWA/Class","DS/Windows/Panel","DS/WebSystem/Settings","DS/WebappsUtils/WebappsUtils"],function(e,n,i,t){"use strict";return e.extend({init:function(e){this._parent(e),this._frameWindow=e.frameWindow,this._buildPanel({assetId:e.assetId,tenantId:e.tenantId,serviceUrl:e.serviceUrl,assetProvider:e.assetProvider,serverToken:e.serverToken,onClickCB:e.onCommentClick})},_buildPanel:function(e){var i=this;require(["DS/SocialToolbar/SocialToolbar"],function(a){var o=new UWA.Element("div",{styles:{"background-color":"white"}}),l=i._frameWindow.getImmersiveFrame(),r=WUXDockAreaEnum.RightDockArea,s=e.serviceUrl,c=e.assetId;!e.assetProvider||"3DDRIVE"!=e.assetProvider&&"3DSPACE"!=e.assetProvider||(s=e.serviceUrl+"/resources",c="3DDRIVE"==e.assetProvider?"driveid:"+c:"pid:"+c),i.commentPanel=new a({subjectURI:c,tenantId:e.tenantId,serviceURL:s,"3DSwymServerToken":e.serverToken,enableShare:!1,commentProxyToken:{header:"X-DS-CSRFTOKEN"},events:{onMediaClick:e.onClickCB}}),i.commentPanel.inject(o),i._dockingElement=l.getDockingElement(r),i.panel=new n({titleBarVisibleFlag:!1,icon:t.getWebappsAssetUrl("3DPlaySpecTree","icons/32/")+"I_3DPlaySpecTree.png",title:"",content:o,immersiveFrame:l,resizableFlag:!0,movableFlag:!1,currentDockArea:r,width:400,verticallyStretchableFlag:!0,usePaddingFlag:!1,closeButtonFlag:!1,floatableFlag:!1,expandedFlag:!0,ensureHeightDefinitionOnHierarchy:!0})},function(e){console.log("Require failed for SocialToolbar")})},hide:function(){return!!this._dockingElement&&(this._dockingElement.visibleDockingZoneFlag=!1,this._dockingElement.collapseDockingZoneFlag=!0,!0)},show:function(){return!!this._dockingElement&&(this._dockingElement.visibleDockingZoneFlag=!0,this._dockingElement.collapseDockingZoneFlag=!1,!0)},postComment:function(e,n){if(this.commentPanel){var i={media:[{type:"annotation",file:n,data:{annotationFile:e}}]};this.commentPanel.setActiveFieldContent(i)}},dispose:function(){this.panel.destroy(),this.panel=void 0}})});
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html style="height:100%" lang="en">
<head>
    <title>Applicability Summary</title>
    <!-- avoid security/hack issue -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- style -->

    <script language="Javascript" src="../../common/scripts/emxUIConstants.js"></script>
    <script language="Javascript" src="../../common/scripts/emxUICore.js"></script>
    <script language="Javascript" src="../../common/scripts/emxUIUtility.js"></script>
    <script language="Javascript" src="../../common/scripts/emxUIPopups.js"></script>
    <script language="Javascript" src="../../common/scripts/emxUIModal.js"></script>
    <script type="text/javascript" src="../AmdLoader/AmdLoader.js"></script>
    <script type="text/javascript" src="../c/UWA/js/UWA_Standalone_Alone.js"></script>
    <style type="text/css">
        .module {
            width: 100%;
            height: 100% margin: 0;
        }

        .moduleHeader {
            display: none;
        }

        .moduleFooter {
            display: none;
        }
    </style>

    <script type="text/javascript">

        function loadApplicability(contentAppdiv, contextID, curTenant) {
            require([
                        'DS/CfgEvolutionUX/CfgEvolutionLayoutFactory',
                        'DS/ENOFrameworkPlugins/jQuery', 'UWA/Environment', 'UWA/Environments/Standalone'

            ], function (CfgEvolutionLayoutFactory, jQuery, Environment, Standalone) {
                widget.addEvents(
                         {
                             onLoad: function () {


                                 //var sURL = '../../common/emxFullSearch.jsp?field=TYPES=' + 'Model' + ':CURRENT!=policy_Model.state_Inactive&table=AEFGeneralSearchResults&selection=multiple&formName=BCform&submitAction=refreshCaller&hideHeader=true&HelpMarker=emxhelpfullsearch&submitURL=../effectivity/EffectivityDefinitionSearch.jsp?fromOperation=search';
                                 //showChooser(sURL, 850, 630);

                                 jQuery(".moduleHeader").css("display", "none");
                                 jQuery(".moduleFooter").css("display", "none");
                                 jQuery(".moduleUwa").css("height", "100%");
                                 jQuery(".moduleUwa").css("border", "none");
                                 document.body.parentElement.setStyle("background", "none");
                                 document.body.parentElement.setStyle("overflow", "auto");
                                 jQuery(".moduleWrapper").css("height", "100%");
                                 jQuery(".moduleContent").css("height", "100%");
                                 var parent = document.querySelector("#contentAppdiv");
                                 var options = { 'mode': "Applicability", 'objectid': contextID, 'parent': parent, environment: "3DSpace",tenant:curTenant }

                                 var layout = CfgEvolutionLayoutFactory.create(options);
                                 // CfgApplicabilityController.init(contentAppdiv,contextID,"3DSpace");
                             }
                         });
            });

        }

        document.addEventListener("DOMContentLoaded", function (e) // for some reasons, this needs to be outside of the require..
        {
            /*var contextID=window.location.search.replace("?contextID=", "");*/
            var query = location.search.substr(1);
            var result = {};
            query.split("&").forEach(function (part) {
                var item = part.split("=");
                result[item[0]] = decodeURIComponent(item[1]);
            });
            var contextID = result.contextID;
            var curTenant = result.curTenant;
            loadApplicability("contentAppdiv", contextID, curTenant);

        });

    </script>
</head>
<body style="height: 94%; width:100%;">
    <div id='contentAppdiv' style="height: 94%; width:100%;"></div>
</body>
</html>


(function(){function e(){}function q(c,g){return 0==Y.call(c).indexOf("[object "+g)}function t(c){return c&&"/"==c.charAt(c.length-1)?c.substr(0,c.length-1):c}function r(c,g){var a,m,f,b;a=1;m=c;"."==m.charAt(0)&&(f=w,m=m.replace(S,function(c,g,m,f){m&&a++;return f||""}));if(f){f=g.split("/");b=f.length-a;if(0>b)return c;f.splice(b,a);return f.concat(m||[]).join("/")}return m}function n(c){var g=c.indexOf("!");return{l:c.substr(g+1),j:0<=g&&c.substr(0,g)}}function b(){}function d(c,g){b.prototype=
c||U;var a=new b;b.prototype=U;for(var m in g)a[m]=g[m];return a}function j(){function c(g,a,f){m.push([g,a,f])}function g(c,a){for(var f,b=0;f=m[b++];)(f=f[c])&&f(a)}var a,m,f;a=this;m=[];f=function(a,b){c=a?function(c){c&&c(b)}:function(c,g){g&&g(b)};f=e;g(a?0:1,b);g=e;m=E};this.z=function(g,a,m){c(g,a,m)};this.g=function(c){a.w=c;f(w,c)};this.d=function(c){a.oa=c;f(A,c)};this.t=function(c){g(2,c)}}function l(c,g,a,m){c instanceof j?c.z(g,a,m):g(c)}function f(c,g,a){var m;return function(){0<=--c&&
g&&(m=g.apply(E,arguments));0==c&&a&&a(m);return m}}function a(){var c=[].slice.call(arguments),g;q(c[0],"Object")&&(g=c.shift(),h(g));return new k(c[0],c[1],c[2])}function h(c){c&&(x.P(c),D=x.b(c),x.S(c),"main"in c&&setTimeout(function(){var g;g=x.f(D,E,[].concat(c.main));x.h(g)},0))}function k(c,g,a,m){var f;f=x.f(D,E,[].concat(c));this.then=c=function(c,g){l(f,function(g){c&&c.apply(E,g)},function(c){if(g)g(c);else throw c;});return this};this.next=function(c,g,a){return new k(c,g,a,f)};this.config=
h;(g||a)&&c(g,a);l(m,function(){x.h(f)})}function u(c){var g,a;g=c.id;if(g==E)if(N!==E)N={F:"Multiple anonymous defines in url"};else if(!(g=x.ba()))N=c;if(g!=E){a=F[g];g in F||(a=x.k(g,D),a=x.B(a.b,g),F[g]=a);if(!(a instanceof j))throw Error("duplicate define: "+g);a.ga=A;x.C(a,c)}}function s(){var c=x.Z(arguments);u(c)}function z(c){try{return eval(c)}catch(g){}}function c(){var c;c=J[V]("link");c.rel="stylesheet";c.type="text/css";return c}function g(c,g,a){ca.push({url:c,R:g,U:function(){a(Error(da))}});
c=ea.shift();!c&&fa.length<ia&&(c=J.createElement("style"),fa.push(c),Z.appendChild(c));c&&m(c)}function m(c){var g,a;g=ca.shift();a=c.styleSheet;g?(c.onload=function(){g.R(g.ea);m(c)},c.onerror=function(){g.U();m(c)},g.ea=a.imports[a.addImport(g.url)]):(c.onload=c.onerror=p,ea.push(c))}function y(c,g,a){if(!W.load){var m,f,b;if(!c.href||J.readyState&&"complete"!=J.readyState)m=A;else{m=A;try{if(f=c.sheet)b=f.cssRules,m=null===b,!m&&b&&(f.insertRule("-curl-css-test {}",0),f.deleteRule(0),m=w)}catch(d){m=
"[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(d.message)}}m?a(c.sheet):c.onload==p||!c.onload||ga(function(){y(c,g,a)},g)}}function v(g,a,m,f){function b(){if(d.onload!=p&&d.onload){d.onload=d.onerror=p;var c=function(){!J.readyState||"complete"==J.readyState?a(d.sheet):ga(c,10)};c()}}var d;d=c();d.onload=function(){W.load=W.load||w;b()};y(d,f,b);d.onerror=function(){W.error=W.error||w;d.onload!=p&&d.onload&&(d.onload=d.onerror=p,m(Error(da)))};d.href=g;Z.appendChild(d)}
function p(){}var w=!0,A=!1,B=this.window||"undefined"!=typeof global&&global||this,D,H,G,L=B.document,M=L&&(L.head||L.getElementsByTagName("head")[0]),O=M&&M.getElementsByTagName("base")[0]||null,C={},K={},P={},ba="addEventListener"in B?{}:{loaded:1,complete:1},U={},Y=U.toString,E,F={},T={},Q=A,N,I=/^\/|^[^:]+:\/\//,S=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,R=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,$=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,X,x;x={m:function(c,g,a){var m;c=r(c,g);if("."==
c.charAt(0))return c;m=n(c);c=(g=m.j)||m.l;c in a.c&&(c=a.c[c].K||c);g&&(0>g.indexOf("/")&&!(g in a.c)&&(c=t(a.N)+"/"+g),c=c+"!"+m.l);return c},f:function(c,g,a,m){function f(g){return x.m(g,d.id,c)}function b(g,a,p){var k;k=a&&function(c){a.apply(E,c)};if(q(g,"String")){if(k)throw Error("require(id, callback) not allowed");p=f(g);g=F[p];if(!(p in F))throw Error("Module not resolved: "+p);return(p=g instanceof j&&g.a)||g}l(x.h(x.f(c,d.id,g,m)),k,p)}var d;d=new j;d.id=g||"";d.ca=m;d.D=a;d.b=c;d.u=
b;b.toUrl=function(g){return x.k(f(g),c).url};d.m=f;return d},B:function(c,g,a){var m,b,d;m=x.f(c,g,E,a);b=m.g;d=f(1,function(c){m.p=c;try{return x.V(m)}catch(g){m.d(g)}});m.g=function(c){l(a||Q,function(){b(F[m.id]=T[m.url]=d(c))})};m.G=function(c){l(a||Q,function(){m.a&&(d(c),m.t(K))})};return m},T:function(c,g,a,m){return x.f(c,a,E,m)},aa:function(c){return c.u},H:function(c){return c.a||(c.a={})},$:function(c){var g=c.q;g||(g=c.q={id:c.id,uri:x.I(c),exports:x.H(c),config:function(){return c.b}},
g.a=g.exports);return g},I:function(c){return c.url||(c.url=x.A(c.u.toUrl(c.id),c.b))},P:function(c){var g,m,f,b,d;g="curl";m="define";f=b=B;if(c&&(d=c.overwriteApi||c.ma,g=c.apiName||c.ia||g,f=c.apiContext||c.ha||f,m=c.defineName||c.ka||m,b=c.defineContext||c.ja||b,H&&q(H,"Function")&&(B.curl=H),H=null,G&&q(G,"Function")&&(B.define=G),G=null,!d)){if(f[g]&&f[g]!=a)throw Error(g+" already exists");if(b[m]&&b[m]!=s)throw Error(m+" already exists");}f[g]=a;b[m]=s},b:function(c){function g(c,a){var m,
p,k,h,v;for(v in c){k=c[v];q(k,"String")&&(k={path:c[v]});k.name=k.name||v;h=f;p=n(t(k.name));m=p.l;if(p=p.j)(h=b[p])||(h=b[p]=d(f),h.c=d(f.c),h.e=[]),delete c[v];if(a){p=k;var s=void 0;p.path=t(p.path||p.location||"");s=p.main||"./main";"."==s.charAt(0)||(s="./"+s);p.K=r(s,p.name+"/");p.b=p.config;p.b&&(p.b=d(f,p.b))}else p={path:t(k.path)};p.Q=m.split("/").length;m?(h.c[m]=p,h.e.push(m)):h.n=x.O(k.path,f)}}function a(c){var g=c.c;c.M=RegExp("^("+c.e.sort(function(c,a){return g[a].Q-g[c].Q}).join("|").replace(/\/|\./g,
"\\$&")+")(?=\\/|$)");delete c.e}var m,f,b,p;"baseUrl"in c&&(c.n=c.baseUrl);"main"in c&&(c.K=c.main);"preloads"in c&&(c.na=c.preloads);"pluginPath"in c&&(c.N=c.pluginPath);if("dontAddFileExt"in c||c.i)c.i=RegExp(c.dontAddFileExt||c.i);m=D;f=d(m,c);f.c=d(m.c);b=c.plugins||{};f.plugins=d(m.plugins);f.s=d(m.s,c.s);f.r=d(m.r,c.r);f.e=[];g(c.packages,w);g(c.paths,A);for(p in b)c=x.m(p+"!","",f),f.plugins[c.substr(0,c.length-1)]=b[p];b=f.plugins;for(p in b)if(b[p]=d(f,b[p]),c=b[p].e)b[p].e=c.concat(f.e),
a(b[p]);for(p in m.c)f.c.hasOwnProperty(p)||f.e.push(p);a(f);return f},S:function(c){var g;(g=c&&c.preloads)&&0<g.length&&l(Q,function(){Q=x.h(x.f(D,E,g,w))})},k:function(c,g){var a,m,f,b;a=g.c;f=I.test(c)?c:c.replace(g.M,function(c){m=a[c]||{};b=m.b;return m.path||""});return{b:b||D,url:x.O(f,g)}},O:function(c,g){var a=g.n;return a&&!I.test(c)?t(a)+"/"+c:c},A:function(c,g){return c+((g||D).i.test(c)?"":".js")},J:function(c,g,a){var m=L.createElement("script");m.onload=m.onreadystatechange=function(a){a=
a||B.event;if("load"==a.type||ba[m.readyState])delete P[c.id],m.onload=m.onreadystatechange=m.onerror="",g()};m.onerror=function(){a(Error("Syntax or http error: "+c.url))};m.type=c.L||"text/javascript";m.charset="utf-8";m.async=!c.da;m.src=c.url;P[c.id]=m;M.insertBefore(m,O);return m},W:function(c){var g=[],a;("string"==typeof c?c:c.toSource?c.toSource():c.toString()).replace(R,"").replace($,function(c,m,f){f?a=a==f?E:a:a||g.push(m);return""});return g},Z:function(c){var g,a,m,f,b,d;b=c.length;m=
c[b-1];f=q(m,"Function")?m.length:-1;2==b?q(c[0],"Array")?a=c[0]:g=c[0]:3==b&&(g=c[0],a=c[1]);!a&&0<f&&(d=w,a=["require","exports","module"].slice(0,f).concat(x.W(m)));return{id:g,p:a||[],v:0<=f?m:function(){return m},o:d}},V:function(c){var g;g=c.v.apply(c.o?c.a:E,c.p);g===E&&c.a&&(g=c.q?c.a=c.q.a:c.a);return g},C:function(c,g){c.v=g.v;c.o=g.o;c.D=g.p;x.h(c)},h:function(c){function g(c,a,m){p[a]=c;m&&v(c,a)}function a(g,m){var b,d,p,k;b=f(1,function(c){d(c);s(c,m)});d=f(1,function(c){v(c,m)});p=
x.X(g,c);(k=p instanceof j&&p.a)&&d(k);l(p,b,c.d,c.a&&function(c){p.a&&(c==C?d(p.a):c==K&&b(p.a))})}function m(){c.g(p)}var b,d,p,k,h,v,s;p=[];d=c.D;k=d.length;0==d.length&&m();v=f(k,g,function(){c.G&&c.G(p)});s=f(k,g,m);for(b=0;b<k;b++)h=d[b],h in X?(s(X[h](c),b,w),c.a&&c.t(C)):h?a(h,b):s(E,b,w);return c},Y:function(c){x.I(c);x.J(c,function(){var g=N;N=E;c.ga!==A&&(!g||g.F?c.d(Error(g&&g.F||"define() missing or duplicated: "+c.url)):x.C(c,g))},c.d);return c},X:function(c,g){var a,m,f,b,d,p,k,h,v,
s,u;a=g.m;m=g.ca;f=g.b||D;b=n(a(c));k=b.l;d=b.j||k;h=x.k(d,f);if(b.j)p=d;else if(p=h.b.moduleLoader||h.b.la)k=d,d=p,h=x.k(p,f);d in F?v=F[d]:h.url in T?v=F[d]=T[h.url]:(v=x.B(h.b,d,m),v.url=x.A(h.url,h.b),F[d]=T[h.url]=v,x.Y(v));d==p&&(s=new j,u=f.plugins[p]||f,l(v,function(c){var g,f,b;b=c.dynamic;k="normalize"in c?c.normalize(k,a,v.b)||"":a(k);f=p+"!"+k;g=F[f];if(!(f in F)){g=x.T(u,f,k,m);b||(F[f]=g);var d=function(c){g.g(c);b||(F[f]=c)};d.resolve=d;d.reject=d.error=g.d;c.load(k,g.u,d,u)}s!=g&&
l(g,s.g,s.d,s.t)},s.d));return s||v},ba:function(){var c;if(!q(B.opera,"Opera"))for(var g in P)if("interactive"==P[g].readyState){c=g;break}return c}};X={require:x.aa,exports:x.H,module:x.$};a.version="0.7.3";a.config=h;s.amd={plugins:w,jQuery:w,curl:"0.7.3"};D={n:"",N:"curl/plugin",i:/\?|\.js\b/,s:{},r:{},plugins:{},c:{},M:/$^/};H=B.curl;G=B.define;!H||q(H,"Function")?x.P():(B.curl=E,h(H));F.curl=a;F["curl/_privileged"]={core:x,cache:F,config:function(){return D},_define:u,_curl:a,Promise:j};var aa=
this.document;define("curl/plugin/js",["curl/_privileged"],function(c){function g(a,m,f){function b(){p||(d<new Date?f():setTimeout(b,10))}var d,p,k;d=(new Date).valueOf()+(a.fa||3E5);f&&a.a&&setTimeout(b,10);k=c.core.J(a,function(){p=w;a.a&&(a.w=z(a.a));!a.a||a.w?m(k):f()},function(c){p=w;f(c)})}function a(c,m){g(c,function(){var g=f.shift();p=0<f.length;g&&a.apply(null,g);m.g(c.w||w)},function(c){m.d(c)})}var m={},f=[],b=aa&&aa.createElement("script").async==w,d,p;d=c.Promise;return{dynamic:w,normalize:function(c,
g){var a=c.indexOf("!");return 0<=a?g(c.substr(0,a))+c.substr(a):g(c)},load:function(c,k,h,v){function s(c){(h.error||function(c){throw c;})(c)}var u,j,y,e,l;u=0<c.indexOf("!order");j=c.indexOf("!exports=");y=0<j&&c.substr(j+9);e="prefetch"in v?v.prefetch:w;c=u||0<j?c.substr(0,c.indexOf("!")):c;k=k.toUrl(c);l=k.lastIndexOf(".")<=k.lastIndexOf("/")?k+".js":k;l in m?m[l]instanceof d?m[l].z(h,s):h(m[l]):(c={name:c,url:l,da:u,a:y,fa:v.timeout},m[l]=v=new d,v.z(function(c){m[l]=c;h(c)},s),u&&!b&&p?(f.push([c,
v]),e&&(c.L="text/cache",g(c,function(c){c&&c.parentNode.removeChild(c)},function(){}),c.L="")):(p=p||u,a(c,v)))}}});var V="createElement",ga=this.setTimeout,J=this.document,Z,ja=J&&J.createStyleSheet&&!(10<=J.documentMode),fa=[],ea=[],ca=[],ia=12,ha,da="HTTP or network error.",W={};J&&(Z=J.head||J.getElementsByTagName("head")[0],ha=ja?g:v);define("curl/plugin/css",{normalize:function(c,g){var a,m;if(!c)return c;a=c.split(",");m=[];for(var f=0,b=a.length;f<b;f++)m.push(g(a[f]));return m.join(",")},
load:function(g,a,m,f){function b(c){1<k.length&&p.push(c);0==--v&&m(1==k.length?c:p)}function d(c){(m.d||function(c){throw c;})(c)}var p,k,h,v,s;p=[];k=(g||"").split(",");h=f.cssWatchPeriod||50;f=f.cssNoWait;v=k.length;for(s=0;s<k.length;s++){g=k[s];var u;g=a.toUrl(g);g=g.lastIndexOf(".")<=g.lastIndexOf("/")?g+".css":g;f?(u=c(),u.href=g,Z.appendChild(u),b(u.sheet||u.styleSheet)):ha(g,b,d,h)}},"plugin-builder":"./builder/css",pluginBuilder:"./builder/css"})}).call(this);var JSON;JSON||(JSON={});
(function(){function e(f){return 10>f?"0"+f:f}function q(f){n.lastIndex=0;return n.test(f)?'"'+f.replace(n,function(a){var f=j[a];return"string"===typeof f?f:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function t(f,a){var h,k,u,s,j=b,c,g=a[f];g&&("object"===typeof g&&"function"===typeof g.toJSON)&&(g=g.toJSON(f));"function"===typeof l&&(g=l.call(a,f,g));switch(typeof g){case "string":return q(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";b+=d;c=[];if("[object Array]"===Object.prototype.toString.apply(g)){s=g.length;for(h=0;h<s;h+=1)c[h]=t(h,g)||"null";u=0===c.length?"[]":b?"[\n"+b+c.join(",\n"+b)+"\n"+j+"]":"["+c.join(",")+"]";b=j;return u}if(l&&"object"===typeof l){s=l.length;for(h=0;h<s;h+=1)"string"===typeof l[h]&&(k=l[h],(u=t(k,g))&&c.push(q(k)+(b?": ":":")+u))}else for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&(u=t(k,g))&&c.push(q(k)+(b?": ":":")+u);u=0===c.length?"{}":b?"{\n"+b+c.join(",\n"+
b)+"\n"+j+"}":"{"+c.join(",")+"}";b=j;return u}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,d,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(f,a,h){var k;d=b="";if("number"===typeof h)for(k=0;k<h;k+=1)d+=" ";else"string"===typeof h&&(d=h);if((l=a)&&"function"!==typeof a&&("object"!==typeof a||"number"!==typeof a.length))throw Error("JSON.stringify");return t("",{"":f})});
"function"!==typeof JSON.parse&&(JSON.parse=function(f,a){function b(f,d){var k,c,g=f[d];if(g&&"object"===typeof g)for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&(c=b(g,k),void 0!==c?g[k]=c:delete g[k]);return a.call(f,d,g)}var d;f=String(f);r.lastIndex=0;r.test(f)&&(f=f.replace(r,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+f+")"),"function"===typeof a?b({"":d},""):d;throw new SyntaxError("JSON.parse");})})();window.JSON=JSON;
(function(e,q){"undefined"!=typeof module?module.exports=q():"function"==typeof define&&"object"==typeof define.amd?define("qwery",q):this[e]=q()})("qwery",function(){function e(){this.c={}}function q(c){return Q.g(c)||Q.s(c,"(^|\\s+)"+c+"(\\s+|$)",1)}function t(c,g){for(var a=0,m=c.length;a<m;a++)g(c[a])}function r(c){for(var g=[],a=0,m=c.length;a<m;++a)z(c[a])?g=g.concat(c[a]):g[g.length]=c[a];return g}function n(c){for(var g=0,a=c.length,m=[];g<a;g++)m[g]=c[g];return m}function b(c){for(;(c=c.previousSibling)&&
1!=c[B];);return c}function d(c){return c.match(F)}function j(c,a,m,b,d,p,k,v,h,s,u){var j,y,e;if(1!==this[B]||a&&"*"!==a&&this[A]&&this[A].toLowerCase()!==a||m&&(j=m.match(H))&&j[1]!==this.id)return!1;if(m&&(e=m.match(G)))for(c=e.length;c--;)if(!q(e[c].slice(1)).test(this.className))return!1;if(h&&g.pseudos[h]&&!g.pseudos[h](this,u))return!1;if(b&&!k)for(y in h=this.attributes,h)if(Object.prototype.hasOwnProperty.call(h,y)&&(h[y].name||y)==d)return this;return b&&!f(p,$(this,d)||"",k)?!1:this}function l(c){return N.g(c)||
N.s(c,c.replace(ba,"\\$1"))}function f(c,g,a){switch(c){case "=":return g==a;case "^=":return g.match(I.g("^="+a)||I.s("^="+a,"^"+l(a),1));case "$=":return g.match(I.g("$="+a)||I.s("$="+a,l(a)+"$",1));case "*=":return g.match(I.g(a)||I.s(a,l(a),1));case "~=":return g.match(I.g("~="+a)||I.s("~="+a,"(?:^|\\s+)"+l(a)+"(?:\\s+|$)",1));case "|=":return g.match(I.g("|="+a)||I.s("|="+a,"^"+l(a)+"(-|$)",1))}return 0}function a(g,a){var m=[],f=[],b,p,h,v,s;b=a;var u=S.g(g)||S.s(g,g.split(E)),y=g.match(Y);
if(!u.length)return m;p=(u=u.slice(0)).pop();if(u.length&&(h=u[u.length-1].match(L)))b=c(a,h[1]);if(!b)return m;h=d(p);if(b!==a&&9!==b[B]&&y&&/^[+~]$/.test(y[y.length-1])){for(p=[];b=b.nextSibling;)1==b[B]&&(h[1]?h[1]==b[A].toLowerCase():1)&&(p[p.length]=b);b=p}else b=b[w](h[1]||"*");v=b;b=0;for(p=v.length;b<p;b++)if(s=j.apply(v[b],h))m[m.length]=s;if(!u.length)return m;t(m,function(c){k(c,u,y)&&(f[f.length]=c)});return f}function h(c,g,a){if(u(g))return c==g;if(z(g))return!!~r(g).indexOf(c);g=g.replace(C,
"$1");for(var m=g.split(","),f;g=m.pop();)if(f=S.g(g)||S.s(g,g.split(E)),g=g.match(Y),f=f.slice(0),j.apply(c,d(f.pop()))&&(!f.length||k(c,f,g,a)))return!0;return!1}function k(c,g,a,m){function f(c,m,p){for(;p=T[a[m]](p,c);)if(u(p)&&j.apply(p,d(g[m])))if(m){if(b=f(p,m-1,p))return b}else return p}var b;return(b=f(c,g.length-1,c))&&(!m||R(b,m))}function u(c,g){return c&&"object"===typeof c&&(g=c[B])&&(1==g||9==g)}function s(c){var g=[],a,m;a=0;a:for(;a<c.length;++a){for(m=0;m<g.length;++m)if(g[m]==c[a])continue a;
g[g.length]=c[a]}return g}function z(c){return"object"===typeof c&&isFinite(c.length)}function c(c,g,a){return 9===c[B]?c.getElementById(g):c.ownerDocument&&((a=c.ownerDocument.getElementById(g))&&R(a,c)&&a||!R(c,c.ownerDocument)&&D('[id="'+g+'"]',c)[0])}function g(a,m){var f,b,d=!m?y:"string"==typeof m?g(m)[0]:!m[B]&&z(m)?m[0]:m;if(!d||!a)return[];if(a===window||u(a))return!m||a!==window&&u(d)&&R(a,d)?[a]:[];if(a&&z(a))return r(a);if(f=a.match(U)){if(f[1])return(b=c(d,f[1]))?[b]:[];if(f[2])return n(d[w](f[2]));
if(X&&f[3])return n(d[p](f[3]))}return D(a,d)}function m(c,g){return function(a){var m,f;if(O.test(a)){if(9!==c[B]){if(!(f=m=c.getAttribute("id")))c.setAttribute("id",f="__qwerymeupscotty");g(c.parentNode||c,'[id="'+f+'"]'+a,!0);m||c.removeAttribute("id")}}else a.length&&g(c,a,!1)}}var y=document,v=y.documentElement,p="getElementsByClassName",w="getElementsByTagName",A="tagName",B="nodeType",D,H=/#([\w\-]+)/,G=/\.[\w\-]+/g,L=/^#([\w\-]+)$/,M=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,C=/^\s+|\s*([,\s\+\~>]|$)\s*/g,
K=/[\s\>\+\~]/,P=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,ba=/([.*+?\^=!:${}()|\[\]\/\\])/g,U=RegExp(L.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),Y=RegExp("("+K.source+")"+P.source,"g"),E=RegExp(K.source+P.source),F=RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),T={" ":function(c){return c&&
c!==v&&c.parentNode},">":function(c,g){return c&&c.parentNode==g.parentNode&&c.parentNode},"~":function(c){return c&&c.previousSibling},"+":function(c,g,a,m){return!c?!1:(a=b(c))&&(m=b(g))&&a==m&&a}};e.prototype={g:function(c){return this.c[c]||void 0},s:function(c,g,a){g=a?RegExp(g):g;return this.c[c]=g}};var Q=new e,N=new e,I=new e,S=new e,R="compareDocumentPosition"in v?function(c,g){return 16==(g.compareDocumentPosition(c)&16)}:function(c,g){for(;c=c.parentNode;)if(c===g)return 1;return 0},$,
K=y.createElement("p");$=(K.innerHTML='<a href="#x">x</a>')&&"#x"!=K.firstChild.getAttribute("href")?function(c,g){return"class"===g?c.className:"href"===g||"src"===g?c.getAttribute(g,2):c.getAttribute(g)}:function(c,g){return c.getAttribute(g)};var X=!!y[p],x=y.querySelector&&y.querySelectorAll,aa=function(c,g){var a=[],f,b;try{if(9===g[B]||!O.test(c))return n(g.querySelectorAll(c));t(f=c.split(","),m(g,function(c,g){b=c.querySelectorAll(g);1==b.length?a[a.length]=b.item(0):b.length&&(a=a.concat(n(b)))}));
return 1<f.length&&1<a.length?s(a):a}catch(d){}return V(c,g)},V=function(c,g){var f=[],b,d,p,k;c=c.replace(C,"$1");if(b=c.match(M)){k=q(b[2]);b=g[w](b[1]||"*");d=0;for(p=b.length;d<p;d++)k.test(b[d].className)&&(f[f.length]=b[d]);return f}t(b=c.split(","),m(g,function(c,m,b){k=a(m,c);d=0;for(p=k.length;d<p;d++)if(9===c[B]||b||R(k[d],g))f[f.length]=k[d]}));return 1<b.length&&1<f.length?s(f):f},K=function(c){"undefined"!==typeof c.useNativeQSA&&(D=!c.useNativeQSA?V:x?aa:V)};K({useNativeQSA:!0});g.configure=
K;g.uniq=s;g.is=h;g.pseudos={not:function(c,g){return!h(c,g)}};return g});
define("UWA/Core",function(){var e,q=(new Function("return this"))(),t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=q.UWA||{},b;b=function(c,g){return f[g].split("//")[1]};var d,j=q.document,j=j&&j.location&&"https:"===j.location.protocol?"https://":"http://",l=n.hosts,f={netvibes:"netvibes.com",uwa:"uwa.{netvibes}",exposition:"{uwa}",ecosystem:"eco.{netvibes}"};for(d in f)t.call(f,d)&&(f[d]=l&&t.call(l,d)?l[d]:j+f[d].replace(/\{(\w+)\}/g,b));b=f;var a,j=n.paths;d={lib:"/lib/",js:"/lib/UWA/js/",
css:"/lib/c/UWA/assets/css/",img:"/lib/c/UWA/assets/img/"};for(a in d)t.call(d,a)&&(j&&t.call(j,a))&&(d[a]=j[a]);a=!!n.debug;var h=function(){var c=r.call(arguments),g;~c.indexOf("Arguments")?g=function(g){return r.call(g)===c}:(c=r.call([]),g=function(g){try{return r.apply(g,g)!==c}catch(a){return!1}});return g}(),k=function(c){if(!c||"object"!==e.typeOf(c))return!1;try{if(c.constructor&&!t.call(c,"constructor")&&!t.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(var a in c)if(!t.call(c,
a))return!1;return!0},u;u=Array.prototype.indexOf?function(c,g){return Array.prototype.indexOf.call(c,g)}:function(c,g){var a,f,b=!1;a=0;for(f=c.length;a<f;a++)if(c[a]===g){b=!0;break}return b?a:-1};var s=function(c,g,a,f){var b,d,k,h;if(c===g)k=0!==c||1/c===1/g;else if(null==c||null==g)k=c===g;else if(b=r.call(c),b!==r.call(g))k=!1;else if("[object String]"===b)k=String(c)===String(g);else if("[object Number]"===b)k=c!=+c?g!=+g:0==c?1/c==1/g:c==+g;else if("[object Date]"===b||"[object Boolean]"===
b)k=+c===+g;else if("[object RegExp]"===b)k=c.source===g.source&&c.global===g.global&&c.multiline===g.multiline&&c.ignoreCase===g.ignoreCase;else if("object"!==typeof c||"object"!==typeof g)k=!1;else{for(d=a.length;d--;)a[d]===c&&(k=f[d]===g);if(void 0===k){a.push(c);f.push(g);if("[object Array]"===b){b=c.length;for(k=b===g.length;k&&0<b;)b--,k=s(c[b],g[b],a,f)}else if(k=c.constructor,b=g.constructor,k!==b&&!("[object Function]"===r.call(k)&&k instanceof k&&"[object Function]"===r.call(b)&&b instanceof
b))k=!1;else{b=0;k=!0;for(h in c)if(e.owns(c,h)&&(b++,k=e.owns(g,h)&&s(c[h],g[h],a,f),!k))break;if(k){for(h in g)if(e.owns(g,h)&&!b--)break;k=!b}}a.pop();f.pop()}}return k},z,c,g={};e={version:"1.3.RC4",hosts:b,paths:d,debug:a,namespace:function(c,g,a,f){a=a||q;var b,d,k,h=c.split("/");b=0;for(d=h.length;b<d;b++){c=h[b];k=!!a[c];if(b===d-1)if(k)if(f)g=a[c]=e.extend(a[c],g,!0);else throw e.log('Duplicate NameSpace "'+h.join(".")+'" into "'+a+'"'),Error('Duplicate NameSpace "'+h.join(".")+'" into "'+
a+'"');else a[c]=g;else k||(a[c]={});a=a[c]}return g},extend:function(c,g,a){var f;g=g||{};for(f in g)if(t.call(g,f))if(a&&e.is(g[f],"plain"))e.is(c[f],"plain")||(c[f]={}),e.extend(c[f],g[f],a);else try{c[f]=g[f]}catch(b){}return c},merge:function(c,g){for(var a in g)if(t.call(g,a)&&(void 0===c[a]||null===c[a]))c[a]=g[a];return c},clone:function(c,g){var a,f,b;a=!0!==g&&!1!==g?!0:g;switch(e.typeOf(c)){case "array":if(a){a=[];f=0;for(b=c.length;f<b;f++)a[f]=e.clone(c[f],!0)}else a=c.slice();break;
case "object":if(a)for(f in a={},c)t.call(c,f)&&(a[f]=e.clone(c[f],!0));else a=e.extend({},c);break;case "date":a=new Date(c);break;case "element":a=c.cloneNode(a);break;default:a=c}return a},typeOf:function(c){var g=n.Class||e.Class,a=typeof c;return"undefined"===a?!1:"number"===a?isNaN(c)?!1:a:"function"===a?c instanceof RegExp?"regexp":g&&c.extend===g.extend?"class":a:"object"===a?null===c?!1:c.nodeType?9===c.nodeType?"document":"element":void 0!==c.setInterval?"window":c instanceof Array?"array":
c instanceof Date?"date":c instanceof RegExp?"regexp":c instanceof Number?"number":c instanceof Boolean?"boolean":c instanceof String?"string":c instanceof Error?"error":h(c)?"arguments":void 0!==c.cancelBubble||c.stopPropagation?"event":a:a},is:function(c,g){var a,f;if(void 0===g)a="number"===typeof c?!isNaN(c):void 0!==c&&null!==c;else if(g="array"===e.typeOf(g)?g:[g],a=!1,-1!==u(g,"finite")&&(a=isFinite(c)),!a&&-1!==u(g,"plain")&&(a=k(c)),!a&&!1!==(f=e.typeOf(c)))a=-1!==u(g,f);return a},equals:function(c,
g){return s(c,g,[],[])},owns:function(c,g){return e.is(c)&&t.call(c,g)},log:function(c){q.console?q.console.log(c):q.opera&&q.opera.postError&&q.opera.postError(c)},i18n:function(a,f){f=f||(q.navigator?q.navigator.language||q.navigator.systemLanguage:"default");z=g[f]=g[f]||{};return c="object"===typeof a?e.extend(z,a):z[a]||a}};define.amd&&define.amd.curl&&(q.require||q.curl)({apiName:"require",paths:{UWA:e.hosts.uwa+e.paths.js}});return e.namespace("UWA",e,q,!0)});
define("UWA/Function",["UWA/Core"],function(e){e.merge(Function.prototype,{bind:function(e){function t(){var d;this instanceof t?(d=Object.create(n.prototype),n.apply(d,r.concat(b.call(arguments)))):d=n.call.apply(n,r.concat(b.call(arguments)));return d}var r,n=this,b=Array.prototype.slice;if("function"!==typeof n.apply||"function"!==typeof n.call)return new TypeError;r=b.call(arguments);t.length="function"===typeof n?Math.max(n.length-r.length,0):0;return t}});return e.namespace("Function",Function,
e)});
define("UWA/String",["UWA/Core"],function(e){function q(b){b=b.replace(/\s+/g,"");var d,j,e=!1,f=b.match(/^rgb(a?)\(((?:\d{1,3},)*\d{1,3})\)/);if(f){if(e=f[2].split(",").map(function(a){return parseInt(a,10)}),!f[1]&&3!==e.length||f[1]&&4!==e.length)e=!1}else if(f=b.match(/^#?((?:[a-f0-9]{3}){1,2})$/i)){b=3===f[1].length?1:2;e=[];for(d=0;d<f[1].length;d+=b)j=parseInt(f[1].substr(d,b),16),1===b&&(j=16*j+j),e.push(j)}else"transparent"===b&&(e=[0,0,0,0]);return e}var t,r,n="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||
n.trim())n="["+n+"]",t=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(t,"").replace(r,"")};e.extend(String.prototype,{contains:function(b,d){return d?-1<(d+this+d).indexOf(d+b+d):-1<this.indexOf(b)},test:function(b,d){return("string"===typeof b?RegExp(b,d):b).test(this)},isEmail:function(){return/^([a-zA-Z0-9_.\-+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(this)},
truncate:function(b,d){b=b||30;d=void 0===d?"...":d;return this.length>b?this.slice(0,b-d.length)+d:String(this)},cut:function(b,d){b=b||30;d=void 0===d?"...":d;if(this.length<=b)return String(this);var j,e=-1,f=d.length;for(j=b-f;0<=j;j--)if(-1!==".,;!? ".indexOf(this.charAt(j))){e=j;break}0>e&&(e=b-f);return this.slice(0,e)+d},escapeRegExp:function(){return this.replace(/\\/g,"\\\\").replace(/([\-.*+\?\^$()\[\]{}|])/g,"\\$1")},stripTags:function(){return this.replace(/ on\w+="[^"]*"/g,"").replace(/<(?!\s*\/?\s*(div|br|dt|dd|th|td|p|pre|h1|h2|h3|h4|h5)\b)[^>]*>/gi,
"").replace(/<\/?[^>]+>/gi," ").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},stripScripts:function(b){var d="",j=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(b,f){d+=f+"\n";return""});!0===b?eval(d):e.is(b,"function")&&b(d,j);return j},stripComments:function(){var b=/^\/\/.*/gm,d=/^\/\*[\S\s]*?\*\//gm;return function(){return this.replace(b,"").replace(d,"")}}(),escapeHTMLEntities:function(){var b={},d={apos:39,minus:8722,circ:710,tilde:732,Scaron:352,lsaquo:8249,OElig:338,lsquo:8216,
rsquo:8217,ldquo:8220,rdquo:8221,bull:8226,ndash:8211,mdash:8212,trade:8482,scaron:353,rsaquo:8250,oelig:339,Yuml:376,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,
rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,sbquo:8218,bdquo:8222,dagger:8224,Dagger:8225,hellip:8230,permil:8240,prime:8242,Prime:8243,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,
nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,
pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,hibar:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,
Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254};return function(){var j,e,f=this;if(f.match(/&([a-z]+;)/gi))for(j in d)d.hasOwnProperty(j)&&
(e=j,b[e]||(b[e]=RegExp("&"+e+";","g")),e=b[e],f=f.replace(e,"&#"+d[j]+";"));return f}}(),globToRegex:function(){var b=this.escapeRegExp().replace(/\\\*/g,".*").replace(/\\\?/g,".").replace(/\\\{/g,"(").replace(/\\\}/g,")").replace(/,/g,"|");return RegExp("^"+b+"$")},escapeHTML:function(){function b(f){return d[f]}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},j=/[&<>"'\/]/g,e=/[<>\/]/g;return function(f){return this.toString().replace(f?e:j,b)}}(),unescapeHTML:function(){var b=
document.createElement("div");b.innerHTML=this.stripTags().replace(/"/g,"&quot;");return b.childNodes[0]?b.childNodes[0].nodeValue:""},ucfirst:function(){return this.charAt(0).toUpperCase()+this.substr(1)},lcfirst:function(){return this.charAt(0).toLowerCase()+this.substr(1)},capitalize:function(){return this.replace(/\b[a-z]/g,function(b){return b.toUpperCase()})},camelCase:function(){return this.toString().replace(/([A-Z]+)/g,function(b,d){return d.substr(0,1).toUpperCase()+d.toLowerCase().substr(1,
d.length)}).replace(/[\-_\s](.)/g,function(b,d){return d.toUpperCase()}).replace(/[\-_\s]/g,"").trim()},unCamelCase:function(b){b=b||"-";return this.toString().replace(/([a-z])([A-Z])/g,"$1"+b+"$2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1"+b+"$2$3").toLowerCase()},rgbToHex:function(b){var d=q(this);d&&(d=b?d.map(function(b){return b.toString(16)}):0===d[3]?"transparent":"#"+d.slice(0,3).map(function(b){return("0"+b.toString(16)).slice(-2)}).join(""));return d},hexToRgb:function(b){var d=q(this);d&&
!b&&(d=(3===d.length?"rgb(":"rgba(")+d.join(", ")+")");return d},format:function(){var b=arguments;return this.replace(/\{(\d+)\}/g,function(d,j){return b[j]})},parseRelativeTime:function(b){var d,j,l=new Date,f=e.i18n,l=(new Date(l.getFullYear(),l.getMonth(),l.getDate())).getTime();"number"!==typeof b&&(b=0);j=(d=this.match(/^(\d\d\d\d)\-(\d\d)\-(\d\d) (\d\d):(\d\d):(\d\d)$/))?(new Date(d[1],d[2]-1,d[3],d[4],d[5],d[6])).getTime():this.test(/^\d{13}$/)?parseInt(this,10):this.test(/^\d{10}$/)?1E3*
parseInt(this,10):Date.parse(this.replace(/\//g,"-"));b*=3600;d=(new Date-j)/1E3+b;b=(l-j)/1E3+b;return isNaN(d)?!1:60>d?f("less than a minute ago"):120>d?f("about a minute ago"):2700>d?f("{0} minutes ago").format(Math.round(d/60)):5400>d?f("about an hour ago"):0>b?f("about {0} hours ago").format(Math.round(d/3600)):86400>b?f("yesterday"):f("{0} days ago").format(Math.ceil(b/86400))},makeClickable:function(){var b;b=this.replace(/((\w+:\/\/(\w+(:\w+)?@)?)|www\.)[^\s<$]+/g,function(b){var j=b.replace(/([\.!\?:;\)\]]$)/,
"");j.test(/^www\./)&&(j="http://"+j);return'<a href="'+j+'" target="_blank">'+b+"</a>"});return b=b.replace(/([\/:\w\+\_\-]+(\.[\w\+\_\-]+)*@[\w\.\-]+)/g,function(b){var j=b;b.test(/^[\w]+:\/\//)||(j='<a href="mailto:'+b+'">'+b+"</a>");return j})},highlight:function(){return this}});return e.namespace("String",String,e)});
define("UWA/Array",["UWA/Core","UWA/String","UWA/Function"],function(e){function q(a){a=+a;isNaN(a)?a=0:0!==a&&(Infinity!==a&&-Infinity!==a)&&(a=(0<a||-1)*Math.floor(Math.abs(a)));return a}function t(a){if(null===a||void 0===a)throw new TypeError(a+" is not a object");return a&&l&&a instanceof String?a.split(""):Object.apply(null,[a])}var r=Function.prototype.call,n=Object.prototype,b=Array.prototype,d=r.bind(n.hasOwnProperty),j=r.bind(n.toString),r=Object.call(null,"a"),l="a"!==r[0]||!(0 in r);d([void 0],
0);e.merge(Array,{isArray:function(a){return"[object Array]"===j(a)}});if(2!==[1,2].splice(0).length){var f=b.splice,a=b.slice;b.splice=function(b,d){var h=[],j=a.call(arguments);j.length&&(j[0]=void 0===b?0:b,j[1]=void 0===d?this.length-b:d,h=f.apply(this,j));return h}}if(1!==[].unshift(0)){var h=b.unshift;b.unshift=function(){h.apply(this,arguments);return this.length}}if(!b.indexOf||-1!==[0,1].indexOf(1,2))b.indexOf=function(a,f){var b=0,d=t(this),c=d.length>>>0;if(!c)return-1;1<arguments.length&&
(b=q(f));b=0<=b?b:Math.max(0,c+b);for(b;b<c;b++)if(b in d&&d[b]===a)return b;return-1};if(!b.lastIndexOf||-1!==[0,1].lastIndexOf(0,-3))b.lastIndexOf=function(a,f){var b=t(this),d=b.length>>>0,c=d-1;if(!d)return-1;1<arguments.length&&(c=Math.min(c,q(f)));for(c=0<=c?c:d-Math.abs(c);0<=c;c--)if(c in b&&a===b[c])return c;return-1};b.every||(b.every=function(a,f){var b,d=t(this),c=d.length>>>0;if(!e.is(a,"function"))throw new TypeError(a+" is not a function");for(b=0;b<c;b++)if(b in d&&!a.call(f,d[b],
b,d))return!1;return!0});b.some||(b.some=function(a,f){var b,d=t(this),c=d.length>>>0;if(!e.is(a,"function"))throw new TypeError(a+" is not a function");for(b=0;b<c;b++)if(b in d&&a.call(f,d[b],b,d))return!0;return!1});b.forEach||(b.forEach=function(a,f){var b=0,d=t(this),c=d.length>>>0;if(!e.is(a,"function"))throw new TypeError(a+" is not a function");for(;b<c;)b in d&&a.call(f,d[b],b,this),b++});b.map||(b.map=function(a,f){var b,d=t(this),c=d.length>>>0,g=Array.apply(null,[c]);if(!e.is(a,"function"))throw new TypeError(a+
" is not a function");for(b=0;b<c;b++)b in d&&(g[b]=a.call(f,d[b],b,d));return g});b.filter||(b.filter=function(a,f){var b,d,c=t(this),g=c.length>>>0,m=[];if(!e.is(a,"function"))throw new TypeError(a+" is not a function");for(b=0;b<g;b++)b in c&&(d=c[b],a.call(f,d,b,c)&&m.push(d));return m});b.reduce||(b.reduce=function(a){var f,b=0,d=t(this),c=d.length>>>0;if(!e.is(a,"function"))throw new TypeError(a+" is not a function");if(!c&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");
if(2<=arguments.length)f=arguments[1];else{do{if(b in d){f=d[b++];break}if(++b>=c)throw new TypeError("reduce of empty array with no initial value");}while(1)}for(b;b<c;b++)b in d&&(f=a.call(void 0,f,d[b],b,d));return f});b.reduceRight||(b.reduceRight=function(a){var f,b=t(this),d=b.length>>>0,c=d-1;if(!e.is(a,"function"))throw new TypeError(a+" is not a function");if(!d&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");if(2<=arguments.length)f=arguments[1];
else{do{if(c in b){f=b[c--];break}if(0>--c)throw new TypeError("reduceRight of empty array with no initial value");}while(1)}do c in b&&(f=a.call(void 0,f,b[c],c,b));while(c--);return f});e.merge(b,{equals:function(a){var f,b=this.length;if(!a||b!==a.length)return!1;for(f=0;f<b;f++)if(this[f]!==a[f])return!1;return!0},detect:function(a,f){var b,d;b=0;for(d=this.length;b<d;b++)if(a.call(f,this[b],b,this))return this[b]},invoke:function(a){var f=b.slice.call(arguments,1);return this.map(function(b){return b[a].apply(b,
f)})}});return e.namespace("Array",Array,e)});
define("UWA/Date",["UWA/Core"],function(e){Date.now||(Date.now=function(){return(new Date).getTime()});var q=Date,t=q.parse,r=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:[T ]([0-9]?[0-9]):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,n=[1,4,5,6,7,10,11];q.parse=function(c){var a,f,b;b=0;var d=r.exec(c);if(d){c=0;for(f=n.length;c<f;c++)a=n[c],d[a]=+d[a]||0;d[2]=(+d[2]||1)-1;d[3]=+d[3]||1;"Z"!==d[8]&&void 0!==d[9]&&(b=60*d[10]+d[11],"+"===d[9]&&(b=-b));b=q.UTC(d[1],
d[2],d[3],d[4],d[5]+b,d[6],d[7])}else b=t?t(c):NaN;return b};if(!Date.prototype.toISOString||-1===(new Date(-621987552E5)).toISOString().indexOf("-000001"))Date.prototype.toISOString=function(){var c,a,b,f;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");c=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];f=this.getUTCFullYear();f=(0>f?"-":9999<f?"+":"")+("00000"+Math.abs(f)).slice(0<=f&&9999>=f?-4:
-6);for(a=c.length;a--;)b=c[a],10>b&&(c[a]="0"+b);return f+"-"+c.slice(0,2).join("-")+"T"+c.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.prototype.toJSON||(Date.prototype.toJSON=function(){if("function"!==typeof this.toISOString)throw new TypeError("toISOString property is not callable");return this.toISOString()});var b=function(c,a,f){return Array((f||2)-String(c).length+1).join(a||0)+c},d=function(c){return parseInt(c,10)},j=e.i18n,l=[j("Sun"),j("Mon"),j("Tue"),
j("Wed"),j("Thu"),j("Fri"),j("Sat")],f=[j("Sunday"),j("Monday"),j("Tuesday"),j("Wednesday"),j("Thursday"),j("Friday"),j("Saturday")],a=[j("Jan"),j("Feb"),j("Mar"),j("Apr"),j("May"),j("Jun"),j("Jul"),j("Aug"),j("Sep"),j("Oct"),j("Nov"),j("Dec")],h=[j("January"),j("February"),j("March"),j("April"),j("May"),j("June"),j("July"),j("August"),j("September"),j("October"),j("November"),j("December")],k=j("%a %b %e %Y %T"),u=[j("AM"),j("PM")],s=[j("am"),j("pm")],z=j("%m/%d/%y"),j=j("%T"),c={a:function(c){return l[c.getDay()]},
A:function(c){return f[c.getDay()]},b:function(c){return a[c.getMonth()]},B:function(c){return h[c.getMonth()]},c:k,C:function(c){return b(d(c.getFullYear()/100))},d:function(c){return b(c.getDate())},D:"%m/%d/%y",e:function(c){return b(c.getDate()," ")},F:"%Y-%m-%d",g:function(g){return b(c.G(g)%100)},G:function(g){var a=g.getFullYear(),f=d(c.V(g));g=d(c.W(g));g>f?a++:0===g&&52<=f&&a--;return a},h:"%b",H:function(c){return b(c.getHours())},I:function(c){return b(c.getHours()%12||12)},j:function(c){c=
new Date(c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate()+" GMT")-new Date(c.getFullYear()+"/1/1 GMT");c=d(c/6E4/60/24)+1;return b(c,0,3)},l:function(c){return b(c.getHours()%12||12," ")},m:function(c){return b(c.getMonth()+1)},M:function(c){return b(c.getMinutes())},n:"\n",p:function(c){return u[12<=c.getHours()?1:0]},P:function(c){return s[12<=c.getHours()?1:0]},r:"%I:%M:%S %p",R:"%H:%M",s:function(c){return d(c/1E3)},S:function(c){return b(c.getSeconds())},t:"\t",T:"%H:%M:%S",u:function(c){return c.getDay()||
7},U:function(g){var a=d(c.j(g));g=6-g.getDay();return b(d((a+g)/7))},V:function(g){var a=d(c.W(g)),f=(new Date(g.getFullYear()+"/1/1")).getDay(),a=a+(4<f||1>=f?0:1);53===a&&4>(new Date(g.getFullYear()+"/12/31")).getDay()?a=1:0===a&&(a=c.V(new Date(g.getFullYear()-1+"/12/31")));return b(a,0)},w:function(c){return c.getDay()},W:function(a){var f=d(c.j(a));a=7-c.u(a);return b(d((f+a)/7))},x:z,X:j,y:function(c){return b(c.getFullYear()%100)},Y:function(c){return c.getFullYear()},z:function(c,a){var f=
a?0:c.getTimezoneOffset(),h=b(d(Math.abs(f/60))),p=b(f%60);return(0<f?"-":"+")+h+p},Z:function(a,f){var b;f?b="UTC":(b=a.toString().replace(/^.*:\d\d( GMT[+\-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),4<b.length&&(b=c.z(a)));return b},"%":"%"};Date.prototype.strftime=function(a,f){var b=this,d=b;f&&(d=new Date(+b+6E4*b.getTimezoneOffset()));return a.replace(/%[A-Za-z%]/g,function(a){var g=c[a.slice(1)];return void 0===g?a:"string"===typeof g?"%"!==g&&0<=g.indexOf("%")?b.strftime(g,
f):g:g(d,f)})};return e.namespace("Date",Date,e)});
define("UWA/Object",["UWA/Core","UWA/Function"],function(e){var q,t,r,n,b,d,j=Function.prototype.call,l=Object.prototype,f=j.bind(l.hasOwnProperty),a=function(a){var f=typeof a;return("object"===f||"function"===f)&&null!==a};q=(new Function("return this"))();if(d=f(l,"__defineGetter__"))t=j.bind(l.__defineGetter__),r=j.bind(l.__defineSetter__),n=j.bind(l.__lookupGetter__),b=j.bind(l.__lookupSetter__);e.merge(Object,{is:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f},setPrototypeOf:function(){function a(c,
b){if("object"!==typeof c||null===c)throw new TypeError("can not set prototype on a non-object");if("object"!==typeof b&&null!==b)throw new TypeError("can only set prototype to an object or null");f.call(c,b);return c}var f;try{f=Object.getOwnPropertyDescriptor(l,"__proto__").set,f.call({},null)}catch(c){if(l!=={}.__proto__)return;f=function(c){this.__proto__=c};a.polyfill=a(a({},null),l)instanceof Object}return a}(),getPrototypeOf:function(a){return a.__proto__||(a.constructor?a.constructor.prototype:
l)},getOwnPropertyDescriptor:function(h,k){var c,g,m,j;if(!a(h))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object:"+h);if(f(h,k)){g={enumerable:!0,configurable:!0};if(d&&(c=h.__proto__,h.__proto__=l,m=n(h,k),j=b(h,k),h.__proto__=c,m||j))return m&&(g.get=m),j&&(g.set=j),g;g.value=h[k];return g}},getOwnPropertyNames:function(f){if(!a(f))throw new TypeError("Object.getOwnPropertyNames called on a non-object:"+f);return Object.keys(f)},create:function(a,f){var c;c=function(){};
null===a?c={__proto__:null}:(c.prototype=a,c=new c,c.__proto__=a);void 0!==f&&Object.defineProperties(c,f);return c}});var h=function(a){try{return Object.defineProperty(a,"sentinel",{}),a.hasOwnProperty("sentinel")}catch(f){}},k=(j=Object.defineProperty)&&h({});q=j&&void 0===q.document||h(q.document.createElement("div"));var u=j&&!k||!q&&Object.defineProperty;if(!j||u)Object.defineProperty=function(h,k,c){var g;if(!a(h))throw new TypeError("Object.defineProperty called on non-object: "+h);if(!a(c))throw new TypeError("Property description must be an object: "+
c);if(u)try{return u.call(Object,h,k,c)}catch(m){}if(f(c,"value"))d&&(n(h,k)||b(h,k))?(g=h.__proto__,h.__proto__=l,delete h[k],h[k]=c.value,h.__proto__=g):h[k]=c.value;else{if(!d)throw new TypeError("getters & setters can not be defined on this javascript engine");f(c,"get")&&t(h,k,c.get);f(c,"set")&&r(h,k,c.set)}return h};e.merge(Object,{defineProperties:function(b,d){if(!a(b))throw new TypeError("Object.defineProperties called on a non-object");for(var c in d)f(d,c)&&Object.defineProperty(b,c,d[c]);
return b},seal:function(f){if(!a(f))throw new TypeError("Object.seal called on a non-object");return f},freeze:function(f){if(!a(f))throw new TypeError("Object.freeze called on a non-object");return f},preventExtensions:function(f){if(!a(f))throw new TypeError("Object.preventExtensions called on a non-object");return f},isSealed:function(f){if(!a(f))throw new TypeError("Object.isSealed called on a non-object");return!1},isFrozen:function(f){if(!a(f))throw new TypeError("Object.isFrozen called on a non-object");
return!1},isExtensible:function(b){var d,c;if(!a(b))throw new TypeError("Object.isExtensible called on a non-object");for(c="";f(b,c);)c+="?";b[c]=!0;d=f(b,c);delete b[c];return d},keys:function(b){if(!a(b))throw new TypeError("Object.keys called on a non-object");var d,c,g=[];c=!f({toString:null},"toString");var m="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),h=m.length;for(d in b)f(b,d)&&g.push(d);if(c)for(d=0;d<h;d++)c=m[d],f(b,c)&&g.push(c);
return g}});return e.namespace("Object",Object,e)});
define("UWA/Utils","UWA/Core UWA/Function UWA/String UWA/Array UWA/Object UWA/Date".split(" "),function(e){var q,t=window.location&&window.location.protocol?window.location.protocol:"http:",r="source subprotocol protocol authority user password domain port path directoryPath fileName query anchor".split(" "),n=RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:]+)(?::(.*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?"),b=/^((https?|ftp|file):)?\/\//,
d=/^(?:((?:https?|ftp|file):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,j=/^(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,
l=/<(DOCTYPE|xml)[^><]*>|<.(DOCTYPE|xml)[^><]*>/g,f=/(<(style|script)[^>]*>)([\u0001-\uFFFF]*?)(<\/(style|script)>)/img,a=/<!\[CDATA\[/,h=RegExp("</?(script|embed|object|frameset|frame|iframe|meta|link|style)(.|\n)*?>","img"),k=RegExp("<([a-z][a-z0-9]*)(?:[^>]*(s(src|href|title|style|alt|height|width|data-([a-z][a-z0-9]*))=['\"][^'\"]*['\"]))?[^>]*?(/?)>","im"),u=window.btoa||function(c){for(var a,f,b,d,h,k,j=c.length,e="",u=0;u<j;)a=c.charCodeAt(u++),f=c.charCodeAt(u++),b=c.charCodeAt(u++),d=a>>
2,a=(a&3)<<4|f>>4,h=(f&15)<<2|b>>6,k=b&63,isNaN(f)?h=k=64:isNaN(b)&&(k=64),e=e+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k);return e},s=/[^A-Za-z0-9\+\/\=]/g,z=window.atob||function(c){var a,f,b,d,h,k,j="",e=0;c=c.replace(s,"");a=c.length;
if(1===a%4)throw Error("InvalidCharacterError: DOM Exception 5");for(;e<a;)f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),f=f<<2|b>>4,b=(b&15)<<4|h>>2,d=(h&3)<<6|k,j+=String.fromCharCode(f),
64!==h&&(j+=String.fromCharCode(b)),64!==k&&(j+=String.fromCharCode(d));return j};q={buildUrl:function(c,a){c=String(c);a=String(a);if(!q.isAbsoluteUrl(c))throw Error("First argument should be a absolute url.");"//"===c.substring(0,2)&&(c=t+c);var f,b,d=String(c).split("://"),h=d[0],k=d[1].split("/"),j=k[0],d="";if("//"===a.substring(0,2))c=h+":"+a;else if(1<a.split("://").length)c=a;else if("/"===a.substring(0,1))c=h+"://"+j+a;else{f=1;for(b=k.length-1;f<b;f++)d+="/"+k[f];var h=h+"://"+j,d=d+"/"+
a,e=[];d.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(c){"/.."===c?e.pop():e.push(c)});d=e.join("").replace(/^\//,"/"===d.charAt(0)?"/":"");c=h+d}return c},parseUrl:function(c){var a=n.exec(c),f={};for(c=0;c<r.length;c++)f[r[c]]=a[c]||"";f.subprotocol&&(f.source=f.source.substr(f.subprotocol.length+1));f.port||(f.port="https"===f.protocol?"443":"80");f.directoryPath&&0<f.directoryPath.length&&(f.directoryPath=f.directoryPath.replace(/\/?$/,
"/"));f.domain=f.domain.toLocaleLowerCase();f.protocol=f.protocol.toLocaleLowerCase();return f},composeUrl:function(c){var a="";c.protocol&&(a=c.protocol+"://",c.subprotocol&&(a=c.subprotocol+":"+a));if(c.domain){if(a+=c.domain,c.port&&("http"!==c.protocol||80!==parseInt(c.port,10))&&("https"!==c.protocol||443!==parseInt(c.port,10)))a+=":"+c.port}else c.authority&&(a+=c.authority);c.path&&(a+=c.path);c.query&&(a+="?"+c.query);c.anchor&&(a+="#"+c.anchor);return a},matchUrl:function(c,a){var f,b,d=
!1,d=q.isAbsoluteUrl(c),h=q.isAbsoluteUrl(a);!d&&!h?d=!0:(d?h||(a=q.buildUrl(c,a)):c=q.buildUrl(a,c),f=q.parseUrl(c),b=q.parseUrl(a),d=["domain","protocol","port"].every(function(c){return f[c]===b[c]||"protocol"===c&&(""===f[c]||""===b[c])}));return d},isAbsoluteUrl:function(c){return b.test(c)},isValidUrl:function(c){return(q.isAbsoluteUrl(c)?d:j).test(c)},encodeUrl:function(c){return encodeURIComponent(c).replace(/\./g,"%2e")},parseQuery:function(c){c=c.substring(c.indexOf("?")+1).split(/[&;]/);
var a={};c.length&&c.forEach(function(c){var f=c.indexOf("=")+1,b=f?c.substr(f):"",d=f?c.substr(0,f-1).match(/([^\]\[]+|(\B)(?=\]))/g):[c],h=a;d&&(b=decodeURIComponent(b),d.forEach(function(c,a){c=decodeURIComponent(c);var g=h[c];a<d.length-1?h=h[c]=g||{}:Array.isArray(g)?g.push(b):h[c]=e.is(g)?[g,b]:b}))});return a},toQueryString:function(c,a){var f,b,d,h,k=e.is;if(k(c,"string"))h=c;else if(k(c.toQueryString,"function"))h=c.toQueryString();else{h=[];for(f in c)c.hasOwnProperty(f)&&(b=c[f],a&&(f=
a+"["+f+"]"),k(b)&&(k(b,"object")||k(b,"array")?d=q.toQueryString(b,f):k(b,"function")||(d=q.encodeUrl(f)+"="+q.encodeUrl(b))),d&&h.push(d),d=void 0);h=h.join("&")}return h},getQueryString:function(c,a,f){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");return(c=RegExp(a+"=([^&#]*)").exec(c))?decodeURIComponent(c[1]):f},loadXml:function(c,g){var b,d,h;if("object"===typeof c&&c.nodeType)b=c;else if(c=c.replace(l,""),c=c.replace(f,function(){var c=arguments,g=c[1],f=c[3],c=c[4];a.test(f)||(f="<![CDATA[\n"+
f+"\n]]\x3e");return g+f+c}),window.DOMParser){if(b=new window.DOMParser,b=b.parseFromString(c,"application/xml"),d=b.getElementsByTagName("parsererror")[0])throw Error("Invalid in XML: "+(d.textContent||d.innerText));}else if(b=new window.ActiveXObject("MSXML2.DOMDocument"),b.setProperty("SelectionLanguage","XPath"),b.validateOnParse=!1,b.resolveExternals=!1,b.preserveWhiteSpace=!1,b.async=!1,b.loadXML(c),0!==b.parseError.errorCode)throw Error("Invalid in XML Line "+b.parseError.line+": "+b.parseError.reason);
g&&(window.XSLTProcessor?(d=new window.XSLTProcessor,d.importStylesheet(q.loadXml(g)),b=d.transformToDocument(b,document)):(d=new window.ActiveXObject("Msxml2.FreeThreadedDOMDocument"),d.loadXML(q.xmlToString(g)),h=new window.ActiveXObject("Msxml2.XSLTemplate"),h.stylesheet=d,d=h.createProcessor(),d.input=b,d.transform(),b=q.loadXml(d.output)));return b},loadHtml:function(c){var a,f,b;if(window.DOMParser)try{a=(new window.DOMParser).parseFromString(c,"text/html")}catch(d){}if(!a&&document.implementation.createHTMLDocument)try{a=
document.implementation.createHTMLDocument(""),f=a.documentElement,f.innerHTML=c,b=f.firstElementChild,1===f.childElementCount&&"html"===b.localName.toLowerCase()&&a.replaceChild(b,f)}catch(p){a=null}c=c.replace(h,"");c=c.replace(k,"<$1$2$4>");if(!a&&window.ActiveXObject)try{a=new window.ActiveXObject("htmlfile"),a.write(c),a.close()}catch(j){a=null}a||(f=document.createElement("iframe"),f.style.display="none",document.body.appendChild(f),a=f.contentDocument||f.contentWindow.document,a.write(c),a.close(),
document.body.removeChild(f));return a},xmlToHtml:function(c){"string"===typeof c&&(c=q.loadXml(c));9===c.nodeType&&(c=c.childNodes[0]);var a,f,b=c.nodeName.toLowerCase(),d=document.createElement(b),h=c.childNodes,k=c.attributes||[];c=0;for(f=k.length;c<f;c++)a=k[c],d.setAttribute(a.name,a.value);c=0;for(f=h.length;c<f;c++)switch(a=h[c],a.nodeType){case 1:d.appendChild(q.xmlToHtml(a));break;case 3:"style"===b&&d.styleSheet?d.styleSheet.cssText=a.nodeValue:d.appendChild(document.createTextNode(a.nodeValue));
break;case 4:case 8:"script"===b?d.text=a.nodeValue:d.appendChild(document.createComment(a.nodeValue))}return d},xmlToString:function(c,a){var f,b,d=0;"string"===typeof c?f=c:window.XMLSerializer?(f=new window.XMLSerializer,f=f.serializeToString(c)):f=c.xml;a&&(b="",f=f.replace(/(>)(\s+)?(<)(\/*)/g,"$1\r\n$3$4"),f.split("\r\n").forEach(function(c){var a,f=0,g="";c.match(/.+<\/\w[^>]*>$/)?f=0:c.match(/^<\/\w/)?0!==d&&(d-=1):c.match(/^<\w[^>]*[^\/]>.*$/)&&(f=1);for(a=0;a<d;a++)g+="  ";b+=g+c+"\r\n";
d+=f}),f=b);return f},setCss:function(c,a,f,b){var d,h,k,j,e;f=(f||"").trim();a=Array.isArray(a)?a.join("\n"):String(a);c=c||q.getCheckSum(a);a=a.replace(/\/\*([^*\/])+?\*\//g,"");d=f.split(" ");d.push(".module");d.forEach(function(c){a=a.replace(RegExp("(([a-zA-z#]+)?"+c+"([ ,{]))","g"),"$3")});a=a.replace(/\n/g," ").replace(/\}/g,"}\n").split("\n");d=0;for(h=a.length;d<h;d++){e=a[d].trim();if((k=e.match(/url\(\s*[\'"]?(([^\\\\\'", \(\)]*(\\\\.)?)+)[\'"]?\s*\)/))&&k[2])k=k[2],"//"===k.substring(0,
2)?(j=("https:"===document.location.protocol?"https:":"http:")+k,e=e.replace(k,j)):"http"!==k.substring(0,4)&&(j=b.substring(0,b.lastIndexOf("/"))+("/"===k.substring(0,1)?"":"/")+k,e=e.replace(k,j));if(k=e.match(/([a-zA-z0-9\.\-, :#>'"\=\[\]\*()]*)\{.*?\}/))k=k[1],j=" "+k,j.test(" body")?j=j.test(" html > body")?j.replace(/ html > body/g," html > body "+f):j.replace(/ body/g," "+f+" "):j.test(" html")?j=j.replace(/ html/g," html "+f+" "):j.test(f)||(j=f+j.replace(j,j.replace(/,/g,", "+f+" "))),e=
e.replace(k,j);a[d]=e}a=a.join("\n").trim().replace(/\s{2,}/g," ");f=document.getElementById(c);f||(f=document.createElement("style"),f.setAttribute("id",c),f.setAttribute("type","text/css"),c=document.getElementsByTagName("head").item(0),c.appendChild(f));f.styleSheet?f.styleSheet.cssText=a:f.appendChild(document.createTextNode(a));return a},toArray:function(c){var a,f,b=[];if("object"===typeof c&&!1===Array.isArray(c))if(void 0!==c.length){a=0;for(f=c.length;a<f;a++)b[a]=c[a]}else for(a in c)c.hasOwnProperty(a)&&
b.push(c[a]);else c&&(b=Array.prototype.slice.call(c));return b},splat:function(c){return e.is(c)?Array.isArray(c)?c:e.is(c,"arguments")?q.toArray(c):[c]:[]},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var a=16*Math.random()|0;return("x"===c?a:a&3|8).toString(16)})},getCheckSum:function(c,a){c=String(c);var f,b;a=a||305419896;f=0;for(b=c.length;f<b;f++)a+=c.charCodeAt(f)*f;return Math.abs(parseInt(a,10)).toString(36)},getCRC32:function(c){c=String(c);
var a,f,b,d=0,d=0;b=-1;a=0;for(f=c.length;a<f;a++)d=(b^c.charCodeAt(a))&255,d="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*
d,8),b=b>>>8^d;return b^-1},base64Encode:function(c){var a;if(a=c)a:{var f;a=0;for(f=c.length;a<f;a++)if(255<c.charCodeAt(a)){a=!0;break a}a=!1}return a?u(unescape(encodeURIComponent(c))):u(c)},base64Decode:function(c){c=z(c);try{c=decodeURIComponent(escape(c))}catch(a){}return c},attempt:function(c,a,f){var b=Array.prototype.slice.call(arguments,3),d;if(e.debug)d=c.apply(f,b);else try{d=c.apply(f,b)}catch(h){a?d=a.apply(f,[h].concat(b)):e.log("Error in Utils.attempt: "+h)}return d},memoize:function(c,
a){var f={},b=Array.prototype.slice;a=a||JSON.stringify;return function(){var d=a(b.call(arguments));return f.hasOwnProperty(d)?f[d]:f[d]=c.apply(this,arguments)}},getOwnPropertyMatchName:function(c,a){var f,b;a=String(a);if(c.hasOwnProperty(a))b=a;else for(f in a=a.toLowerCase(),c)if(c.hasOwnProperty(f)&&f.toLowerCase()===a){b=f;break}return b},getOwnPropertyMatchValue:function(c,a){var f=q.getOwnPropertyMatchName(c,a);return f?c[f]:void 0}};return e.namespace("Utils",q,e,!0)});
define("UWA/Class",["UWA/Core"],function(e){function q(f,a,h){h._original&&(h=h._original);var k,e=b.test(h),l=d.test(h);if(!e&&!l)return h;"function"!==typeof a&&(a=j);"function"!==typeof f&&(f=l?j:a);k=function(){var b,c,g;null!==this&&void 0!==this?(e&&(c=this._parent,this._parent=f),l&&(g=this._previous,this._previous=a),b=h.apply(this,arguments),e&&(this._parent=c),l&&(this._previous=g)):b=h.apply(this,arguments);return b};k._original=h;return k}function t(f){return function(){this._previous.apply(this,
arguments);f.apply(this,arguments)}}var r=!1,n=/xyz/.test(function(){e.xyz()}),b=n?/\b_parent\b/:/^/,d=n?/\b_previous\b/:/^/,j=function(){},l=function(){};l.extend=function(){var f,a;r=!0;f=new this;r=!1;a=function(){!r&&this.__uwaPrivateConstructor&&this.__uwaPrivateConstructor.apply(this,arguments)};f.constructor=a;e.extend(a,{prototype:f,parent:this,extend:l.extend,singleton:l.singleton,implement:l.implement});a.implement.apply(a,arguments);return a};l.implement=function(){var f,a,b,d,j,l,n,c=
this.prototype||this;f=0;for(a=arguments.length;f<a;f+=1)for(d in b=arguments[f],j=e.typeOf(b),"class"===j||"function"===j?("function"===j&&(b.prototype.__uwaPrivateConstructor=t(b)),b=b.prototype):b.init&&(b.__uwaPrivateConstructor=b.init,delete b.init),b)"constructor"!==d&&(l=b[d],e.is(l,"function")?(n=("class"===j?arguments[f]:this).parent,c[d]=q(n&&n.prototype&&n.prototype[d],e.owns(c,d)&&c[d],l)):e.is(l,"plain")?(e.owns(c,d)||(c[d]=e.is(c[d],"plain")?e.clone(c[d]):{}),e.extend(c[d],l,!0)):c[d]=
l);return this};l.singleton=function(){function f(c){b[c]=function(){if(!e){if("throw"===b.uninitializedCalls)throw Error("Singleton called before being initialized");if("ignore"===b.uninitializedCalls)return;b.init()}return b[c].apply(this,arguments)}}var a,b,d=this.extend.apply(this,arguments),j=d.prototype,e=!1,l=[];r=!0;b=new d;r=!1;for(a in j)"function"===typeof j[a]&&("init"!==a&&"constructor"!==a)&&(l.push(a),f(a));b.init=function(){if(e)throw Error("Singleton is already initialized");e=!0;
var c,a;c=0;for(a=l.length;c<a;c++)delete b[l[c]];d.apply(this,arguments);return this};return b};return e.namespace("Class",l,e)});
define("UWA/Dispatcher",["UWA/Core","UWA/Utils","UWA/Class"],function(e,q,t){var r=e.Class.extend({Binding:null,bindings:null,shouldPropagate:!0,active:!0,dispatching:0,init:function(){this.bindings=[]},registerListener:function(n,b,d,j){if(!e.is(n,"function")&&(!e.is(n,"object")||!e.is(n.handleEvent,"function")))throw Error("listener is a required param of add() and addOnce() and should be a Function or an object implementing the EventListener interface.");var l;l=this.indexOfListener(n,d);if(l=
this.bindings[l]){if(l.isOnce!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");}else l=new this.Binding(this,n,b,d,j),this.addBinding(l);return l},addBinding:function(e){this.dispatching&&(e.flag="new");var b=this.bindings,d=b.length;do--d;while(b[d]&&e.priority<=b[d].priority);b.splice(d+1,0,e)},indexOfListener:function(e,b){for(var d=this.bindings,j=d.length;j--;)if(d[j].listener===e&&(void 0===b||d[j].context===
b))return j;return-1},add:function(e,b,d){return this.registerListener(e,!1,b,d)},addOnce:function(e,b,d){return this.registerListener(e,!0,b,d)},remove:function(n,b){var d;if(!e.is(n,"function")&&(!e.is(n,"object")||!e.is(n.handleEvent,"function")))throw Error("listener is a required param of remove() and should be a Function or an object implementing the EventListener interface.");d=this.indexOfListener(n,b);-1!==d&&(d=this.bindings[d],this.dispatching&&!d.isOnce?d.flag="dispose":d.destroy());return n},
removeAll:function(e){var b,d=this.bindings,j=d.length;if(e)for(;j--;)b=d[j],b.context===e&&b.destroy();else{for(;j--;)d[j].destroy();d.length=0}},getNumListeners:function(){return this.bindings.length},getListeners:function(){return this.bindings.map(function(e){return e.listener})},halt:function(){this.shouldPropagate=!1},dispatch:function(e,b){var d,j,l;if(this.active){e=q.toArray(e);l=this.bindings.slice();this.shouldPropagate=!0;this.dispatching++;try{for(d=l.length-1;0<=d;d--){j=l[d];if("new"!==
j.flag&&!1===j.execute(e,b))break;if(!this.shouldPropagate)break}}finally{this.dispatching--,0===this.dispatching&&this.bindings&&this.bindings.forEach(function(f){"dispose"===f.flag&&f.detach();f.flag=null})}}},dispose:function(){this.removeAll();this.active=!1;delete this.bindings},toString:function(){return"[Dispatcher active: "+this.active+" numListeners: "+this.getNumListeners()+"]"}});r.Binding=r.prototype.Binding=t.extend({listener:null,isOnce:!1,context:null,dispatcher:null,priority:0,active:!0,
flag:null,init:function(e,b,d,j,l){this.listener=b;this.isOnce=d;this.context=j;this.dispatcher=e;this.priority=l||0},execute:function(n,b){var d,j=this.listener,l=e.is(this.context)?this.context:b;this.active&&(this.isOnce&&this.detach(),d="function"===typeof j.handleEvent?j.handleEvent.apply(void 0===l?j:l,n||[]):j.apply(l,n||[]));return d},detach:function(){this.dispatcher&&this.dispatcher.remove(this.listener,this.context);return this.listener},getListener:function(){return this.listener},dispose:function(){this.destroy()},
destroy:function(){var e,b=this.dispatcher;b&&(e=b.bindings.indexOf(this),this.active=!1,-1!==e&&b.bindings.splice(e,1),delete this.dispatcher);delete this.isOnce;delete this.listener;delete this.context},toString:function(){return"[Dispatcher.Binding isOnce: "+this.isOnce+", active: "+this.active+"]"}});return e.namespace("Dispatcher",r,e)});
define("UWA/Utils/Client",["UWA/Core","UWA/Utils"],function(e,q){var t,r=(new Function("return this"))(),n=!!r.window,b=!(!n||!window.document),d=!(!n||!window.navigator),j,l=" moz Moz MOZ webkit Webkit WebKit WEBKIT ms Ms MS o O".split(" ");j=function(c,a,f){var b,g,d,h,k;g=a.indexOf("{}");0<=g?(b=a.slice(0,g),g=a.slice(g+2)):(b="",g=a);a=g.charAt(0).toUpperCase()+g.slice(1);d=0;for(h=l.length;d<h;d++){k=b+l[d]+g;if(k in c)break;k=b+l[d]+a;if(k in c)break}if(d<h)return f?k:c[k]};var f=b&&!!document.evaluate,
a=n&&!!window.JSON,h=n&&!!window.orientation,k=b&&!!document.querySelector,u=!(!j(document,"exitFullscreen")&&!j(document,"cancelFullScreen")),s=void 0!==document.createElement("input").placeholder,z=n&&!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),c=d&&!(!navigator.msPointerEnable&&!navigator.pointerEnabled),g=!(!b||!document.implementation||!document.implementation.hasFeature("MutationEvents","2.0"))||n&&window.MutationEvent,m=n&&!!window.addEventListener,
y=b&&!!j(document.createElement("div").style,"flexBasis",!0),v=b&&!(document.documentElement&&document.documentElement.style.filter),p=b&&!(document.documentElement&&document.documentElement.style.opacity),w=b&&!!j(document.createElement("div").style,"transition",!0),A;A=n&&j(window,"CSSMatrix");A=!!A&&void 0!==(new A).m11;var f={window:n,document:b,navigator:d,xpath:f,json:a,orientation:h,querySelector:k,fullscreen:u,inputPlaceholder:s,touchEvents:z,pointerEvents:c,mutationEvents:g,eventCapture:m,
flexboxCSS:y,filterCSS:v,opacityCSS:p,transitionsCSS:w,matrixCSS:A,dragAndDrop:n&&!(window.System&&window.System.Gadget)},a=d&&(navigator.systemLanguage||navigator.language).toLowerCase().split("-"),h=a[0]||"en",a={lang:h,locale:a[1]||"us",dir:-1!==["ar","he"].indexOf(h)?"rtl":"ltr"},B=/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/,D=/(webkit)[\s\/:]([\w\d\.]+)/,H=/(trident)\/.*rv:([\d\.]+)/,G=/ip(?:ad|od|hone)/,L=/webos|wossystem/,M=/blackberry/,O=/android/,
C=/mac|win|linux/;t={Engine:{name:"unknown",version:0},Platform:{name:"unknown"},Features:f,Locale:a,detect:function(){var c,a,f,g=d&&navigator.userAgent.toLowerCase()||"";a=g.match(B)||g.match(D)||g.match(H)||(r.process?[null,"nodeJS",r.process.version]:[null,"unknown",0]);c="ie"===a[1]&&b&&document.documentMode||("opera"===a[1]&&a[4]?a[4]:a[2]);f=parseInt(c,10);a="version"===a[1]?a[3]:a[1];"trident"===a&&(a="ie");c={name:a,version:f,fullVersion:c};c[a]=f;c[a+f]=!0;c.webkit=!!g.match(/webkit/);t.Engine=
c;g=(d&&navigator.platform.toLowerCase()||"").split(" ")[0];f=d&&navigator.userAgent.toLowerCase()||"";g={name:f.match(G)?"ios":f.match(L)?"webos":f.match(M)?"blackberry":(f.match(O)||g.match(C)||r.process?[g]:["other"])[0]};g[g.name]=!0;g.ipad=!!f.match(/ipad/);g.tablet=g.ipad||!!f.match(/tablet/);t.Platform=g;b&&(document.documentElement.className+=" "+t.Engine.name+" "+t.Engine.name+t.Engine.version+" "+t.Platform.name)},isOnline:function(c,a){void 0!==c&&a?(t.onLine=!!c,setTimeout(function(){delete t.onLine},
a)):void 0===t.onLine&&(t.onLine=d&&void 0!==navigator.onLine?!0===navigator.onLine:!0);return t.onLine},getOrientation:n&&window.self===window.top&&window.orientation?function(){return 90===Math.abs(window.orientation)?"landscape":"portrait"}:function(){var c=t.getSize();return 1>c.width/c.height?"portrait":"landscape"},getSize:function(){var c,a,f=0,g=0;if(n&&"number"===typeof window.innerWidth)f=window.innerWidth,g=window.innerHeight;else if(b)if(c=document.documentElement,a=document.body,c&&(c.clientWidth||
c.clientHeight))f=c.clientWidth,g=c.clientHeight;else if(a&&(a.clientWidth||a.clientHeight))f=a.clientWidth,g=a.clientHeight;return{width:f,height:g}},getScrolls:function(){var c=0,a=0;n&&"number"===typeof window.pageYOffset&&(a=window.pageYOffset,c=window.pageXOffset);return{y:a,x:c}},getScrollbarWidth:q.memoize(function(){var c,a,f=0;b&&(c=document.documentElement,a=document.createElement("div"),a.style.cssText="width:100px;height:100px;overflow:scroll;position:absolute;top:-9999px;",c.appendChild(a),
f=a.offsetWidth-a.clientWidth,c.removeChild(a));return f}),addStar:function(c,a){if(n)if(window.sidebar)window.sidebar.addPanel(a,c,"");else if(window.external)window.external.AddFavorite(c,a);else if(window.opera&&window.print)return!0},getVendorProperty:j};t.detect();return e.namespace("Utils/Client",t,e)});
define("UWA/Ajax",["UWA/Core","UWA/Utils"],function(e,q){var t=function(e,b){var d,j,l=b.responseTypeSupport?e.responseType:b.responseType;if(b.responseTypeSupport)if("text"===l||""===l)d=e.responseText;else try{d=e.response}catch(f){j=f,d=null}else if("text"===l||""===l)d=e.responseText;else if("json"===l)d=String(e.responseText).trim(),0===d.length?d=null:(d=d.stripComments(),d=JSON.parse(d));else if("document"===l)d=e.responseXML;else if("arraybuffer"===l){d=e.responseText;var a,h,k=new ArrayBuffer(2*
d.length),u=new Uint16Array(k);a=0;for(h=d.length;a<h;a++)u[a]=d.charCodeAt(a);d=k}else"blob"===l&&(d=new Blob([e.responseText],{type:e.getResponseHeader("Content-Type")}));if(null===d&&-1===["json","document"].indexOf(l))throw Error('InvalidResponseError: request has propably invalid "Content-type" header require by responseType "{1}" causing: "{2}".'.format(e.responseType,j));return d},r={getRequest:function(n,b){b=e.merge(b||{},{url:n,method:"GET",async:!0,responseType:"text",onComplete:function(){},
onFailure:function(a){throw a;},onTimeout:function(a){throw a;},onCancel:function(){}});var d,j,l,f=b.method||"GET",a=b.headers||{},h=b.authentication,k=r.onStateChange;/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i.test(f)&&(f=f.toUpperCase());b.data&&("string"!==typeof b.data&&(b.data=q.toQueryString(b.data)),"GET"===f&&(n+=(-1<n.indexOf("?")?"&":"?")+b.data,b.url=n,delete b.data));b.cors||(q.getOwnPropertyMatchName(a,"X-Requested-With")||(a["X-Requested-With"]="XMLHttpRequest"),q.getOwnPropertyMatchName(a,
"X-Requested-Method")||(a["X-Requested-Method"]=f));"POST"===f&&!q.getOwnPropertyMatchName(a,"Content-Type")&&(a["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8");h&&(h.username&&h.password?(l=n.split("://"),n=l[0]+"://"+h.username+":"+h.password+"@"+l[1]):n+=(-1<n.indexOf("?")?"&":"?")+q.toQueryString(h));j=b.cors?r.createCORSRequest():r.createRequest();if(!j)b.onFailure(Error("Unable to initiate XMLHttpRequest object."));j.cancel=function(){j.aborted=!0;j.abort()};j.open(f,n,b.async);
b.responseTypeSupport="responseType"in j&&"json"!==b.responseType&&(b.async||"undefined"===typeof window);if(b.responseTypeSupport)try{j.responseType=b.responseType}catch(u){j.responseType="text"}b.timeout&&(j.timeoutTimer=setTimeout(function(){j.timedout=!0;j.abort()},b.timeout));b.cors?(j.onerror=function(){e.merge(j,{readyState:4,status:500});k(j,b)},j.onload=function(){e.merge(j,{readyState:4,status:200});k(j,b)}):j.onreadystatechange=k.bind(r,j,b);if(j.setRequestHeader)for(d in a)a.hasOwnProperty(d)&&
j.setRequestHeader(d,a[d]);return j},createRequest:function(){var e;window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXObject&&(e=new window.ActiveXObject("Msxml2.XMLHTTP"));return e},createCORSRequest:function(){var e;window.XMLHttpRequest&&(e=new window.XMLHttpRequest,!e.withCredentials&&window.XDomainRequest&&(e=new window.XDomainRequest));return e},request:function(e,b){var d;b=b||{};d=r.getRequest(e,b);d.send(b.data||null);if(!b.async)r.onStateChange(d,b);return d},parseResponseHeaders:function(e){var b,
d,j,l,f={};if(e){l=e.split("\r\n");for(e=0;e<l.length;e++)j=l[e],b=j.indexOf(": "),0<b&&(d=j.substring(0,b),b=j.substring(b+2),f[d]=b)}return f},onStateChange:function(e,b){var d,j,l;if(e.aborted)b.onCancel(e,b);else if(e.timedout)b.onTimeout(Error("Request timed out after "+b.timeout+" ms"),e,b);else if(4===e.readyState&&(e.timeoutTimer&&clearTimeout(e.timeoutTimer),!e.completed)){e.completed=!0;if(400>e.status){j=r.parseResponseHeaders(e.getAllResponseHeaders());try{d=t(e,b)}catch(f){l=f,b.onFailure(f,
d,j)}finally{if(!l)b.onComplete(d,j)}}else{j=r.parseResponseHeaders(e.getAllResponseHeaders());try{d=t(e,b)}catch(a){}b.onFailure(Error('NetworkError: url "{0}" return ResponseCode with value "{1}".'.format(b.url,e.status||0)),d,j)}b.cors?(e.onerror=null,e.onload=null):e.onreadystatechange=null}}};return e.namespace("Ajax",r,e)});
define("UWA/Json",["UWA/Core","UWA/Utils","UWA/Utils/Client","UWA/Ajax","UWA/Object"],function(e,q,t,r){var n={jsonp:{},encode:JSON.stringify,decode:JSON.parse,prune:function(b,d){function j(b){var d,u;b=f(b);switch(e.typeOf(b)){case "string":case "number":case "boolean":return b;case "array":if(-1!==l.indexOf(b))return a(b,"circular");l.push(b);d=b.map(j);l.pop();return d;case "object":if(!e.is(b,"plain"))return a(b,"unsupported");if(-1!==l.indexOf(b))return a(b,"circular");l.push(b);d={};for(u in b)e.owns(b,
u)&&(d[u]=j(b[u]));l.pop();return d;default:return null===b?b:a(b,"unsupported")}}var l=[],f=d&&d.toJSON||function(a){return e.is(a)&&e.is(a.toJSON,"function")?a.toJSON():a},a=d&&d.fallback||function(){return null};return j(b)},isJson:function(b){var d=!1;if(e.is(b,"string"))try{JSON.parse(b),d=!0}catch(j){}return d},xmlToJson:function(b){var d,e,l,f,a,h=function(){return this.nodeValue},k=function(){return parseInt(this.nodeValue,10)};"string"===typeof b&&(b=q.loadXml(b));if((!b.attributes||0===
b.attributes.length)&&b.childNodes&&1===b.childNodes.length&&-1!==b.childNodes[0].nodeName.indexOf("#"))l=b.childNodes[0].nodeValue;else{l={};if(b.attributes){d=0;for(e=b.attributes.length;d<e;d++)f=b.attributes[d],a=f.nodeName,l[a]?(l[a]=q.splat(l[a]),l[a].push(f.nodeValue)):l[a]=f.nodeValue}d=0;for(e=b.childNodes.length;d<e;d++)f=b.childNodes[d],a=f.nodeName,l[a]?(l[a]=q.splat(l[a]),l[a].push(n.xmlToJson(f))):-1===a.indexOf("#")?l[a]=n.xmlToJson(f):0<f.nodeValue.trim().length&&(l.nodeValue=f.nodeValue,
l.toString=h,l.valueOf=k)}return l},path:function(){function b(a,f,b){var d,c;c=f.replace(h[6],"$1valueEval").replace(h[7],"@");try{return eval("valueEval = arguments[2]"),d=a&&b&&eval(c)}catch(g){throw new SyntaxError("UWA.Json.path error: "+g.message+' for query "'+f+'"');}}function d(a,f,b,d,c){var g,h;h=e.typeOf(b);if("array"===h){g=0;for(h=b.length;g<h;g++)b.hasOwnProperty(g)&&c(g,a,f,b,d)}else if("object"===h)for(g in b)b.hasOwnProperty(g)&&c(g,a,f,b,d)}function j(k,e,s,n,c){if(""!==k){var g,
m,y,v=k.split(f);k=v.shift();v=v.join(f);if(e&&e.hasOwnProperty(k))j(v,e[k],s+f+k,n,c);else if("*"===k)d(k,v,e,s,function(a,b,g,d,h){j(a+f+g,d,h,n,c)});else if(".."===k)j(v,e,s,n,c),d(k,v,e,s,function(a,b,g,d,h){"object"===typeof d[a]&&j("..;"+g,d[a],h+f+a,n,c)});else if(h[10].test(k))k=b(e,k,e,s.substr(s.lastIndexOf(f)+1))+f+v,j(k,e,s,n,c);else if(h[11].test(k))d(k,v,e,s,function(a,g,d,k,p){b(e,g.replace(h[12],"$1"),Array.isArray(k)?k[a]:k,a)&&j(a+f+d,k,p,n,c)});else if(h[13].test(k)){if(g=j,Array.isArray(e)){m=
e.length;var p=0,w=1,A=m;k.replace(h[9],function(c,a,f,b){p=parseInt(a||p,10);A=parseInt(f||A,10);w=parseInt(b||w,10)});p=0>p?Math.max(0,p+m):Math.min(m,p);A=0>A?Math.max(0,A+m):Math.min(m,A);for(k=p;k<A;k+=w)g(k+f+v,e,s,n,c)}}else if(h[14].test(k)){g=k.split(h[15]);m=0;for(y=g.length;m<y;m++)k=g[m]+f+v,j(k,e,s,n,c)}}else if(s){v=n.length;if(c===l){g=s.split(f);m=a;s=1;for(k=g.length;s<k;s++)m+=h[8].test(g[s])?"["+g[s]+"]":"['"+g[s]+"']";s=m}else s=e;n[v]=s}}var l="PATH",f=";",a="$",h=[/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,
/'?\.'?|\['?/g,/;;;|;;/g,/;$|'?\]|'$/g,/#([0-9]+)/g,/^\$;?/,/(^|[^\\])@/g,/\\@/g,/^[0-9*]+$/,/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,/^\(.*?\)$/,/^\?\(.*?\)$/,/^\?\((.*?)\)$/,/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/,/,/,/'?,'?/];return function(b,d,e){var n=[];e=e&&e.resultType||"VALUE";if(b&&d&&("VALUE"===e||e===l)){var c=j,g=[];d=d.replace(h[0],function(c,a,f){return"[#"+(g.push(a||f)-1)+"]"}).replace(h[1],f).replace(h[2],";..;").replace(h[3],"").replace(h[4],function(c,a){return g[a]}).replace(h[5],
"");c(d,b,a,n,e)}return n.length?n:!1}}(),request:function(b,d){d=d||{};var j,l,f,a,h,k,u,s,z,c,g,m=q.matchUrl(b,window.location)?!1:e.Data&&e.Data.useJsonpRequest&&!e.Data.allowCrossOriginRequest,y=b,v=t.isOnline,p=n.jsonp,w={fromDataRequest:!1,useOfflineCache:!1,async:!0,timeout:!1,callback:"jsonp"+(Date.now()+Math.ceil(1E4*Math.random())),callbackName:"callback",callbackMode:"function",callbackModeName:"callbackMode",onCancel:function(){},onFailure:function(c){throw c;},onComplete:function(){}};
d=e.merge(d||{},w);d.timeout=!1===d.timeout?d.useOfflineCache?15E3:25E3:parseInt(d.timeout,10);d.data&&(b+=(-1<b.indexOf("?")?"&":"?")+q.toQueryString(d.data));l=d.callback.replace(/[^a-zA-Z0-9_.]/g,"");if(f=d.callbackMode)b=b.replace(/\=(\?|%3F)/g,"="+l),b+=(-1<b.indexOf("?")?"&":"?")+d.callbackName+"="+l,b+="&"+d.callbackModeName+"="+f;if(2048<b.length)throw Error("Proxified url is more than 2048 characters, you should consider using POST and CORS Ajax.");a=d.onFailure;k=d.onTimeout||a;h=d.onComplete;
u=d.useOfflineCache;s=d.fromDataRequest;d.onFailure=function(c,f){n.cleanRequest(l,f);if(u&&!1===s){var b=n.getFromCache(y);e.is(b)?(v()&&v(!1,5E3),h(b)):a(c)}else a(c)};d.onTimeout=function(c,a){n.cleanRequest(l,a);if(u&&!1===s){var f=n.getFromCache(y);e.is(f)?(v()&&v(!1,5E3),h(f)):k(c)}else k(c)};d.onComplete=function(c){n.cleanRequest(l,d);try{if(s&&c&&c.error&&c.error.type&&"UWA_Platform_Exposition"===c.error.type)throw Error('ObjectError: url "{0}" return Error with value "{1}"'.format(s,c.error.message||
c.error));h(c)}catch(f){a(f)}};0>d.cache&&(b+=(-1<b.indexOf("?")?"&":"?")+"_="+Date.now());if(u&&!1===v())d.onFailure(Error("Network is Offline"));else m?(p[l]={readyState:!1,options:d},"object"===f?(z=Date.now(),c=13,g=function(a){var f;f=Date.now();void 0!==window[l]?(p[l].readyState="loaded",a.onComplete(window[l])):f>z+a.timeout?(f-=z,a.onTimeout(Error("Request timed out after "+f+"ms with timeout value "+a.timeout+" ms"))):p[l].poll=setTimeout(g.bind(this,a),c)}):(window[l]=function(c){void 0!==
p[l]&&(p[l].data=c,p[l].readyState="loaded")},z=Date.now(),c=13,g=function(a){var f;f=Date.now();if("loaded"===p[l].readyState)a.onComplete(p[l].data);else f>z+a.timeout?(f-=z,a.onTimeout(Error("Timout request after "+f+"ms with timeout value "+a.timeout+" ms"))):p[l].poll=setTimeout(g.bind(this,a),c)}),j=document.getElementsByTagName("head")[0],j=e.createElement("script",{type:"text/javascript",src:b,async:d.async}).inject(j),p[l].script=j,g(d),j={jsonId:l,script:j,cancel:function(){p[l].aborted=
!0;n.cleanRequest(l)}}):j=r.request(b,e.merge({headers:{Accept:"application/json,text/javascript,*/*","X-Request":"JSON"},onComplete:function(c){var a;f&&!n.isJson(c)&&(a=c.indexOf("("),c=c.substr(a+1,c.lastIndexOf(")")-a-1));if(n.isJson(c))d.onComplete(e.Json.decode(c));else d.onFailure(Error('Invalid JSON Response: "'+c+'"'))},onFailure:d.onFailure},d));return j},cleanRequest:function(b){var d,e=document.getElementsByTagName("head")[0],l=n.jsonp[b];if(l&&(d=l.options,clearTimeout(l.poll),"object"!==
d.callbackMode&&(window[b]=function(){try{delete window[b]}catch(f){}}),l.script&&(e.removeChild(l.script),delete l.script),l.aborted))d.onCancel(null,d)}};return e.namespace("Json",n,e)});
define("UWA/Class/Options",["UWA/Core","UWA/Class"],function(e,q){var t=q.extend({setOptions:function(r){r=r||{};this.hasOwnProperty("options")||(this.options=e.clone(this.defaultOptions||this.options||{}));r.events&&this.addEvents&&this.addEvents(r.events);e.extend(this.options,r,!0);return this},setOption:function(e,n){var b={};b[e]=n;return this.setOptions(b)},getOption:function(e,n){var b=this.options;return void 0!==b[e]?b[e]:n}});return e.namespace("Options",t,q)});
define("UWA/Class/Debug",["UWA/Core","UWA/Class"],function(e,q){var t=q.extend({debugMode:!1,setDebugMode:function(e){this.debugMode=!0===e||"true"===e;return this},log:function(r){!0===this.debugMode&&e.log(r);return this}});return e.namespace("Debug",t,q)});
define("UWA/Storage",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Debug","UWA/Json"],function(e,q,t,r,n){var b=q.extend(t,r,{AdaptersInstances:null,currentAdapter:null,defaultOptions:{database:"default",adapter:null,adapterOptions:{},availableAdapters:[]},internalKeys:{keysIndex:"_keysIndex",lastUpdate:"_lastUpdate"},isReady:!1,init:function(d){this.AdaptersInstances={};b.Instances.push(this);this.setOptions(d);d=this.options.adapter;!d||"auto"===d?this.setCurrentAdapterFromDetected():this.setCurrentAdapter(d)},
initAvailableAdapters:function(){var d,e=this,l=e.options.availableAdapters,f=b.Adapter;if(0===l.length)for(d in f)f.hasOwnProperty(d)&&"Abstract"!==d&&l.push(d);l.forEach(function(a){e.getAdapterInstance(a)})},isAvailableAdapter:function(b){var e,l=!1;try{(e=this.getAdapterInstance(b))&&e.isAvailable()?(l=!0,this.log('UWA.Storage:detectAvailableAdapter: "'+b+'" is available')):this.log('UWA.Storage:detectAvailableAdapter: "'+b+'" is not available')}catch(f){this.log('UWA.Storage:detectAvailableAdapter: "'+
b+'" is not available cause: '+f)}return l},getAdapterInstance:function(d){var e=this.AdaptersInstances;if("string"!==typeof d)throw Error('Bad adapterName param value "'+d+'" for getAdapterInstance.');if(!e[d]&&(e[d]=new b.Adapter[d](this,this.options.adapterOptions),!(e[d]instanceof b.Adapter.Abstract)))throw Error("UWA.Storage.Adapter."+d+" is not an instance of UWA.Storage.Adapter.Abstract");return e[d]},detectAvailableAdapter:function(){var b=this,e=b.options,l=[];b.initAvailableAdapters();e.availableAdapters.forEach(function(f){b.isAvailableAdapter(f)&&
l.push(f)});e.availableAdapters=l},setCurrentAdapterFromDetected:function(){var b=this.options;this.detectAvailableAdapter();if(0<b.availableAdapters.length)this.setCurrentAdapter(b.availableAdapters[0]);else throw Error("UWA.Storage: No adapter available detected.");},setCurrentAdapter:function(b){var e;if("string"!==typeof b)throw Error('Bad adapterName param value "'+b+'" for setCurrentAdapter.');this.isAvailableAdapter(b)?(e=this.getAdapterInstance(b),e.connect(this.options.database),this.log("UWA.Storage:setCurrentAdapter: "+
b+";"),this.adapter=b,this.currentAdapter=e):(this.log('UWA.Storage:setCurrentAdapter: "'+b+'" fail fallback in auto detect mode'),this.setCurrentAdapterFromDetected())},store:function(b,e){var l,f=this.currentAdapter;f&&(l=this.safeResurrect(f.get(b)),1===arguments.length?this.log('Get Key "'+b+'" with value "'+l+'"'):l!==e&&(l=this.safeStore(e),this.log('Update Key "'+b+'" with value "'+e+'" and stored value "'+l+'"'),l=f.set(b,l)));return l},remove:function(b){if(!this.currentAdapter)return!1;
this._updateLastUpdateDate();this._removeKeyFromKeysIndex(b);return this.safeResurrect(this.currentAdapter.rem(b))},get:function(b,e){var l,f;e?(l=this._getKeysIndex(),l.hasOwnProperty(b)&&Date.now()-l[b]<=e&&(f=this.store(b))):f=this.store(b);return f},set:function(b,e){this._updateLastUpdateDate();this._addKeyToKeysIndex(b);return this.store(b,e)},getAll:function(){var b=this,e={};Object.keys(this._getKeysIndex()).forEach(function(l){e[l]=b.get(l)});return e},safeStore:function(b){return n.encode(b)},
safeResurrect:function(b){if(!e.is(b,"undefined"))try{n.isJson(b)&&(b=n.decode(b))}catch(j){e.log("unsafe Resurrect JSON with value: "+b),e.log(j)}return b},getLastUpdateDate:function(b){b=b?this._getKeysIndex()[b]:this.get(this.internalKeys.lastUpdate);return(new Date).setTime(b)},_getKeysIndex:function(){var b=this.safeResurrect(this.currentAdapter.get(this.internalKeys.keysIndex)),j=e.typeOf(b);this.log("Get all keys from keysIndex");if("array"===j){var l={},f=this.getLastUpdateDate();b.forEach(function(a){l[a]=
f});b=l}else"object"!==j&&(b={});return b},_removeKeyFromKeysIndex:function(b){var e,l=this._getKeysIndex(),f={};this.log('Remove key "'+b+'" from keysIndex');for(e in l)l.hasOwnProperty(e)&&e!==b&&(f[e]=l[e]);this._storeKeysIndex(f)},_addKeyToKeysIndex:function(b){var e=this._getKeysIndex();this.log('Add key "'+b+'" to keysIndex');e[b]=Date.now();this._storeKeysIndex(e)},_storeKeysIndex:function(b){this.currentAdapter.set(this.internalKeys.keysIndex,this.safeStore(b))},_updateLastUpdateDate:function(){var b=
Date.now();this.currentAdapter.set(this.internalKeys.lastUpdate,this.safeStore(b));return b}});b.Instances=[];e.merge(b,{allInstancesReady:function(){return b.Instances.every(function(b){return b.isReady})}});return e.namespace("Storage",b,e)});
define("UWA/Class/Events",["UWA/Core","UWA/Class","UWA/Dispatcher","UWA/Utils"],function(e,q,t,r){function n(b,e,l){var f=b._dispatchers,a=f&&f[e]||new t;l||(f||(f=b._dispatchers=Object.create(null)),f[e]=a);return a}var b;b=q.extend({dispatchEvent:function(b,e,l){var f,a;void 0===l&&(l=this);e=r.splat(e);f=n(this,b);"function"===typeof this[b]&&f.addOnce(this[b],l,1);"onAnyEvent"!==b&&this.hasEvent("onAnyEvent")?(a=n(this,"onAnyEvent"),"function"===typeof this.onAnyEvent&&a.addOnce(this.onAnyEvent,
l),a.addOnce(function(){f.dispatch(e,l)}),a.dispatch([b].concat(e),l)):f.dispatch(e,l);return this},dispatchAsEventListener:function(b,e,l){var f=this;void 0===l&&(l=f);e=r.splat(e);return function(a){f.dispatchEvent(b,[a].concat(e),l)}},addEvent:function(b,e,l,f){n(this,b).add(e,l,f);return this},addEventOnce:function(b,e,l,f){n(this,b).addOnce(e,l,f);return this},addEvents:function(b,e,l){for(var f in b)b.hasOwnProperty(f)&&this.addEvent(f,b[f],e,l);return this},removeEvent:function(b,e,l){var f,
a=this._dispatchers,h=a&&a[b];if(b)h&&(e?h.remove(e,l):h.removeAll(l),0===h.getNumListeners()&&delete a[b]);else for(f in a)this.removeEvent(f,e,l);return this},removeEvents:function(b){var e;if(b)for(e in b)b.hasOwnProperty(e)&&this.removeEvent(e,b[e]);else this.removeEvent();return this},hasEvent:function(b,e){var l=this;return(b?[b]:Object.keys(l._dispatchers||{})).some(function(b){return!(!n(l,b,!0).getNumListeners()&&!(e?0:l[b]))})}});return e.namespace("Events",b,q)});
define("UWA/Data","UWA/Core UWA/Utils UWA/Utils/Client UWA/Ajax UWA/Json UWA/Storage UWA/Class/Events".split(" "),function(e,q,t,r,n,b,d){var j;j=e.hosts;var l=j.exposition+"/proxy/";j=e.merge(j.proxies||{},{ajax:l+"ajax",resolve:l+"resolve",xml:l+"xml",spreadsheet:l+"spreadsheet",soap:l+"soap",feed:l+"feed",icon:l+"icon",richIcon:l+"richIcon",rss:l+"feed"});var f=/OPTIONS|GET|HEAD|POST|PUT|DELETE|TRACE|CONNECT/i,a=/json|document|blob|arraybuffer|text/,h=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,
k=t.isOnline,u={text:function(a){"string"!==typeof a&&(a=n.encode(a));return a},json:function(a){"string"===typeof a&&(a=n.decode(a));if(!e.is(a,["object","array"]))throw Error('Invalid JSON Response: "'+String(a)+'"');return a},xml:function(a){"string"===typeof a&&(a=q.loadXml(a));return a},document:function(a){"string"===typeof a&&(a=q.loadHtml(a));return a},blob:function(a,c){var b=q.getOwnPropertyMatchValue(c,"Content-Type")||"text/plain";if("string"===typeof a){if(h.test(a)){var f=a,d;d=f.indexOf(";base64,")+
8;var f=f.substring(d),e=window.atob(f),k=e.length,f=new Uint8Array(k);for(d=0;d<k;++d)f[d]=e.charCodeAt(d);d=new BlobBuilder;d.append(f.buffer);b=d.getBlob(b)}else b=new Blob([a],{type:b});a=b}return a},arraybuffer:function(a){"string"===typeof a&&(a=new ArrayBuffer(12));return a}},s={proxies:j,useJsonpRequest:!0,allowCrossOriginRequest:!1,useOfflineCache:!1,request:function(b,c){if(!b)throw Error("Bad or missing url argument.");c=c||{};var g,m,j,l,p,w,A,B,D,t,G=b;m=window.location;D={timeout:25E3,
method:"GET",type:"text",proxy:!1,async:!0,headers:{},useMergeRequest:!0,useOfflineCache:s.useOfflineCache,allowCrossOriginRequest:s.allowCrossOriginRequest,useJsonpRequest:s.useJsonpRequest,onComplete:function(){},onCancel:function(){},onFailure:function(c){throw c;}};c.requestHeaders&&(c.headers=c.requestHeaders,delete c.requestHeaders);c.postBody?(c.method="POST",c.data=c.postBody,delete c.postBody):c.parameters&&(c.method="POST",c.data=c.parameters,delete c.parameters);c.auth&&(c.authentication=
c.auth,delete c.auth);"html"===c.type?c.type="document":"feed"===c.type&&(c.type="json");c=e.merge(c,D);c.type=!u[c.type]?D.type:c.type;c.timeout=parseInt(c.timeout,10);f.test(c.method)&&(c.method=c.method.toUpperCase());"json"===c.type&&(q.getOwnPropertyMatchName(c.headers,"Accept")||(c.headers.Accept="application/json,text/javascript,*/*"),q.getOwnPropertyMatchName(c.headers,"X-Request")||(c.headers["X-Request"]="JSON"));A=c.type;B=c.useOfflineCache;D=c.allowCrossOriginRequest;t=c.useJsonpRequest;
G=b;c.proxy?(b=s.proxifyUrl(b,c),t=t&&!1===q.matchUrl(b,m)&&!1===D):!1===q.matchUrl(b,m)&&!1===D?(t=t&&!1===q.matchUrl(s.proxies.ajax,m),b=s.proxifyUrl(b,e.extend(c,{proxy:"ajax"}))):t=!1;s.requests=s.requests||{};m={url:b,timeout:c.timeout,method:c.method,type:c.type,proxy:c.proxy,async:c.async,data:c.data,headers:c.headers};if("GET"!==c.method||!1===c.useMergeRequest)m.uuid=q.getUUID();l=e.Json.encode(m);m={onComplete:c.onComplete,onFailure:c.onFailure,onCancel:c.onCancel,onTimeout:c.onTimeout||
c.onFailure};if(s.requests[l])g=s.requests[l],g.addEvents(m);else{g=s.requests[l]=new d;g.addEvents(m);p=function(c,a){var b=c;delete s.requests[l];q.attempt(function(){if(t){a=c.headers;var f=c.body;h.test(f)&&(f=q.base64Decode(f));c=f}c=u[A](c,a);B&&s.storeInCache(G,b);return!0},function(){w("onFailure",arguments);return!1})&&g.dispatchEvent("onComplete",[c,a])};w=function(c,a){var b,f=!0;delete s.requests[l];B&&(b=s.getFromCache(G),e.is(b)&&(f=!1,k()&&k(!1,5E3),p(b)));f&&g.dispatchEvent(c,a)};
m={method:c.method,data:c.data,headers:c.headers,timeout:c.timeout,async:c.async,onComplete:function(c,a){p(c,a)},onFailure:function(){w("onFailure",arguments)},onCancel:function(){w("onCancel",arguments)},onTimeout:function(){w("onTimeout",arguments)}};if(B&&!1===k())m.onFailure(Error("Network is Offline"));else t?(c.data&&(0<c.data.length&&-1!==["POST","PUT"].indexOf(c.method))&&(b+=-1!==b.indexOf("?")?"&":"?","POST"===c.method?b+=q.toQueryString(c.data,"postData"):"PUT"===c.method&&(b+=q.toQueryString(c.data,
"rawData")),delete m.data,delete m.method),m.fromDataRequest=G,j=n.request(b,m)):(A&&a.test(A)&&(m.responseType=A),j=r.request(b,m));g.url=G;g.options=c;g.cancel=j.cancel}return g},proxifyUrl:function(a,c){if(!a)throw Error("Bad or missing url argument.");var b,f=[],d=c.proxy,e=q.toQueryString;b=s.proxies;if(d&&b[d]){b=b[d];if(0===a.indexOf(b))return a;c.data&&(c.method&&"GET"===c.method.toUpperCase())&&(a+=(-1<a.indexOf("?")?"&":"?")+e(c.data),delete c.data);"object"===typeof c[d]&&(f.push(e(c[d])),
delete c[d]);c.type&&(f.push(e({type:c.type})),delete c.type);"object"===typeof c.authentication&&f.push(e(c.authentication));c.cache&&(f.push(e({cache:parseInt(c.cache,10)})),0>c.cache&&f.push(Date.now()));c.headers&&(f.push(e(c.headers,"headers")),delete c.headers);c.connect&&f.push(e({connect:c.connect}));c.service&&f.push(e({service:c.service}));c.wid&&f.push(e({wid:c.wid}));c.method&&f.push(e({method:c.method}));f.push(e({url:a}));a=b+"?"+f.join("&");if(2048<a.length)throw Error("Proxified url is more than 2048 characters, that is the limit for most of the browsers.");
}else throw Error("Invalid proxy");return a},getFeed:function(a,c){return s.request(a,{method:"GET",proxy:"feed",type:"json",onComplete:c})},getXml:function(a,c){return s.request(a,{method:"GET",type:"xml",onComplete:c})},getText:function(a,c){return s.request(a,{method:"GET",type:"text",onComplete:c})},getJson:function(a,c){return s.request(a,{method:"GET",type:"json",onComplete:c})},getCache:function(){s.OfflineCache||(s.OfflineCache=new b({database:"__ajax_cache"}));return s.OfflineCache},storeInCache:function(a,
c){c=q.toArray(c).filter(function(c){return e.is(c)&&!c.nodeType});s.getCache().set(q.getCheckSum(a),c)},getFromCache:function(a){return s.getCache().get(q.getCheckSum(a))}};return e.namespace("Data",s,e)});
define("UWA/Event",["UWA/Core","UWA/Utils/Client","UWA/String"],function(e){var q=["alt","ctrl","meta","shift"],t={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",
119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},r={onDomReady:function(e,b){function d(c){var f=c.type;"readystatechange"!==f&&"complete"===a.readyState&&(("load"===f?window:a)[s](r+f,d,!1),l||(l=!0,e.call(b,f||c)))}function j(){try{h.doScroll("left"),d("poll")}catch(c){setTimeout(j,50)}}b=b||window;var l=!1,f=!0,a=window.document,h=a.documentElement,k=!!a.addEventListener,u=k?"addEventListener":"attachEvent",s=k?"removeEventListener":"detachEvent",r=
k?"":"on";if("complete"===a.readyState)setTimeout(e.bind(b,"lazy"),1);else{if(a.createEventObject&&h.doScroll){try{f=!window.frameElement}catch(c){}f&&j()}a[u](r+"DOMContentLoaded",d,!1);a[u](r+"readystatechange",d,!1);window[u](r+"load",d,!1)}},dispatchEvent:function(n,b,d){var j,l,f=9===n.nodeType?n:n.ownerDocument||n.document;d=e.merge(d||{},{canBubble:!0,cancelable:!0,view:f.defaultView||f.parentWindow,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,
button:0,relatedTarget:null,keyCode:null,charCode:null,touches:null,targetTouches:null,changedTouches:null,scale:1,rotation:0});if(f.createEvent){"click"===b||"dblclick"===b||"contextmenu"===b||0===b.indexOf("mouse")?(l="MouseEvent",b=[b,d.canBubble,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget]):0===b.indexOf("touch")?(l="TouchEvent",b=[b,d.canBubble,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,
d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.touches,d.targetTouches,d.changedTouches,d.scale,d.rotation]):0===b.indexOf("key")?(l="KeyboardEvent",b=[b,d.canBubble,d.cancelable,d.view,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode]):(l="HTMLEvents",b=[b,d.canBubble,d.cancelable]);j=f.createEvent(l);"KeyboardEvent"===l&&"function"===typeof j.initKeyEvent?l="KeyEvent":"HTMLEvents"===l&&"function"!==typeof j.initHTMLEvents&&(l="Event");if("function"===typeof j["init"+l])j["init"+
l].apply(j,b);else throw Error("Unsuported Event type "+l);n.dispatchEvent(j)}else if(f.createEventObject){j=f.createEventObject();e.extend(j,d);try{n.fireEvent("on"+b,j)}catch(a){throw Error("Unsuported Event type "+b);}}return j},getElement:function(n){var b=n._uwaTarget||n.target||n.srcElement;if("DOMCharacterDataModified"!==n.type&&b&&(3===b.nodeType||4===b.nodeType))b=b.parentNode;return e.extendElement(b)},findElement:function(e,b){return r.getElement(e).getClosest(b)},getPosition:function(e,
b){var d,j,l,f=e.target||e.srcElement;d=9===f.nodeType?f:f.ownerDocument||f.document;if(f=e.changedTouches||e.touches)if(void 0!==b&&f[b])l={x:f[b].pageX,y:f[b].pageY};else{l={x:0,y:0};d=0;for(j=f.length;d<j;d++)l.x+=f[d].pageX,l.y+=f[d].pageY;l.x/=j;l.y/=j}else l={x:e.clientX+(d.documentElement.scrollLeft||d.body.scrollLeft),y:e.clientY+(d.documentElement.scrollTop||d.body.scrollTop)};return l},stopPropagation:function(e){e.stopPropagation&&e.stopPropagation();e.cancelBubble=!0},preventDefault:function(e){e.preventDefault&&
e.preventDefault();e.returnValue=!1;if((void 0===e.cancelable||!0===e.cancelable)&&void 0===e.defaultPrevented)e.defaultPrevented=!0},stop:function(e){r.preventDefault(e);r.stopPropagation(e)},isDefaultPrevented:function(e){return e.defaultPrevented||!0!==e.returnValue&&void 0!==e.returnValue},whichButton:function(n){var b=n.button;n=n.which;!n&&e.is(b)&&(n=[0,1,3,1,2][b]||0);return n-1},whichKey:function(e){var b,d,j,l=e.which||e.keyCode,f="keypress"!==e.type&&t[l],a=[];b=0;for(d=q.length;b<d;b++)j=
q[b],e[j+"Key"]&&f!==j&&a.push(j);f?a.push(f):l&&0===e.type.indexOf("key")&&a.push(String.fromCharCode(l).toLowerCase());return a.join("+")},wheelDelta:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}};return e.namespace("Event",r,e)});
define("UWA/Element","UWA/Core UWA/Utils UWA/Utils/Client UWA/Dispatcher UWA/Json UWA/Event qwery UWA/String UWA/Function UWA/Array UWA/Object".split(" "),function(e,q,t,r,n,b,d){function j(c){var a=c?c.indexOf(" "):-1;return 0>a?{name:c}:{name:c.slice(0,a),selector:c.slice(a+1)}}function l(c,a){"function"===typeof a?a=a():void 0===a&&(a=k(u,"on{}"+c,!0))&&(a=a.slice(2));c!==a&&(f.Events[c]=function(b,g){if(!a)throw Error("The event "+c+" is not supported on this platform");f.addEvent.call(g,a,b.handleEvent,
!0);b.events[a]=b.handleEvent})}var f,a,h,k=t.getVendorProperty,u=document.documentElement,s=document.createElement("div"),z=/(^|,)/g,c=/(?:^|,)\s*[>+~]/;a=function(a,b,g,d){var h,k,p,m=d||c.test(b);m?(g?(p=g.parentNode,k=g.id,g.id=h=k||"XXXSELECTORID",h="#"+h+" ",!d&&!p&&(p=e.extendElement(s).grab(g))):(h="* ",p=g),b=b.replace(z,"$1"+h)):p=g;a=d?(f[a]||d[a]).call(d,b):(f[a]||p[a]).call(p,b);g&&m&&(k?g.id=k:g.removeAttribute("id"),p===s&&p.removeChild(g));return a};h=r.extend({Binding:r.Binding.extend({delegates:null,
direct:!1,element:null,init:function(){this._parent.apply(this,arguments);this.delegates=[]},addDelegate:function(c){c?this.delegates.push(c):this.direct=!0},removeDelegate:function(c){c?this.delegates=this.delegates.filter(function(a){return a!==c}):this.direct=!1;!this.direct&&!this.delegates.length&&this.detach()},execute:function(c,a){var g,d,e,h;if(this.active){if(this.delegates.length){g=this.delegates.join(",");d=c[0];for(e=b.getElement(d);e&&e!==this.element&&!1!==h;)f.match.call(e,g,this.element)&&
(d._uwaTarget=e,h=this._parent(c,a),d._uwaTarget=null),e=e.parentNode}this.direct&&!1!==h&&(h=this._parent(c,a))}return h},destroy:function(){this._parent();delete this.element}}),init:function(c){this._parent();this.element=c},addDelegation:function(c,a,b,f){c=this.add(c,b,f);c.addDelegate(a);c.element=this.element;return c},removeDelegation:function(c,a){if(c){var b=this.bindings[this.indexOfListener(c)];b&&b.removeDelegate(a)}else this.bindings.slice().invoke("removeDelegate",a)},dispose:function(){this._parent();
delete this.element}});f=function(c,a){var b,g;"iframe"===c&&a&&void 0!==a.name?(b=document.createElement("div"),b.innerHTML="<"+c+' name="'+a.name+'"/>',g=b.firstChild,delete a.name):"object"===c&&a&&void 0!==a.classid?(a.html?(g=document.createElement("div"),f.setHTML.call(g,a.html),g=f.getHTML.call(g)):g="",b=document.createElement("div"),b.innerHTML="<"+c+' classid="'+a.classid+'">'+g+"</"+c+">",g=b.firstChild,delete a.html,delete a.classid):g=document.createElement(c);b=g;e.extendElement(b);
e.is(a,"object")&&f.set.call(b,a);return b};e.extend(f,{_events:null,set:function(){var c;return function(a,b){var g;c||(c={html:f.setHTML,events:f.addEvents,id:function(c){this.id=c},"class":function(c){this.className=c},value:function(c){this.value=c}},"compact nowrap ismap declare noshade checked disabled readOnly multiple selected noresize defer defaultChecked autofocus controls autoplay loop".split(" ").forEach(function(a){c[a.toLowerCase()]=function(c){this[a]=!!c}}));if(e.is(a,"object"))for(g in a)a.hasOwnProperty(g)&&
f.set.call(this,g,a[g]);else g=f["set"+a.capitalize()],e.is(g,"function")?g.apply(this,Array.prototype.slice.call(arguments,1)):(!c.hasOwnProperty(a)||!1===c[a].call(this,b))&&this.setAttribute(a,b);return this}}(),setAttributes:function(c){for(var a in c)c.hasOwnProperty(a)&&this.setAttribute(a,c[a]);return this},getTagName:function(){var c=this.tagName||this.nodeName;return c?c.toLowerCase():""},setText:function(c){f.empty.call(this);return f.appendText.call(this,c)},appendText:function(c){var a=
f.getDocument.call(this);this.appendChild(a.createTextNode(c));return this},getText:function(){return this.textContent||this.innerText||this.innerHTML.stripTags()},setContent:function(){f.empty.call(this);return f.addContent.apply(this,arguments)},addContent:function(){function c(a,b,g){var d,h,k,p;d=0;for(h=a.length;d<h;d++)if(p=a[d])if(p.nodeType)g.appendChild(p);else if("string"===typeof p)if(/<|&#?\w+;/.test(p)){k=b.createElement("div");for(f.setHTML.call(k,p);k.firstChild;)g.appendChild(k.firstChild)}else g.appendChild(b.createTextNode(p));
else"function"===typeof p.inject&&!Array.isArray(p)?p.inject(g):"number"===typeof p.length?c(p,b,g):(k=p.tag||"div",delete p.tag,g.appendChild(e.createElement(k,p)),p.tag=k)}return function(){var a=f.getDocument.call(this),b=a.createDocumentFragment();c(arguments,a,b);this.appendChild(b);return this}}(),setHTML:function(c){var a;if("string"!==typeof c)f.setContent.call(this,c);else try{this.innerHTML=a=c.escapeHTMLEntities().replace('<?xml version="1.0" encoding="UTF-8"?>',"").replace(/&(?!#?[a-z0-9]+;)/gi,
"&#38;")}catch(b){e.log("UWA.Element.setHTML error cause: "+b+' with HTML value "'+c+'"');try{this.innerHTML=String(c).stripTags()}catch(g){f.setText.call(this,c)}}return this},getHTML:function(){var c=this.innerHTML;t.Engine.ie&&(c=c.replace(/< *(\/ *)?(\w+)/g,function(c){return c.toLowerCase()}));return c},inject:function(c,a){var b,g=f.getDocument.call(this);a=a||"bottom";"bottom"===a?c.appendChild(this):"top"===a?c.insertBefore(this,c.firstChild):(b=c.parentNode,!b&&11!==c.nodeType&&(b=g.createDocumentFragment(),
b.appendChild(c)),b&&("after"===a?b.lastChild===c?b.appendChild(this):b.insertBefore(this,c.nextSibling):"before"===a&&b.insertBefore(this,c)));return this},grab:function(c,a){f.inject.call(c,this,a);return this},isInjected:function(){var c=document.documentElement;return c.contains?function(c){c=c||this.ownerDocument.documentElement;return c!==this&&(c.contains?c.contains(this):!0)}:c.compareDocumentPosition?function(c){c=c||this.ownerDocument.documentElement;return!!(c.compareDocumentPosition(this)&
16)}:function(c){var a=this;c=c||a.ownerDocument.documentElement;do a=a.parentNode;while(a&&a.parentNode);return a===c}}(),empty:function(c){for(var a;this.firstChild;)a=this.firstChild,c?f.destroy.call(a):this.removeChild(a);return this},remove:function(){var c=f.getParent.call(this);c&&c.removeChild(this);return this},destroy:function(){var c,a,b=f.remove,g=f.destroy,d=f.getChildren.call(this);c=0;for(a=d.length;c<a;c+=1)d[c].destroy&&g.call(d[c]);f.removeEvents.call(this);c=f.getDocument.call(this);
this!==c&&(this!==c.documentElement&&this!==c.body&&this!==f.getWindow.call(this))&&b.call(this)},getParent:function(c){var a=this.parentNode;if(c)for(;a&&1===a.nodeType&&!f.match.call(a,c);)a=a.parentNode;a&&1!==a.nodeType&&(a=null);return a?e.extendElement(a):null},getClosest:function(c){return f.match.call(this,c)?this:f.getParent.call(this,c)},getChildren:function(){return Array.prototype.filter.call(this.childNodes,function(c){return 1===c.nodeType}).map(e.extendElement)},getDocument:function(){return 9===
this.nodeType?this:this.ownerDocument||this.document},getWindow:function(){var c=f.getDocument.call(this);return c&&(c.defaultView||c.parentWindow)},getOffsetParent:function(){function c(a){return a&&("static"!==f.getStyle.call(a,"position")||/^(?:body|html)$/i.test(a.tagName))}function a(b){return c(b)||/^(?:table|td|th)$/i.test(b.tagName)}var b;return function(){var g,d=this,h=f.getDocument.call(d),h=d.offsetParent||h&&h.body;g=f.getStyle.call(d,"position");if(!/^(?:body|html)$/i.test(d.tagName)&&
"fixed"!==g){if(void 0===b){var k=document.createElement("div"),p=document.createElement("div");k.style.height="0";k.appendChild(p);b=p.offsetParent===k}if(b)for(g="static"===g?a:c;void 0!==(d=d.parentNode);){if(g(d)){h=d;break}}else try{h=d.offsetParent}catch(m){}}h&&(h=e.extendElement(h));return h}}(),getElements:function(c){return Array.prototype.map.call(a("querySelectorAll",c,this),e.extendElement,e)},getElement:function(c){return e.extendElement(a("querySelector",c,this))},match:function(c,
b){return a("matchesSelector",c,b,this)},hasClassName:function(c){return!(!this.className||!this.className.contains(c," "))},addClassName:function(c){f.hasClassName.call(this,c)||(this.className=(this.className.trim()+" "+c).trim());return this},removeClassName:function(c){this.className=this.className.replace(RegExp("(^|\\s)"+c+"(?:\\s|$)"),"$1");return this},toggleClassName:function(c,a){var b=e.is(a)?a:!f.hasClassName.call(this,c);return e.Element[b?"addClassName":"removeClassName"].call(this,
c)},setStyle:function(c,a){var b={};b[c]=a;return f.setStyles.call(this,b)},setStyles:function(){function c(a){var b=[];a.replace('^"|"$',"").split(",").forEach(function(c){b.push("'"+c.trim()+"'")});return b.join(", ")}var a={},b={none:"",firefox:"-moz-",opera:"-o-",trident:"-ms-",webkit:"-webkit-"},g={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1};return function(d){var h,k,p,m=this.style,j=[];for(p in d)if(d.hasOwnProperty(p))if(k=d[p],p=p.camelCase(),"opacity"===
p)f.setOpacity.call(this,k);else{if(""!==k&&null!==k&&isFinite(k)&&void 0===g[p])k+="px";else if("none"===k&&"userSelect"===p&&void 0!==m.MozUserSelect)k="-moz-none";else if("fontFamily"===p)k=c(k);else if("cursor"===p&&("grabbing"===k||"grab"===k)){h=k;var l=void 0,u=void 0,v=void 0,s=v=void 0,s=void 0,w="cursor"+h;if(a[w])l=a[w];else{l=!1;s=document.createElement("div");s=s.style;for(u in b)if(v=b[u],v+=h,s.cursor=v,s.cursor===v&&""!==v&&!t.Engine.ie){l=v;break}a[w]=l}h=l;k=!1!==h?h:t.Engine.opera?
"move":"url("+e.hosts.uwa+e.paths.css+"/base/cursor/"+("grabbing"===k?"closedhand":"openhand")+".cur)"+(t.Engine.ie?"":" 4 4")+", move"}j.push({name:f.getStyleName.call(this,p),value:k})}d=0;for(h=j.length;d<h;d++){p=j[d].name;k=j[d].value;try{m[p]=k}catch(n){e.log('Unable to set style "'+p+'" with value "'+k+'"')}}return this}}(),getStyle:function(c,a){return f.getStyles.call(this,[c],a)[c]},getStyles:function(){var c,a,b,g=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,d=/^margin/;document.defaultView&&document.defaultView.getComputedStyle?
c=function(c,b,e){var h,k,p,m,j,l=c.ownerDocument;h=l.defaultView;var u=window.getComputedStyle(c,null),v=c.style;if(h&&u){h=0;for(k=b.length;h<k;h++){m=b[h];p=f.getStyleName.call(c,m);j=u[p];if((""===j||"auto"===j)&&!f.isInjected.call(c,l.documentElement))j=v[p];if(void 0===a){var s=document.createElement("div");s.style.margin="1%";document.body.appendChild(s);a="1%"===(window.getComputedStyle(s,null)||{marginTop:0}).marginTop;document.body.removeChild(s)}a&&(d.test(p)&&g.test(j))&&(p=v.width,v.width=
j,j=u.width,v.width=p);e[m]=void 0!==j?j:v[m]||""}}return e}:document.documentElement.currentStyle&&(c=function(c,a,b){var d,e,h,k,p,m,j,l=c.currentStyle,u=c.runtimeStyle,v=c.style;d=0;for(e=a.length;d<e;d++){k=a[d];j=f.getStyleName.call(c,k);p=l&&l[j];if(g.test(p)){h=v.left;if(m=u&&u.left)u.left=l.left;v.left="fontSize"===j?"1em":p||0;p=v.pixelLeft+"px";v.left=h;m&&(u.left=m)}b[k]=void 0!==p?p:c.style[k]||""}return b});return function(a,g){var d={};-1!==a.indexOf("opacity")&&!b&&(b=!0,d.opacity=
f.getOpacity.call(this,g),a.splice(a.indexOf("opacity"),1),b=!1);if(!1===g){var e,h,k,p=this.style;e=0;for(h=a.length;e<h;e++)k=a[e],f.getStyleName.call(this,k),d[k]=p[k]||""}else d=c(this,a,d);return d}}(),getStyleName:function(){var c=t.Engine,a=c.name,b="box-sizing box-shadow transform transform-style transition transition-timing-function transition-duration transition-delay transition-property border-image border-radius text-stroke font-smoothing text-fillcolor text-shadow perspective appearance touch-callout overflow-scrolling mask user-select".split(" ");
return q.memoize(function(f,g){var d,e,h=[],k={firefox:"-moz",opera:"-o",ie:g?"-ms":"ms",chrome:"-webkit",safari:"-webkit"};if("string"===typeof f){f=f.unCamelCase();if("float"===f)d=c.ie?"style-float":"css-float";else if(-1!==b.indexOf(f)){if(k[a])d=k[a],h.push(d+"-"+f);else for(e in k)k.hasOwnProperty(e)&&(d=k[e],d=d+"-"+f,-1===h.indexOf(d)&&h.push(d));h=h.filter(function(c){return void 0!==u.style[c.camelCase()]});d=0===h.length?f:h.shift()}else d=f;g||(d=d.camelCase())}else d=f;return d},function(c){return c.join(".")})}(),
getOpacity:function(){var c=function(){},a=t.Features.opacityCSS,b=/alpha\(opacity=([\d.]+)\)/i;t.Features.filterCSS&&!a?c=function(c,a){var g,d=1;(g=f.getStyle.call(c,"filter",a).replace(/ /g,"").match(b))&&(d=g[1]/100);return d}:a&&(c=function(c,a){var b=1,g=c.style,d=f.getStyle;void 0!==g.opacity?b=d.call(c,"opacity",a):void 0!==g.MozOpacity&&(b=d.call(c,"MozOpacity",a));return parseFloat(b,10)});return function(a){return c(this,a)}}(),setOpacity:function(){var c=function(){},a=t.Features.opacityCSS;
t.Features.filterCSS&&!a?c=function(c,a,b){a.zoom=1;b=1===b?"":"alpha(opacity="+100*b+")";a.MsFilter=b;a.filter=b;c=a.display;a.display="none";a.display=c}:a&&(c=function(c,a,b){void 0!==a.opacity?a.opacity=b:void 0!==a.MozOpacity&&(a.MozOpacity=b)});return function(a){var b=this.style;a=parseFloat(a,10);c(this,b,1<a?1:1E-5>a?0:a);return this}}(),hide:function(){return f.setStyle.call(this,"display","none")},show:function(){function c(a){return f.getStyle.call(a,"display")}var a,b,g;g=q.memoize(function(f){var g,
d=document,e=d.body,h=d.createElement(f);e.appendChild(h);g=c(h);e.removeChild(h);if("none"===g||""===g){a||(a=d.createElement("iframe"),a.frameBorder=a.width=a.height=0);e.appendChild(a);if(!b||!a.createElement)b=(a.contentWindow||a.contentDocument).document,b.write(("CSS1Compat"===d.compatMode?"<!doctype html>":"")+"<html><body>"),b.close();h=b.createElement(f);b.body.appendChild(h);g=c(h);e.removeChild(a)}return g});return function(){var a;this.style&&(a=this.style.display,"none"===a&&(a=this.style.display=
""),""===a&&(this.style.display="none"===c(this)&&g(this.nodeName)||""));return this}}(),toggle:function(c){c=e.is(c)?c:"none"===f.getStyle.call(this,"display");return e.Element[c?"show":"hide"].call(this)},getComputedSize:function(){var c={borderWidth:["borderLeftWidth","borderRightWidth"],borderHeight:["borderBottomWidth","borderTopWidth"],paddingWidth:["paddingLeft","paddingRight"],paddingHeight:["paddingTop","paddingBottom"],marginWidth:["marginLeft","marginRight"],marginHeight:["marginTop","marginBottom"],
innerWidth:["borderWidth","paddingWidth"],innerHeight:["borderHeight","paddingHeight"],outerWidth:["marginWidth"],outerHeight:["marginHeight"]};return function(){var a,b,g,d,e=q.toArray(arguments),h=0;for(a=0;a<e.length;a++)g=e[a].camelCase(),c[g]?(e.splice(a,1),e=e.concat(c[g]),a--):e.splice(a,1,g);d=f.getStyles.call(this,e);a=0;for(b=e.length;a<b;a++)g=e[a],h+=parseFloat(d[g],10)||0;return h}}(),getScrolls:function(){var c;return function(){var a,b,g;if(e.is(this,["window","document"]))b=t.getScrolls();
else{g=this.style;b={width:this.scrollWidth,height:this.scrollHeight,top:this.scrollTop,left:this.scrollLeft};if(void 0===c){a=document.documentElement;var d=document.createElement("div"),h=document.createElement("div");h.style.visibility="hidden";h.style.overflow="hidden";h.style.width="1px";d.style.overflow="visible";d.innerHTML="x";h.appendChild(d);a.appendChild(h);c=1===d.scrollWidth;a.removeChild(h)}c&&-1!==["","visible"].indexOf(f.getStyle.call(this,"overflow"))&&(a=g.overflow,g.overflow="hidden",
b.width=this.scrollWidth,g.overflow=a)}return b}}(),getOffsets:function(){function c(a){var b=a.ownerDocument.defaultView;return b?b.getComputedStyle(a,null):a.currentStyle}function a(){var c,b,g,m=document.body,j=parseInt(f.getStyle.call(m,"marginTop"),10),l=document.createElement("div");l.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
m.insertBefore(l,m.firstChild);c=l.firstChild;b=c.firstChild;g=c.nextSibling.firstChild.firstChild;d=5!==b.offsetTop;e=5===g.offsetTop;b.style.position="fixed";b.style.top="20px";h=20===b.offsetTop||15===b.offsetTop;b.style.position=b.style.top="";c.style.overflow="hidden";c.style.position="relative";k=-5===b.offsetTop;p=m.offsetTop!==j;m.removeChild(l)}function b(c){var g=c.offsetTop,e=c.offsetLeft;void 0===d&&a();p&&(g+=parseFloat(f.getStyle.call(c,"marginTop"))||0,e+=parseFloat(f.getStyle.call(c,
"marginLeft"))||0);return{x:e,y:g}}var g=/^t(?:able|d|h)$/i,d,e,h,k,p;return void 0!==document.documentElement.getBoundingClientRect?function(){if(this===this.ownerDocument.body)return b(this);var c,a,g,d,e;d=f.getWindow.call(this);e=d.webkitConvertPointFromNodeToPage;if(this.getBoundingClientRect){a=f.getDocument.call(this);c=a.documentElement;d=a.body;a=c.clientTop||d.clientTop||0;d=c.clientLeft||d.clientLeft||0;e=t.getScrolls();try{g=this.getBoundingClientRect()}catch(h){}!g||!f.isInjected.call(this,
c)?(c=g?g.left:0,a=g?g.top:0):(c=g.left+e.x-a,a=g.top+e.y-d)}else e&&(g=e(this,new d.WebKitPoint(0,0)),c=g.x,a=g.y);return{x:c,y:a}}:function(){if(this===this.ownerDocument.body)return b(this);var p,m=this,j=m.offsetParent,l=f.getDocument.call(m),u=l.documentElement,l=l.body;p=c(m);var v=m.offsetTop,s=m.offsetLeft;void 0===d&&a();for(m=m.parentNode;m&&(m!==l&&m!==u&&11!==m.nodeType)&&!(h&&"fixed"===p.position);){p=c(m);s-=m.scrollLeft;v-=m.scrollTop;if(m===j){s+=m.offsetLeft;v+=m.offsetTop;if(d&&
(!e||!g.test(m.nodeName)))s+=parseFloat(p.borderLeftWidth)||0,v+=parseFloat(p.borderTopWidth)||0;j=m.offsetParent}k&&"visible"!==p.overflow&&(s+=parseFloat(p.borderLeftWidth)||0,v+=parseFloat(p.borderTopWidth)||0);m=m.parentNode}if("relative"===p.position||"static"===p.position)s+=l.offsetLeft,v+=l.offsetTop;h&&"fixed"===p.position&&(s+=Math.max(u.scrollLeft,l.scrollLeft),v+=Math.max(u.scrollTop,l.scrollTop));return{x:s,y:v}}}(),getPosition:function(c,a){var b,g,d,h,k;b=/^(?:body|html)$/i;k=f.getOffsetParent;
h=f.getOffsets;d=f.getComputedSize;g=f.getSize;var p=f.isInjected,m={x:0,y:0};c=c||k.call(this);if(!c||!p.call(this))return m;k=h.call(this);if(c!==f.getDocument.call(this)&&(b=b.test(c.nodeName)?m:h.call(c),k.x-=parseFloat(d.call(this,"marginLeft"))||0,k.y-=parseFloat(d.call(this,"marginTop"))||0,b.x+=parseFloat(d.call(c,"borderLeftWidth"))||0,b.y+=parseFloat(d.call(c,"borderTopWidth"))||0,k.x-=b.x,k.y-=b.y,d=e.typeOf(a))){"string"===d&&(a={x:a,y:a});g=g.call(this);for(d=0;2>d;d+=1)if(b=d?"x":"y",
h=d?"width":"height","center"===a[b])k[b]+=g[h]/2;else if(1===d&&"right"===a[b]||0===d&&"bottom"===a[b])k[b]+=g[h]}return k},setPosition:function(){var c={full:function(c){var a=f.getSize.call(this);c.width-=a.width;c.height-=a.height},"resize-max":function(c,a){f.setStyles.call(this,{maxWidth:c.x+c.width-a.x,maxHeight:c.y+c.height-a.y})},none:function(){}};return function(a,b){b=b||{};var g,d,h=f.getDocument.call(this).body,k=f.getOffsetParent.call(this)||h,p=f.getOffsets.call(k),m=f.getOffsets.call(b.relative||
k),k=b.boundary,j=b.boundaryMargin||0,l,u;switch(e.typeOf(k)){case !1:break;case "object":u={x:k.x+m.x,y:k.y+m.y,width:k.width,height:k.height};break;case "element":l=k;break;default:for(l=f.getOffsetParent.call(this);l&&(l!==h&&1===l.nodeType)&&"visible"===f.getStyle.call(l,"overflow");)l=l.parentNode;if(!l||1!==l.nodeType)l=h}l&&(l===h?u=e.merge(t.getScrolls(),t.getSize()):(u=f.getOffsets.call(l),u.width=l.offsetWidth,u.height=l.offsetHeight));u&&(u.x+=j,u.y+=j,u.width-=2*j,u.height-=2*j);g=u;"number"===
typeof a.length&&(d=f.getSize.call(this),q.splat(a).forEach(function(c){var a=m.x+c.x,b=m.y+c.y;c.score=(Math.min(g.x+g.width,a+d.width)-Math.max(g.x,a))*(Math.min(g.y+g.height,b+d.height)-Math.max(g.y,b))}),a.sort(function(c,a){return a.score-c.score}),a=a[0]);a={x:a.x+m.x,y:a.y+m.y};g&&(b.fit?"string"===typeof b.fit&&e.owns(c,b.fit)&&(b.fit=c[b.fit]):b.fit=c.full,b.fit.call(this,g,a),a.x=Math.max(g.x,Math.min(a.x,g.x+g.width)),a.y=Math.max(g.y,Math.min(a.y,g.y+g.height)));f.setStyles.call(this,
{top:a.y-p.y,left:a.x-p.x});return this}}(),getSize:function(){var c,a,b,g,d;e.is(this,["window","document"])?b=t.getSize():(c=f.getStyle.bind(this),b=this.style,g=this.offsetWidth,d=this.offsetHeight,"none"===c("display")&&(0===g&&0===d)&&(a=b.display,c=b.visibility,b.visibility="visible",b.display="block",g=this.offsetWidth,d=this.offsetHeight,b.display=a,b.visibility=c),b={width:g,height:d});return b},getDimensions:function(){var c,a=f.getSize.call(this),b=a.width,a=a.height,g=f.getStyles.call(this,
"maxWidth maxHeight minWidth minHeight borderLeftWidth borderRightWidth paddingLeft paddingRight borderBottomWidth borderTopWidth paddingTop paddingBottom marginLeft marginRight marginTop marginBottom".split(" "));for(c in g)g[c]=parseFloat(g[c],10)||0;return{width:b,height:a,maxWidth:g.maxWidth||-1,maxHeight:g.maxHeight||-1,minWidth:g.minWidth||-1,minHeight:g.minHeight||-1,innerWidth:b-(g.borderLeftWidth+g.borderRightWidth+g.paddingLeft+g.paddingRight),innerHeight:a-(g.borderBottomWidth+g.borderTopWidth+
g.paddingTop+g.paddingBottom),outerWidth:b+g.marginLeft+g.marginRight,outerHeight:a+g.marginTop+g.marginBottom}},isInViewport:function(c,a,b,g){var d,e,h=f.getOffsets;d=h.call(c);h=h.call(this);e=c.offsetHeight;var k=c.offsetWidth,p=this.offsetWidth,m=this.offsetHeight;c=h.y;var h=h.x,j=c+this.offsetHeight,l=h+this.offsetWidth;a?(a=h<d.x+k&&h+p>d.x,d=c<d.y+e&&c+m>d.y):(a=h>=d.x&&h+p<=d.x+k,d=c>=d.y&&c+m<=d.y+e);g="x"===g?a:"y"===g?d:a&&d;b&&(e=t.getScrolls(),a=t.getSize(),b=e.y,d=e.y+a.height,a=e.x+
a.width,e=e.x,g=g&&c<d&&h<a&&j>b&&l>e);return g},setData:function(c,a){var b=this,g=e.typeOf(a),d=e.typeOf(c);"string"===d&&g?(a=n.encode(a),b.dataset?b.dataset[c.camelCase()]=a:(c="data-"+c.unCamelCase(),b.setAttribute?b.setAttribute(c,a):b[c]=a)):"object"===d&&!g&&Object.keys(c).forEach(function(a){f.setData.call(b,a,c[a])});return b},getData:function(c){var a;e.is(c,"string")&&(this.dataset?a=this.dataset[c.camelCase()]:(c="data-"+c.unCamelCase(),a=this.getAttribute?this.getAttribute(c,a):this[c]=
a));return e.is(a)?n.decode(a):void 0},removeData:function(c){e.is(c,"string")&&(c="data-"+c.camelCase(),this.removeAttribute?this.removeAttribute(c):this[c]=null);return this},handleExternalLinks:function(c){f.addEvent.call(this,"click",function(a){if(!b.isDefaultPrevented(a)){for(var g,d=b.getElement(a),e=String(window.location).split("#")[0];d&&!g;)g="a"===f.getTagName.call(d)&&d.getAttribute("href")||f.getData.call(d,"href"),d=f.getParent.call(d);g&&(0!==g.indexOf(e+"#")&&0!==g.indexOf("#")&&
0!==g.indexOf("javascript"))&&(c(g),b.stop(a))}});return this},addEvent:function(c,a,b,g,d){c=j(c);var k=a&&"function"===typeof a.handleEvent?a:this,p=this,m=c.name,l,u,v=p._events||{},s=(b=!b?f.Events[m]:!1)?m+"Custom":m,w=v[s];w||(u=new h(p),v[s]=w={dispatcher:u,handleEvent:function(c){"Mootools"===e.driver&&(c=new (window.DOMEvent||window.Event)(c),"offsetY offsetX relatedTarget button metaKey altKey shiftKey ctrlKey clientY clientX screenY screenX which pageY pageX layerY layerX charCode keyCode timeStamp cancelable bubbles target type detail wheelDelta touches changedTouches".split(" ").forEach(function(a){e.owns(c,
a)||(c[a]=c.event[a])}));void 0===c.timeStamp&&(c.timeStamp=Date.now());u.dispatch([c])},events:{},bindings:[],timers:[]},l=w.handleEvent,p._events=v,b?b(w,p,{target:p,type:m}):p.addEventListener?p.addEventListener(m,l,d||!1):(p.attachEvent("on"+m,l),window.attachEvent("onunload",function(){p.detachEvent("on"+m,l)})));d=w;d.dispatcher.addDelegation(a,c.selector,k,g);"load"===c.name&&(this.tagName&&"img"===this.tagName.toLowerCase()&&this.complete&&0<this.width)&&d.dispatcher.dispatch();return this},
addEvents:function(c,a,b,g){for(var d in c)c.hasOwnProperty(d)&&f.addEvent.call(this,d,c[d],a,b,g);return this},triggerEvent:function(c){var a=(this._events||{})[c];c={target:this,timeStamp:Date.now(),type:c};a&&a.handleEvent(c);return this},removeEvent:function(c,a,b){if(!e.is(c))return f.removeEvents.call(this);c=j(c);var g,d,h=this._events&&this._events[c.name+"Custom"],k=h?c.name+"Custom":c.name,p=this._events&&this._events[k];if(p&&(d=p.dispatcher,!a&&!c.selector?d.removeAll():d.removeDelegation(a,
c.selector),0===d.getNumListeners())){delete this._events[k];c=p.events;for(g in c)c.hasOwnProperty(g)&&f.removeEvent.call(this,g,c[g]);if(p.timers){g=0;for(c=p.timers.length;g<c;g++)clearTimeout(p.timers[g])}if(p.bindings){g=0;for(c=p.bindings.length;g<c;g++)p.bindings[g].dispose()}h||(this.removeEventListener?this.removeEventListener(k,p.handleEvent,b):this.detachEvent("on"+k,p.handleEvent));d.dispose()}return this},removeEvents:function(c){var a,b="undefined"!==typeof c,g=b?c:this._events;for(a in g)g.hasOwnProperty(a)&&
f.removeEvent.call(this,a,b?c[a]:null);return this},fillParent:function(c,a){c=c||"height";var b=a||f.getParent.call(this),g=f.setStyle.bind(this),d=c.ucfirst();b&&(g("height","10000px"),g("height",b["offset"+d]-b["scroll"+d]+1E4+"px"));return this},setSelectable:function(){function c(a){b.preventDefault(a)}return function(a){this.setAttribute("unselectable",a?"off":"on");f.setStyles.call(this,{userSelect:a?"":"none",touchCallout:a?"":"none"});f[a?"removeEvent":"addEvent"].call(this,"selectstart",
c);return this}}(),requestFullscreen:function(){var c=k(u,"requestFullscreen")||k(u,"requestFullScreen");return c?function(){return c.call(this,1)}:function(){throw Error("Element#requestFullscreen is not available in this platform");}}()});var g=f,m;if((m=t.Features)&&m.mutationEvents)m=function(c,a){function b(a){clearTimeout(g);g=setTimeout(function(){c.handleEvent(a)},d)}var g,d=250;f.addEvent.call(a,"DOMSubtreeModified",b);c.events.DOMSubtreeModified=b};else{var y=function(){clearTimeout(v);
p.dispatch();0<p.getNumListeners()&&(v=setTimeout(y,w))},v,p=new r,w=200;m=function(c,a,b){var f,g=a.innerHTML;0<c.bindings.length||(c.timers=[f],c.bindings=[p.add(function(){var d=a.innerHTML;g!==d&&(g=d,clearTimeout(f),f=setTimeout(function(){c.handleEvent(b)},250))})],y())}}var A=function(c){c=e.is(c,["window","document"])?t.getSize():{width:c.scrollWidth,height:c.scrollHeight};return c.width+"x"+c.height},B=function(){clearTimeout(D);H.dispatch();0<H.getNumListeners()&&(D=setTimeout(B,G))},D,
H=new r,G=200;g.Events={mouseleave:function(c,a,b){var g=c.handleEvent;a.addEventListener?(c.handleEvent=function(c){c=c.relatedTarget;var a;if(a=this!==c){a=!1;if(this!==c){for(;c&&c!==this;)c=c.parentNode;a=this===c}a=!a}a&&g.call(this,b)},f.addEvent.call(a,"mouseout",c.handleEvent),c.events.mouseout=c.handleEvent):(f.addEvent.call(a,"mouseleave",g,!0),c.events.onmouseleave=g)},mouseenter:function(c,a,b){var g=c.handleEvent;a.addEventListener?(c.handleEvent=function(c){c=c.relatedTarget;var a;if(a=
this!==c){a=!1;if(this!==c){for(;c&&c!==this;)c=c.parentNode;a=this===c}a=!a}a&&g.call(this,b)},f.addEvent.call(a,"mouseover",c.handleEvent),c.events.mouseover=c.handleEvent):(f.addEvent.call(a,"mouseenter",g,!0),c.events.mouseenter=g)},mousewheel:function(c,a){var b=c.handleEvent,g=t.Engine.firefox?"DOMMouseScroll":"mousewheel";c.handleEvent=function(c){c=c||window.event;c.wheel=c.wheelDelta?c.wheelDelta/120:-(c.detail||0)/3;b(c)};f.addEvent.call(a,g,c.handleEvent,!0);c.events[g]=c.handleEvent},
update:m,resize:function(c,a,b){var g,d=A(a);0<c.bindings.length||(c.timers=[g],window===a&&e.is(window.orientationchange)&&(f.addEvent.call(a,"orientationchange",B),c.events.orientationchange=B),c.bindings=[H.add(function(){var h=A(a),k="0x0"===d||e.is(a,["window","document"])?!1:!f.isInjected.call(a);d!==h&&"0x0"!==h&&(d=h,k||(clearTimeout(g),g=setTimeout(function(){c.handleEvent(b)},220)))})],B())}};l("fullscreenchange");l("fullscreenerror");l("transitionEnd",function(){var c,a=document.createElement("fakeelement"),
b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(c in b)if(b.hasOwnProperty(c)&&e.is(a.style[c]))return b[c]});r=u;g=r.querySelectorAll;m=r.querySelector;var L=r.getElementsByClassName,M=!0;d.configure({useNativeQSA:!1});try{g.call(r,"a:not(.foo)")}catch(O){M=!1}r.matchesSelector||(f.matchesSelector=k(r,"matchesSelector")||function(c,a){return d.is(this,c,a&&a.parentNode)});if(!g||!M)f.querySelectorAll=
function(c){return d(c,this)};if(!m||!M)f.querySelector=function(){return f.querySelectorAll.apply(this,arguments)[0]};L||(f.getElementsByClassName=function(c){return d("."+c,this)});document.exitFullscreen=k(document,"exitFullscreen")||k(document,"cancelFullScreen")||function(){throw Error("Element#requestFullscreen is not available in this platform");};e.owns(document,"fullscreenEnabled")||(document.fullscreenEnabled=k(document,"fullscreenEnabled"));var C=k(document,"fullscreenElement",!0)||k(document,
"fullScreenElement",!0)||k(document,"currentFullScreenElement",!0);if(C&&"fullscreenElement"!==C)try{f.addEvent.call(document,"fullscreenchange",function(){document.fullscreenElement=document[C]}),document.fullscreenElement=document[C]}catch(K){}return e.namespace("Element",f,e,!0)});
define("UWA/Class/Timed",["UWA/Core","UWA/Class","UWA/Utils","UWA/Utils/Client"],function(e,q,t,r){function n(b,f,a,d){return function(e,j,s,n,c){var g=this;j=t.attempt.bind(null,j,function(c){g[b](e);throw Error("The "+f.slice(0,-1)+' "'+e+'" failed with error "'+c+'".');},c||g);g[b](e);g[f]||(g[f]=Object.create(null));g[f][e]=a(function(){if(d)g[b](e);j()},s);n&&j();return g}}function b(b,f){return function(a){var d,e=this[b];if(e)if(a)e[a]&&(f(e[a]),delete e[a]);else for(d in e)f(e[d]),delete e[d];
return this}}function d(b){return function(f){var a=this[b];return!(!a||!a[f])}}var j;j=r.getVendorProperty(window,"cancelAnimationFrame")||clearTimeout;r=r.getVendorProperty(window,"requestAnimationFrame")||function(b){return setTimeout(b,1E3/60)};j=q.extend({setPeriodical:n("clearPeriodical","periodicals",window.setInterval),clearPeriodical:b("periodicals",window.clearInterval),hasPeriodical:d("periodicals"),setDelayed:n("clearDelayed","delays",window.setTimeout,!0),clearDelayed:b("delays",window.clearTimeout),
hasDelayed:d("delays"),setAnimate:n("clearAnimate","animates",r,!0),clearAnimate:b("animates",j),hasAnimate:d("animates"),clearAllTimed:function(){this.clearAnimate();this.clearDelayed();this.clearPeriodical();return this}});return e.namespace("Timed",j,q)});
define("UWA/Fx","UWA/Core UWA/Class UWA/Class/Options UWA/Class/Events UWA/Class/Timed UWA/Element".split(" "),function(e,q,t,r,n,b){function d(b){return-1!==["borderColor","backgroundColor","color"].indexOf(b.camelCase())}function j(b){var a=+b;isNaN(a)&&(a=parseInt(b,10));return isNaN(a)?0:a}var l=q.extend(t,n,r,{defaultOptions:{transition:"linear",duration:500,unit:"px",wait:!1},element:null,from:null,to:null,current:null,init:function(b,a){this.element=b;this.from={};this.to={};this.queue=[];
this.setOptions(a)},tween:function(b,a,d){var e={};e[b]=[a,d];return this.start(e)},fade:function(f){f=void 0!==f?f:"toggle";var a=b.getOpacity.call(this.element),d={opacity:[]};switch(f){case "in":d.opacity=[a,1];break;case "out":d.opacity=[a,0];break;case "show":d.opacity=[1,1];break;case "hide":d.opacity=[0,0];break;case "toggle":d.opacity=1>a?[a,1]:[a,0];break;default:d.opacity=[a,f]}return this.start(d)},start:function(b){!this.options.wait||!this.hasAnimate("fx")?(this.stop(),this.setSteps(b),
this.dispatchEvent("onStart"),this.startTime=Date.now(),this.current={},this.animate()):this.queue.push(b);return this},pause:function(){this.clearAnimate("fx");return this},stop:function(){this.pause();this.from={};this.to={};return this},setSteps:function(f){var a,e={},k={};for(a in f)f.hasOwnProperty(a)&&(a=a.camelCase(),Array.isArray(f[a])?(e[a]=f[a][0],k[a]=f[a][1]):(e[a]=b.getStyle.call(this.element,a),k[a]=f[a]),d(a)?(e[a]=e[a].hexToRgb(!0),k[a]=k[a].hexToRgb(!0)):(e[a]=j(e[a]),k[a]=j(k[a])));
this.from=e;this.to=k},compute:function(b,a){var d,k=this.options;d=k.transition;var k=k.duration,j=e.typeOf(d);if("string"===j)if(e.is(l.Transitions[d],"function"))d=l.Transitions[d];else throw Error("Invalid UWA.FX transition option value.");else if("array"===j)d=l.Transitions.cubicBezier.apply(null,d);else if("function"!==j)throw Error("Invalid UWA.FX transition option value.");d=0<k&&b!==a?d(this.currentTime,b,a-b,k):a;if(isNaN(d))throw Error('Invalid UWA.FX transition computation value with from "{0}" to "{1}".'.format(b,
a));return d},animate:function(){var b,a=Date.now(),d=this.options.duration,e=this.startTime;a<e+d?this.currentTime=a-e:(this.currentTime=d,b=!0);this.dispatchEvent("onAnimate",[this.element,this.from,this.to]);b?(this.stop(),this.dispatchEvent("onComplete"),0<this.queue.length&&this.start(this.queue.shift()),this.lastTime=null):this.setAnimate("fx",this.animate);this.fps=1E3/(a-(this.lastTime||a));this.lastTime=a},onAnimate:function(f,a,e){var k,j,l={};for(k in a)a.hasOwnProperty(k)&&(j=d(k)?"rgb("+
Math.round(this.compute(a[k][0],e[k][0]))+","+Math.round(this.compute(a[k][1],e[k][1]))+","+Math.round(this.compute(a[k][2],e[k][2]))+")":this.compute(a[k],e[k]),this.current[k]!==j&&(l[k]=j));this.current=l;b.setStyles.call(f,l)}});l.Transitions={linear:function(b,a,d,e){return d*b/e+a},quadIn:function(b,a,d,e){return d*(b/=e)*b+a},quadOut:function(b,a,d,e){return-d*(b/=e)*(b-2)+a},quadInOut:function(b,a,d,e){return 1>(b/=e/2)?d/2*b*b+a:-d/2*(--b*(b-2)-1)+a},cubicIn:function(b,a,d,e){return d*(b/=
e)*b*b+a},cubicOut:function(b,a,d,e){return d*((b=b/e-1)*b*b+1)+a},cubicInOut:function(b,a,d,e){return 1>(b/=e/2)?d/2*b*b*b+a:d/2*((b-=2)*b*b+2)+a},quartIn:function(b,a,d,e){return d*(b/=e)*b*b*b+a},quartOut:function(b,a,d,e){return-d*((b=b/e-1)*b*b*b-1)+a},quartInOut:function(b,a,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+a:-d/2*((b-=2)*b*b*b-2)+a},quintIn:function(b,a,d,e){return d*(b/=e)*b*b*b*b+a},quintOut:function(b,a,d,e){return d*((b=b/e-1)*b*b*b*b+1)+a},quintInOut:function(b,a,d,e){return 1>(b/=e/
2)?d/2*b*b*b*b*b+a:d/2*((b-=2)*b*b*b*b+2)+a},sineIn:function(b,a,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+a},sineOut:function(b,a,d,e){return d*Math.sin(b/e*(Math.PI/2))+a},sineInOut:function(b,a,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+a},expoIn:function(b,a,d,e){return 0===b?a:d*Math.pow(2,10*(b/e-1))+a},expoOut:function(b,a,d,e){return b===e?a+d:d*(-Math.pow(2,-10*b/e)+1)+a},expoInOut:function(b,a,d,e){return 0===b?a:b===e?a+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+a:d/2*(-Math.pow(2,-10*--b)+2)+
a},circIn:function(b,a,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+a},circOut:function(b,a,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+a},circInOut:function(b,a,d,e){return 1>(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+a:d/2*(Math.sqrt(1-(b-=2)*b)+1)+a},backIn:function(b,a,d,e,j){j=!j?1.70158:j;return d*(b/=e)*b*((j+1)*b-j)+a},backOut:function(b,a,d,e,j){j=!j?1.70158:j;return d*((b=b/e-1)*b*((j+1)*b+j)+1)+a},backInOut:function(b,a,d,e,j){j=!j?1.70158:j;return 1>(b/=e/2)?d/2*b*b*(((j*=1.525)+1)*b-j)+a:d/2*((b-=2)*b*
(((j*=1.525)+1)*b+j)+2)+a},elasticIn:function(b,a,d,e,j,l){if(0===b)return a;if(1===(b/=e))return a+d;l=!l?0.3*e:l;j=!j?1:j;j<Math.abs(d)?(j=d,d=l/4):d=l/(2*Math.PI)*Math.asin(d/j);return-(j*Math.pow(2,10*(b-=1))*Math.sin((b*e-d)*2*Math.PI/l))+a},elasticOut:function(b,a,d,e,j,l){var n;if(0===b)return a;if(1===(b/=e))return a+d;l=!l?0.3*e:l;j=!j?1:j;j<Math.abs(d)?(j=d,n=l/4):n=l/(2*Math.PI)*Math.asin(d/j);return j*Math.pow(2,-10*b)*Math.sin((b*e-n)*2*Math.PI/l)+d+a},elasticInOut:function(b,a,d,e,j,
l){var n;0!==b&&(2===(b/=e/2)?a+=d:(l=!l?e*0.3*1.5:l,j=!j?1:j,j<Math.abs(d)?(j=d,n=l/4):n=l/(2*Math.PI)*Math.asin(d/j),a=1>b?-0.5*j*Math.pow(2,10*(b-=1))*Math.sin((b*e-n)*2*Math.PI/l)+a:0.5*j*Math.pow(2,-10*(b-=1))*Math.sin((b*e-n)*2*Math.PI/l)+d+a));return a},bounceIn:function(b,a,d,e){return d-l.Transitions.bounceOut(e-b,0,d,e)+a},bounceOut:function(b,a,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+a:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+0.75)+a:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+0.9375)+a:d*(7.5625*(b-=
2.625/2.75)*b+0.984375)+a},bounceInOut:function(b,a,d,e){var j=l.Transitions;return b<e/2?0.5*j.bounceIn(2*b,0,d,e)+a:0.5*j.bounceOut(2*b-e,0,d,e)+0.5*d+a},quinticBezier:function(b,a,d,e,j,l){var n;l-=b;a=(a-b)/l;d=(d-b)/l;e=(e-b)/l;var c=5*(a-b),g=10*(d-b)-4*c,m=10*(e-b)+30*(a-d),y=5*((j-b)/l+b)-20*(e+a)+30*d;n=l-b-y-m-g-c;return function(a,b,d,f){var e,k;f=a/f;var h=f*f;a*=h;if(n||m)y||g?(e=h,k=h*f):k=a;else if(y||g)e=a;return b+d*(n*h+y*h+m*k+g*e+c*f)}},cubicBezier:function(b,a,d,e){var j,l,n=
3*b,c=3*(d-b)-n,g=3*a,m=3*(e-a)-g;j=1-n-c;l=1-g-m;return function(a,b,d,f){a:{a/=f;f=1E3/60/f/4;var e,h,k,r;k=a;for(e=0;8>e;e++){r=((j*k+c)*k+n)*k-a;if(Math.abs(r)<f){a=k;break a}h=(3*j*k+2*c)*k+n;if(Math.abs(h)<f)break;k-=r/h}e=0;h=1;k=a;if(k<e)a=e;else if(k>h)a=h;else{for(;e<h;){r=((j*k+c)*k+n)*k;if(Math.abs(r-a)<f){a=k;break a}a>r?e=k:h=k;k=0.5*(h-e)+e}a=k}}a*=(l*a+m)*a+g;return b*(1-a)+(b+d)*a}}};return e.namespace("Fx",l,e)});
define("UWA/Plugins/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(e,q,t){q=q.extend(t,{init:function(e,n){this.widget=e;this.environment=e.environment;this.setOptions(n)},dispatchEvent:function(e,n,b){this.environment.dispatchEvent(e,n,b)},addEvent:function(e,n,b,d){this.environment.addEvent(e,n,b||this,d)},addEvents:function(e,n,b){for(var d in e)e.hasOwnProperty(d)&&this.addEvent(d,e[d],n,b)},removeEvent:function(e,n){this.environment.removeEvent(e,n)}});return e.namespace("Plugins/Abstract",
q,e)});
define("UWA/Controls/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Class/Events","UWA/Utils"],function(e,q,t,r,n){q=q.extend(t,r,{elements:null,init:function(b){this.elements={};this.setOptions(b)},inject:function(b,d){var e=this.getContent();e&&(this.dispatchEvent("onPreInject",[b]),e.inject(b,d),this.dispatchEvent("onPostInject",[b]),this.dispatchEvent("onResize",[b]));return this},getContent:function(){if(!this.elements.container&&!this.container)throw Error("You don't have an elements.container or container.");return this.elements.container||
this.container},getClassNames:function(){var b=this.constructor,d=n.toArray(arguments),e=n.splat(this.options.className||"").join(" ");for(d.length||(d=[""]);b;)b.prototype.name&&(e+=" "+b.prototype.name+d.join(" "+b.prototype.name)),b=b.parent;return e},hide:function(){this.getContent().hide();return this.dispatchEvent("onHide")},show:function(){this.getContent().show();return this.dispatchEvent("onShow")},destroy:function(){var b,d=this.elements||{};this.container&&(d.container=this.container);
for(b in d)d.hasOwnProperty(b)&&(d[b].destroy(),delete d[b]);this.removeEvents();this.clearAllTimed&&this.clearAllTimed();delete this.options}});return e.namespace("Controls/Abstract",q,e)});
define("UWA/Controls/Pager",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(e,q,t){t=t.extend({offset:0,limit:0,max:0,length:0,loadingData:!1,defaultOptions:{className:"uwa-pager nv-pager",type:0,showPageLinks:!1,showMoreLink:!1,pageLinks:5,length:0,offset:0,limit:10,max:0,loadNext:null,prevLabel:"prev",nextLabel:"next",moreLabel:"more"},init:function(e){this._parent(e);e=this.options;this.offset=parseInt(e.offset,10);this.limit=parseInt(e.limit,10);this.max=parseInt(e.max,10);this.length=
parseInt(e.length,10);this.buildSkeleton()},setOptions:function(e){this._parent(e);e=this.options;e.dataLength?e.length=e.dataLength:e.dataArray&&(e.length=e.dataArray.length);e.onChange&&this.addEvent("onOffsetChange",e.onChange);e.onMoreClick&&this.addEvent("onMoreClick",e.onMoreClick);if(e.showPageLinks||e.pageLinks&&!e.type)this.type=1;return this},setLength:function(e){this.length=parseInt(e,10);this.setOffset(this.offset)},setOffset:function(e){var n=this.offset;this.offset=Math.min(parseInt(0>
e?0:e,10),this.max||this.length);n!==this.offset&&this.dispatchEvent("onOffsetChange",[this.offset]);return this},setLimit:function(e){this.limit=parseInt(e,10);return this},getPageOffset:function(e){return Math.ceil((parseInt(e,10)||this.offset)/this.limit)},getPages:function(){return Math.ceil((this.max||this.length||1)/this.limit)},isLastPage:function(){var e=this.offset+this.limit>=this.length;return(!this.max||this.length>=this.max)&&e},buildSkeleton:function(){this.elements.container=e.createElement("div",
{"class":this.options.className});this.dispatchEvent("onRefresh")},buildPageInfos:function(){var r=this.elements;r.pageInfos=e.createElement("span",{"class":"pageInfos",html:e.createElement("span",{text:this.getPageOffset()+1+" / "+this.getPages()})}).inject(r.subContainer)},buildPageLinks:function(){var r,n,b=this.elements,d=this.options,j=this.injectPageLink.bind(this),l=this.injectPageSeparator.bind(this),d=d.pageLinks,f=this.getPages(),a=this.getPageOffset(),h=0;r=Math.round(d/2);var k=a>=r&&
f>=d?a-r+1:0;b.pageContainer=e.createElement("span",{"class":"pageLinks"});if(k<f)for(r=k;r<f&&h<d;r++)1<=k&&0===h&&(j(h),1<r&&l()),n=j(r),r===a&&n.addClassName("selected"),r<f-1&&h===d-1&&(r<f-2&&l(),j(f-1)),h++;b.pageContainer.inject(b.subContainer)},injectPageLink:function(r){var n=parseInt(r+1,10);return e.createElement("a",{"class":"pageLink",href:"#page_"+n,text:n,events:{click:this.dispatchAsEventListener("onPageClick",r)}}).inject(this.elements.pageContainer)},injectPageSeparator:function(){return e.createElement("span",
{"class":"comas",text:" ... "}).inject(this.elements.pageContainer)},onRefresh:function(){var r=this.elements,n=this.options;Math.ceil((this.max||this.length)/this.limit);var b=this.isLastPage();r.container.empty();r.subContainer=e.createElement("div");r.prev=e.createElement("a",{"class":"prev"+(0===this.offset?" disabled":""),href:"#prev",html:e.createElement("span",{text:e.i18n(n.prevLabel)}),events:{click:this.dispatchAsEventListener("onPrevClick")}}).inject(r.subContainer);r.next=b&&(n.showMoreLink||
n.moreLink)?e.createElement("a",{"class":"more",href:n.moreLink||"#more",html:e.createElement("span",{text:e.i18n(n.moreLabel)}),events:{click:this.dispatchAsEventListener("onMoreClick")}}).inject(r.subContainer):e.createElement("a",{"class":"next"+(b?" disabled":""),href:"#next",html:e.createElement("span",{text:e.i18n(n.nextLabel)}),events:{click:this.dispatchAsEventListener("onNextClick")}}).inject(r.subContainer);1===n.type?this.buildPageLinks():2===n.type&&this.buildPageInfos();r.subContainer.inject(r.container)},
onOffsetChange:function(e){this.offset=e;this.dispatchEvent("onRefresh");this.dispatchEvent("onChange",[e])},onPageClick:function(q,n){e.Event.preventDefault(q);this.loadingData||this.setOffset(this.limit*n)},onPrevClick:function(e){q.preventDefault(e);e=q.findElement(e,"a");!this.loadingData&&!e.hasClassName("disabled")&&this.setOffset(this.offset-this.limit)},onNextClick:function(e){q.preventDefault(e);var n=this,b=n.options.loadNext;e=q.findElement(e,"a");var d=n.offset+n.limit,j=d+n.limit<=n.length;
!n.loadingData&&(!n.isLastPage()&&!e.hasClassName("disabled"))&&(!b&&n.onNeedMoreData&&(b=function(b,d){n.onNeedMoreData(b);setTimeout(d.bind(null,null),6E4)}),!j&&b?(n.dispatchEvent("onLoadingStart"),b(n.length,function(b){b&&(n.length=b);n.setOffset(d);n.dispatchEvent("onLoadingEnd")})):n.setOffset(d))},onMoreClick:function(){},onLoadingStart:function(){this.loadingData=!0;this.elements.subContainer.addClassName("loading")},onLoadingEnd:function(){this.loadingData=!1;this.elements.subContainer.removeClassName("loading")}});
return e.namespace("Controls/Pager",t,e)});
define("UWA/Controls/Img",["UWA/Core","UWA/Controls/Abstract"],function(e,q){var t=q.extend({defaultOptions:{className:"uwa-img",url:null,height:null,width:null},init:function(e){this._parent(e);this.buildSkeleton()},buildSkeleton:function(){var q=this.options,n=this.elements;n.container=e.createElement("div",{"class":q.className,styles:{width:q.width+"px",height:q.height+"px"}});(n.image=e.createElement("img",{src:q.url,width:"100%",height:"100%",events:{error:this.dispatchAsEventListener("onError"),load:this.dispatchAsEventListener("onLoad"),
resize:this.dispatchAsEventListener("onResize")}})).inject(n.container)}});return e.namespace("Controls/Img",t,e)});
define("UWA/Controls/DropDown",["UWA/Core","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Utils/Client"],function(e,q,t,r,n){var b=n.Features.eventCapture;r=r.extend({name:"uwa-dropdown",defaultOptions:{position:{},positionOptions:{boundary:"auto"}},init:function(b){this._parent(b);this.clickOutsideEvent=function(b){(!b||!q.getElement(b).isInjected(this.elements.container))&&this.dispatchEvent("onClickOutside",[b])}.bind(this)},destroy:function(){this.hide();this._parent()},getContent:function(){var d=
this.elements;d.container||(d.container=e.createElement("div",{"class":this.getClassNames(),events:{click:this.dispatchEvent.bind(this,"onClick"),mouseleave:this.dispatchEvent.bind(this,"onMouseLeave")}}).hide(),b||(d.capture=e.createElement("div",{styles:{width:"100%",height:"100%",position:"absolute",zIndex:1E3,top:0,left:0},events:{click:this.clickOutsideEvent}})));return d.container},onClick:function(b){q.stopPropagation(b);this.hide()},onPostInject:function(){this.updatePosition()},onShow:function(){this.updatePosition();
this.hasEvent("onClickOutside")&&(b?t.addEvent.call(document,"click",this.clickOutsideEvent,null,0,!0):this.elements.capture.inject(document.body))},onHide:function(){b?t.removeEvent.call(document,"click",this.clickOutsideEvent,!0):this.elements.capture.remove()},isOpen:function(){return!!this.elements.container&&"none"!==this.elements.container.getStyle("display")},toggle:function(b){e.is(b)||(b=!this.isOpen());this[b?"show":"hide"]();return this},setPosition:function(b,e){this.options.position=
b;this.options.positionOptions=e;return this.updatePosition()},updatePosition:function(){this.isOpen()&&this.elements.container.setPosition(e.is(this.options.position,"function")?(0,this.options.position)():this.options.position,e.is(this.options.positionOptions,"function")?(0,this.options.positionOptions)():this.options.positionOptions);return this},getInnerElement:function(){return this.getContent()}});r.Pointy=r.extend({name:"uwa-pointydropdown",defaultOptions:{autoPosition:["below-center","right-start",
"left-start","above-center"],margin:12},updatePosition:function(){var b,j,l=this.options,f=l.margin,a=[{x:0,y:0}],h;l.target&&(b=l.target.getDimensions(),j=this.getContent().getDimensions(),a=l.autoPosition.map(function(a){a=a.split("-");var e=a[0];a=a[1]||"center";var h={x:0,y:0};h.place=e;h.align=a;"below"===e?h.y=b.height+f:"above"===e?h.y=-j.outerHeight-f:"center"===a?h.y=b.height/2-j.outerHeight/2:"end"===a&&(h.y=b.height-j.outerHeight);"left"===e?h.x=-j.outerWidth-f:"right"===e?h.x=b.width+
f:"center"===a?h.x=b.width/2-j.outerWidth/2:"end"===a&&(h.x=b.width-j.outerWidth);return h}));this.isOpen()&&(h=this.elements.container,h.setPosition(a,e.merge({relative:l&&l.target},this.options.positionOptions)),a=a[0],this._containerClassName&&h.removeClassName(this._containerClassName),this._containerClassName=a.place+" "+a.align,h.addClassName(this._containerClassName),this.updatePointPosition(a.place));return this},updatePointPosition:function(b){var e=this.options.target,l=this.getContent(),
f=l.getSize(),l=l.getOffsets(),a=e.getSize(),e=e.getOffsets(),h={bottom:null,left:null,right:null,top:null};e.x-=l.x;e.y-=l.y;if("below"===b||"above"===b){h.left=e.x+a.width/2;if(10>h.left||h.left>f.width-10)h.left=f.width/2;"below"===b?h.top=0:h.bottom=0}else{h.top=e.y+a.height/2;if(10>h.top||h.top>f.height-10)h.top=f.height/2;"right"===b?h.left=0:h.right=0}this.elements.point.setStyles(h).setText({above:"j",below:"k",left:"m",right:"l"}[b]||" ").toggleClassName("side","left"===b||"right"===b)},
getInnerElement:function(){this.getContent();return this.elements.inner},getContent:function(){var b=this.elements;b.inner||this._parent().setContent(b.inner=e.createElement("div",{"class":this.getClassNames("-inner")}),b.point=e.createElement("div",{"class":this.getClassNames("-point")}));return b.container}});return e.namespace("Controls/DropDown",r,e)});
define("UWA/Controls/Scroller","UWA/Core UWA/Class/Timed UWA/Controls/Abstract UWA/Utils/Client UWA/Event UWA/Element UWA/Fx".split(" "),function(e,q,t,r,n,b,d){function j(c){var a;a=!0;if(c=n.getElement(c))a=c.getTagName(),c=c.getStyle("overflow"),a=a&&!a.match(h)&&!c.match(k);return a}function l(c){c=c.type;return-1!==c.indexOf("mouse")?"mouse":-1!==c.indexOf("touch")?"touch":-1!==c.indexOf("ointer")?"pointer":"none"}function f(c,a,d){"init"===c?b.addEvents.call(a,{touchstart:d,mousedown:d,MSPointerDown:d}):
"start"===c?b.addEvents.call(a,{touchmove:d,mousemove:d,MSPointerMove:d,touchend:d,touchcancel:d,mouseup:d,MSPointerUp:d}):"stop"===c?b.removeEvents.call(a,{touchmove:d,mousemove:d,MSPointerMove:d,touchcancel:d,touchend:d,mouseup:d,MSPointerUp:d}):"destroy"===c&&b.removeEvents.call(a,{touchstart:d,mousedown:d,MSPointerDown:d,touchmove:d,mousemove:d,MSPointerMove:d,touchcancel:d,touchend:d,mouseup:d,MSPointerUp:d})}var a,h=/input|textarea|select/i,k=/auto|scroll/i,u=r.Features,s=r.Platform,z=5.1<=
r.Engine.version&&!!s.ios;a=t.extend(q,{name:"uwa-scroller",position:null,direction:null,scroll:null,maxScroll:null,scroller:null,maxPage:null,scrollBars:null,isScrolling:!1,isTracking:!1,isDragging:!1,isPulling:!1,enabled:!0,defaultOptions:{className:"",width:"",height:"",bounce:!1,momentum:!1,snap:!1,threshold:6,lockDirection:!0,scrollableX:!0,scrollableY:!0,scrollbarH:!0,scrollbarV:!0,scrollTime:250,scrollSize:40,scrollDrag:u.dragAndDrop&&!s.blackberry,useTransform:u.transitionsCSS&&!s.webos,useNative:s.blackberry,
isTouch:u.touchEvents,has3d:u.cssMatrix,preventDefaultMouseWheel:!1,debugPixel:!1},init:function(c,a){this._parent(a);a=this.options;e.extend(this,{position:{x:0,y:0},direction:{x:0,y:0},scroll:{x:!1,y:!1,width:0,height:0},maxScroll:{x:0,y:0},scroller:{width:0,height:0},page:{x:0,y:0},maxPage:{x:0,y:0},scrollBars:{x:null,y:null}});a.useNative?this.buildNative(c):this.buildSkeleton(c);this.initEvents();this.setPosition(0,0,0,!0)},destroy:function(){var c=this.elements,d=c.element,e=c.scroller,h=c.wrapper,
c=c.scrollerParent,k=this.eventHandler;a.activeScroller===this&&delete a.activeScroller;d&&(b.removeEvent.call(d,"resize",k),b.inject.call(d,e,"before"));c&&b.removeEvent.call(c,"resize",k);f("destroy",e,this.eventHandler);b.removeEvents.call(e,{keydown:k,mousewheel:k});e.destroy();h.destroy()},setOptions:function(c){this._parent(c);c=this.options;var a=c.snap;c.snap=!0===a?{x:null,y:null}:"number"===typeof a?{x:a,y:a}:a;return this},buildNative:function(c){var a=this,b=s.android||s.blackberry||z?
"scroll":"auto",d=a.options,b=a.elements={element:c,scroller:e.createElement("div",{"class":a.getClassNames("","-native"),styles:{overflow:b,overflowScrolling:"touch",zIndex:"0",position:"relative",height:d.height||"100%",width:d.width||"100%",userSelect:"none",zoom:"1"}}),wrapper:e.createElement("div",{"class":d.className+"-wrapper"}),ghost:e.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:d.debugPixel?1:0},events:{click:function(c){n.stop(c);
return!1}}})};b.scroller.style.webkitOverflowScrolling="touch";a.body=!1===d.body?b.scroller:d.body||document.body;b.scroller.inject(c,"before");b.wrapper.inject(b.scroller);b.ghost.inject(b.scroller);c.inject(b.wrapper);b.scrollerParent=b.scroller.getParent();b.scroller.addEvent("scroll",function(){a.position=a.getPosition();a.setAnimate("onScroll",function(){a.triggerOnScroll();a.triggerOnScrollEnd()})});a.onRefresh()},buildSkeleton:function(c){var b=this,d=b.options,f=b.scrollBars,h=b.elements=
{element:c,scroller:e.createElement("div",{"class":b.getClassNames("","-fake"),tabindex:"0",styles:{overflow:"hidden",position:"relative",userSelect:"none",outline:0,zoom:"1"}}),wrapper:e.createElement("div",{"class":d.className+"-wrapper",styles:{width:"100%",height:"100%",position:"relative"}}),ghost:e.createElement("div",{styles:{height:"10px",width:"10px",background:"#000",position:"absolute",zIndex:"1",opacity:d.debugPixel?1:0},events:{click:function(c){n.stop(c);b.updateGhostPosition({y:0,x:0})}}})};
b.body=d.body||r.Engine.ie?document.body:window;h.scroller.addContent([h.wrapper,h.ghost]).inject(c,"before");c.inject(h.wrapper);h.scrollerParent=h.scroller.getParent();f.x=d.scrollableX&&d.scrollbarH&&new a.Scrollbar(e.extend({dir:"horizontal"},d.scrollbar),b);f.y=d.scrollableY&&d.scrollbarV&&new a.Scrollbar(e.extend({dir:"vertical"},d.scrollbar),b);b.onRefresh()},initEvents:function(){var c,a=this.options,b=this.elements;c=this.eventHandler=this.handleEvent.bind(this);b.scroller.addEvents({keydown:c,
mousewheel:c});a.scrollDrag&&(f("init",b.scroller,this.eventHandler),this.setCursor("grab"),b.scroller.addEvents({mousemove:n.preventDefault,touchmove:n.preventDefault}));b.element.addEvent("resize",c);b.scrollerParent.addEvent("resize",c)},handleEvent:function(c){var a;switch(c.type){case "touchstart":case "mousedown":case "MSPointerDown":a=this.dispatchEvent("onScrollInit",[c]);break;case "touchmove":case "mousemove":case "MSPointerMove":a=this.dispatchEvent("onScrollMove",[c]);break;case "touchend":case "touchcancel":case "mouseup":case "MSPointerUp":a=
this.dispatchEvent("onScrollStop",[c]);break;case "DOMMouseScroll":case "onmousewheel":case "mousewheel":a=this.dispatchEvent("onMouseWheel",[c]);break;case "keydown":a=this.dispatchEvent("onKeyDown",[c]);break;case "DOMSubtreeModified":case "orientationchange":case "resize":a=this.dispatchEvent("onRefresh",[c])}return a},scrollTo:function(c,a,b){var d;d=this.options;b=!isNaN(b)?b:d.scrollTime;this.options.snap&&(d=this.snap(c,a),c=d.x,a=d.y,b=Math.min(d.time,b));this.setPosition(c,a,b)},scrollToPage:function(c,
a,b){var d=this.options,e=this.getPage(),f=this.position,h=this.getSnapSize();d.snap||(e.x=-(f.x/h.x>>0),e.y=-(f.y/h.y>>0));"next"===c?c=++e.x:"prev"===c&&(c=--e.x);"next"===a?a=++e.y:"prev"===a&&(a=--e.y);c=!1!==c?-c*h.x:f.x;a=!1!==a?-a*h.y:f.y;b=!isNaN(b)?b:d.scrollTime;h=this.snap(c,a);c=h.x;a=h.y;b=Math.min(h.time,b);this.setPosition(c,a,b)},scrollToElement:function(c,a,d){"string"===typeof a?a={x:a,y:a}:void 0===a&&(a={x:"center",y:"center"});var e,f,p,h=this.scroll,k=this.maxScroll,j=b.getPosition.call(c,
this.elements.wrapper),l=b.getDimensions.call(c),u=this.getSnapSize(),s={x:h.width,y:h.height},n={},l={x:l.outerWidth,y:l.outerHeight};for(c=0;2>c;c+=1)e=c?"x":"y",h[e]?(f=-j[e],"center"===a[e]?f+=(s[e]-l[e])/2:"end"===a[e]&&(f+=s[e]-l[e])):f=0,p=f<k[e],f=0<f?0:p?k[e]:f,!p&&this.options.snap&&(f=Math[c?"floor":"round"](f/u[e])*u[e]),f<k[e]&&(f=k[e]),n[e]=f;this.setPosition(n.x,n.y,d)},setPosition:function(c,a,b,d){var e,f;e=this.options;var h=this.scrollBars,k=this.scroll;f=this.getPosition();b=!isNaN(b)?
b:e.scrollTime;c={x:c,y:a};e.bounce||(c=this.bounce(c));e=f.x-c.x;f=f.y-c.y;this.direction={x:0===e?0:0<e?-1:1,y:0===f?0:0<f?-1:1};if(0!==e||0!==f)this.scrollToPosition(c,b),h.x&&(k.x&&0!==e)&&h.x.setPosition(c.x,b,d),h.y&&(k.y&&0!==f)&&h.y.setPosition(c.y,b,d),!this.isPulling&&(this.isMaxPosition("x")&&0!==e||this.isMaxPosition("y")&&0!==f)&&this.dispatchEvent("onScrollPull")},stopScroll:function(){this.scrollToPosition(this.getPosition(!0),0)},scrollToPosition:function(c,a){a=a||0;var b,e=this,
f=e.elements;b=f.scroller;var h=f.wrapper,f=e.options;e.triggerOnScrollStart();e.position=c;f.useNative?(b.scrollTop=-c.y,b.scrollLeft=-c.x,e.triggerOnScroll(),e.triggerOnScrollEnd()):f.useTransform?(h.removeEvent("transitionEnd"),0<a&&h.addEvent("transitionEnd",function(){h.removeEvent("transitionEnd");e.triggerOnScrollEnd()}),b={transformOrigin:"0 0",transform:"translateZ(0)",fontSmoothing:"antialiased",perspective:800,transformStyle:"preserve-3d",transitionDelay:"0ms",transitionDuration:a+"ms",
transitionProperty:h.getStyleName("transform",!0),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1)"},b.transform=f.has3d?"translate3d("+c.x+"px,"+c.y+"px, 0)":"translate("+c.x+"px,"+c.y+"px)",h.setStyles(b),0===a&&e.triggerOnScrollEnd()):(b=e.fx=e.fx||new d(h,{transition:"cubicOut",wait:!1,events:{onComplete:function(){e.triggerOnScrollEnd()},onAnimate:function(){e.triggerOnScroll()}}}),b.setOptions({duration:a}),b.start({top:c.y,left:c.x}))},triggerOnScrollStart:function(){function c(){a.triggerOnScroll();
a.setAnimate("onScroll",c)}var a=this,b=a.options,d=a.isScrolling;a.clearDelayed("onScrollEnd");d||(a.dispatchEvent("onScrollStart"),(b.useNative||b.useTransform)&&a.setAnimate("onScroll",c));a.dispatchEvent("onScroll")},triggerOnScroll:function(){this.dispatchEvent("onScroll")},triggerOnScrollEnd:function(){var c=this,a=c.options;c.setDelayed("onScrollEnd",function(){(a.useNative||a.useTransform)&&c.clearAnimate("onScroll");c.dispatchEvent("onScrollEnd")},100)},getPosition:function(c){var a,d,e;
d=!1;d=this.options;a=this.elements;if(d.useNative)d={y:-a.scroller.scrollTop,x:-a.scroller.scrollLeft};else if(d.useTransform){d={y:0,x:0};if((a=b.getStyle.call(a.wrapper,"transform",!0))&&"none"!==a)if(u.matrixCSS)try{e=window.WebKitCSSMatrix||window.MSCSSMatrix||window.MOZCSSMatrix||window.CSSMatrix,a=new e(a),d={y:a.f,x:a.e}}catch(f){}else d=0===a.indexOf("matrix3d"),a=a.replace(/[^0-9-.,]/g,"").split(","),d={y:+a[d?13:5],x:+a[d?12:4]};c&&(d={x:d.x>>0,y:d.y>>0})}else d={y:(c?parseInt:parseFloat)(a.wrapper.style.top||
0,10),x:(c?parseInt:parseFloat)(a.wrapper.style.left||0,10)};if(isNaN(d.x)||isNaN(d.y))throw Error("Invalid scroller position");return d},getResetPosition:function(){var c=this.scroll,a=this.getPosition(),b=this.maxScroll,d=a.x,e=a.y;0<=a.x||!c.x?d=0:a.x<b.x&&(d=b.x);0<a.y||!c.y?e=0:a.y<b.y&&(e=b.y);return{x:d>>0,y:e>>0}},isInViewport:function(c,a,d){var e=this.elements.wrapper,f=b.getOffsets,h=b.getDimensions,k=f.call(e,!0),f=f.call(c),e=h.call(e),j=h.call(c),h=this.getPosition();c=e.outerHeight;
var e=e.outerWidth,l=j.width,j=j.height,u=f.y,f=f.x;k.y-=h.y;k.x-=h.x;a?(a=f<k.x+e&&f+l>k.x,k=u<k.y+c&&u+j>k.y):(a=f>=k.x&&f+l<=k.x+e,k=u>=k.y&&u+j<=k.y+c);return"x"===d?a:"y"===d?k:a&&k},isMaxPosition:function(c,a,b){a=a||this.getPosition();b=b||this.direction[c];var d=this.maxScroll;return 0<b?0<=a[c]:a[c]<=d[c]},hasOverflow:function(c){var a=this.scroll,b=this.scroller,d=a.width<b.width,a=a.height<b.height;return"x"===c?d:"y"===c?a:d||a},setSize:function(c){var a=this.options,b=!1;a.width!==c.width&&
(b=!0,this.setOption("width",c.width));a.height!==c.height&&(b=!0,this.setOption("height",c.height));b&&this.dispatchEvent("onRefresh")},setCursor:function(c){var a=this.scroll;if("grabbing"===c&&(!a.x||!a.y))c=a.x?"col-resize":"row-resize";this.elements.scroller.setStyle("cursor",c)},focus:function(){this.elements.scroller&&this.elements.scroller.focus();return this},updateGhostPosition:function(c){var a=this.elements,b=a.scroller.getOffsets();this.options.useNative&&(b.y-=a.scroller.scrollTop,b.x-=
a.scroller.scrollLeft);a.ghost.setStyles({top:c.y-b.y-5,left:c.x-b.x-5})},createDebugPixel:function(c,a,b,d){var f=this.elements;this.options.debugPixel&&(this.debugPixels=this.debugPixels||[],d&&this.debugPixels.forEach(function(c){c.remove()}),d=f.scroller.getOffsets(),this.options.useNative&&(d.y-=f.scroller.scrollTop,d.x-=f.scroller.scrollLeft),this.debugPixels.push(e.createElement("div",{title:(b||"")+" x:"+c.x+" y:"+c.y,styles:{height:"4px",width:"4px",background:a||"red",position:"absolute",
zIndex:"1",top:c.y-d.y-2,left:c.x-d.x-2}}).inject(f.scroller)))},getPage:function(){var c,a,b,d=this.getPosition(),e=this.getSnapSize(),f=this.maxScroll,h={};for(a=0;2>a;a++)b=a?"x":"y",c=d[b]/e[b],h[b]=-c,c*=e[b],isNaN(c)||0<c?h[b]=0:c<f[b]&&(h[b]=this.maxPage[b]);return h},getSnapSize:function(){var c=this.options.snap,a=this.scroll;return{x:c&&c.x||a.width,y:c&&c.y||a.height}},getScrollSize:function(){var c=this.options,a=c.snap;return{x:a&&a.x||c.scrollSize,y:a&&a.y||c.scrollSize}},bounce:function(c){var a,
b,d=this.maxScroll;for(a=0;2>a;a+=1)if(b=a?"x":"y",0<=c[b]||c[b]<d[b])c[b]=0<=c[b]||0<=d[b]?0:d[b];return c},momentum:function(c,a,b,d,e){var f,h,k,j,l,u,s=this.scroll,n=this.scroller,q={x:c,y:a},r={x:0,y:0},z={x:+q.x,y:+q.y,time:e};for(c=0;2>c;c++)a=c?"x":"y",f=c?"width":"height",k=d[a]-b[a],s[a]&&(350>=e&&0!==k)&&(h=Math.min(Math.abs(k)/e,1.9),l=h*h/0.0012,j=s[f],u=-q[a],f=n[f]-s[f]+q[a],j/=6/(6E-4*(l/h)),0<k&&l>u?(u+=j,h=h*u/l,l=u):0>k&&l>f&&(f+=j,h=h*f/l,l=f),z[a]=q[a]+l*(0>k?-1:1)>>0,r[a]=h/
6E-4);z.time=Math.max(r.y,r.x);return z},snap:function(c,a,b){var d,e,f,h=this.getPage(),k=this.getSnapSize(),j=this.maxScroll,l={x:c,y:a};b=b||this.position;e={x:b.x-c,y:b.y-a};f={x:0===e.x?0:0<e.x?-1:1,y:0===e.y?0:0<e.y?-1:1};for(a=0;2>a;a++)d=a?"x":"y",0!==e[d]&&(c=Math[0>f[d]?"floor":f[d]?"ceil":"round"](l[d]/k[d]),h[d]=-c,c*=k[d],isNaN(c)||0<c?c=h[d]=0:c<j[d]&&(h[d]=this.maxPage[d],c=j[d]),l[d]=c);b=Math.max(500*(Math.abs(b.x-l.x)/k.x),500*(Math.abs(b.y-l.y)/k.y));l.time=b>>0;return l},onScrollInit:function(c){var d,
e,h,k,p=this,u=p.options;if(!n.isDefaultPrevented(c)&&(!a.activeScroller||a.activeScroller===p)&&(p.scroll.x||p.scroll.y||p.options.bounce)&&("touchstart"===c.type||0===n.whichButton(c))&&j(c))e=l(c),h=n.getPosition(c),k=c.timeStamp,d=p.getPosition(!0),a.activeScroller=p,"mouse"===e&&n.stop(c),p.createDebugPixel(h,"green","onScrollInit",!0),p.isTracking=e,f("start",p.body,p.eventHandler),(p.isPulling||p.isScrolling)&&p.updateGhostPosition(h),p.scrollStart={time:k,position:d,event:h},p.scrollMove=
{time:k,direction:!1,event:h},p.positions=[],u.momentum&&p.isScrolling&&p.setDelayed("stopOnScrollInit",function(){var c=p.getPosition(!0);if(!1===p.isDragging&&(c.x!==d.x||c.y!==d.y))p.setPosition(d.x,d.y,0),p.createDebugPixel(h,"purple","stopOnScrollInit")},150),p.setDelayed("focusOnScrollInit",function(){var c=p.elements.scroller,a=c.getDocument().activeElement;(!a||!b.isInjected.call(a,c))&&p.focus()},75),p.setCursor("grabbing")},onScrollMove:function(c){var a,b,d,f,h,k,j,u,s;d=this.options;j=
this.positions;var q=n.getPosition(c);a=d.lockDirection?d.threshold:0;b=d.threshold;if(this.isTracking===l(c))if(n.stop(c),this.updateGhostPosition(q),this.clearDelayed("stopOnScrollInit"),this.isDragging){f=this.scrollMove;b=this.maxScroll;a=e.clone(this.position);c=c.timeStamp;k=q.y-f.event.y;h=q.x-f.event.x;u=0===h?0:0<h?-1:1;s=0===k?0:0<k?-1:1;if(this.enableScrollX&&(a.x+=h,a.x<b.x||0<a.x))a.x=d.bounce?a.x-h/2:a.x<b.x?b.x:0;if(this.enableScrollY&&(a.y+=k,a.y<b.y||0<a.y))a.y=d.bounce?a.y-k/2:a.y<
b.y?b.y:0;60<j.length&&j.splice(0,30);j.push(a.x,a.y,c);this.setPosition(a.x,a.y,0);this.scrollMove.direction&&(this.enableScrollX&&0!==f.direction.x&&f.direction.x!==u||this.enableScrollY&&0!==f.direction.y&&f.direction.y!==s)?(this.createDebugPixel(q,"yellow","onScrollMove:directionChange"),this.scrollStart={time:c,position:a,event:q}):this.createDebugPixel(q,"orange","onScrollMove:isDragging");this.scrollMove={time:c,direction:{x:u,y:s},position:a,event:q}}else d=this.scroll,f=this.scrollStart,
j=Math.abs(q.x-f.event.x),f=Math.abs(q.y-f.event.y),this.enableScrollX=d.x&&j>=a,this.enableScrollY=(d.y||!d.x&&!d.y)&&f>=a,(this.isDragging=(this.enableScrollX||this.enableScrollY)&&(j>=b||f>=b))&&this.isScrolling&&this.stopScroll(),this.createDebugPixel(q,"red","onScrollMove:notDragging")},onScrollStop:function(c){var b,d,e,h,k=this,j=k.options,u=j.scrollTime;if(k.isTracking===l(c)){k.isTracking=!1;a.activeScroller===k&&delete a.activeScroller;f("stop",k.body,k.eventHandler);h=n.getPosition(c);
b=k.getResetPosition(!0);e=c.timeStamp;k.createDebugPixel(h,"blue","onScrollMove");k.setCursor("grab");if(k.isDragging&&(k.isDragging=!1,d=k.scrollStart,k.scrollEnd=e={time:e,position:b,event:h},n.stop(c),k.updateGhostPosition(h),e.event.x!==d.event.x||e.event.y!==d.event.y))j.momentum&&(b=c=k.momentum(b.x,b.y,d.event,e.event,e.time-d.time),u=Math.max(b.time,u)),j.snap&&(b=d=k.snap(b.x,b.y,d.position),u=Math.max(b.time,u));k.setPosition(b.x,b.y,u,!1);k.positions.length=0;k.scrollStart=null;k.scrollMove=
null;k.scrollEnd=null;k.setDelayed("resetGhostPosition",function(){k.updateGhostPosition({x:0,y:0})},500)}},onScrollStart:function(){this.isScrolling=!0},onScroll:function(){},onScrollEnd:function(){var c=this,a=c.options;c.isScrolling&&(c.isScrolling=!1,a.useTransform&&c.elements.wrapper.removeEvent("transitionEnd",c.eventHandler));c.isTracking||(c.isPulling=!1,c.setAnimate("onResetPosition",function(){var a,b=c.getResetPosition(),d=c.getPosition(),e=c.scrollBars;c.options.snap&&(a=c.snap(b.x,b.y),
b.x=a.x,b.y=a.y);if(d.x!==b.x||d.y!==b.y)c.setPosition(b.x,b.y);else{if(e.x)e.x.onScrollEnd();if(e.y)e.y.onScrollEnd()}}))},onScrollPull:function(){this.isPulling=!0},onKeyDown:function(c){var a=this.position,b=this.scroll,d=this.getScrollSize(),e=c.keyCode,f=38===e,h=37===e,e=40===e||f?"y":39===e||h?"x":!1,f=f||h?1:-1,h=n.getElement(c),k={x:a.x,y:a.y};b[e]&&(j(h)&&!this.isMaxPosition(e,a,f))&&(n.stop(c),k[e]+=f*d[e],this.scrollTo(k.x,k.y))},onMouseWheel:function(c){var a=this.options,b=this.position,
d=this.scroll,e=d.x&&!d.y||"shift"===n.whichKey(c)?"x":"y",f=this.getScrollSize(),h=n.wheelDelta(c),k={x:b.x,y:b.y};h&&d[e]&&!this.isMaxPosition(e,b,h)?(n.stop(c),k[e]+=h*f[e],this.scrollTo(k.x,k.y)):a.preventDefaultMouseWheel&&n.stop(c)},onRefresh:function(){if(!this.elements.scroller.isInjected()||this.isScrolling)return!1;var c,a,d,e=this.options,f=this.elements,h=this.position,k=this.scrollBars,j=b.getScrolls.call(f.element);a=b.getDimensions.call(f.scrollerParent);c={width:j.width,height:j.height};
a={width:e.width||a.innerWidth,height:e.height||a.innerHeight};if(a.width!==this.scroll.width||a.height!==this.scroll.height||c.width!==this.scroller.width||c.height!==this.scroller.height)d={},!1!==e.scrollableX&&(d.width=a.width),!1!==e.scrollableY&&(d.height=a.height),f.scroller.setStyles(d),a.x=e.scrollableX&&a.width<j.width,a.y=e.scrollableY&&a.height<j.height,this.maxScroll={x:c.width<a.width?0:a.width-c.width,y:c.height<a.height?0:a.height-c.height},this.maxPage={x:Math.ceil(c.width/a.width),
y:Math.ceil(c.height/a.height)},this.scroll=a,this.scroller=c,k.x&&k.x.setSize(a.width,c.width),k.y&&k.y.setSize(a.height,c.height),c=this.getResetPosition(),!this.moved&&(c.x!==h.x||c.y!==h.y)&&this.setPosition(c.x,c.y,0,!0),f.scroller.toggleClassName("scrollable",a.y||a.x),f.scroller.toggleClassName("scrollable-x",a.x),f.scroller.toggleClassName("scrollable-y",a.y);else return!1}});a.Scrollbar=t.extend({name:"uwa-scroller-scrollbar",defaultOptions:{className:"",barColor:"#555",bgColor:"#EEE",opacity:1,
dir:"vertical",padding:2,width:6,roundCorder:!0,autoHide:!0,draggable:!0,elastic:!1,debugPixel:!1},position:{x:0,y:0},scroller:null,visible:!0,init:function(c,a){this._parent(c);this.scroller=a;this.buildSkeleton();this.initEvents();this.options.autoHide&&this.hide()},destroy:function(){this.elements.wrapper.remove()},createDebugPixel:function(c,a,b,d){var f=this.isHorizontal,h=this.elements;this.options.debugPixel&&(this.debugPixels=this.debugPixels||[],d&&this.debugPixels.forEach(function(c){c.remove()}),
d=h.wrapper.getOffsets(),this.debugPixels.push(e.createElement("div",{title:(b||"")+" x:"+c.x+" y:"+c.y,styles:{height:"2px",width:"4px",background:a||"red",position:"absolute",zIndex:"11",top:!f?c.y-d.y-2:0,left:f?c.x-d.x-2:0}}).inject(this.scroller.elements.scroller)))},buildSkeleton:function(){var c,a,b=this.options,d=this.scroller.options,f="horizontal"===b.dir;c=parseInt(b.padding,10);var h=parseInt(b.width,10),k=b.roundCorder?100*(b.width/2)/100>>0:0;a=this.scroller.elements.scroller;this.axis=
(this.isHorizontal=f)?"x":"y";this.reverseAxis=f?"y":"x";this.elements.wrapper=a=e.createElement("div",{"class":this.getClassNames("","-"+b.dir),styles:{zIndex:"10",position:"absolute",overflow:"hidden",opacity:b.opacity}}).inject(a);b.bgColor&&a.setStyle("background",b.bgColor);f?a.setStyles({bottom:c+"px",left:c+"px",height:h+"px"}):a.setStyles({top:c+"px",right:c+"px",width:h+"px"});this.elements.bar=c=e.createElement("div",{styles:{background:b.barColor,zIndex:"10",position:"absolute",top:0,left:0}}).inject(a);
7>r.Engine.ie&&c.setHTML("&nbsp;&nbsp;&nbsp;");f?c.setStyles({borderRadius:k+"px "+k+"px",width:h+"px",minWidth:h+1+"px",minHeight:h+"px"}):c.setStyles({borderRadius:k+"px "+k+"px",height:h+"px",minWidth:h+"px",minHeight:h+1+"px"});b.useTransform&&(c.setStyles({transformOrigin:"0 0",transform:"translateZ(0)"}),d.has3d&&c.setStyles({perspective:800,transformStyle:"preserve-3d"}))},initEvents:function(){var c=this,a=c.options,b=c.elements;c.eventHandler=c.handleEvent.bind(c);a.draggable&&(f("init",
b.bar,c.eventHandler),b.bar.setStyle("cursor","grab"));a.autoHide&&b.wrapper.addEvents({mouseenter:function(){c.focused=!0;c.show()},mouseleave:function(){c.focused=!1;c.hide()}})},handleEvent:function(a){var b;switch(a.type){case "touchstart":case "mousedown":b=this.dispatchEvent("onScrollInit",[a]);break;case "touchmove":case "mousemove":b=this.dispatchEvent("onScrollMove",[a]);break;case "touchend":case "touchcancel":case "mouseup":b=this.dispatchEvent("onScrollStop",[a])}return b},setSize:function(a,
b){var d=this.options,e=this.scroller.scroll,f=this.isHorizontal,e=f?e.y:e.x,h=parseInt(d.width,10),k=parseInt(d.padding,10);b<=a?this.hide(!0):(d.autoHide||this.show(),this.maxSize=a-2*k-(e?h:0)>>0,this.minSize=h,this.size=Math.min(Math.max(this.maxSize*this.maxSize/b,3*h),this.maxSize),this.maxScroll=this.maxSize-this.size,this.minScroll=0,this.toWrapperProp=this.maxScroll/(a-b),this.toPropWrapper=b/this.maxSize,this.elements.wrapper.setStyle(f?"width":"height",this.maxSize+"px"),this.elements.bar.setStyle(f?
"width":"height",this.size+"px"))},onScrollInit:function(a){n.stop(a);var b=this.scroller;a=n.getPosition(a);this.createDebugPixel(a,"#7FFF00",!0);f("start",b.body,this.eventHandler);this.scrollStart={x:a.x,y:a.y};this.scrollMove={x:a.x,y:a.y};this.elements.bar.setStyle("cursor","grabbing");b.setCursor("grabbing");b.isTracking=!0;b.isDragging=!0},onScrollMove:function(a){n.stop(a);var b=this.axis,d=this.toPropWrapper,e=this.scroller,f=e.maxScroll,h=this.scrollMove,k=this.isHorizontal,j=e.position;
a=n.getPosition(a);d={x:j.x-(k?(a.x-h.x)*d:0),y:j.y-(k?0:(a.y-h.y)*d)};d[b]>f[b]&&0>d[b]?(this.createDebugPixel(a,"orange"),e.setPosition(d.x,d.y,0),this.scrollMove={x:a.x,y:a.y}):this.createDebugPixel(a,"red")},onScrollStop:function(a){n.stop(a);var b=this.scroller;a=n.getPosition(a);var d=b.getResetPosition();this.createDebugPixel(a,"#00CED1");b.setPosition(d.x,d.y,NaN,!1,!0);f("stop",this.scroller.body,this.eventHandler);this.focused||this.hide();this.elements.bar.setStyle("cursor","grab");this.scroller.setCursor("grab");
this.scrollStart=this.scrollMove=null;b.isTracking=!1;b.isDragging=!1},setPosition:function(a,b,e){var f,h,k;f=this.elements.bar;var j=this.size,l=this.axis,u=this.dimension,s=this.minSize,n=this.position,q=this.maxScroll,r=this.minScroll,z=this.options,t=this.scroller.options,C={y:0,x:0};h=this.toWrapperProp*a;a=this.isHorizontal?"width":"height";0>h?(z.elastic&&(k=Math.max(j+h,s)),C[l]=r):h>q?z.elastic?(k=Math.max(j-(h-q),s),C[l]=Math.min(h,q+j-s)):C[l]=q:(k=j,C[l]=h);if(C.x!==n.x||C.y!==n.y||u!==
k)e?b=0:this.show(),C={x:C.x,y:C.y},t.useTransform?(b={transitionDelay:"0ms",transitionDuration:b+"ms",transitionProperty:[f.getStyleName("transform",!0)].concat([a]).join(","),transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1.0)"},k&&z.elastic&&(b[a]=k+"px"),b.transform=z.has3d?"translate3d("+C.x+"px,"+C.y+"px, 0)":"translate("+C.x+"px,"+C.y+"px)",f.setStyles(b)):(f=this.fx=this.fx||new d(f,{transition:"cubicOut",wait:!1}),f.setOptions({duration:b}),b={top:[n.y,C.y],left:[n.x,C.x]},k&&z.elastic&&
(b[a]=[j,k]),f.start(b));this.position=C;this.dimension=k},onScrollStart:function(){this.show()},onScrollEnd:function(){this.hide()},show:function(){var a;this.visible||(a={opacity:this.options.opacity},this.scroller.options.useTransform&&e.merge(a,{transitionProperty:"opacity",transitionDelay:"0ms",transitionDuration:"50ms"}),this.elements.wrapper.setStyles(a),this.visible=!0)},hide:function(a){var b;if(this.visible&&!this.focused&&!this.scrollMove&&(this.options.autoHide||a))b={opacity:0},this.scroller.options.useTransform&&
e.merge(b,{transitionProperty:"opacity",transitionDelay:a?"0ms":"300ms",transitionDuration:a?"0ms":"150ms"}),this.elements.wrapper.setStyles(b),this.visible=!1}});return e.namespace("Controls/Scroller",a,e)});
define("UWA/Controls/Input","UWA/Core UWA/Event UWA/Element UWA/Utils UWA/Utils/Client UWA/Controls/Abstract UWA/Controls/DropDown UWA/Controls/Scroller UWA/Class/Timed".split(" "),function(e,q,t,r,n,b,d,j,l){var f=b.extend({options:{className:"",element:null,attributes:{},value:""},name:"uwa-input",_hiddenInput:!0,init:function(a){if(this.constructor===f)throw Error("Use a subclass of Input");this._parent(a);var b=a&&a.element,d=b&&b.parentNode,j=b&&b.nextSibling;d&&d.removeChild(b);this.events=
null;/\b(?:black|green|light-grey)\b/.test(this.options.className)&&(this.options.className+=" glossy");this.getContent();e.owns(a,"value")&&this.setValue(a.value);d&&this.inject(j||d,j&&"before")},buildSkeleton:function(){var a=this.elements;a.input=(this.options.element||this.buildInput()).set(this.options.attributes);this._hiddenInput?(a.content=e.createElement("div",{"class":this.getClassNames("-content")}),a.input.addClassName(this.getClassNames("-input")+" hidden-input"),a.container=e.createElement("div",
{html:[a.input,a.content]})):a.content=a.container=a.input;a.container.addClassName(this.getClassNames());this.setDisabled(this.isDisabled())},_syncEvents:function(a){var b=this.elements;this.events||(this.events={container:{mouseenter:function(){this.addClassName("hover")},mouseleave:function(){this.removeClassName("hover")},mousedown:function(){this.addClassName("active")},mouseup:function(){this.removeClassName("active")}},content:{click:this.dispatchEvent.bind(this,"onClick"),mousedown:this.dispatchEvent.bind(this,
"onMouseDown")},input:{change:this.dispatchEvent.bind(this,"onChange"),keydown:this.dispatchEvent.bind(this,"onKeyDown"),focus:this.focus.bind(this,!0),blur:this.focus.bind(this,!1)}});if(this.isDisabled())b.container.removeEvents(this.events.container),b.content.removeEvents(this.events.content),b.input.removeEvents(this.events.input);else{if(!this._hiddenInput||!a)b.container.addEvents(this.events.container),b.content.addEvents(this.events.content);b.input.addEvents(this.events.input)}},buildInput:function(){return e.createElement("input",
{type:"text"})},syncInput:function(){this._hiddenInput&&this.elements.content&&this.elements.content.setText(this.getValue())},focus:function(a){void 0===a&&(a=!0);t.toggleClassName.call(this.elements.container,"focus",a);this.elements.input[a?"focus":"blur"]();return this},isDisabled:function(){return!!this.elements.input.disabled},setDisabled:function(a){void 0===a&&(a=!0);this.elements.input.disabled=a;this.elements.container.toggleClassName("disabled",a);this._syncEvents();return this},getValue:function(){var a=
this.elements.input,b=a.getTagName();return"input"===b||"textarea"===b?a.value:a.getText()},setValue:function(a){var b=this.elements.input,d=b.getTagName();"input"===d||"textarea"===d?b.value=a:b.setText(a);this.syncInput();return this},getContent:function(){this.elements.container||(this.buildSkeleton(),this.syncInput());return this.elements.container},getInputElement:function(){return this.elements.input},_dispatchOnChange:function(){q.dispatchEvent(this.elements.input,"change")},onMouseDown:function(a){this._hiddenInput&&
!n.Features.touchEvents&&(q.preventDefault(a),this.focus())},onChange:function(a){this.syncInput();this._bubbleOnChange(a)},_bubbleOnChange:function(){var a;return function(b){var d,e=this.elements.input.parentNode;if(void 0===a){a=!1;d=document.createElement("div");var f=document.createElement("input");f.type="text";d.appendChild(f);d.style.display="none";document.body.appendChild(d);t.addEvent.call(d,"change",function(b){a=!0;q.stop(b)});q.dispatchEvent(f,"change");t.remove.call(d);t.removeEvents.call(d)}if(!a)for(;e&&
1===e.nodeType&&!1!==(b.event||b).returnValue;)(d=e._events&&e._events.change)&&d.handleEvent(b),e=e.parentNode}}(),onKeyDown:function(){this.syncInput()}});f._ToggleInput=f.extend({name:"uwa-toggle",isChecked:function(){return this.elements.input.checked},focus:function(a){this._parent(a);this.syncInput();return this},check:function(a){this.elements.input.checked=!1!==a;this.syncInput();return this}});f.Radio=f._ToggleInput.extend({name:"uwa-radio",buildInput:function(){return e.createElement("input",
{type:"radio"})},onClick:function(a){this._parent(a);a=this.elements.input;a.checked||(a.checked=!0,this._dispatchOnChange())},syncInput:function(){function a(a){var d=a.parentNode;d&&t.hasClassName.call(d,"uwa-radio")&&t.toggleClassName.call(d,"checked",a.checked);e|=b===a}var b=this.elements.input,d=b.name,e=!1;d&&Array.prototype.forEach.call(document.getElementsByName(d),a);e||a(b)}});f.Checkbox=f._ToggleInput.extend(l,{name:"uwa-checkbox",buildInput:function(){return e.createElement("input",{type:"checkbox"})},
onClick:function(a){this._parent(a);var b=this,d=!b.elements.input.checked;this.setDelayed("extern-change-prevention",function(){b.elements.input.checked!==d&&(b.elements.input.checked=d,b._dispatchOnChange());b.syncInput()},1)},syncInput:function(){this.elements.container.toggleClassName("checked",this.elements.input.checked)}});f.Select=f.extend({name:"uwa-select",options:{options:[]},init:function(a){this._parent(a);e.owns(a,"options")&&this.putOptions(a.options)},focus:function(a){this._parent(a);
!1===a&&this.elements.dropdown.hide();return this},buildInput:function(){return e.createElement("select")},buildSkeleton:function(){var a,b=this.elements;this._parent();b.content.addContent([a=e.createElement("div",{"class":this.getClassNames("-split"),html:[{tag:"div","class":this.getClassNames("-text")},{tag:"div","class":this.getClassNames("-button"),html:{tag:"div","class":"uwa-icon uwa-icon-only"}}]}),b.dropdown=new d({position:function(){var a=b.container.getComputedSize("borderLeftWidth");
return{x:-a,y:-a}},positionOptions:{fit:"resize-max",relative:b.container},events:{onShow:function(){var d=b.options.offsetHeight,e=b.dropdown.getContent().getComputedSize("maxHeight")-a.offsetHeight;b.scroller.setSize({height:Math.min(e,d)})}}})]);b.dropdown.getInnerElement().setContent([a.cloneNode(!0),b.options=e.createElement("div",{"class":this.getClassNames("-options"),events:{mousedown:this._selectionHandler.bind(this)}})]);b.scroller=new j(b.options,{scrollableX:!1,preventDefaultMouseWheel:!0,
scrollDrag:n.Features.touchEvents,useNative:n.Features.touchEvents})},getValue:function(){return this._getSelectedOptions().map(function(a){return a.value})},setValue:function(a){var b=[];a=r.splat(a);this._getOptions().forEach(function(d,e){-1!==a.indexOf(d.value)&&b.push(e)});return this.setSelection(b)},setSelection:function(a){this._isMultiple()||(a=a.slice(0,1));this._getOptions().forEach(function(b,d){b.selected=-1!==a.indexOf(d)});this._dispatchOnChange();return this},getSelection:function(){var a=
[];this._getOptions().forEach(function(b,d){b.selected&&a.push(d)});return a},_isMultiple:function(){return this.elements.input.multiple},_getOptions:function(){return this.elements.input.getElements("option")},_getSelectedOptions:function(){return this._getOptions().filter(function(a){return a.selected})},_selectionHandler:function(a){q.stop(a);this._isMultiple()||this.elements.dropdown.hide();var b,d=q.findElement(a,".option,.optgroup"),e=0,f=[],j=d.hasClassName("option"),c=!1;d.getParent().getChildren().some(function(a){if(j){if(d===
a)return f.push(e),!0}else if(c)if(a.hasClassName("option"))f.push(e);else return!0;else d===a&&(c=!0);a.hasClassName("option")&&(e+=1)});this._isMultiple()&&(b=this.getSelection(),j?(a=b.indexOf(f[0]),-1===a?b.push(f[0]):b.splice(a,1)):f.some(function(a){return 0>b.indexOf(a)})?f.forEach(function(a){0>b.indexOf(a)&&b.push(a)}):b=b.filter(function(a){return 0>f.indexOf(a)}),f=b);this.setSelection(f)},syncInput:function(){var a=this.elements.input,b=this.elements;b.content.getElements(".uwa-select-text").invoke("setText",
this._getSelectedOptions().map(t.getText.call,t.getText).join(", ")||"\u00a0");b.options.empty(!0).setContent(function(){var b,d;d=Array.prototype.map.call(a.getElementsByTagName("*"),function(a){var d=t.getTagName.call(a),c=e.createElement("div",{"class":d+(a.selected?" selected":""),text:a.label||t.getText.call(a)||"\u00a0"});"optgroup"===d?(b&&b.addClassName("selected"),b=c):a.selected||(b=null);return c});b&&b.addClassName("selected");return d}())},onClick:function(a){this._parent(a);this.elements.dropdown.show()},
onKeyDown:function(a){var b=q.whichKey(a),d=!0;"space"===b?this.elements.dropdown.show():"return"===b?this.elements.dropdown.toggle():d=!1;d?q.preventDefault(a):this._parent(a)},putOptions:function(a,b){function d(a,b){var c,e=f.getElementsByTagName("*");for(c=0;c<e.length;c+=1)if(e[c][a]===b)return e[c]}var f=this.elements.input;b&&t.empty.call(f,!0);r.splat(a).forEach(function(a){var b=d("value",a.value),c;void 0!==a.label?(b||(b=e.createElement("option")),t.set.call(b,{text:a.label,value:a.value,
selected:a.selected}),a.group?((c=d("label",a.group))||(c=f.appendChild(e.createElement("optgroup",{label:a.group}))),c.appendChild(b)):f.appendChild(b)):b&&(a=b.parentNode,t.remove.call(b),a&&("optgroup"===t.getTagName.call(a)&&0===a.childNodes.length)&&t.remove.call(a))});this.syncInput();return this}});f.File=f.extend({name:"uwa-file",buildInput:function(){return e.createElement("input",{type:"file"})},buildSkeleton:function(){this._parent();this.elements.content.addClassName(this.getClassNames("-split")).setContent([this.elements.text=
e.createElement("div",{"class":this.getClassNames("-text")}),e.createElement("div",{"class":this.getClassNames("-button"),text:e.i18n("Browse...")})])},setValue:function(a){if(a)throw Error("You can't set a value to a file input");a=this.elements.input;var b;a.value="";a.value&&(b=e.extendElement(e.clone(a)),b.inject(a,"before"),a.destroy(),this.elements.input=b,this._syncEvents(!0));this.syncInput()},syncInput:function(){this.elements.text.setText(this.elements.input.value.replace(/^c:\\fakepath\\/i,
"")||"\u00a0")}});f.Text=f.extend(l,{name:"uwa-text",_hiddenInput:!1,options:{multiline:!1},buildInput:function(){return this.options.multiline?e.createElement("textarea"):e.createElement("input",{type:"text"})},buildSkeleton:function(){this._parent();this.elements.input.addClassName(this.getClassNames("-text"))},onKeyDown:function(a){this._parent(a);this.setDelayed("placeholder-sync",this.syncInput,1)},onPostInject:function(){this.setDelayed("placeholder-sync",this.syncInput,50)},getInputElement:function(){this.setDelayed("placeholder-sync",
this.syncInput,1);return this._parent()},syncInput:function(){var a=this.elements.input;n.Features.inputPlaceholder||(!a.parentNode||this.getValue()||!a.getAttribute("placeholder")?this._hidePlaceholder():this._showPlaceholder())},_showPlaceholder:function(){var a,b,d=this.elements,f=d.input;a=f.getDimensions();d.placeholder||(this.setPeriodical("placeholder-sync",this.syncInput,1E3),d.placeholder=e.createElement("div",{"class":this.getClassNames("-placeholder"),events:{click:this.focus.bind(this,
!0)}}));!a.width||!a.height?this._hidePlaceholder():(b=f.getStyles(["font"]),b.height=a.innerHeight,b.width=a.innerWidth,"textarea"!==f.getTagName()&&(b.lineHeight=a.innerHeight+"px",b.whiteSpace="nowrap"),a=f.getPosition(),a.x+=f.getComputedSize("marginLeft","paddingLeft","borderLeftWidth"),a.y+=f.getComputedSize("marginTop","paddingTop","borderTopWidth"),d.placeholder.set({text:f.getAttribute("placeholder"),styles:b}).setPosition(a),d.placeholder.previousSibling!==f&&d.placeholder.inject(f,"after"))},
_hidePlaceholder:function(){var a=this.elements.placeholder;a&&a.remove()}});f.Button=f.extend({name:"uwa-button",options:{className:"dark-grey"},_hiddenInput:!1,init:function(a){e.owns(a,"className")&&/\b(?:iconl|iconr|icon-only)\b/.test(a.className)&&(a.className+=" uwa-icon");this._parent(a);/\b(?:icon-only)\b/.test(this.options.className)&&this.setValue("\u00a0")},buildInput:function(){return e.createElement("button",{type:"button"})}});return e.namespace("Controls/Input",f,e)});
define("UWA/Controls/Form",["UWA/Core","UWA/Utils","UWA/Event","UWA/Controls/Abstract","UWA/Controls/Input"],function(e,q,t,r,n){r=r.extend({id:null,defaultOptions:{className:"uwa-form",fields:[],labelPreffix:":",nativeInputs:!1},init:function(b){this._parent(b);this.id=Math.floor(11*Math.random());this.buildSkeleton()},buildSkeleton:function(){var b,d,j,l=this.options,f=this.options.fields,a=this.fields,h=[],k=e.createElement("form",{"class":l.className,id:this.id,events:{submit:function(a){t.stop(a);
this.dispatchEvent("onSubmit",[a,this.getFormValues()])}.bind(this)}});l.nativeInputs||k.addClassName("uwa-form-uikit");b=0;for(d=f.length;b<d;b++)j=f[b],"hidden"!==j.type&&(void 0===a[j.type]&&(j.type="text"),j.id="m_"+this.id+"_"+j.name,h.push(a[j.type](j,l,this)));e.createElement("fieldset",{html:h}).inject(k);this.elements.container=k},getFields:function(){var b=this.elements.container,d=q.toArray(b.getElementsByTagName("textarea")),e=q.toArray(b.getElementsByTagName("input")),b=q.toArray(b.getElementsByTagName("select"));
return e.concat(b).concat(d)},getField:function(b){var d,e,l,f=this.getFields();d=0;for(e=f.length;d<e;d++)if(l=f[d],l.name===b)return l},getFormValues:function(){var b,d,e,l={},f=this.getFields();b=0;for(d=f.length;b<d;b++)switch(e=f[b],e.type){case "button":case "submit":break;case "password":""!==e.value&&(l[e.name]=e.value);break;case "checkbox":l[e.name]=e.checked?!0:!1;"string"===typeof e.value&&(l[e.name]=String(l[e.name]));break;case "radio":e.checked&&(l[e.name]=e.value);break;default:l[e.name]=
e.value}return l},getFormValue:function(b){return this.getFormValues()[b]},setFormValues:function(b){var d,e,l,f,a=this.getFields();d=0;for(e=a.length;d<e;d++)if(l=a[d],b.hasOwnProperty(l.name))switch(f=b[l.name],l.type){case "password":case "button":case "submit":break;case "checkbox":l.checked=f?!0:!1;break;case "radio":l.checked&&String(l.value)===f&&(l.checked=f?!0:!1);break;default:l.value=f}},setFormValue:function(b,d){var e={};e[b]=d;this.setFormValues(e)},fields:{text:function(b,d,j){var l=
e.createElement("input",{type:"text",id:b.id,"class":b.type+" small",name:b.name,value:b.value||"",autocomplete:"off",autocorrect:"off",autocapitalize:"off"});b.onchange&&l.addEvent("keyup",function(){this.dispatchEvent("onChange",[b.onchange,b.name,l.value])}.bind(j));return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:[{tag:"label","for":b.id,text:e.i18n((b.label||b.name)+d.labelPreffix)},{tag:"span",content:d.nativeInputs?l:new n.Text({element:l,className:"small"})}]})},password:function(b,
d,j){var l=e.createElement("input",{type:"password",id:b.id,"class":b.type,name:b.name,value:b.value||""});b.onchange&&l.addEvent("keyup",function(){this.dispatchEvent("onChange",[b.onchange,b.name,l.value])}.bind(j));return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:[{tag:"label","for":b.id,text:e.i18n((b.label||b.name)+d.labelPreffix)},{tag:"span",content:d.nativeInputs?l:new n.Text({element:l,className:"small"})}]})},submit:function(b,d){var j=e.createElement("input",{id:b.id,
"class":b.type,type:"submit",name:b.name,value:b.value||e.i18n("Done")});return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:{tag:"span",content:d.nativeInputs?j:new n.Button({element:j,className:"light-grey small"})}})},button:function(b,d){var j=e.createElement("button",{id:b.id,"class":b.type,name:b.name,text:b.value||e.i18n("Done")});return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:{tag:"span",content:d.nativeInputs?j:new n.Button({element:j,className:"light-grey small"})}})},
reset:function(b,d){var j=e.createElement("button",{id:b.id,type:"reset","class":b.type,name:b.name,value:b.value||e.i18n("Done")});return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:{tag:"span",content:d.nativeInputs?j:new n.Button({element:j,className:"light-grey small"})}})},"boolean":function(b,d,j){var l,f=b.id,a=e.createElement("div",{"class":"field field"+b.type.ucfirst()}),h="string"===typeof b.value?"true":!0,k=b.value&&(!0===b.value||"true"===b.value);e.createElement("label",
{"for":f,text:e.i18n(b.label||b.name)}).inject(a);l=e.createElement("input",{id:f,value:h,type:"checkbox","class":b.type+" "+(k?"checked":"unchecked"),name:b.name});k&&(l.setAttribute("checked","checked"),l.defaultChecked=!0);l.addEvent("change",function(){var a=l.checked;l.addClassName(a?"checked":"unchecked");l.removeClassName(a?"unchecked":"checked");b.onchange&&this.dispatchEvent("onChange",[b.onchange,b.name,a?"true":"false"])}.bind(j));e.createElement("span",{html:d.nativeInputs?l:new n.Checkbox({element:l})}).inject(a);
return a},textarea:function(b,d,j){var l=e.createElement("textarea",{id:b.id,"class":b.type+" small",name:b.name,text:b.value||""});b.onchange&&l.addEvent("keyup",function(){this.dispatchEvent("onChange",[b.onchange,b.name,l.value])}.bind(j));return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:[{tag:"label","for":b.id,text:e.i18n((b.label||b.name)+d.labelPreffix)},d.nativeInputs?l:new n.Text({element:l})]})},range:function(b,d,j){var l,f,a;l=b.id;var h=e.createElement("div",
{"class":"field field"+b.type.ucfirst()});e.createElement("label",{"for":l,text:e.i18n((b.label||b.name)+d.labelPreffix)}).inject(h);l=e.createElement("span").inject(h);a=e.createElement("select",{id:"m_"+j.id+"_"+b.name,"class":"range",name:b.name}).inject(l);b.step=parseInt(b.step,10);b.max=parseInt(b.max,10);b.min=parseInt(b.min,10);if(0<b.step)for(l=b.min;l<=b.max;l+=b.step)f=e.createElement("option",{value:l,text:String(l)}),b.value&&parseInt(b.value,10)===l&&(f.setAttribute("selected","selected"),
f.selected=!0),a.appendChild(f);b.onchange&&a.addEvent("change",function(){this.dispatchEvent("onChange",[b.onchange,b.name,a.value])}.bind(j));d.nativeInputs||new n.Select({element:a,className:"small"});return h},list:function(b,d,j){var l,f,a,h,k;l="m_"+j.id+"_"+b.name;var u=e.createElement("div",{"class":"field field"+b.type.ucfirst()});e.createElement("label",{"for":l,text:e.i18n((b.label||b.name)+d.labelPreffix)}).inject(u);l=e.createElement("span").inject(u);k=e.createElement("select",{id:"m_"+
j.id+"_"+b.name,"class":"list",name:b.name}).inject(l);if(e.is(b.options,"array")&&0<b.options.length){l=0;for(f=b.options.length;l<f;l++)a=b.options[l],a.label=a.label||a.value,h=e.createElement("option",{text:e.i18n(a.label),value:a.value}).inject(k),String(b.value)===String(a.value)&&(h.setAttribute("selected","selected"),h.selected=!0);b.onchange&&k.addEvent("change",function(){this.dispatchEvent("onChange",[b.onchange,b.name,k.value])}.bind(j))}else u.hide();d.nativeInputs||new n.Select({element:k,
className:"small"});return u},html:function(b){return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:{tag:"div",html:b.html}})},img:function(b){var d=e.i18n(b.label||b.name)||"";return e.createElement("div",{"class":"field field"+b.type.ucfirst(),html:{tag:"img",src:b.src,height:b.height||"auto",width:b.width||"100%",alt:d,title:d}})}}});return e.namespace("Controls/Form",r,e)});
define("UWA/Widget","UWA/Core UWA/Class UWA/Class/Options UWA/Class/Timed UWA/Class/Events UWA/Class/Debug UWA/Utils UWA/Utils/Client UWA/Data UWA/Element".split(" "),function(e,q,t,r,n,b,d,j,l,f){q=q.extend(t,r,n,b,{init:function(){var a=j.Locale;this.body=this.icon=this.title=this.environment=this.id=null;this.data={};this.events={};this.menus=[];this.plugins=[];this.preferences=[];this.metas={};this.elements={};this.lang=a.lang;this.locale=a.locale;this.dir=a.dir;this.isEdit=this.readOnly=!1;this.counter=
0;this.counterType=null},launch:function(a,b){var d=this;d.launched=!1;void 0!==b&&(d.readOnly=!!b);d.setValues(a);d.initPreferences();d.initPlugins();d.dispatchEvent("onInitConfig",{metas:d.metas,plugins:d.plugins,preferences:d.getPreferences()});d.dispatchEvent("beforeLoad");d.addEventOnce("onLoad",function(){d.launched=!0},d,1);d.dispatchEvent("onLoad");d.launched&&d.dispatchEvent("afterLoad");return d.launched},destroy:function(){var a,b=this.elements;this.clearDelayed();this.clearPeriodical();
for(a in b)b.hasOwnProperty(a)&&b[a].destroy();this.removeEvent();this.launched=!1},setOptions:function(a){var b,d;for(b in a)if(d="set"+b.capitalize(),e.is(this[d],"function"))this[d](a[b]);return this._parent(a)},setAutoRefresh:function(a){(a=parseInt(a,10))&&0<a?this.setPeriodical("autoRefresh",this.dispatchEvent.bind(this,"onRefresh"),6E4*a):this.clearPeriodical("autoRefresh");this.metas.autoRefresh=a},setCounter:function(a,b){a="boolean"===typeof a?a:parseInt(a,10);if(this.counter!==a||e.is(b)&&
this.counterType!==b)this.counter=a,this.counterType=b,this.dispatchEvent("onUpdateCounter",[a,b])},getTitle:function(){return e.is(this.title,"string")?this.title.stripTags():""},setTitle:function(a){e.is(a,"string")&&this.title!==a&&(this.title=a,this.dispatchEvent("onUpdateTitle",[a]));return this.title},setIcon:function(a,b){if(a&&e.is(a,"string")){if(b||!a.toLowerCase().match(/^.*\.(ico|png|jpg|jpeg|gif)$/))a=l.proxifyUrl(a,{proxy:"icon"});this.icon!==a&&(this.icon=a,this.dispatchEvent("onUpdateIcon",
[a]))}return this.icon},setMenu:function(a){var b=this.environment,d=a.name.split("/"),f=d[0],j;if(2<d.length)throw Error("Adding more than one submenu level is not supported by setMenu");(j=this.getMenu(a.name))?e.extend(j,a):(1<d.length?(d=this.getMenu(f),d||(d={label:f},this.menus.push(d)),d.items||(d.items=[]),f=d.items):f=this.menus,f.push(a));this.setDelayed("onUpdateMenu",function(){b.dispatchEvent("onUpdateMenu",[this.menus])},20)},getMenu:function(a){var b,d;e.is(a,"string")&&(d=a.split("/"),
(b=this.menus.detect(function(a){return a.name===d[0]}))&&1<d.length&&(b=b.items&&b.items.detect(function(b){return b.name===a})));return b},removeMenu:function(a){var b,d,e,f;f=function(b){return b.name!==a};b=0;for(d=this.menus.length;b<d;b++){e=this.menus[b];if(e.name===a){this.menus.remove(e);break}e.items&&(e.items=e.items.filter(f))}},setDir:function(a){var b=this.dir,d=this.elements.wrapper;a="rtl"===a?"rtl":"ltr";d&&b!==a&&(d.setAttribute("dir",a),d.addClassName(a),d.removeClassName(b));return this.dir=
a},setMetas:function(a){this.metas=a;a.debugMode&&(this.setDebugMode(a.debugMode),this.environment&&this.environment.setDebugMode(a.debugMode));a.autoRefresh&&this.setAutoRefresh(a.autoRefresh);return this.metas},setBody:function(a){if(!this.body)throw Error("Widget.body is not yet available");this.body.setContent(a);this.dispatchEvent("onUpdateBody")},addBody:function(a){this.body.addContent(a);this.dispatchEvent("onUpdateBody")},getElements:function(a){return this.body.getElements(a)},getElement:function(a){return this.body.getElement(a)},
createElement:function(a,b){return e.createElement(a,b)},setStyle:function(a){var b=this.id?"#m_"+this.id:".moduleWrapper";this.id&&this.elements.wrapper.setAttribute("id","m_"+this.id);d.setCss(!1,a,b,this.getUrl())},mutate:function(a,b){var d=this.environment;if(!a)throw Error("Missing or empty first param on widget.mutate");if(d&&d.mutate)d.mutate(a,b);else throw Error("Current Environment do not support widget.mutate");},getUrl:function(){var a=window.location.href;return this.uwaUrl?this.uwaUrl:
d.getQueryString(a,"uwaUrl",a)},addStar:function(a){var b=this.environment;b&&b.addStar&&b.addStar(a)},getViewportDimensions:function(){var a,b,d=this.elements;b=d.body;var e=f.getDimensions,l=f.isInjected,n=f.getComputedSize,c=j.getSize(),g=e.call(d.wrapper),m=e.call(b),q=c.height,c=g.width;["header","footer"].forEach(function(b){(a=d[b])&&l.call(a)&&(q-=e.call(a).outerHeight)});a=b;b=d.wrapper.parentNode;do c=a!==d.wrapper?c-n.call(a,"innerWidth","outerWidth"):c-n.call(a,"innerWidth"),q-=n.call(a,
"innerHeight","outerHeight"),a=a.parentNode;while(a&&a!==b);0<m.maxHeight&&q>m.maxHeight?q=m.maxHeight:0<m.minHeight&&q<m.minHeight&&(q=m.minHeight);return{height:0>q?240+q:q,width:0>c?320+c:c}},setPlugins:function(a){this.plugins=a},initPlugins:function(){var a,b,d,f=this.plugins;a=0;for(b=f.length;a<b;a++)d=f[a],e.Plugins[d.name]&&(d.instance=new e.Plugins[d.name](this,d.options))},initPreferences:function(){var a,b,d,e,f,j,c=this.preferences;this.preferences=[];a=0;for(b=c.length;a<b;a++)d=c[a],
d.name&&d.type&&(e=this.getValue(d.name),f=void 0!==d.defaultValue,j=void 0!==e,"boolean"===d.type&&""===d.defaultValue&&(d.defaultValue=!1),!j&&f&&(e=d.defaultValue),this.addPreference(d),this.setValue(d.name,e))},hasPreferences:function(){if(!this.readOnly){var a,b,d=this.preferences;a=0;for(b=d.length;a<b;a++)if("hidden"!==d[a].type)return!0}return!1},getPreference:function(a){var b,d,f=this.preferences;b=0;for(d=f.length;b<d;b++)if(f[b].name===a)return b=e.clone(f[b]),b.value=this.getValue(a),
b},hasPreference:function(a){return this.preferences.some(function(b){return b.name===a})},addPreference:function(a){var b=-1,d=this.preferences;a.name&&a.type&&(a=e.clone(a),d.forEach(function(d,e){a.name===d.name&&(b=e)}),a.label||(a.label=a.name),-1!==b?d[b]=a:d.push(a),this.launched&&this.dispatchEvent("onUpdatePreferences",[this.getPreferences()]))},setPreferences:function(a){var b,d;this.preferences=[];b=0;for(d=a.length;b<d;b++)this.addPreference(a[b])},mergePreferences:function(a){var b,d;
b=0;for(d=a.length;b<d;b++)this.getPreference(a[b].name)||this.addPreference(a[b])},getPreferences:function(){var a,b,d,f,j,l=e.clone(this.preferences);a=0;for(b=l.length;a<b;a++)if(f=l[a].name,d=l[a].defaultValue,f=this.getValue(f),l[a].value=void 0===f?d:f,l[a].label=e.i18n(l[a].label),e.is(l[a].options,"array")){d=0;for(f=l[a].options.length;d<f;d++)j=l[a].options[d],j.label=e.i18n(j.label)}return l},getValue:function(a){var b=this.data[a],d=this.environment;!e.is(b)&&(d&&d.getData)&&(b=d.getData(a),
e.is(b)&&(this.data[a]=b));return b},getInt:function(a){a=this.getValue(a);if("true"===a||!0===a)a=1;a=parseInt(a,10);return isNaN(a)?0:a},getBool:function(a){return-1!==[1,"1","true",!0].indexOf(this.getValue(a))?!0:!1},setValue:function(a,b){var d=this.environment,f=this.getPreference(a);this.data[a]!==b&&(b=e.is(b)?b:void 0,this.data[a]=b,d&&d.setData&&d.setData(a,b,!!(f&&f.defaultValue===b)),this.launched&&this.dispatchEvent("onUpdateValue",[a,b]));return b},setValues:function(a){for(var b in a)a.hasOwnProperty(b)&&
this.setValue(b,a[b])},deleteValue:function(a){var b=this.environment;this.data.hasOwnProperty(a)&&delete this.data[a];b&&b.deleteData&&b.deleteData(a)},toggleEdit:function(){var a;this.isEdit?this.dispatchEvent("endEdit"):this.dispatchEvent("onEdit");this.environment.html.menus&&this.getMenu("options/preferences")&&(a=this.environment.html.menus.getElement('[data-name="options"]'))&&a.toggleClassName("active",!this.isEdit)},dispatchEvent:function(a,b,d,e){var f=this.environment,j=!e||"onLoad"===
a||this.launched;!e&&f?f.dispatchEvent(a,b,d):j&&this._parent(a,b,d);return this},addEvent:function(a,b,d,f){var j="onLoad"===a&&this.launched;this._parent(a,b,d,f);j&&b.apply(e.is(d)?d:this);return this},addEventOnce:function(a,b,d,f){"onLoad"===a&&this.launched?b.apply(e.is(d)?d:this):this._parent(a,b,d,f);return this},requestView:function(a){e.is(a,"string")&&(a={type:a});this.dispatchEvent("onViewRequest",[a]);return this},getView:function(){return this._view||{type:"windowed"}},getAvailableViews:function(){return(this.metas.availableViews||
"").split(";").invoke("trim").filter(function(a){return a}).map(function(a){var b=a.match(/\S*/)[0];a=a.slice(b.length).trim();var d;if(a)try{d=JSON.parse(a)}catch(e){this.log("Failed to parse availableViews options")}d||(d={});d.type=b;return d},this)}});return e.namespace("Widget",q,e)});
define("UWA/Controls/WidgetPopupMenu",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","UWA/Controls/DropDown"],function(e,q,t,r,n){n=n.extend({name:"uwa-widget-popup-menu",init:function(b){this._parent();this.env=b;this.items=null},setTarget:function(b){this.target=b;return this},onClick:function(b){this._parent(b);b=t.findElement(b,"li");(b=this.env.widget.getMenu(b.getAttribute("data-name")))&&this.env.dispatchEvent("onMenuExecute",[b])},onClickOutside:function(b){t.getElement(b)!==this.target&&
this.hide()},setPosition:function(){var b=this.env.html.moduleFrame||this.env.html.wrapper,d=q.getOffsets.call(b),b=q.getSize.call(b),e=q.getOffsets.call(this.target),l=q.getSize.call(this.target);return this._parent(e,{boundary:{x:0,y:e.y+l.height,width:d.x+b.width,height:Infinity}})},getInnerElement:function(){this.getContent();return this.elements.inner},getContent:function(){var b=this.elements;b.inner||this._parent().setContent(b.inner=e.createElement("menu",{type:"popup"}));return b.container},
setItems:function(b){this.items=b;return this},toggle:function(){this.getInnerElement().empty();this.items.forEach(this.addItem,this);this.setPosition();this._parent()},onShow:function(){this.target.addClassName("active");this._parent()},onHide:function(){this.target.removeClassName("active");this._parent()},addItem:function(b){var d,j;if(!1!==(e.is(b.visible,"function")?b.visible():!1!==b.visible))return d=e.createElement("li",{"class":this.getClassNames("-item"),"data-name":b.name}),b.icon&&(j=
e.createElement("span",{"class":"uwa-icon uwa-icon-only"}),1===this._getUtf8StringLength(b.icon)?(j.set("data-icon",b.icon),j.addClassName("uwa-icon-unicode")):r.isAbsoluteUrl(b.icon)?j.adopt(e.createElement("img",{src:b.icon,width:16,height:16})):j.addClassName(b.icon),j.inject(d)),b.label&&e.createElement("span",{text:b.label}).inject(d),(b=e.is(b.disabled,"function")?b.disabled():!!b.disabled)&&d.addClassName("disabled"),d.inject(this.getInnerElement())},_getUtf8StringLength:function(b){var d=
encodeURIComponent(b).match(/%[89ABab]/g);return b.length+(d?d.length:0)}});return e.namespace("Controls/WidgetPopupMenu",n,e)});
define("UWA/Utils/InterCom","UWA/Core UWA/Utils UWA/Class UWA/Dispatcher UWA/Class/Events UWA/Class/Options UWA/Class/Timed UWA/Class/Debug UWA/Json UWA/Array UWA/String UWA/Object".split(" "),function(e,q,t,r,n,b,d,j,l){function f(a,b){var c,d,e,f;c=0;for(d=a.length;c<d;c++){e=0;for(f=b.length;e<f;e++)if(b[e]===a[c])return!0}return!1}function a(a){a.UWA&&(a.UWA.Utils&&a.UWA.Utils.InterCom)&&!a.UWA.Utils.InterCom._listener&&(a.UWA.Utils.InterCom._listener=new n);return a.UWA.Utils.InterCom._listener}
var h,k=(new Function("return this"))();h={getAdapter:function(a){var b,c,d,e=h.Adapters,f=a?q.splat(a):Object.keys(e);b=0;for(c=f.length;b<c&&!d;b++)if(a=f[b],e.hasOwnProperty(a)){if(e[a].isAvailable(d)){d=e[a];break}}else throw Error('Unable to get InterCom Adapter with name "'+a+'"');if(!d)throw Error("Unable to get InterCom Adapter");return d}};var u=function(a){s.dispatch([l.decode(a.data),{origin:a.origin,source:a.source}])},s,z=function(){y&&(v.body&&0<m.length)&&v.body.appendChild(m.shift());
0<m.length&&setTimeout(z,10)},c=0,g,m=[],y=!0,v=k.document;h.Adapters={PostMessage:{isAvailable:function(){return k.postMessage&&k.location&&k.location.protocol&&k.location.protocol.test("http")},removeListener:function(a){s&&(s.remove(a),0===s.getNumListeners()&&(s.dispose(),s=void 0,k.addEventListener?k.removeEventListener("message",u,!1):k.attachEvent&&k.detachEvent("onmessage",u)))},addListener:function(a){s||(s=s||new r,k.addEventListener?k.addEventListener("message",u,!1):k.attachEvent&&k.attachEvent("onmessage",
u));s.add(a)},dispatchEvent:function(a,b,c){b||(b=k.parent,b=b.postMessage?b:b.document.postMessage?b.document:void 0);c=c&&"*"!==c?q.buildUrl(k.location,c):"*";b&&b.postMessage&&b.postMessage(l.encode(a),c)}},FrameCallback:{isAvailable:function(){g=a(k);return!!g},removeListener:function(a){g.removeEvent("message",a)},addListener:function(a){g.addEvent("message",a)},dispatchEvent:function(b,d,e){var f;a:{try{f=d===k||d.location.host===k.location.host&&d.location.protocol===k.location.protocol;break a}catch(g){}f=
void 0}if(f){var j=a(d);setTimeout(function(){j.dispatchEvent("message",[b,{origin:k.location.toString(),source:k}])})}else{var h;d=k.location.toString();e=q.parseUrl(e);e=e.protocol+"://"+e.domain+"/intercom.html";d={info:b,origin:d};d="#"+ +new Date+c++ +"&"+l.encode(d);h=v.createElement("iframe");h.setAttribute("src",e+d);h.style.position="absolute";h.style.top="-2000px";h.style.left="0px";h.onload=function(){y=!0;h.parentNode.removeChild(h)};m.push(h);setTimeout(z,10)}}}};h.Server=t.extend(b,
j,{id:null,uuid:null,sockets:null,listeners:null,defaultOptions:{adapter:null,autoconnect:!0},init:function(a,b){this.setServerId(a);this.sockets={};this.listeners=new n;this.setOptions(b);this.options.autoconnect&&this.connect()},setServerId:function(a){var b=h.Server.Instances=h.Server.Instances||{};this.uuid=this.uuid||q.getUUID();a=a||this.uuid;b[a]&&(b[a].disconnect(),delete b[a]);this.id=a;b[a]=this;return this},connect:function(){this.handleEvent=this.handleEvent.bind(this);this.adapter=h.getAdapter(this.options.adapter);
this.adapter.addListener(this.handleEvent);return this},disconnect:function(){var a=this;a.adapter&&(Object.keys(a.sockets).forEach(function(b){a.unsubscribeSocket(b)}),a.adapter.removeListener(a.handleEvent));return a},handleEvent:function(a,b){var c,d,e,g=this.id;d=this.sockets;var j=Object.keys(d);d=(c=b&&b.source&&b.origin&&a.event&&a.target&&a.origin&&a.target.servers&&Array.isArray(a.target.servers)&&a.target.sockets&&Array.isArray(a.target.sockets))&&d[a.origin.socket]&&d[a.origin.socket].uuid===
a.uuid;e=c&&0===a.target.sockets.length&&-1!==a.target.servers.indexOf(g);c?e?(this.log('SERVER: server "'+g+'" accept message for event "'+a.event+'"'),"subscribe"===a.event?d||this.subscribeSocket(a.origin.socket,b.source,b.origin,a.uuid):d&&("unSubscribe"===a.event?this.unsubscribeSocket(a.origin.socket):this.dispatchEvent(a.event,a.data,a.origin.socket,a.target.sockets))):d&&f(a.target.sockets,j)&&f([a.origin.socket],j)?(this.log('SERVER PREDISPATCH: server "'+g+'" dispatch event "'+a.event+'" from "'+
a.origin.socket+'"'),this.dispatchEvent(a.event,a.data,a.origin.socket,a.target.sockets)):this.log('SERVER: server "'+g+'" refuse message for event "'+a.event+'"'):this.log('SERVER: server "'+g+'" refuse invalid message for event "'+a.event+'"')},subscribeSocket:function(a,b,c,d){this.log('SERVER: server "'+this.id+'" register new socket "'+a+'"');this.sockets[a]={source:b,origin:c,uuid:d};this.dispatchEvent("subscribe",{},void 0,a);return this},unsubscribeSocket:function(a){var b=this.id;this.sockets[a]&&
(this.log('SERVER: server "'+b+'" unregister socket "'+a+'"'),this.dispatchEvent("unSubscribe",{},void 0,a),delete this.sockets[a]);return this},addListener:function(a,b){this.listeners.addEvent(a,b);return this},removeListener:function(a,b){this.listeners.removeEvent(a,b);return this},dispatchEvent:function(a,b,c,d){var e=this,f=e.id,g=e.sockets,j=e.adapter,h={event:a,data:b,target:{sockets:d},origin:{socket:c,server:f},uuid:e.uuid};!d||!d.length?(d=Object.keys(e.sockets),-1!==d.indexOf(c)&&d.splice(d.indexOf(c),
1)):d=q.splat(d);j||(e.connect(),j=e.adapter);0===d.length?e.log('SERVER: server "'+f+'" has no target socket for dispatchEvent "'+a+'"'):d.forEach(function(d){var h=g[d],k={event:a,data:b,target:{sockets:[d]},origin:{socket:c,server:f},uuid:e.uuid};e.log('SERVER: server "'+f+'" dispatchEvent "'+k.event+'" to "'+d+'"');j.dispatchEvent(k,h.source,h.origin)});e.listeners.dispatchEvent(a,[b,h]);return e}});h.Socket=t.extend(b,j,d,{id:null,uuid:null,servers:null,listeners:null,defaultOptions:{adapter:null,
autoconnect:!1,dispatchRetryLimit:10,dispatchRetryInterval:500},init:function(a,b){this.setSocketId(a);this.servers={};this.listeners=new n;this.setOptions(b)},setSocketId:function(a){var b=h.Socket.Instances=h.Socket.Instances||{};this.uuid=this.uuid||q.getUUID();a=a||this.uuid;b[a]&&(b[a].disconnect(),delete b[a]);this.id=a;b[a]=this;return this},connect:function(){this.handleEvent=this.handleEvent.bind(this);this.adapter=h.getAdapter(this.options.adapter);this.adapter.addListener(this.handleEvent);
return this},disconnect:function(){var a=this;a.adapter&&(Object.keys(a.servers).forEach(function(b){a.unsubscribeServer(b)}),a.adapter.removeListener(a.handleEvent));return a},handleEvent:function(a,b){var c,d,e,f=this.id;d=this.servers;d=(c=b&&b.source&&b.origin&&a&&a.event&&a.target&&a.origin&&a.origin.server&&d[a.origin.server]&&a.target.sockets&&Array.isArray(a.target.sockets))&&d[a.origin.server]&&d[a.origin.server].uuid===a.uuid;e=c&&0!==a.target.sockets.length&&-1!==a.target.sockets.indexOf(f);
c?e?(c=this.servers[a.origin.server],this.log('SOCKET: socket "'+f+'" accept message for event "'+a.event+'"'),"subscribe"===a.event?(d||(c.waiting=!1,c.uuid=a.uuid),this.listeners.dispatchEvent(a.event,[a.data,a])):d?"unSubscribe"===a.event?delete this.servers[a.origin.server]:this.listeners.dispatchEvent(a.event,[a.data,a]):this.log('SOCKET: socket "'+f+'" refuse invalid uuid for event "'+a.event+'"')):this.log('SOCKET: socket "'+f+'" refuse message for event "'+a.event+'"'):this.log('SOCKET: socket "'+
f+'" refuse invalid message for event "'+a.event+'"')},subscribeServer:function(a,b,c){b=b||k.parent;c=c||k.location.toString();this.servers[a]={waiting:!0,queue:[],queueInterval:null,queueRetry:0,source:b,origin:c};this.dispatchEvent("subscribe",void 0,void 0,a);return this},unsubscribeServer:function(a){var b=this.id;this.servers[a]&&(this.log('SOCKET: socket "'+b+'" unregister server "'+a+'"'),this.dispatchEvent("unSubscribe",{},void 0,a),delete this.servers[a]);return this},addListener:function(a,
b){this.listeners.addEvent(a,b);return this},removeListener:function(a,b){this.listeners.removeEvent(a,b);return this},dispatchEvent:function(a,b,c,d){var e=this,f=e.id,g=e.servers,j=e.adapter,h=e.options,k=h.dispatchRetryLimit,m=h.dispatchRetryInterval;d=!d||!d.length?Object.keys(e.servers):q.splat(d);c=q.splat(c);j||(e.connect(),j=e.adapter);b=l.prune(b);d.forEach(function(d){var h=g[d],l={event:a,data:b,target:{servers:[d],sockets:c},origin:{socket:f},uuid:e.uuid};0===h.queue.length&&!h.waiting||
"subscribe"===a||"unSubscribe"===a?(e.log('SOCKET: socket "'+f+'" dispatch event "'+a+'"'),j.dispatchEvent(l,h.source,h.origin)):(e.log('SOCKET: socket "'+f+'" queue event "'+a+'" for serverId "'+d+'"'),h.queue.push(l),h.queueRetry=0,e.setPeriodical("dispatchRetry",function(){h.queueRetry++;h.queueRetry>=k?(e.clearPeriodical("dispatchRetry"),h.queueRetry=0,e.log('SOCKET: socket "'+f+'" fail to wait for serverId "'+d+'", will try again on next event.')):h.waiting?e.log('SOCKET: socket "'+f+'" waiting for serverId "'+
d+'".'):(e.clearPeriodical("dispatchRetry"),h.queue.forEach(function(a){j.dispatchEvent(a,h.source,h.origin)}),e.log('SOCKET: socket dispatch "'+h.queue.length+'" events in the queue for serverId "'+d+'".'),h.queue=[],h.queueRetry=0)},m,!0))});return e}});return e.namespace("Utils/InterCom",h,e)});
define("UWA/Embedded","UWA/Core UWA/Class UWA/Class/Options UWA/Class/Debug UWA/Class/Events UWA/Utils UWA/Utils/InterCom UWA/String".split(" "),function(e,q,t,r,n,b,d){function j(a,b){for(var d in b)b.hasOwnProperty(d)&&(a.style[d]=b[d])}function l(a,b){var d,c;for(c in b)b.hasOwnProperty(c)&&(d=b[c],"styles"===c?j(a,d):"html"===c?a.innerHTML=d:"text"===c?(a.innerHTML="",a.appendChild(document.createTextNode(d))):a.setAttribute(c,d))}function f(a,b,d){a=document.createElement(a);b&&l(a,b);d&&d.appendChild(a);
return a}function a(a){var b;if("object"!==typeof a)return!1;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a){return"boolean"===typeof a?!1===a?"0":"1":b.encodeUrl(a)}var k=q.extend(t,r,n,{url:"",id:null,data:null,version:e.version,elements:null,preferences:null,disableRemote:!0,defaultOptions:{container:null,className:"module",title:null,themeUrl:null,color:"white",height:"auto",width:"100%",maxHeight:!1,bookmarklet:!1,lang:null,id:null,readOnly:!1,data:{},buildHeader:!1,displayHeader:!0,
displayFooter:!0,displayScroller:!1,displayEdit:!0,cache:null,useAsyncFrame:!1,useAppCache:!1,offlineMode:!1,autoLaunch:!0,subDomain:!1,subDomainPattern:"{id}.widget.",remoteName:"uwa.embedded",sandbox:!1,exposition:e.hosts.exposition,uwa:e.hosts.uwa},socket:null,init:function(a,b){this.url=a;this.data={};this.elements={};this.preferences=[];this._remoteQueue=[];this.startTime=(new Date).getTime();this.setOptions(b);b=this.options;var d;d=typeof b.container;"string"===d?this.container=document.getElementById(b.container):
"object"===d&&null!==this.options.container?this.container=b.container:(d=document.getElementById("UWA_ASYNC"),this.container=f("div",{id:this.id,"class":b.className}),d?d.parentNode.insertBefore(this.container,d.nextSibling):(d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(this.container,d)));k.Instances[this.id]=this;if(this.container){if("string"!==typeof this.url)throw Error("UWA.Embedded expect url defined has first param");this.log('Init new instance with container id "'+
this.id+'" and widget url "'+this.url+'"');this.render()}else throw Error("UWA.Embedded is unable to get container element with container "+this.container+".");},destroy:function(){},setOptions:function(a){this._parent(a);a=this.options;a.title&&(a.buildHeader=!0);a.buildHeader&&(a.displayHeader=!1);this.data=a.data||{};if(a.id||!this.id)this.id=a.id||this.generateId();return this},generateId:function(){var a;do a="uwa-"+b.getCheckSum(this.url)+"-"+Math.ceil(1E5*Math.random());while(document.getElementById(a)&&
null!==k.Instances[a]);return a},render:function(){var a,b={},d=this.options,c=this.container,g=navigator.userAgent.toLowerCase().match(/ip(?:ad|od|hone)/);b.wrapper=f("div",{"class":"moduleWrapper"});d.buildHeader&&(b.header=f("div",{"class":"moduleHeader",styles:{position:"relative",overflow:"hidden",height:"23px",padding:"5px 5px 0 5px"}},b.wrapper),b.iconContainer=f("span",{styles:{padding:"0 5px 0 0"}},b.header),b.icon=f("img",{src:d.uwa+e.paths.img+"icon.png","class":"moduleIcon",height:16,
width:16,styles:{border:"none",height:16,width:16}},b.iconContainer),b.title=f("span",{text:d.title||"Loading...","class":"moduleTitle",styles:{font:'bold 11px/20px "Lucida Grande",Tahoma,Helvetica,Arial,sans-serif',verticalAlign:"top"}},b.header));b.body=f("div",{"class":"moduleContent"},b.wrapper);a={id:"frame-"+this.id,frameBorder:0,width:"100%",scrolling:d.maxHeight||"auto"!==d.height?"auto":"no"};d.sandbox&&(a.sandbox="allow-same-origin allow-forms allow-scripts allow-popups");b.iframe=f("iframe",
a,b.body);j(b.iframe,{display:"block"});d.bookmarklet&&(d.displayScroller=!0,d.height="100%",d.width="320px",j(b.wrapper,{position:"fixed",top:0,right:0,height:d.height,width:d.width,"z-index":99999998}));"auto"!==d.height&&(b.iframe.height=d.height);g&&d.displayScroller&&(b.iframe.scrolling="no");this.elements=b;c.innerHTML="";c.appendChild(b.wrapper);d.useAsyncFrame?this.renderIframeAsync():this.renderIframe();this.setChromeColor(d.color);this.initRemote()},renderIframe:function(){var a=this.elements.iframe,
b=this.getIframeUrl();if(!a.previousIframeUrl||a.previousIframeUrl!==b)a.previousIframeUrl=b,a.src=b},renderIframeAsync:function(){var a;a=JSON.stringify;var b=this.options,d=this.elements.iframe.contentWindow.document,c=b.exposition+"/widget/amd/js?uwaUrl="+h(this.url),f={id:this.id,widgetDomain:window.location.toString().replace(/#.*$/,"")};b.cache&&(c+="&cache="+h(b.cache));a=["<!DOCTYPE html>","<html>","<head>",'<meta charset="UTF-8" />','<script type="text/javascript">',"   var UWA = {hosts:"+
a(e.hosts)+"},",'       curl = {apiName: "require"};',"\x3c/script>",'<script type="text/javascript" src="'+b.uwa+"/lib/curl.js?v="+this.version+'">\x3c/script>','<script type="text/javascript" src="'+c+"&v="+this.version+'">\x3c/script>',"</head>","<body>",'<script type="text/javascript">','   define("'+this.id+'", ["'+this.url+'"], function (widget) {',"       UWA.extend(widget, "+a(f)+");","   });","\x3c/script>","</body>","</html>"];d.open();d.write(a.join("\n"));d.close()},getIframeUrl:function(){var a,
b=[],d=this.options,c=this.data,e={uwaUrl:this.url,id:this.id,cache:d.cache,header:d.displayHeader,footer:d.displayFooter,scroller:d.displayScroller,displayEdit:d.displayEdit,autoLaunch:d.autoLaunch&&!d.offlineMode,useAppCache:d.useAppCache,offlineMode:d.offlineMode,chromeColor:d.color,widgetDomain:window.location.toString().replace(/#.*$/,""),themeUrl:d.themeUrl,lang:d.lang};if(!d.offlineMode)for(a in e.readOnly=d.readOnly,c)c.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=c[a]);for(a in e)e.hasOwnProperty(a)&&
null!==e[a]&&b.push(a+"="+h(e[a]));a=this.getIframeDomain()+"?"+b.join("&");if(2048<a.length)throw Error("UWA.Embedded iframe url is more than 2048 characters please implement UWA.Embedded using offlineMode=true.");return a},getIframeDomain:function(){var a,d=this.options,e=d.exposition;d.subDomain&&(a=b.getCheckSum(this.url),e=e.replace("://","://"+d.subDomainPattern.replace("{id}",a)));return e+"/widget/frame"},initRemote:function(){var a,b=this,e=b.options;b.socket||(k.Servers[e.remoteName]||(k.Servers[e.remoteName]=
new d.Server(e.remoteName)),a=new d.Socket(b.id+"-master"),a.subscribeServer(e.remoteName,window,window.location.toString()),a.addListener("widgetMessage",function(a){a=a.args;var d=a.shift();b.disableRemote=d;b.dispatchEvent(d,a);b.disableRemote=!1}),b.socket=a,b._runRemoteQueue())},_runRemoteQueue:function(){var a,b;this.socket&&0!==this._remoteQueue.length&&(b=this._remoteQueue.shift(),!0===this.disableRemote||this.disableRemote===b[0]?this.log("sendRemote message ignored: "+b):(a={id:this.id,
args:b},this.log("sendRemote message: "+b),this.socket.dispatchEvent("environmentMessage",a,[a.id+"-slave"])),this._runRemoteQueue())},sendRemote:function(){this._remoteQueue.push(b.toArray(arguments));this._runRemoteQueue()},launch:function(a,b){void 0!==b&&(this.options.readOnly=b);void 0!==a&&(this.data=a);this.disableRemote=!1;this.sendRemote("launchWidget",this.data,this.options.readOnly)},setChromeColor:function(a){this.dispatchEvent("onColorize",[a]);this.sendRemote("onColorize",a)},setTitle:function(a){this.dispatchEvent("onUpdateTitle",
[a]);this.sendRemote("onUpdateTitle",a)},setIcon:function(a,b){this.dispatchEvent("onUpdateIcon",[a,b]);this.sendRemote("onUpdateIcon",a,b)},setValue:function(a,b){this.dispatchEvent("onUpdateValue",[a,b]);this.sendRemote("onUpdateValue",a,b)},setValues:function(a){for(var b in a)a.hasOwnProperty(b)&&this.setValue(b,a[b])},resizeHeight:function(a,b){this.dispatchEvent("onResizeHeight",[a,b]);this.sendRemote("onResize")},resizeWidth:function(a,b){this.dispatchEvent("onResizeWidth",[a,b]);this.sendRemote("onResize")},
onRegisterWidget:function(){var a=this.options;this.loadTime=(new Date).getTime();this.disableRemote=!1;a.autoLaunch&&(a.offlineMode||a.useAsyncFrame)&&this.launch()},onUpdateTitle:function(a){this.title!==a&&(this.title=a,this.elements.title&&(this.options.buildHeader&&null===this.options.title)&&l(this.elements.title,{text:a.stripTags()}))},onUpdateIcon:function(a){if(this.icon!==a&&(this.icon=a,this.options.buildHeader)){var b=this.elements.icon,d=f("img",{src:a,onload:function(){b.src=a}});d.complete&&
0<d.width&&(b.src=a)}},onUpdatePreferences:function(a){this.preferences=a},onUpdateValue:function(a,b){this.data[a]!==b&&(this.data[a]=b)},onResizeHeight:function(a,b){var d=this.options,c=d.maxHeight;if(this.elements.iframe&&(b||"auto"===d.height))this.elements.iframe.height=c&&a>c?c:a},onResizeWidth:function(a,b){var d=this.options;if(this.elements.iframe&&(b||"auto"===d.width))this.elements.iframe.width=a},onColorize:function(a){var b=this.options,d=this.elements;b.color=a;b.buildHeader&&("transparent"!==
a?j(d.header,{background:'url("'+b.uwa+e.paths.css+"themes/blueberry/img/moduleheader"+("white"!==a?"_"+a:"")+".png?v="+this.version+'") repeat-x scroll center top transparent'}):j(d.header,{background:null}),j(d.title,{color:"transparent"!==a?"white":"black"}))},onViewRequest:function(a){a||(a={});a.error="No view implementation in Embedded mode";this.sendRemote("onViewError",a)},getCode:function(b){var d,e,c=this.url,f=JSON.stringify,h=this.options,j={},k=["/lib/c/UWA/js/UWA_Embedded.js"];d={uwa:h.uwa,
exposition:h.exposition};for(e in h)h.hasOwnProperty(e)&&"container"!==e&&(null!==h[e]&&this.defaultOptions[e]!==h[e])&&(a(h[e])||(j[e]=h[e]));if(b&&1===k.length)b=['<script type="text/javascript">',"var UWA = {hosts:"+f(d)+"}, UWA_ASYNC = UWA_ASYNC || [];",'    UWA_ASYNC.push({url: "'+c+'",options:'+f(j)+"});","(function () {",'    var a = document.getElementsByTagName("script"), b = a[a.length - 1] || document.body.lastChild,','        c = b.parentNode, d = document.createElement("script"), e = document.createElement("div");',
'    e.id = "UWA_ASYNC"; d.type = "text/javascript"; d.async = true;','    d.src = ("https:" == document.location.protocol ? "https://" : "http://") + UWA.hosts.uwa.split("://")[1] + "'+k[0]+"?v="+this.version+'";',"    c.insertBefore(d, b); c.insertBefore(e, b)","})();","\x3c/script>"];else{b=[];b.push('<script type="text/javascript"> var UWA = {hosts:'+f(d)+"}; \x3c/script>");d=0;for(e=k.length;d<e;d++)b.push('<script type="text/javascript" src="'+h.uwa+k[d]+"?v="+this.version+'">\x3c/script>');
b.push('<script type="text/javascript">');b.push('var MyWidget = new UWA.Embedded("'+c+'"'+(!a(j)?","+f(j):"")+");");b.push("\x3c/script>")}return b.join("\n")}});k.Instances={};k.Servers={};if(window.UWA_ASYNC){r=window.UWA_ASYNC;e.Widgets=e.Widgets||[];q=0;for(t=r.length;q<t;q++)e.Widgets[q]=new k(r[q].url,r[q].options||{})}return e.namespace("Embedded",k,e)});
define("UWA/Environment","UWA/Core UWA/Class UWA/Class/Timed UWA/Class/Events UWA/Class/Debug UWA/Class/Options UWA/Utils UWA/Element UWA/Event UWA/Json UWA/Data UWA/Storage UWA/Widget UWA/Controls/Form UWA/Controls/WidgetPopupMenu UWA/Embedded UWA/Utils/Client".split(" "),function(e,q,t,r,n,b,d,j,l,f,a,h,k,u,s,z,c){function g(a){var b=e.hosts.netvibes+"/subscribe.php",c={module:"UWA",moduleUrl:a.getUrl()};a.getPreferences().forEach(function(a){c[a.name]=a.value});return b+"?"+d.toQueryString(c)}
var m,y=window.require||window.curl;m=q.extend(t,r,n,b,{name:null,inited:!1,registered:!1,launched:!1,widget:null,html:null,Features:null,views:{},defaultOptions:{formOptions:{nativeInputs:!1},defaultView:{type:"windowed"},initialView:null},init:function(a){this.setOptions(a);this.html={};this.Features={};this.view={};this.dispatchInit()},dispatchInit:function(){var a=this;a.setPeriodical("init",function(){document.body&&!a.inited&&(a.clearPeriodical("init"),a.dispatchEvent("onInit"),a.inited=!0)},
100,!0)},getWidget:function(){var a=this.widget||new k;this.widget||this.registerWidget(a);return a},registerWidget:function(a){var b=this;b.widget=a;b.setPeriodical("register",function(){if(b.inited&&!b.registered){var c,d=b.html;b.clearPeriodical("register");a.environment=b;for(c in d)d.hasOwnProperty(c)&&d[c]!==window&&(a.elements[c]=e.extendElement(d[c]));a.body=d.body;e.Widgets=e.Widgets||{};e.Widgets.instances=e.Widgets.instances||[];e.Widgets.instances.push(a);b.dispatchEvent("onRegisterWidget");
b.registerMenus();b.registered=!0}},100,!0)},launchWidget:function(a,b){var c,d=this;d.setPeriodical("launch",function(){d.isDataReady()&&d.registered&&(d.clearPeriodical("launch"),c=d.getWidget(),c.launch(a,b))},100,!0)},destroy:function(){var a,b,c=this.html,d=this.widget;d&&(e.Widgets.instances.splice(e.Widgets.instances.indexOf(d),1),d.destroy(),this.widget=null);this.clearDelayed();this.clearPeriodical();for(a in c)c.hasOwnProperty(a)&&j.destroy.call(c[a]);for(b in this.view)this.view.hasOwnProperty(b)&&
this.view[b]&&this.view[b].destroy();this.removeEvent();this.launched=this.registered=!1},onInit:function(){},onRegisterWidget:function(){var b=this,e=b.html,f=b.widget,k=f.id||d.getCheckSum(f.getUrl());b.data=new h({database:k+"-preferences"});a.getCache();e.menus&&j.addEvent.call(e.menus,"click",function(a){a=l.getElement(a);var c=b.widget.getMenu(a.getAttribute("data-name"));c&&(b.dispatchEvent("onMenuExecute",[c]),c.items&&(b.popupMenu||(b.popupMenu=(new s(b)).inject(document.body)),b.popupMenu.setTarget(a).setItems(c.items).toggle()))});
e.editAction&&(j.show.call(e.editAction),j.addEvent.call(e.editAction,"click",function(a){l.stop(a);b.dispatchEvent("toggleEdit")}));e.refreshAction&&(j.show.call(e.refreshAction),j.addEvent.call(e.refreshAction,"click",function(a){l.stop(a);b.dispatchEvent("onRefresh")}));e.shareAction&&(e.shareAction.href=g(f),e.shareAction.addEvent("click",function(a){l.stop(a);b.dispatchEvent("onOpenURL",g(f))}));j.addEvent.call(e.body,"update",function(){b.dispatchEvent("onUpdateBody")});j.handleExternalLinks.call(e.wrapper,
function(a,c){b.dispatchEvent("onOpenURL",[a,c])});j.addEvent.call(e.viewport||e.wrapper,"resize",function(){b.dispatchEvent("onResize")});j.addEvent.call(document,"keydown",function(a){b.dispatchEvent("onKeyboardAction",[a.which||a.keyCode,a])});[c.Engine.name,c.Engine.name+c.Engine.version,c.Platform.name,c.Features.touchEvents?"touch":"no-touch",f.readOnly&&"readonly",b.name&&"environment-"+b.name].forEach(function(a){a&&j.addClassName.call(e.body,a)});b.dispatchEvent("onResize");b.dispatchEvent("onViewRequest",
[b.options.initialView])},registerMenus:function(){},onUpdateMenu:function(a){this.html.menus&&(a||(a=this.widget.menus),this.html.menus.empty(),a.forEach(function(a){var b;if(!1!==(e.is(a.visible,"function")?a.visible():!1!==a.visible))b=e.createElement("span",{"class":"uwa-widget-menu-button","data-name":a.name}),a.help&&b.set("title",a.help),a.icon&&b.addClassName("uwa-icon "+a.icon),a.className&&b.addClassName(a.className),b.inject(this.html.menus),this.html.header&&this.html.header.set("data-menus-items",
this.html.menus.childNodes.length)},this))},onMenuExecute:function(a){e.is(a.onExecute,"string")&&this.widget.dispatchEvent(a.onExecute,[a])},isDataReady:function(){return!h||h.allInstancesReady()},getAllData:function(){return this.data.getAll()},getData:function(a){this.log("getData:"+a);return this.data.get(a)},setData:function(a,b){this.log("setData:"+a+","+b);return this.data.set(a,b)},deleteData:function(a){this.log("deleteData:"+a);return this.data.remove(a)},dispatchEvent:function(a,b,c,d){this.log("environment.event:"+
a);var e=this.widget;!d&&e&&this.addEventOnce(a,e.dispatchEvent.bind(e,a,b,c,!0));this._parent(a,b,c)},loadWidget:function(a,b){b=e.extend({onFailure:function(a){throw a;},onTimeout:function(a){throw a;},onComplete:function(){}},b);a=d.buildUrl(window.location.toString(),a);b.embedded?this.loadEmbeddedWidget(a,b):this.loadInlinedWidget(a,b);return this},loadInlinedWidget:function(){function a(c,d,e){b[c]&&(b[c].invoke(d,e),delete b[c])}var b={},c;c=function(c,f){var g=f.expositionError||f.error||
f.errors,h=[];if(g&&!(e.is(g,"array")&&0===g.length))a(c,"onFailure",g);else{f=this.convertSourceToJson(f);f.className||(f.checksum||(f.checksum=d.getCRC32(c)),f.className="w-"+f.checksum);f.style&&(d.setCss(f.className,f.style,"."+f.className,c),delete f.style);"string"===typeof f.script&&(f.script=new Function("widget",f.script));f.styles=this.filterExternalResources("style",f.styles||[]);for(f.scripts=this.filterExternalResources("script",f.scripts||[]);f.styles.length;)h.push("css!"+d.buildUrl(c,
f.styles.shift()));for(;f.scripts.length;)h.push("js!"+d.buildUrl(c,f.scripts.shift()));y(h,function(){var a=b[c];b[c]=f;e.is(a,"array")&&a.invoke("onComplete",f)},function(b){a(c,"onFailure",b)})}};return function(d,f){var g=b[d],h=f.fetcher||"XML",j=f.onComplete,k=this;f.onComplete=function(a){var b=k.getWidget();b.uwaUrl=d;b.setTitle(a.title);b.setIcon(a.icon);b.setMetas(a.metas);b.setPreferences(a.preferences);b.setPlugins(a.plugins);b.setBody(a.body);k.html.body.getParent().addClassName(a.className);
a.script&&a.script(b);j(b,k)};if(e.is(g,"object"))f.onComplete(g);else if(e.is(g,"array")?g.push(f):b[d]=[f],f=e.merge({onComplete:c.bind(this,d),onTimeout:a.bind(this,d,"onTimeout"),onFailure:a.bind(this,d,"onFailure")},f),e.is(h,"function"))h.call(this,d,f);else if(!e.is(h,"string")||4<h.length)f.onComplete(h);else h=h.toUpperCase(),"JSON"===h?this.fetchJsonWidget(d,f):this.fetchXmlWidget(d,f);return this}}(),loadEmbeddedWidget:function(a,b){var c,d,f=this,g=j.setStyle,h={cache:b.cache,container:f.html.body,
displayHeader:!1,displayFooter:!1,displayEdit:!0,autoLaunch:!1};e.is(b.embedded,"object")&&e.extend(h,b.embedded);c=new z(a,h);g.call(f.html.body,"padding",0);g.call(c.elements.body,"padding",0);f.addEvent("onRegisterWidget",function(){var a={},b={onUpdateValue:!0,onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onHideEdit:!0,onShowEdit:!0,onKeyboardAction:!0,onViewError:!0,onViewChange:!0,onLoad:function(){c.launch(f.getAllData(),f.getWidget().readOnly)}};
Object.keys(b).forEach(function(d){var e=b[d];!0===e&&(e=c.sendRemote.bind(c,d));a[d]=e});f.addEvents(a)});d=f.getWidget();c.addEvent("onRegisterWidget",function(){var a={},g={onRefresh:!0,onUpdateTitle:!0,onUpdateIcon:!0,onUpdateCounter:!0,onSearch:!0,onResetSearch:!0,onHideEdit:!0,onShowEdit:!0,onOpenURL:!0,onViewRequest:!0,onInitConfig:function(a){a.preferences&&d.setPreferences(a.preferences);a.plugins&&d.setPlugins(a.plugins);a.metas&&d.setMetas(a.metas)},onUpdatePreferences:function(a){d.setPreferences(a)},
onUpdateValue:function(a,b){d.setValue(a,b)}};h.displayEdit||e.merge(g,{onEdit:!0,endEdit:!0});Object.keys(g).forEach(function(b){var c=g[b];!0===c&&(c=function(){d.dispatchEvent(b,arguments)});a[b]=c});c.addEvents(a);b.onComplete(d,f)});f.embedded=c;return f},convertSourceToJson:function(){function a(b,c,d){var e,f,g=b.childNodes;b=0;for(e=g.length;b<e;b++)f=g[b],(!d||1===f.nodeType)&&c(f,f.nodeValue)}function b(a,c){var d,e,f,g=a.attributes||[];d=0;for(e=g.length;d<e;d++)f=g[d],c(f.name,f.value)}
function c(d,e){e=e||{title:"",icon:"",preferences:[],plugins:[],metas:{},body:[],script:"",scripts:[],style:"",styles:[]};9===d.nodeType&&(d=d.childNodes[0]);var k,l,m=d.nodeName.toLowerCase(),n={};if(-1!==f.indexOf(m))switch(b(d,function(a,b){n[a]=b}),m){case "widget:preferences":a(d,function(c){var d,f={};b(c,function(a,b){-1!==g.indexOf(a)&&(f[a]=b)});f.name&&("list"===f.type&&(d=[],a(c,function(a){var c={};b(a,function(a,b){-1!==h.indexOf(a)&&(c[a]=b)});c.label&&d.push(c)},!0),f.options=d),e.preferences.push(f))},
!0);break;case "widget:plugins":a(d,function(c){var f={name:d.getAttribute("name"),options:{}};b(c,function(a,b){f[a]=b});a(c,function(b){var c=b.getAttribute("name"),d=b.getAttribute("value");"widget:options"===b.tagName?(f.options[c]={},a(b,function(a){var b=a.getAttribute("name");a=a.getAttribute("value");b&&(f.options[c][b]=a)},!0)):c&&(f.options[c]=d)},!0);f.name&&e.plugins.push(f)});break;case "link":n.href&&(k=n.rel,"icon"===k?e.icon=n.href:"stylesheet"===k&&(!n.href.contains("UWA/assets")&&
!n.href.contains("standalone.css")&&!n.href.contains("uwa/style.css"))&&e.styles.push(n.href));break;case "meta":k=n.content;k="false"===k?!1:"true"===k?!0:k;e.metas[n.name]=k;break;case "script":!n.src&&(!n.language&&!n.type||j.test(n.type)||n.language)?(k="",a(d,function(a,b){k+=b}),k.test(/UWA(\s+)?=/)||(e[m]+=k)):n.src&&(!n.src.contains("UWA/js")&&!n.src.contains("load.js.php"))&&e.scripts.push(n.src);break;case "title":case "style":a(d,function(a,b){e[m]+=b})}else l=document.createElement(m),
"body"===m&&(e.body=l),b(d,function(a,b){l.setAttribute(a,b)}),a(d,function(a,b){var d;switch(a.nodeType){case 1:d=c(a,e);e=d.jsonWidget;d.html&&l.appendChild(d.html);break;case 4:case 3:l.appendChild(document.createTextNode(b))}});"html"!==m&&(e={jsonWidget:e,html:l});return e}var f="meta link title script style widget:preferences widget:plugins".split(" "),g="name defaultValue type label step min max".split(" "),h=["label","value"],j=/(java|ecma)script$/i;return function(a){e.is(a,"string")&&(a=
d.loadXml(a));e.is(a,"object")||(a=c(a));return a}}(),fetchJsonWidget:function(a,b){var c;c={mode:"full",callback:"define",uwaUrl:a};e.debug&&(c.flush=1,c.mode="full_debug");e.is(b.cache)&&(c.cache=b.cache);c=(b.server||e.hosts.exposition)+"/widget/json?"+d.toQueryString(c);y([c],b.onComplete,b.onError)},fetchXmlWidget:function(b,c){a.request(b,{cache:c.cache,type:"text",onFailure:c.onFailure,onTimeout:c.onTimeout,onComplete:c.onComplete})},filterExternalResources:function(a,b){return b},onRefresh:function(){var a=
this.getWidget();a.data={};a.hasEvent("onRefresh")||a.dispatchEvent("onLoad",void 0,void 0,!0)},onUpdateIcon:function(a){function b(){c.iconLoader.destroy();delete c.iconLoader}var c=this.html;c.icon&&(c.iconLoader&&b(),c.iconLoader=e.createElement("img",{styles:{display:"none"},events:{load:function(){c.icon.getElement("img").setAttribute("src",a);b()},error:function(){b()}}}).inject(this.html.wrapper),c.iconLoader.setAttribute("src",a))},onUpdateTitle:function(a){var b=this.html.title;b&&b.setHTML(a)},
onUpdateCounter:function(a){var b=this.html.counter;b&&b.setText(a?"("+(!0===a?"\u25cf":a)+")":"")},onEdit:function(){var a,b=e.createElement,c=e.i18n,d=this,f=d.html,g=d.getWidget(),h=g.metas;a=g.getPreferences();g.isEdit=!0;f.edit&&(f.edit.empty(),g.hasPreferences()&&(a.push({type:"submit",name:"endEdit",value:e.i18n("Done")}),f.preferences&&f.preferences.destroy(),f.preferences=(new u({nativeInputs:this.options.formOptions.nativeInputs,fields:a,events:{onChange:function(a,b,c){g.setValue(b,c);
d.embedded?d.embedded.sendRemote("dispatchEvent",a,b,c):d.dispatchEvent(a,[b,c])},onSubmit:function(a,b){for(var c in b)b.hasOwnProperty(c)&&g.setValue(c,b[c]);d.dispatchEvent("endEdit")}}})).inject(f.edit)),a=b("div",{"class":"moduleInfos"}),h.author&&b("p",{html:[c("Widget by")+" ",{tag:"strong",html:h.website?{tag:"a",href:h.website,text:h.author}:{tag:"span",text:h.author}}]}).inject(a),h.version&&b("p",{html:[c("Version")+" ",{tag:"strong",text:h.version}]}).inject(a),f.edit.addContent(a),f.wrapper.addClassName("onEdit"));
d.dispatchEvent("onShowEdit")},endEdit:function(){var a=this.html;this.getWidget().isEdit=!1;a.wrapper.removeClassName("onEdit");this.dispatchEvent("onHideEdit");this.dispatchEvent("onRefresh")},onOpenURL:function(a){a=d.parseUrl(a);if(!window.open(a.source,"_blank"))return window.alert(e.i18n('Unable to open "{0}", Please turn off your popup blocker and try again.'.format(a.source.truncate(50)))),!1},onViewRequest:function(){function a(b,c,d){d&&(c.error=d);b.dispatchEvent(d?"onViewError":"onViewChange",
[c])}function b(c,d){var e=c.views[d.type];return(e=e&&new e(c,d))&&e.addEvents({onEnter:function(){if(c.view.next===this){var b=c.view;b.current&&b.current.destroy();b.current=this;this.isSingle()&&(m._currentSingleView=this);c.view.next=null;a(c,this.event)}},onLeave:function(){c.view.current===this&&(m._currentSingleView===this&&(m._currentSingleView=null),c.view.next||(c.view.next=b(c,c.options.defaultView)),c.view.next.enter())},onError:function(b){if(c.view.next===this){var d=c.view;d.next&&
d.next.destroy();d.next=void 0;c.view.current.enter()}a(c,this.event,b)}})}return function(c){var d;c||(c=this.options.defaultView);c=e.clone(c);this.view.current&&this.view.current.event&&(c.previous=e.clone(this.view.current.event),delete c.previous.previous);this.view.current&&this.view.current.matchEvent(c)?a(this,c,"This view is already active."):(d=b(this,c))?d.isSingle()&&m._currentSingleView&&m._currentSingleView!==this.view.current?(a(this,c,"An environment is already in single view."),d.destroy()):
(c=this.view,c.next&&c.next.destroy(),c.next=d,this.view.current?this.view.current.leave():this.view.next.enter()):a(this,c,'No implementation available for the view "'+c.type+'".')}}(),onViewChange:function(a){this.getWidget()._view=a},onViewError:function(a){this.log("View error: "+f.encode(a))}});m.AbstractView=q.extend(r,{event:null,environment:null,init:function(a,b){this.environment=a;this.event=b},destroy:function(){this.removeEvents();m._currentSingleView===this&&(m._currentSingleView=null)},
enter:function(){this.dispatchEvent("onEnter")},leave:function(){this.dispatchEvent("onLeave")},isSingle:function(){return!1},matchEvent:function(a){return this.event.type===a.type},onEnter:function(){var a=this.environment.html;[a.wrapper,a.body].invoke("addClassName",this.event.type+"-view")},onLeave:function(){var a=this.environment.html;[a.wrapper,a.body].invoke("removeClassName",this.event.type+"-view")}});m.prototype.views.windowed=m.AbstractView.extend({});c.Features.fullscreen&&(m.prototype.views.fullscreen=
m.AbstractView.extend({enter:function(){var a,b=this,c=b.getTarget();a={fullscreenchange:function(){document.fullscreenElement===c?b.dispatchEvent("onEnter"):(b.dispatchEvent("onLeave"),j.removeEvents.call(document,a))},fullscreenerror:function(){b.dispatchEvent("onError",["Error while trying to set the fullscreen"]);j.removeEvents.call(document,a)}};j.addEvents.call(document,a);c.requestFullscreen()},leave:function(){document.fullscreenElement===this.getTarget()?document.exitFullscreen():this.dispatchEvent("onLeave")},
isSingle:function(){return!0},getTarget:function(){var a=this.environment.html;return a.content||a.body}}));return e.namespace("Environment",m,e)});
define("UWA/Drivers/Alone","UWA/Core UWA/Function UWA/String UWA/Array UWA/Date UWA/Object UWA/Utils UWA/Class UWA/Dispatcher UWA/Utils/Client UWA/Ajax UWA/Json UWA/Storage UWA/Data UWA/Event UWA/Element UWA/Fx UWA/Plugins/Abstract UWA/Controls/Pager UWA/Controls/Img UWA/Controls/Form UWA/Widget UWA/Environment".split(" "),function(e){return e.namespace("UWA",{driver:"Alone",extendElement:function(q){q&&!q._isUwaExtended&&(e.extend(q,e.Element),q._isUwaExtended=!0);return q},createElement:function(q,
t){return new e.Element(q,t)}},window,!0)});
define("UWA/Storage/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Storage"],function(b,m,k){m=m.extend(k,{type:"Abstract",limit:-1,init:function(b,c){this.storage=b||{};this.database=null;this.data={};this.includes=[];this.storage.isReady=!1;this.setOptions(c)},isAvailable:function(){return!1},interruptAccess:function(){if(!this.storage.isReady)throw Error("Storage Adapter "+this.type+" is not ready.");return!0},get:function(b){this.interruptAccess();return this.data[b]||null},
set:function(b,c){this.interruptAccess();return this.data[b]=c},rem:function(b){this.interruptAccess();var c=this.data[b];this.data[b]=null;return c}});return b.namespace("Storage/Adapter/Abstract",m,b)});
define("UWA/Storage/Adapter/Dom",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(b,m){function k(c){var b=!1;try{c.setItem("uwa-test",1),c.removeItem("uwa-test"),b=!0}catch(n){}return b}var n=m.extend({type:"Dom",limit:5242880,connect:function(c){this.database=c;window.localStorage||window.globalStorage?this.db=!window.globalStorage?window.localStorage:window.globalStorage[location.hostname]:window.sessionStorage&&(this.db=window.sessionStorage);this.storage.isReady=!0},isAvailable:function(){return!!window.sessionStorage&&
k(window.sessionStorage)||!(!window.localStorage&&!window.globalStorage)&&k(!window.globalStorage?window.localStorage:window.globalStorage[location.hostname])},get:function(c){this.interruptAccess();return((c=this.db.getItem(this.database+"-"+c))&&void 0!==c.value?c.value:c)||void 0},set:function(c,b){this.interruptAccess();this.db.setItem(this.database+"-"+c,b);return b},rem:function(c){this.interruptAccess();var b=this.get(c);this.db.removeItem(this.database+"-"+c);return b}});return b.namespace("Storage/Adapter/Dom",
n,b)});
define("UWA/Storage/Adapter/Html5",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(b,m){var k=m.extend({type:"Html5",limit:2097152,connect:function(b){this.database=b;this.db=window.openDatabase("uwa-data-storage-"+this.database,"1.0",this.database,this.limit);this.updateCache()},updateCache:function(){var b=this;b.db.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)");c.executeSql("SELECT k,v FROM data",[],function(c,g){var s,
h,l,p=g.rows;h=0;for(s=p.length;h<s;++h)l=p.item(h),b.data[l.k]=l.v;b.storage.isReady=!0})})},isAvailable:function(){function b(){f=!1}var c,f=!!window.openDatabase;if(f)try{c=window.openDatabase("uwa-test","1.0","UWA openDatabase test",this.limit),c.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",b);c.executeSql("DROP TABLE data;",b)},b)}catch(g){f=!1}return f},get:function(b){this.interruptAccess();return this.data[b]||
void 0},set:function(b,c){this.db.transaction(function(f){f.executeSql("INSERT OR REPLACE INTO data(k, v) VALUES (?, ?)",[b,c])});this.data[b]=c;this.updateCache();return c},rem:function(b){var c;this.interruptAccess();c=this.data[b];this.db.transaction(function(c){c.executeSql("DELETE FROM data WHERE k = ?",[b])});delete this.data[b];this.updateCache();return c}});return b.namespace("Storage/Adapter/Html5",k,b)});
define("UWA/Storage/Adapter/IE",["UWA/Core","UWA/Utils/Client","UWA/Storage/Adapter/Abstract"],function(b,m,k){function n(b){var f=document.createElement("div");f.id="uwa-"+b;f.style.display="none";f.style.behavior="url('#default#userData')";document.documentElement.appendChild(f);return f}m=k.extend({type:"IE",limit:65536,connect:function(b){this.database="uwa-data-storage-"+b;this.db=n(this.database);this.storage.isReady=!0},isAvailable:function(){var b,f,g=!1;if(window.ActiveXObject){try{f=(new Date).getTime(),
b=n("testStorage"),b.hasOwnProperty("save")&&(b.setAttribute("testStorage",f),b.save("testStorage"),b.load("testStorage"),b.getAttribute("testStorage")),g=!0}catch(k){}document.documentElement.removeChild(b)}return g},getKey:function(b){b=String(b);null!==b.match(/^\d/)&&(b="X"+b);return b.toUpperCase()},get:function(b){this.interruptAccess();this.db.load(this.database);return this.db.getAttribute(this.getKey(b))||void 0},set:function(b,f){this.interruptAccess();this.db.setAttribute(this.getKey(b),
f);this.db.save(this.database);return f},rem:function(b){this.interruptAccess();var f=this.get(b);this.db.removeAttribute(this.getKey(b));this.db.save(this.database);return f}});return b.namespace("Storage/Adapter/IE",m,b)});
define("UWA/Storage/Adapter/Cookies",["UWA/Core","UWA/Utils","UWA/Storage/Adapter/Abstract"],function(b,m,k){k=k.extend({type:"Cookies",limit:4096,defaultOptions:{path:!1,httpOnly:!1,duration:100,secure:"",domain:""},init:function(b,c){var f=m.parseUrl(window.location);this.defaultOptions={domain:-1!==["80","443"].indexOf(f.port)&&f.domain,secure:"https"===f.protocol};this._parent(b,c)},connect:function(b){this.database=b;this.storage.isReady=!0},isAvailable:function(){var b=!1;try{document.cookie=
"testcookie=1",b=-1!==document.cookie.indexOf("testcookie")}catch(c){}return b},getKey:function(b){return"uwa-"+this.database+"-"+b},get:function(b){this.interruptAccess();return(b=document.cookie.match("(?:^|;)\\s*"+this.getKey(b).escapeRegExp()+"=([^;]*)"))?decodeURIComponent(b[1]):void 0},set:function(b,c){var f,g=this.options;this.interruptAccess();c=encodeURIComponent(c);g.domain&&"localhost"!==g.domain&&(c+="; domain="+g.domain);g.path&&(c+="; path="+g.path);g.duration&&(f=new Date,f.setTime(f.getTime()+
864E5*g.duration),c+="; expires="+f.toGMTString());g.HttpOnly&&(c+="; HttpOnly");g.secure&&(c+="; secure");document.cookie=this.getKey(b)+"="+c;return c},rem:function(b){this.interruptAccess();var c=this.get(b);document.cookie=this.getKey(b)+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;";return c}});return b.namespace("Storage/Adapter/Cookies",k,b)});
define("UWA/Storage/Adapter/Object",["UWA/Core","UWA/Storage/Adapter/Abstract"],function(b,m){var k=m.extend({type:"Object",limit:0,connect:function(b){this.database=b;this.db={};this.storage.isReady=!0},isAvailable:function(){return!0},get:function(b){return this.db[b]},set:function(b,c){this.interruptAccess();return this.db[b]=c},rem:function(b){this.interruptAccess();var c=this.get(b);delete this.db[b];return c}});return b.namespace("Storage/Adapter/Object",k,b)});
define("UWA/Class/Listener",["UWA/Core","UWA/Class"],function(b,m){function k(c){return function(g,k,h,l){var p,a,d,j=g[c];p=b.typeOf(k);"object"===p&&(a=k);if(j&&(a||"string"===p&&b.is(h,"function")))for(d in b.is(this._listeningTo)||(this._listeningTo={}),b.is(g._observableId)||(g._observableId="o"+ ++n),this._listeningTo[g._observableId]=g,a||(a={},a[k]=h),a)a.hasOwnProperty(d)&&j.call(g,d,a[d],this,l);else throw Error("invalid input args");return this}}var n,c;n=0;c=m.extend({listenTo:k("addEvent"),
listenToOnce:k("addEventOnce"),stopListening:function(c,g,k){var h,l,p,a,d=this._listeningTo;l="removeEvent";if(d)for(a in p=b.typeOf(g),k||(!1===p?h=!0:"object"===p&&(l="removeEvents",k=this)),c&&(d={},d[c._observableId]=c),d)c=d[a],c[l](g,k,this),(h||!c.hasEvent())&&delete this._listeningTo[a];return this}});return b.namespace("Listener",c,m)});
define("UWA/Class/Model","UWA/Core UWA/Object UWA/Data UWA/Class UWA/Class/Events UWA/Class/Listener".split(" "),function(b,m,k,n,c,f){function g(a,d){var b=d.onFailure;d.onFailure=function(e){b&&b(a,e,d);a.dispatchEvent("onError",[a,e,d])}}function s(){throw Error('A "url" property or function must be specified');}function h(a,d){var j;a&&(j=a[d],b.is(j,"function")&&(j=j.call(a)));return j}var l=0,p={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};c=n.extend(c,f,{init:function(a,
d){var j,e=a||{};this.cid="c"+ ++l;this._attributes={};d&&(b.is(d.collection)&&(this.collection=d.collection),!0===d.parse&&(e=this.parse(a,d)||{}));j=h(this,"defaults");b.is(j)&&(e=b.merge(b.clone(e,!1),j));this.set(e,d);this._changed={};this.setup.apply(this,arguments)},clone:function(){return new this.constructor(this._attributes)},setup:function(){},sync:function(a,d,j){var e,c,g;b.is(j)||(j={});e={method:p[a],type:"json",headers:{}};j.url||(e.url=h(d,"url")||s());if(!b.is(j.data)&&d&&("create"===
a||"update"===a||"patch"===a))e.headers["Content-Type"]="application/json",e.data=j.attrs||d.toJSON(j);"GET"!==e.method&&b.is(e.data,"object")&&(e.data=JSON.stringify(e.data));c=j.onComplete;j.onComplete=function(a,d){j.responseHeaders=d;c&&c.call(null,a)};g=j.onFailure;j.onFailure=function(a,d,b){j.responseHeaders=b;if(g){if(!d||0===d.length)d=a.message||"";g.call(null,d)}};a=b.extend(e,j);a=j.request=k.request(a.url,a);d.dispatchEvent("onRequest",[d,a,j]);return a},parse:function(a){return a},_validate:function(a,
d){var j;if(!d.validate||!this.validate)return!0;a=b.extend(b.extend({},this._attributes),a);j=this.validationError=this.validate(a,d)||null;if(!j)return!0;this.dispatchEvent("onValidationFailure",[this,j,b.extend(d,{validationError:j})]);return!1},url:function(){var a;a=h(this,"urlRoot")||h(this.collection,"url")||s();this.isNew()||(a+="/"===a.charAt(a.length-1)?"":"/",a+=encodeURIComponent(this.id));return a},idAttribute:"id",set:function(a,d,j){var e,c,g,f,h,l,p,k;if(a){b.is(a,"object")?(c=a,j=
d||{}):(c={},c[a]=d,j=j||{});if(!this._validate(c,j))return!1;p=j.unset;k=j.silent;a=[];g=this._changing;this._changing=!0;g||(this._previousAttributes=b.clone(this._attributes,!1),this._changed={});c.hasOwnProperty(this.idAttribute)&&(this.id=c[this.idAttribute]);h=this._attributes;l=this._previousAttributes;f=this._changed;for(e in c)d=c[e],b.equals(h[e],d)||a.push(e),b.equals(l[e],d)?delete f[e]:f[e]=d,p?delete h[e]:h[e]=d;if(!k){a.length&&(this._pending=!0);e=0;for(c=a.length;e<c;e++)d=a[e],this.dispatchEvent("onChange:"+
d,[this,h[d],j])}if(!g){if(!k)for(;this._pending;)this._pending=!1,this.dispatchEvent("onChange",[this,j]);this._changing=this._pending=!1}}return!0},unset:function(a,d){return this.set(a,void 0,b.extend(b.extend({},d),{unset:!0}))},clear:function(a){var d,j={};a=a?b.clone(a):{};for(d in this._attributes)j[d]=void 0;return this.set(j,b.extend(a,{unset:!0}))},get:function(a){return this._attributes[a]},escape:function(a){a=this.get(a);return!b.is(a)?"":a.toString().escapeHTML()},has:function(a){return b.is(this.get(a))},
keys:function(){return m.keys(this._attributes)},values:function(){var a,d,b=this.keys(),e=[];a=0;for(d=b.length;a<d;a++)e.push(this.get(b[a]));return e},pairs:function(){var a,d,b,e=this.keys(),c=[];a=0;for(d=e.length;a<d;a++)b=e[a],c.push([b,this.get(b)]);return c},toJSON:function(){return b.clone(this._attributes,!1)},pick:function(){var a=this,d={};Array.prototype.concat.apply([],Array.prototype.slice.call(arguments,0)).forEach(function(b){a.has(b)&&(d[b]=a.get(b))});return d},omit:function(){var a,
d,b,e={},c=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments,0)),g=this.keys();a=0;for(d=g.length;a<d;a++)b=g[a],-1===c.indexOf(b)&&(e[b]=this.get(b));return e},isNew:function(){return!b.is(this.id)},isValid:function(a){return!this.validate||!this.validate(this._attributes,a)},hasChanged:function(a){var d,j=!1,e=this._changed;if(e)if(b.is(a))j=b.owns(e,a);else for(d in e)if(b.owns(e,d)){j=!0;break}return j},changedAttributes:function(a){var d,j,e=!1;if(b.is(a,"object"))for(j in d=
this._changing?this._previousAttributes:this._attributes,a)b.equals(d[j],a[j])||(e=e||{},e[j]=a[j]);else this.hasChanged()&&(e=b.clone(this._changed,!1));return e},previous:function(a){var d=this._previousAttributes;return b.is(a)&&d?d[a]:null},previousAttributes:function(){return b.clone(this._previousAttributes,!1)},save:function(a,d,j){var e,c,f,h=this;e=h._attributes;!b.is(a)||"object"===b.typeOf(a)?(c=a,j=d):(c={},c[a]=d);j=b.extend({validate:!0},j);if(c&&!j.wait){if(!h.set(c,j))return!1}else if(!h._validate(c,
j))return!1;c&&j.wait&&(h._attributes=b.extend(b.extend({},e),c));void 0===j.parse&&(j.parse=!0);f=j.onComplete;j.onComplete=function(a){var d;h._attributes=e;d=h.parse(a,j);j.wait&&(d=b.extend(c||{},d));if("object"===typeof d&&null!==d&&!h.set(d,j))return!1;f&&f(h,a,j);return h.dispatchEvent("onSync",[h,a,j])};g(this,j);a=this.isNew()?"create":j.patch?"patch":"update";"patch"===a&&(j.attrs=c);a=this.sync(a,this,j);c&&j.wait&&(h._attributes=e);return a},fetch:function(a){var d,c=this;a=a?b.clone(a,
!1):{};void 0===a.parse&&(a.parse=!0);d=a.onComplete;a.onComplete=function(b){if(!c.set(c.parse(b,a),a))return!1;d&&d(c,b,a);return c.dispatchEvent("onSync",[c,b,a])};g(this,a);return this.sync("read",this,a)},destroy:function(a){var d,c,e,h=this;a=a?b.clone(a,!1):{};c=a.onComplete;d=function(){return h.dispatchEvent("onDestroy",[h,h.collection,a])};a.onComplete=function(b){(a.wait||h.isNew())&&d();c&&c(h,b,a);if(!h.isNew())return h.dispatchEvent("onSync",[h,b,a])};if(h.isNew())return a.onComplete(),
!1;g(h,a);e=h.sync("delete",h,a);a.wait||d();return e}});return b.namespace("Model",c,n)});
define("UWA/Class/Collection","UWA/Core UWA/Utils UWA/Class UWA/Class/Debug UWA/Class/Events UWA/Class/Listener UWA/Class/Model".split(" "),function(b,m,k,n,c,f,g){var s,h,l,p;s={add:!0,remove:!0,merge:!0};h={add:!0,remove:!1};p=new g;l=function(a){return b.is(a,"function")?a:function(d){return d.get(a)}};m=k.extend(c,f,{init:function(a,d){b.is(d)||(d={});d.url&&(this.url=d.url);d.model&&(this.model=d.model);void 0!==d.comparator&&(this.comparator=d.comparator);this._reset();this._modelListener=function(a,
d,b,c){return this._onModelEvent(a,d,b,c)};this.setup(a,d);a&&this.reset(a,b.extend({silent:!0},d))},clone:function(){return new this.constructor(this._models)},setup:function(){},sync:function(){return p.sync.apply(this,arguments)},parse:function(a){return a},model:g,add:function(a,d){return this.set(a,b.extend(b.extend({merge:!1},d),h))},push:function(a,d){return this.add(a,b.merge({at:this.length},d))},unshift:function(a,d){return this.add(a,b.merge({at:0},d))},remove:function(a,d){var c,e,h,g,
f;b.is(d)||(d={});a=(f=!Array.isArray(a))?[a]:b.clone(a,!1);h=0;for(g=a.length;h<g;h++)if(e=a[h]=this.get(a[h]))delete this._byId[e.id],delete this._byId[e.cid],c=this.indexOf(e),this._models.splice(c,1),this.length--,d.silent||(d.index=c,e.dispatchEvent("onRemove",[e,this,d])),this._removeReference(e);return f?a[0]:a},pop:function(a){var d;d=this.at(this.length-1);this.remove(d,a);return d},shift:function(a){var d;d=this.at(0);this.remove(d,a);return d},sort:function(a){b.is(a)||(a={});if(!this.comparator)throw Error("Cannot sort a collection without a comparator");
b.is(this.comparator,"string")||1===this.comparator.length?this._models=this.sortBy(this.comparator,this):this._models.sort(this.comparator.bind(this));a.silent||this.dispatchEvent("onSort",[this,a]);return this},set:function(a,d){var c,e,h,f,l,p,k,m,n,v,r,w,u,y,q,t,x,z;d=b.merge(b.merge({},d),s);d.parse&&(a=this.parse(a,d));a=(z=!Array.isArray(a))?a?[a]:[]:b.clone(a,!1);c=d.at;y=this.model;e=this.comparator&&!b.is(c)&&!1!==d.sort;h="string"===b.typeOf(this.comparator)?this.comparator:null;f=[];l=
[];p={};k=d.add;m=d.merge;n=d.remove;v=!e&&k&&n?[]:!1;r=0;for(w=a.length;r<w;r++){t=a[r];u=t instanceof g?q=t:t[y.prototype.idAttribute];if(u=this.get(u))n&&(p[u.cid]=!0),m&&(t=t===q?q._attributes:t,d.parse&&(t=u.parse(t,d)),u.set(t,d),e&&(!x&&u.hasChanged(h))&&(x=!0)),a[r]=u;else if(k&&(q=a[r]=this._prepareModel(t,d)))a[r]=q,f.push(q),q.addEvent("onAnyEvent",this._modelListener,this),this._byId[q.cid]=q,b.is(q.id)&&(this._byId[q.id]=q);if(v&&(u||q))v.push(u||q)}if(n){r=0;for(w=this.length;r<w;++r)q=
this._models[r],p[q.cid]||l.push(q);l.length&&this.remove(l,d)}if(f.length||v&&v.length)if(e&&(x=!0),this.length+=f.length,b.is(c)){e=0;for(h=f.length;e<h;e++)this._models.splice(c+e,0,f[e])}else{v&&(this._models.length=0);c=v||f;e=0;for(h=c.length;e<h;e++)this._models.push(c[e])}x&&this.sort({silent:!0});if(!d.silent){r=0;for(w=f.length;r<w;r++)q=f[r],q.dispatchEvent("onAdd",[q,this,d]);(x||v&&v.length)&&this.dispatchEvent("onSort",[this,d])}return z?a[0]:a},reset:function(a,d){var c,e,h,f;d=d?b.clone(d,
!1):{};f=this._models;e=0;for(h=f.length;e<h;e++)c=f[e],this._removeReference(c);d.previousModels=this._models;this._reset();a=this.add(a,b.extend({silent:!0},d));d.silent||this.dispatchEvent("onReset",[this,d]);return a},get:function(a){if(b.is(a))return this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this._models[a]},first:function(a,d){return b.is(a)&&!d?this._models.slice(0,a):this._models[0]},last:function(a,d){return b.is(a)&&!d?this._models.slice(Math.max(this._models.length-
a,0)):this._models[this._models.length-1]},toArray:function(){return this.slice()},slice:function(a,d){return this._models.slice(a,d)},rest:function(a,d){return this._models.slice(!b.is(a)||d?1:a)},initial:function(a,d){return this._models.slice(0,this._models.length-(!b.is(a)||d?1:a))},without:function(){var a;a=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments));return this._models.filter(function(d){return-1===a.indexOf(d)})},indexOf:function(a,d){return this._models.indexOf(a,
d)},lastIndexOf:function(a,d){return this._models.lastIndexOf(a,d)},contains:function(a){return-1!==this.indexOf(a)},size:function(){return this._models.length},isEmpty:function(){return 0===this._models.length},toJSON:function(a){return this.map(function(d){return d.toJSON(a)})},pluck:function(a){return this._models.map(function(d){return d.get(a)})},shuffle:function(){var a,d;d=[];this.forEach(function(b,c){a=Math.floor(Math.random()*(c+1));d[c]=d[a];d[a]=b});return d},where:function(a,d){return!b.is(a)?
d?void 0:[]:this[d?"find":"filter"](function(d){for(var b in a)if(a[b]!==d.get(b))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},invoke:function(){return Array.prototype.invoke.apply(this._models,arguments)},forEach:function(a,d){return this._models.forEach(a,d)},map:function(a,d){return this._models.map(a,d)},every:function(a,d){return this._models.every(a,d)},some:function(a,d){return this._models.some(a,d)},sortBy:function(a,d){var b,c;b=l(a);c=this._models.map(function(a,
c,e){return{model:a,index:c,criteria:b.call(d,a,c,e)}});c.sort(function(a,d){var b,c;b=a.criteria;c=d.criteria;if(b!==c){if(b>c||void 0===b)return 1;if(b<c||void 0===c)return-1}return a.index<d.index?-1:1});return c.map(function(a){return a.model})},groupBy:function(a,d){var c,e,h=this._models;c=l(a);e={};this.forEach(function(a,f){var g=c.call(d,a,f,h);b.owns(e,g)||(e[g]=[]);e[g].push(a)});return e},countBy:function(a,d){var c,e,h=this._models;c=l(a);e={};this.forEach(function(a,f){var g=c.call(d,
a,f,h);b.owns(e,g)||(e[g]=0);e[g]++});return e},find:function(a,d){var b;this.some(function(c,h,f){if(a.call(d,c,h,f))return b=c,!0});return b},filter:function(a,b){return this._models.filter(a,b)},reject:function(a,b){return this.filter(function(b,d,c){return!a(b,d,c)},b)},reduce:function(a,b,c){var e=a;c&&(e=e.bind(c));return 1<arguments.length?this._models.reduce(e,b):this._models.reduce(e)},reduceRight:function(a,b,c){var e=a;c&&(e=e.bind(c));return 1<arguments.length?this._models.reduceRight(e,
b):this._models.reduceRight(e)},max:function(a,b){var c,e;if(a&&!this.isEmpty())return e=l(a),c={computed:-Infinity,model:void 0},this.forEach(function(a,h,f){h=e.call(b,a,h,f);if(h>=c.computed)return c={model:a,computed:h}}),c.model},min:function(a,b){var c,e;if(a&&!this.isEmpty())return e=l(a),c={computed:Infinity,model:void 0},this.forEach(function(a,h,f){h=e.call(b,a,h,f);if(h<c.computed)return c={model:a,computed:h}}),c.model},fetch:function(a){var d,c,e=this;a=a?b.clone(a,!1):{};void 0===a.parse&&
(a.parse=!0);d=a.onComplete;a.onComplete=function(b){e[a.reset?"reset":"set"](b,a);d&&d(e,b,a);return e.dispatchEvent("onSync",[e,b,a])};c=a.onFailure;a.onFailure=function(b){c&&c(e,b,a);e.dispatchEvent("onError",[e,b,a])};return e.sync("read",e,a)},create:function(a,d){var c,e,h=this;d=d?b.clone(d,!1):{};c=h._prepareModel(a,d);if(!c)return!1;d.wait||h.add(c,d);e=d.onComplete;d.onComplete=function(a,b){d.wait&&h.add(a,d);if(e)return e(a,b,d)};c.save(null,d);return c},_reset:function(){this.length=
0;this._models=[];return this._byId={}},_prepareModel:function(a,d){var c;if(a instanceof g)return a.collection||(a.collection=this),a;d=b.is(d)?b.clone(d,!1):{};d.collection=this;c=new this.model(a,d);if(!c.validationError)return c;this.dispatchEvent("onValidationFailure",[this,c.validationError,d]);return!1},_removeReference:function(a){this===a.collection&&delete a.collection;return a.removeEvent("onAnyEvent",this._modelListener,this)},_onModelEvent:function(a,c,h,e){if(!(("onAdd"===a||"onRemove"===
a)&&h!==this))return"onDestroy"===a&&this.remove(c,e),c&&a==="onChange:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],b.is(c.id)&&(this._byId[c.id]=c)),this.dispatchEvent(a,[c,h,e])}});return b.namespace("Collection",m,k)});
define("UWA/Class/View",["UWA/Core","UWA/Element","UWA/Class","UWA/Class/Listener","UWA/Controls/Abstract"],function(b,m,k,n,c){function f(c,f){var g;c&&(g=c[f],b.is(g,"function")&&(g=g.call(c)));return g}var g,s;s="model collection container id attributes className tagName domEvents".split(" ");g=0;n=c.extend(n,{tagName:"div",init:function(c){var l,k;this.cid="c"+ ++g;c=b.clone(c||{},!1);for(l=s.length-1;0<=l;l--)k=s[l],c.hasOwnProperty(k)&&(this[k]=c[k],delete c[k]);this._parent(c);this.container?
this._ensureContainer(f(this,"container")):(l=b.extend({},f(this,"attributes")),this.id&&(l.id=f(this,"id")),this.className&&(l["class"]=f(this,"className")),this.container=b.createElement(f(this,"tagName"),l));this.setup.apply(this,arguments);this.delegateDOMEvents()},setup:function(){},destroy:function(){this.undelegateDOMEvents();this._parent()},render:function(){return this},setContainer:function(b){this.undelegateDOMEvents();this._ensureContainer(b);this.delegateDOMEvents();return this},_ensureContainer:function(c){var f;
if(c instanceof m)this.container=c;else if(f=b.typeOf(c),"element"===f)this.container=b.extendElement(c);else if("object"===f)this.container=b.createElement(c.tag,c);else throw Error("Invalid type of container");},getElement:function(b){return this.container.getElement(b)},getElements:function(b){return this.container.getElements(b)},delegateDOMEvents:function(c){var g,k;b.is(c)||(c=f(this,"domEvents"));if(!c)return this;this.undelegateDOMEvents();for(g in c){k=c[g];if("function"!==typeof k){if("string"!==
typeof k)throw Error("Invalid type of value in hash of domEvents!");k=this[k]}if(!k)throw Error("Method '"+c[g]+"' does not exist");k=k.bind(this);this.container.addEvent(g,k)}return this},undelegateDOMEvents:function(){if(this.container)this.container.removeEvent();else throw Error("unexpected error");return this}});return b.namespace("View",n,k)});
define("UWA/Class/Store",["UWA/Core","UWA/Utils","UWA/Class","UWA/Class/Debug"],function(b,m,k,n){n=k.extend(n,{init:function(c,f,g){b.log("*IMPORTANT NOTICE : UWA.Class.Store IS AN EXPERIMENTAL FEATURE SUBJECT TO REMOVAL, DEPRECIATION OR CHANGES IN THE NEXT RELEASE! IT IS PROVIDED AS A TEMPORARY CONVENIENCE, CONSEQUENTLY DO NOT USE THIS IN PRODUCTION CODE!*");this._name=f;this._storage=c;this.debugMode=g&&g.debugMode;this._records=(c=this._storage.get(this._name))&&c.split(",")||[]},log:function(b){return this._parent(String.prototype.format.apply('Store "{0}": {1}'.format(this._name,
b),[].slice.call(arguments,1)))},_save:function(){return this._storage.set(this._name,this._records.join(","))},_set:function(b,f){return this._storage.set(this._name+"-"+b,JSON.stringify(f))},_rem:function(b){return this._storage.remove(this._name+"-"+b)},_insert:function(b,f){var g=m.getUUID();b[f]=g;this._set(g,b)&&(this._records.push(g),this._save()?this.log('Successfully inserted model "{0}"',g):this._rem(g)?this._records.pop():this._throwError('Unable to rollback failed insertion of model "{0}"',
g));return this._find(g)},_find:function(b){return(b=this._storage.get(this._name+"-"+b))&&JSON.parse(b)},_findAll:function(){return this._records.map(function(b){return this._find(b)},this).filter(function(b){return b},this)},_update:function(c,f){var g;if(g=this._find(c))if(g=this._set(c,b.extend(g,f)))(g=this._find(c))&&this.log('Successfully updated model "{0}"',c);return g},_remove:function(b){var f=this._rem(b);f&&(this._records=this._records.filter(function(f){return f!==b}),this._save()?this.log('Successfully removed model "{0}"',
b):this._set(b,f)?(this._records.push(b.toString()),f=null):this._throwError('Unable to rollback failed deletion of model "{0}"',b));return f},_clear:function(){this._records.forEach(function(b){this._rem(b)},this);this._storage.rem(this._name);this._records.length=0},_throwError:function(b){throw Error(String.prototype.format.apply("Store {0}: {1}".format(this._name,b),[].slice.call(arguments,1)));},sync:function(c,f,g){var k,h,l,m;if("create"===c||"update"===c||"patch"===c)h=f.toJSON(g);k=f.id;
f=f.idAttribute;try{switch(c){case "read":l=b.is(k)?this._find(k):this._findAll();break;case "create":l=this._insert(h,f);break;case "update":case "patch":l=this._update(k,h);break;case "delete":l=this._remove(k);break;default:this._throwError('Unsupported method "{0}"',c)}}catch(a){m=a.message}if(l){if(g&&g.onComplete)g.onComplete(l)}else if(g&&g.onFailure)g.onFailure(m||'Store "{0}": model "{1}" not found'.format(this._name,k));return{cancel:function(){}}}});return b.namespace("Store",n,k)});
define("UWA/Environments/Swym","UWA/Core UWA/Environment UWA/Storage/Adapter/Dom UWA/Storage/Adapter/Html5 UWA/Storage/Adapter/IE UWA/Storage/Adapter/Cookies UWA/Storage/Adapter/Object UWA/Class/Collection UWA/Class/View UWA/Class/Model UWA/Class/Store".split(" "),function(b,m){var k=m.extend({name:"swym"});return b.namespace("Environments/Swym",k,b)});
/* AMD Modules:
./src/Services/Auth.js
./src/Services/ControlParser.js
./src/Services/Feed.js
./src/Services/Geo.js
./src/Services/ICal.js
./src/Services/Mail.js
./src/Services/Search.js
./src/Services/Upload.js
./src/Services/Auth/Adapter/Abstract.js
./src/Controls/Popup.js
./src/Services/Auth/Adapter/Exposition.js
./src/Services/Auth/Adapter/Form.js
./src/Services/Auth/Adapter/Netvibes.js
./src/Services/Auth/Adapter/SiteMinder.js
./src/Plugins/Auth.js
./src/Plugins/Ecosystem.js
./src/Plugins/GoogleAnalytics.js
./src/Plugins/I18n.js
./src/Controls/Segmented.js
./src/Controls/Accordion.js
./src/Controls/Flash.js
./src/Controls/AudioPlayer.js
./src/Controls/Autocomplete.js
./src/Controls/Calendar.js
./src/Controls/Carousel.js
./src/Controls/DataGrid.js
./src/Controls/Picker.js
./src/Controls/DatePicker.js
./src/Controls/Drag.js
./src/Controls/Ellipsis.js
./src/Controls/ToolTip.js
./src/Controls/EmbedToolTip.js
./src/Controls/FeedView.js
./src/Controls/FlashPlayer.js
./src/Controls/Overlay.js
./src/Controls/Lightbox.js
./src/Controls/Map.js
./src/Controls/Notify.js
./src/Controls/SearchForm.js
./src/Controls/StackedColumn.js
./src/Controls/TabView.js
./src/Controls/Web.js
./src/Controls/FeedView/Carousel.js
./src/Controls/FeedView/Channel.js
./src/Controls/FeedView/Gallery.js
./src/Controls/FeedView/Headline.js
./src/Controls/FeedView/Magazine.js
./src/Controls/FeedView/Normal.js
./src/Controls/FeedView/Scoop.js
./src/Controls/FeedView/SimpleList.js
./src/Controls/FeedView/Ticker.js
*/
define("UWA/Services/Auth",["UWA/Core","UWA/Class","UWA/Class/Options"],function(d,h,m){h=h.extend(m,{Adapter:null,defaultOptions:{adapter:null,adapterOptions:{}},init:function(d){this.setOptions(d);this.initAdapter()},initAdapter:function(){var g=this.options.adapter,e=this.options.adapterOptions;if(g instanceof d.Services.Auth.Adapter.Abstract)g.setOptions(e),this.Adapter=g;else{if("string"!==typeof g)throw Error("Bad adapter options value <"+g+">.");try{if(this.Adapter=new d.Services.Auth.Adapter[g](e),
!(this.Adapter instanceof d.Services.Auth.Adapter.Abstract))throw Error("UWA.Services.Auth.Adapter."+g+" is not an instance of UWA.Services.Auth.Adapter.Abstract");}catch(c){throw Error("Unable to initialize adapter with name <"+g+"> cause: "+c);}}},hasIdentity:function(d,e){this.Adapter.hasIdentity(d,e)},getIdentity:function(d,e){this.Adapter.getIdentity(d,e)},clearIdentity:function(d){this.Adapter.clearIdentity(d)},authenticate:function(d,e,c){this.Adapter.authenticate(d,e,c)},toQueryString:function(){return this.Adapter.toQueryString()}});
return d.namespace("Services/Auth",h,d)});
define("UWA/Services/ControlParser",["UWA/Core","UWA/Element"],function(d,h){function m(b,a){var c=b.getAttribute(a)||b.getAttribute("data-"+a);b.removeAttribute(a);b.removeAttribute("data-"+a);return c}function g(b,a){a||(a=b.prototype.name);c[a]=b}function e(b,a){var f=c[b];if(d.owns(c,b))if(d.is(f,"string")){var f=f.split(" "),e=f[0],r=f[1]?f[1].split("."):[];(window.require||window.curl)([e],function(b){r.forEach(function(a){b=b[a]});a(null,b)})}else a(null,f);else a("Control "+b+" not found")}
var c=Object.create(null);g("UWA/Controls/Input Text","uwa-text");g("UWA/Controls/Input Button","uwa-button");g("UWA/Controls/Input File","uwa-file");g("UWA/Controls/Input Select","uwa-select");g("UWA/Controls/Input Checkbox","uwa-checkbox");g("UWA/Controls/Input Radio","uwa-radio");return d.namespace("Services/ControlParser",{register:g,parse:function(b,a){function c(b,f,d,s){r--;if(d){if(j=d,a.onError)a.onError(d)}else b=f,-1<b.indexOf("[]",b.length-2)?(b=b.slice(0,-2),k[b]||(k[b]=[]),k[b].push(s)):
k[b]=s;if(0===r){if(a.onComplete)a.onComplete(k,j);if(!j&&a.onSuccess)a.onSuccess(k)}}a||(a={});var n=h.getElements.call(b,"[uwa-control],[data-uwa-control]"),r=n.length,k={},j;n.forEach(function(a,b){var k=m(a,"uwa-control"),j=c.bind(null,b,m(a,"uwa-name")||"lostAndFound[]");e(k,function(b,c){var f,l=a.className,e,n=a.parentNode,r=a.nextSibling;n&&n.removeChild(a);e=function(b){b||(b=a);b.inject?b.inject(r||n,r&&"before"):n.insertBefore(b,r)};b||(d.is(c,"class")?(a.className="",f=new c({element:a,
className:l})):d.is(c,"function")&&(f=c(a)),f?e(f):b="Can't build the control "+k);j(b,f)})})},_tests:{getControl:e}},d)});
define("UWA/Services/Feed","UWA/Core UWA/Class UWA/Class/Options UWA/Utils UWA/Json UWA/Data UWA/Storage".split(" "),function(d,h,m,g,e,c,b){var a=h.extend(m,{id:null,timeOffset:null,lastFetchedDate:null,error:null,defaultOptions:{id:0,timeOffset:0,readOnly:!0,bufferItemMaxLen:30,itemLinkFilters:[],itemEnclosureFilters:[function(){var a=/feedads|icon|button|addthis|feed|feedburner/;return function(b){return!a.test(b)}}()]},init:function(a){this.data={dir:"ltr",flags:{read:0,unread:0},items:[]};this.setOptions(a)},
setOptions:function(a){this._parent(a);a=this.options;this.id=a.id;this.timeOffset=a.timeOffset;a.error?this.setError(a.error):a.data&&(this.setData(a.data),delete a.data);return this},setError:function(a){this.error=a;return this},getError:function(){return this.error},isReadOnly:function(){return!0===this.options.readOnly},setLastFetchedDate:function(a){this.lastFetchedDate=parseInt(a,10);return this},getLastFetchedDate:function(){return parseInt(this.lastFetchedDate,10)},setData:function(a,b){b=
b||{};var c;c=a.server_time||Math.round(Date.now()/1E3);var f=a.items,e=this.getItemsLength();delete a.items;b.last_update?(this.addItems(f,"before"),this.setLastFetchedDate(c)):b.published_before?this.addItems(f,"after"):(d.extend(this.data,a,!0),this.addItems(f),this.setLastFetchedDate(c),a.url&&(this.ownerURL=a.url,this.feedSiteUrlDomain=g.parseUrl(a.url).domain));c={data:d.clone(this.data),addedItem:e-this.data.length};b.callback&&(b.onComplete=b.callback,delete b.callback);if(d.is(b.onComplete,
"function"))b.onComplete(c);return c},addItems:function(a,b){if(Array.isArray(a)&&0<a.length){var c,f,d,s=this.getItems();if("before"===b){for(c=a.length-1;0<=c;c--)d=this.preProcessItem(a[c]),s.unshift(d);this.setItemsIndexes()}else if("after"===b){c=0;for(f=a.length;c<f;c++)d=this.preProcessItem(a[c]),s.push(d);this.setItemsIndexes()}else{c=0;for(f=a.length;c<f;c++)d=this.preProcessItem(a[c]),s.push(d);this.sortItemsByDate()}}},sortItemsByDate:function(a){var b,c,f=this.getItems(),f=f.sort(function(f,
d){b=(new Date(f.date)).getTime();c=(new Date(d.date)).getTime();return"asc"===a?b-c:c-b});this.setItemsIndexes()},setItemsIndexes:function(){var a,b=this.getItemsLength();for(a=0;a<b;a++)this.getItem(a).index=a},preProcessItem:function(a){a.__preProcessed||(a.content=a.content||"",a.title=a.title||"",a.flags=a.flags||{},this.preProcessItemEnclosures(a),this.applyItemLinkFilters(a),this.applyItemEnclosureFilters(a),a.__preProcessed=!0);return a},preProcessItemEnclosures:function(){function a(b,c,
f){var d,s,k,e=[],n=b.getElementsByTagName(c);b=0;for(d=n.length;b<d;b++)k=n[b],(s=n[b].getAttribute(f))&&("img"===c&&(!k.height||1<k.height)&&(!k.width||1<k.width)||"a"===c&&k.href&&1<k.href.indexOf("#"))&&e.push(s);return e}return function(b){var c,f,d,s,q,e,n,r=/\.(jpeg|gif|jpg|bmp|png)$/i,w=/\.(m4a|ogg|mp3|acc)$/i,z=/\.(flv|mp4|h264|avi|mpeg|mpg)$/i,h=this.options,m=this.getUrl();c=b.enclosures;var h=h.itemEnclosureFilters,x=[],C={image:[],video:[],audio:[]};Array.isArray(c)&&c.forEach(function(a){var b=
a.url;a=a.type;b&&(a&&/^image\/(jpeg|gif|jpg|bmp|png)$/.test(a)||r.test(b)?C.image.push(b):a&&/^audio\/mpeg$/.test(a)||w.test(b)?C.audio.push(b):(a&&/^video/.test(a)||z.test(b))&&C.video.push(b))});c=g.loadHtml(b.content);x=x.concat(a(c,"img","src"));x=x.concat(a(c,"a","href"));c=0;for(f=x.length;c<f;c++)q=x[c],!b.image&&r.test(q)?C.image.push(q):!b.audio&&w.test(q)?C.audio.push(q):!b.video&&z.test(q)&&C.video.push(q);if(!b.image||!b.video)if((x=b.content.match(/http:\/\/www.youtube.com\/v\/([\w|\-]+)/))&&
0<x.length)b.video=x[0],b.image="http://i2.ytimg.com/vi/"+x[1]+"/hqdefault.jpg";for(e in C){x=C[e];c=0;for(f=x.length;c<f;c++){q=x[c];n=!0;if(Array.isArray(h)){d=0;for(s=h.length;d<s&&n;d++)n=h[d],n=n(q,b)}n&&(b[e]=g.buildUrl(m,q))}}b.thumbnail=b.image;b.watchable=!!b.video;return b}}(),addItemLinkFilter:function(a){var b=this.options;d.is(b.itemLinkFilters,"array")||(b.itemLinkFilters=[]);d.is(a,"function")&&b.itemLinkFilters.push(a)},applyItemLinkFilters:function(a){var b,c,f,e=this.options.itemLinkFilters;
if(Array.isArray(e)&&!a.__linksFiltered){c=0;for(f=e.length;c<f;c++)b=e[c],d.is(b,"function")&&a.link&&(a.link=b(a.link,a,this));a.__linksFiltered=!0}},addItemEnclosureFilter:function(a){var b=this.options;d.is(b.itemEnclosureFilters,"array")||(b.itemEnclosureFilters=[]);d.is(a,"function")&&b.itemEnclosureFilters.push(a)},applyItemEnclosureFilters:function(a){var b,c,f,e,s,q,n=this.options.itemEnclosureFilters,r=["image","audio","video"];if(Array.isArray(n)&&!a.__enclosuresFiltered){b=0;for(c=n.length;b<
c;b++)if(q=n[b],d.is(q,"function")){f=0;for(e=r.length;f<e;f++)s=r[f],a[s]&&!q(a[s],a)&&delete a[s]}a.__enclosuresFiltered=!0}},getTitle:function(){return this.data.title},getDir:function(){return this.data.dir},getUrl:function(){return this.data.url},getLink:function(){return this.data.link},getType:function(){return this.data.type},getItems:function(){return this.data.items},getItem:function(a){return this.getItems()[a]},getItemByGuid:function(a){return this.getItemByProperty("guid",a)},getItemByProperty:function(a,
b){var c,f,d=this.getItemsLength();for(f=0;c<d&&!(c=this.getItem(f),c[a]===b);f++);return c},getLastItemId:function(){var a=this.getItem(this.getItemsLength()-1);return a&&a.id},getItemsLength:function(){return this.data.items.length},getUnread:function(a){a=a||{};var b,c,f=0;c=0;var d=this.data;b=this.infos;var s=this.getItemsLength();if(b&&0<s&&(c=(c=d.flags)&&c.read?c.read:0,c=b.item_count-c,a.onlyNFirst)){a.onlyNFirst=a.onlyNFirst<=s?a.onlyNFirst:s;b=0;for(a=a.onlyNFirst;b<a;b++)this.isItemRead(b)||
f++;c=f}return 0<=c?c:0},isItemRead:function(a){return(a=this.getItem(a))&&a.flags&&a.flags.read?!0:!1},setItemRead:function(a,b){this.isItemRead(a)||(this.data.flags.read++,this.setItemsFlag({indexes:[a],flag:"read",value:Math.ceil(Date.now()/1E3),save:b}))},setItemUnread:function(a,b){this.isItemRead(a)&&(this.data.flags.read--,this.setItemsFlag({indexes:[a],flag:"read",value:!1,save:b}))},setAllItemsRead:function(a){var b,c=this.getItemsLength();for(b=0;b<c;b++)this.setItemRead(b,!1),(void 0).push(b);
this.setItemsFlag({indexes:void 0,flag:"read",value:Math.ceil(Date.now()/1E3),save:a})},setAllItemsUnread:function(a){var b,c=this.getItemsLength(),f=[];for(b=0;b<c;b++)this.setItemRead(b,!1),f.push(b);this.setItemsFlag({indexes:f,flag:"read",value:!1,save:a})},setItemsFlag:function(b){var c,f,d,e=[],s=this.isReadOnly()?!1:b.save||!0;b.index&&(b.indexes=[b.index]);c=0;for(f=b.indexes.length;c<f;c++)d=this.getItem(c),e.push(d.id),b.value&&!1!==b.value?d.flags[b.flag]=b.value:delete d.flags[b.flag];
s&&a.Adapter.Netvibes.feedApiRequest({readState:b.value&&!1!==b.value?"add":"remove",feedIds:this.id,feedItemIds:e})}});a.Utils={adapterName:c.allowCrossOriginRequest?"Ajax":"Proxy",load:function(b,c){c=c||this.adapterName;b=b||{};b.callback&&(b.onComplete=b.callback,delete b.callback);return a.Adapter.Cache.load(b,c)},getIdFromUrl:function(a){return Math.abs(parseInt(g.getCRC32(a),10)).toString(36)},cleanFeedUrl:function(a){a.test("flvProxy.php")?a=g.getQueryString(a,"url"):a.test("commeaucinemaProxy.php")?
a="http://www.commeaucinema.com/rssfile.php?feed=netvibes_"+d.Utils.getQueryString(a,"id"):/^feed:\/\/(.*)/.test(a)&&(a=a.replace("feed:",""),/^http(s)?:\/\/(.*)/.test(a)||(a="http://"+a));/^http(s)?:\/\/(.*)/.test(a)||(a=d.hosts.netvibes+a);return a}};var f=function(a){var b,c,f,d;if(Array.isArray(a.link)){f=a.link[0].href||a.link[0];c=0;for(b=a.link.length;c<b;c++)d=a.link[c],d.rel&&-1!==["self","alternate"].indexOf(d.rel)&&(f=d.href)}else f=a.link.href||a.link;return f},n=function(a){a=a.toString?
a.toString():a;return d.is(a)&&0<a.length?a:""},r=function(a){return(new Date(Date.parse(a))).toGMTString()};a.Adapter={Cache:{load:function(b,c){var f,e,n,s,q={},u=0,r=b.urls||[],g=[];f=0;for(e=r.length;f<e;f++)n=a.Utils.cleanFeedUrl(r[f]),(s=this.getFromCache(n))?(q[n]=new a(s),u++):g.push(n);if(0<g.length)b.urls=g,a.Adapter[c].load(b,q);else if(d.is(b.onComplete,"function"))b.onComplete(q)},getCache:function(){this.data||(this.data=new b({adapter:"Object",database:"__feed_cache"}));return this.data},
storeInCache:function(a,b){return this.getCache().set(a,b)},getFromCache:function(a){return this.getCache().get(a)}},Proxy:{load:function(b,f){function e(c,s){var q={url:c,readOnly:!0,data:{title:s.title,dir:s.dir,url:s.url,link:s.link,type:s.type,items:s.items}};f[c]=new a(q);a.Adapter.Cache.storeInCache(c,q);u++;if(g.length===u&&d.is(b.onComplete,"function"))b.onComplete(f)}function n(c,s){f[c]=new a({url:c,readOnly:!0,error:s});u++;if(g.length===u&&d.is(b.onComplete,"function"))b.onComplete(f)}
var r,s,q,u=0,g=b.urls||[];f=f||{};r=0;for(s=g.length;r<s;r++)q=a.Utils.cleanFeedUrl(g[r]),c.request(q,{proxy:"feed",type:"json",onComplete:e.bind(null,q),onFailure:n.bind(null,q)})}},Ajax:{load:function(b,j){function p(c,s){var q,p;p=e.xmlToJson(s);var l,t,h;q={dir:"ltr",url:c,items:[]};if(p.feed){d.extend(q,{title:n(p.feed.title),link:f(p.feed)});p=g.splat(p.feed.entry);t=0;for(h=p.length;t<h;t++)l=p[t],q.items[t]={id:t,title:n(l.title),link:f(l),content:n(l.content),date:r(l.updated)},l["media:thumbnail"]&&
l["media:thumbnail"].url&&(q.items[t].image=l["media:thumbnail"].url)}else if(p["rdf:RDF"]){p.rdf=p["rdf:RDF"];d.extend(q,{title:n(p.rdf.channel.title),link:f(p.rdf.channel)});p=g.splat(p.rss.channel.item);t=0;for(h=p.length;t<h;t++)l=p[t],q.items[t]={id:t,title:n(l.title),link:f(l),content:n(l.description),date:r(l["dc:date"])},l["media:content"]&&l["media:content"].url&&(q.items[t].image=l["media:content"].url)}else if(p.rss){d.extend(q,{title:n(p.rss.channel.title),link:f(p.rss.channel)});p=g.splat(p.rss.channel.item);
t=0;for(h=p.length;t<h;t++)l=p[t],q.items[t]={id:t,title:n(l.title),link:f(l),content:n(l["content:encoded"]||l.description),date:r(l.pubDate)},"string"!==typeof q.items[t].content&&(q.items[t].content=""),l.enclosure&&(q.items[t].enclosures=[l.enclosure]),l["media:thumbnail"]&&l["media:thumbnail"].url&&(q.items[t].image=n(l["media:thumbnail"].url))}else throw Error("Unable to Parse Feed using Ajax Adapter.");q=new a({url:c,readOnly:!0,data:q});j[c]=new a(q);a.Adapter.Cache.storeInCache(c,q);u++;
if(F.length===u&&d.is(b.onComplete,"function"))b.onComplete(j)}function l(c,f){j[c]=new a({url:c,readOnly:!0,error:f});u++;if(F.length===u&&d.is(b.onComplete,"function"))b.onComplete(j)}j=j||{};var t,s,q,u=0,F=b.urls||[];t=0;for(s=F.length;t<s;t++)q=a.Utils.cleanFeedUrl(F[t]),c.request(q,{method:"GET",onComplete:p.bind(null,q),onFailure:l.bind(null,q)})}},Netvibes:{load:function(){}}};return d.namespace("Services/Feed",a,d)});
define("UWA/Services/Geo",["UWA/Core","UWA/Json"],function(d,h){var m=function(g){this.adapter=null;var e,c=d.Services.Geo.Adapters;if(g){if(!c[g])return Error("Invalid UWA.Services.Geo AdapterName.");this.adapter=c[g]()}else for(e in c)if(c.hasOwnProperty(e)&&(this.adapter=c[e]()))break};m.prototype={getCurrentPosition:function(g,e,c){this.adapter?this.adapter.getCurrentPosition(g,e,c):d.is(e,"function")&&e(Error("Geolocalization support not found."))}};m.Adapters={html5:function(){if(void 0!==navigator.geolocation)return{getCurrentPosition:function(d,
e,c){c=c||{};c.enableHighAccuracy=!0;navigator.geolocation.getCurrentPosition(function(b){void 0!==b.latitude?d({timestamp:b.timestamp,coords:{latitude:b.latitude,longitude:b.longitude}}):d(b)},e,c)}}},freegeoip:function(){return{getCurrentPosition:function(g,e,c){c=d.merge(c||{},{server:"http://freegeoip.net/json/"});h.request(c.server,{onComplete:function(b){g({timestamp:Date.now(),coords:{latitude:b.latitude,longitude:b.longitude}})},onFailure:e})}}}};return d.namespace("Services/Geo",m,d)});
define("UWA/Services/ICal",["UWA/Core"],function(d){var h=function(d){this.stream=d;this.parse()};h.prototype={stream:null,regexes:{component:"BEGIN:{0}(?:[^])*?END:{0}",multipleProperties:"\n{0}[^:]*",singleProperty:"({0})(;[^=]*=[^;:\n]*)*:([^\n]*)"},keys:{core:{version:"VERSION",prodId:"PRODID",calendarScale:"CALSCALE",method:"METHOD"},components:{event:"VEVENT",todo:"VTODO",journal:"VJOURNAL",freebusy:"VFREEBUSY"},event:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},
description:{key:"DESCRIPTION",multiple:!1},geo:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},priority:{key:"PRIORITY",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},transparent:{key:"TRANSP",multiple:!1},url:{key:"URL",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},duration:{key:"DURATION",multiple:!1},
attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0},
uid:{key:"UID",multiple:!0},summary:{key:"SUMMARY",multiple:!1},dateTimeStart:{key:"DTSTART",multiple:!1},dateTimeEnd:{key:"DTEND",multiple:!1}},todo:{classification:{key:"CLASS",multiple:!1},completed:{key:"COMPLETED",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},dateTimeStamp:{key:"DTSTAMP",multiple:!1},geoPosition:{key:"GEO",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},location:{key:"LOCATION",multiple:!1},organizer:{key:"ORGANIZER",
multiple:!1},percentComplete:{key:"PERCENT-COMPLETE",multiple:!1},priority:{key:"PRIORITY",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},due:{key:"DUE",multiple:!1},duration:{key:"DURATION",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",
multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptioRule:{key:"EXRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},related:{key:"RELATED",multiple:!0},ressources:{key:"RESSOURCES",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},xProperty:{key:"X-",multiple:!0}},journal:{classification:{key:"CLASS",multiple:!1},created:{key:"CREATED",multiple:!1},description:{key:"DESCRIPTION",multiple:!1},
datetimeStart:{key:"DTSTART",multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},lastModified:{key:"LAST-MODIFIED",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},recurrenceId:{key:"RECURRENCE-ID",multiple:!1},sequence:{key:"SEQUENCE",multiple:!1},status:{key:"STATUS",multiple:!1},summary:{key:"SUMMARY",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attach:{key:"ATTACH",multiple:!0},attendee:{key:"ATTENDEE",multiple:!0},categories:{key:"CATEGORIES",multiple:!0},comment:{key:"COMMENT",
multiple:!0},contact:{key:"CONTACT",multiple:!0},exceptionDate:{key:"EXDATE",multiple:!0},exceptionRule:{key:"EXRULE",multiple:!0},related:{key:"RELATED",multiple:!0},recurrenceDate:{key:"RDATE",multiple:!0},recurrenceRule:{key:"RRULE",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}},freebusy:{contact:{key:"CONTACT",multiple:!1},datetimeStart:{key:"DTSTART",multiple:!1},datetimeEnd:{key:"DTEND",multiple:!1},duration:{key:"DURATION",multiple:!1},description:{key:"DESCRIPTION",
multiple:!1},datetimeStamp:{key:"DTSTAMP",multiple:!1},organizer:{key:"ORGANIZER",multiple:!1},uid:{key:"UID",multiple:!1},url:{key:"URL",multiple:!1},attendee:{key:"ATTENDEE",multiple:!0},comment:{key:"COMMENT",multiple:!0},freebusy:{key:"FREEBUSY",multiple:!0},requestStatus:{key:"REQUEST-STATUS",multiple:!0},xProperty:{key:"X-",multiple:!0}}},core:{version:"",prodId:"",calendarScale:"",method:""},components:{event:[],todo:[],journal:[],freebusy:[]},parse:function(){this.parseCoreProperties();this.parseComponent("event");
this.parseComponent("todo");this.parseComponent("journal");this.parseComponent("freebusy")},parseCoreProperties:function(){var d=this.stream;this.core.version=this.parseProperty(this.keys.core.version,d);this.core.prodId=this.parseProperty(this.keys.core.prodId,d);this.core.calendarScale=this.parseProperty(this.keys.core.calendarScale,d);this.core.method=this.parseProperty(this.keys.core.method,d)},parseComponent:function(d){var g,e,c=this.keys,b=this.components,a=RegExp(this.regexes.component.format(c.components[d]),
"g");if("string"===typeof this.stream&&(a=this.stream.match(a)))for(e in a)if("string"===typeof a[e])for(g in b[d].push({}),c[d])"object"===typeof c[d][g]&&(b[d][e][g]=c[d][g].multiple?this.parseMultipleProperties(c[d][g].key,a[e]):this.parseProperty(c[d][g].key,a[e]))},parseProperty:function(d,g){var e,c,b,a;if(e=RegExp(this.regexes.singleProperty.format(d),"g").exec(g)){c=e[3];if(e[2]){b=e[2].substr(1).split(";");for(e=0;e<b.length;e++)a=b[e].split("="),void 0===a[1]&&(a[1]=a[0]),b[a[0]]=a[1]}return{value:c,
parameters:b}}},parseMultipleProperties:function(d,g){var e,c;e=RegExp(this.regexes.multipleProperties.format(d),"g");var b=g.match(e);if(b){c=[];for(e=0;e<b.length;e++)b[e]=b[e].replace(/;.*/,""),c[c.length]=this.parseProperty(b[e]);return c}},getCalendar:function(){return{core:this.core,components:this.components}},getEvents:function(){return this.components.event},getTodoArray:function(){return this.components.todo},getJournals:function(){return this.components.journal},getFreebusys:function(){return this.components.freebusy},
getCoreProperties:function(){return this.core}};return d.namespace("Services/ICal",h,d)});
define("UWA/Services/Mail",["UWA/Core","UWA/Data"],function(d,h){return d.namespace("Services/Mail",{getFromProvider:function(m,g){if(!h.proxies[m])throw Error("Not supported UWA.Services.Mail proviver");switch(m){case "pop":case "gmail":return h.request(h.proxies[m],d.merge({method:"POST",type:"json"},g));default:d.log("invalid request type")}}},d)});
define("UWA/Services/Search",["UWA/Core","UWA/Utils","UWA/Data"],function(d,h,m){return d.namespace("Services/Search",{getFromProvider:function(g,e){var c;c="";void 0!==e.lang&&(c+="&lang="+e.lang);void 0!==e.locale&&(c+="&locale="+e.locale);void 0!==e.mode&&(c+="&mode="+e.mode);void 0!==e.category&&(c+="&category="+e.category);void 0!==e.shop&&(c+="&shop="+e.shop);switch(e.type){case "websearch":case "blogsearch":case "imagesearch":case "videosearch":case "podcastsearch":case "shoppingsearch":case "opensearch":return c=
d.hosts.netvibes+"/data/"+e.type+"/?q="+h.encodeUrl(e.query)+"&engine="+h.encodeUrl(g)+c,m.request(c,{method:"GET",type:"json",onComplete:e.onComplete});default:d.log("invalid request type")}}},d)});
define("UWA/Services/Upload",["UWA/Core","UWA/Class","UWA/Class/Options","UWA/Json"],function(d,h,m,g){h=h.extend(m,{intervalId:null,timeoutId:null,defaultOptions:{isUploadSuccess:function(d){return"uploaded"===d.status},isUploadFailed:function(d){return"failed"===d.status},formElement:"undefined",onUpload:"",onUploadSuccess:"",onUploadFailed:"",frameIdPrefix:"",timeout:1E4,polling:1E3,urls:{statusScript:"",uploadScript:""}},init:function(e){this.setOptions(e);this.options.formElement=d.extendElement(e.formElement);
var c=this.buildIframe();this.buildFormRequirements(c);this.options.formElement.addEvent("submit",function(b){void 0!==e.urls.statusScript&&this.setTimer(b);this.options.onUpload()}.bind(this,c))},buildIframe:function(){var e=this.options,c=e.frameIdPrefix+Math.ceil(1E5*Math.random()),b=d.createElement("div"),a=!1;d.createElement("iframe",{src:"about:blank",id:c,name:c,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(b).addEvent("load",function(){if(a)e.onUploadSuccess();a=!0});document.body.appendChild(b);
return c},buildFormRequirements:function(e){var c=this.options.formElement;c.setAttributes({target:e,method:"post",enctype:"multipart/form-data",action:this.options.urls.uploadScript});d.createElement("input",{type:"hidden",name:"frameId",value:e}).inject(c)},setTimer:function(d){this.intervalId=setInterval(this.checkStatus.bind(this,d),this.options.polling);this.timeoutId=setTimeout(function(){clearInterval(this.intervalId);this.options.onUploadFailed({status:"failed",details:{errors:{TimeoutError:"Upload timeout after "+
this.options.timeout+"ms."}}})}.bind(this),this.options.timeout)},checkStatus:function(d){g.request(this.options.urls.statusScript+"?format=jsonp&frameId="+d,{onComplete:function(c){if(this.options.isUploadSuccess(c))this.options.onUploadSuccess(c);else if(this.options.isUploadFailed(c))this.options.onUploadFailed(c);else return;clearTimeout(this.timeoutId);clearInterval(this.intervalId)}.bind(this)})}});return d.namespace("Services/Upload",h,d)});
define("UWA/Services/Auth/Adapter/Abstract",["UWA/Core","UWA/Class","UWA/Class/Options"],function(d,h,m){h=h.extend(m,{init:function(d){this.setOptions(d)},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return d.namespace("Services/Auth/Adapter/Abstract",h,d)});
define("UWA/Controls/Popup",["UWA/Core","UWA/Controls/Abstract"],function(d,h){var m=h.extend({defaultOptions:{url:"about:blank",status:!1,toolbar:!1,location:!1,menubar:!1,resizable:!1,scrollbars:!1,fullscreen:!0,width:320,height:240,left:160,top:120},init:function(d){this._parent(d)},open:function(d){this.close();this.elements.popup||this.buildSkeleton(d)},close:function(){this.elements.popup&&(this.elements.popup.close(),this.elements.popup=null,this.dispatchEvent("onClose"))},setPosition:function(d,
e){this.elements.popup&&this.elements.popup.moveBy(parseInt(d,10),parseInt(e,10))},focus:function(){this.elements.popup&&this.elements.popup.focus()},buildSkeleton:function(d){var e=this,c=e.options,b=["dependent=yes"];"width height status toolbar location menubar personalbar resizable scrollbars fullscreen".split(" ").forEach(function(a,f){2>f&&c[a]?b.push(a+"="+parseInt(c[a],0)):1<f&&b.push(a+"="+(c[a]?"yes":"no"))});d=d||c.url;d=window.open(d,"_blank",b.join(","));!d||!d.moveBy?e.dispatchEvent("onBlocked"):
(e.elements.popup=d,e.timer=window.setInterval(e.checkClosed.bind(e),100),setTimeout(function(){e.focus();e.setPosition(c.left,c.top);e.dispatchEvent("onOpen")},100))},checkClosed:function(){var d=this.elements.popup;(!d||d.closed)&&this.handleApproval()},handleApproval:function(){this.timer&&(window.clearInterval(this.timer),this.timer=null);this.close()}});return d.namespace("Controls/Popup",m,d)});
define("UWA/Services/Auth/Adapter/Exposition",["UWA/Core","UWA/Utils","UWA/Json","UWA/Services/Auth/Adapter/Abstract","UWA/Controls/Popup"],function(d,h,m,g,e){g=g.extend({defaultOptions:{},hasIdentity:function(c,b){this.request("hasidentity",function(a){a?c():b("No identity found.")},b)},getIdentity:function(c,b){this.request("getidentity",c,b)},clearIdentity:function(c){this.request("clearidentity",c,c)},authenticate:function(c,b){var a=this;this.request("authenticate",function(f){"redirect"===
f.type&&(new e({url:f.url,events:{onClose:function(){a.hasIdentity(c,b)},onBlocked:function(){d.is(b)&&b("Unable to open popup due popup blocker.")}}})).open()},b)},toQueryString:function(){var c=this.options;return d.Utils.toQueryString(d.merge({auth:c.provider},c.data))},getActionUrl:function(c){var b=this.options,a=d.clone(b.data||{});c=d.hosts.exposition+"/services/auth/"+c+"/"+b.provider;return c+=(-1<c.indexOf("?")?"&":"?")+h.toQueryString(a)},request:function(c,b,a){var f=this.getActionUrl(c);
m.request(f,{cache:-1,onFailure:a,onComplete:function(f){d.is(f[c])?b(f[c]):a("Invalid Auth response.")}})}});return d.namespace("Services/Auth/Adapter/Exposition",g,d)});
define("UWA/Services/Auth/Adapter/Form","UWA/Core UWA/Utils UWA/Ajax UWA/Json UWA/Data UWA/Services/Auth/Adapter/Abstract".split(" "),function(d,h,m,g,e,c){c=c.extend({defaultOptions:{timeout:15E3,checkUrl:"https://example.com/myapp/test.json",loginUrl:"https://example.com/global/2.0/login.fcc",logoutUrl:"https://example.com/global/2.0/logout.fcc",params:{},fields:{},variables:{}},isAjaxPostAllowed:function(){return e.allowCrossOriginRequest},hasIdentity:function(b,a){var c=this.options;g.request(c.target,
{useOfflineCache:!1,timeout:c.timeout,onComplete:function(a){"function"===typeof b&&b(a)}.bind(this),onFailure:function(b){"function"===typeof a&&a(b)}.bind(this)})},getIdentity:function(b,a){a(Error("Not implemented."))},clearIdentity:function(b){b=b||function(){};this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(b):this.clearIdentityUsingFrame(b)},authenticate:function(b,a,c){a=a||function(){};b=b||function(){};if(!c.login||!c.password)a(Error("Invalid credentials values."));else{c=this.options;
var d=c.loginUrl,e=function(){this.hasIdentity(b,a)}.bind(this),k=c.fields,d=d+((-1<d.indexOf("?")?"&":"?")+h.toQueryString(c.params).replace(/%25/g,"-%"));this.isAjaxPostAllowed()?this.authenticateUsingAjax(k,d,e,a):this.authenticateUsingFrame(k,d,e,a)}},authenticateUsingFrame:function(b,a,c){var e,r=Math.ceil(1E5*Math.random()),k=d.createElement("div"),j=d.createElement("iframe",{src:"about:blank",id:"formAuth:frame:"+r,name:"formAuth:frame:"+r,styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(k),
r=d.createElement("form",{target:"formAuth:frame:"+r,action:a,method:"post"}).inject(k);for(e in b)b.hasOwnProperty(e)&&(a=b[e],d.createElement("input",{type:"hidden",name:e,value:a}).inject(r));k.inject(document.body);j.addEvent("load",function(){c();k.destroy()});r.submit()},clearIdentityUsingFrame:function(b){var a,c=this.options.logoutUrl,c=c+((-1<c.indexOf("?")?"&":"?")+"rnd="+Math.random());a=d.createElement("iframe",{src:c,styles:{position:"absolute",top:"-2000px",left:"0"},events:{load:function(){b();
a.destroy()}}}).inject(document.body)},authenticateUsingAjax:function(b,a,c,d){m.request(a,{onComplete:c,onFailure:d,method:"POST",data:b})},clearIdentityUsingAjax:function(b){var a=this.options.logoutUrl,a=a+((-1<a.indexOf("?")?"&":"?")+"rnd="+Math.random());m.request(a,{onComplete:b,onFailure:b,method:"GET"})}});return d.namespace("Services/Auth/Adapter/Form",c,d)});
define("UWA/Services/Auth/Adapter/Netvibes",["UWA/Core","UWA/Services/Auth/Adapter/Abstract"],function(d,h){var m=h.extend({defaultOptions:{},hasIdentity:function(){},getIdentity:function(){},clearIdentity:function(){},authenticate:function(){}});return d.namespace("Services/Auth/Adapter/Netvibes",m,d)});
define("UWA/Services/Auth/Adapter/SiteMinder","UWA/Core UWA/Utils UWA/Ajax UWA/Json UWA/Data UWA/Services/Auth/Adapter/Abstract".split(" "),function(d,h,m,g,e,c){c=c.extend({defaultOptions:{timeout:15E3,smagentname:"",realmoid:"",forest:"",guid:"",type:"",smauthreason:0,target:"https://example.com/myapp/test.json",login:"https://example.com/global/2.0/login.fcc",logout:"https://example.com/global/2.0/logout.fcc"},isAjaxPostAllowed:function(){return e.allowCrossOriginRequest},hasIdentity:function(b,
a){var c=this.options;this.hasIdentityRequest&&this.hasIdentityRequest.cancel();this.hasIdentityRequest=g.request(c.target,{useOfflineCache:!1,timeout:c.timeout,onComplete:function(a){"function"===typeof b&&b(a)}.bind(this),onFailure:function(b){"function"===typeof a&&a(b)}.bind(this)})},getIdentity:function(b,a){a(Error("Not implemented."))},clearIdentity:function(b){b=b||function(){};this.isAjaxPostAllowed()?this.clearIdentityUsingAjax(b):this.clearIdentityUsingFrame(b)},authenticate:function(b,
a,c){a=a||function(){};b=b||function(){};if(!c.login||!c.password)a(Error("Invalid credentials values."));else{var d=this.options,e=d.target+"&callback=jsonp"+(Date.now()+Math.ceil(1E4*Math.random())),k=h.toQueryString({type:d.type,realmoid:d.realmoid,guid:d.guid,smauthreason:d.smauthreason,method:"GET",smagentname:"-SM-"+d.smagentname,target:"-SM-"+e}).replace(/%25/g,"-%"),k=d.login+"?"+k,j=function(){this.hasIdentity(b,a)}.bind(this);c={target:e,smquerydata:"",smauthreason:d.smauthreason,smagentname:d.smagentname,
postpreservationdata:"",forest:d.forest,userid:c.login,password:c.password,Submit:""};this.isAjaxPostAllowed()?this.authenticateUsingAjax(c,k,j,a):this.authenticateUsingFrame(c,k,j,a)}},authenticateUsingFrame:function(b,a,c){var e,r=Math.ceil(1E5*Math.random()),k=d.createElement("div",{styles:{position:"absolute",top:"-2000px",left:"0px"}}),j=d.createElement("iframe",{src:"about:blank",name:"siteminder:frame:"+r}).inject(k),r=d.createElement("form",{target:"siteminder:frame:"+r,action:a,method:"post"}).inject(k);
for(e in b)b.hasOwnProperty(e)&&(a=b[e],d.createElement("input",{type:"hidden",name:e,value:a}).inject(r));document.body.appendChild(k);j.addEvent("load",function(){this.destroy();c()});r.submit()},clearIdentityUsingFrame:function(b){var a,c=this.options.logout,c=c+((-1<c.indexOf("?")?"&":"?")+"rnd="+Math.random());a=d.createElement("iframe",{src:"about:blank",styles:{position:"absolute",top:"-2000px",left:"0px"}}).inject(document.body);a.addEvent("load",function(){this.destroy();b()});a.setAttribute("src",
c)},authenticateUsingAjax:function(b,a,c,d){m.request(a,{onComplete:c,onFailure:function(){this.hasIdentity(c,d)}.bind(this),method:"POST",data:b})},clearIdentityUsingAjax:function(b){m.request(this.options.logout,{onComplete:b,onFailure:b,method:"GET"})}});return d.namespace("Services/Auth/Adapter/SiteMinder",c,d)});
define("UWA/Plugins/Auth","UWA/Core UWA/Plugins/Abstract UWA/Utils/Client UWA/Event UWA/Controls/Form UWA/Services/Auth".split(" "),function(d,h,m,g,e,c){h=h.extend({defaultOptions:{formOptions:{loginLabel:"Login",passwordLabel:"Password",logoutLabel:"Logout",submitLabel:"Sign In",loadingCredential:"Credentials validation loading...",requireCredential:"Authentication required!",invalidCredential:"Login / Password combination is incorrect."}},state:0,init:function(b,a){this.elements={};this._parent(b,
a);this.auth=new c(this.options);this.saveWidgetBody();if(m.isOnline())this.addEvent("onLoad",this.checkIdentity,this,1),this.addEvent("onRefresh",this.checkIdentity,this,1);else this.onAuthenticateFailure("offline")},checkIdentity:function(){0===this.state&&(this.state=1,this.onAuthenticateLoading(),this.auth.hasIdentity(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this)));return 4===this.state},onAuthenticateSuccess:function(){this.state=4;this.addLogout();this.restoreWidgetBody();
this.dispatchEvent("onLoad")},onAuthenticateFailure:function(b){this.error=b;2===this.state&&(this.state=3);this.addForm()},onAuthenticateLoading:function(){this.addLoading()},onClearIdentity:function(){this.auth.clearIdentity();this.state=0;this.addForm()},onFormSubmit:function(b){g.stop(b);this.elements.form.getField("signin").disabled=!0;this.onAuthenticateLoading();this.state=2;this.auth.authenticate(this.onAuthenticateSuccess.bind(this),this.onAuthenticateFailure.bind(this),this.elements.form.getFormValues())},
saveWidgetBody:function(){if(!this.widgetBody){var b,a,c=this.widget.body.getChildren();this.widgetBody=document.createDocumentFragment();b=0;for(a=c.length;b<a;b++)this.widgetBody.appendChild(c[b])}},restoreWidgetBody:function(){this.widget.setBody(this.widgetBody);this.widgetBody=!1},addLoading:function(){var b=this.widget;this.elements.loading=b.createElement("p",{text:d.i18n(this.options.formOptions.loadingCredential),styles:{textAlign:"center"}}).inject(b.elements.body.empty())},addForm:function(){var b=
d.i18n,a=this.widget,c=this.options.formOptions;this.removeLogout();this.elements.form=(new e({fields:[{type:"img",src:c.logoUrl},{type:"html",html:{tag:"p",title:this.error&&(this.error.message||this.error),text:3===this.state?c.invalidCredential:c.requireCredential,styles:{textAlign:"center"}}},{type:"text",name:"login",label:b(c.loginLabel),value:""},{type:"password",name:"password",label:b(c.passwordLabel),value:""},{type:"submit",name:"signin",value:b(c.submitLabel)},{type:"html",html:[{tag:"b",
text:c.warningTitle},{tag:"p",text:c.warningText,styles:{textAlign:"justify"}}]}],events:{onSubmit:this.onFormSubmit.bind(this)}})).inject(a.elements.body.empty());"vista"!==a.environment.name&&this.elements.form.getField("login").focus()},removeLogout:function(){var b=this.elements.logout;b&&b.remove()},addLogout:function(){var b=this,a=b.widget,c=d.i18n(b.options.formOptions.logoutLabel);b.elements.logout=a.createElement("a",{title:c,styles:{border:"none",position:"absolute",top:"0px",right:"5px"},
html:{tag:"img",src:d.hosts.uwa+d.paths.css+"base/img/logout.png",height:18,width:20,alt:c},events:{click:function(a){g.stop(a);b.onClearIdentity()}}}).inject(a.elements.content)}});return d.namespace("Plugins/Auth",h,d)});
define("UWA/Plugins/Ecosystem","UWA/Core UWA/Plugins/Abstract UWA/Utils UWA/Utils/Client UWA/Data UWA/Storage".split(" "),function(d,h,m,g,e,c){h=h.extend({defaultOptions:{api:d.hosts.ecosystem.replace("://","://api."),front:d.hosts.ecosystem,interval:86400,messages:{unavailable:"This Application is not available because it's under maintenance.",suspended:"This Application is not available because it's suspended."}},status:["unknown","online","unavailable","suspended"],init:function(b,a){this._parent(b,
a);this.database=new c({database:"__plugin_ecosystem_"+m.getCheckSum(b.getUrl())});g.isOnline()&&this.addEvent("onLoad",this.checkStatus)},checkStatus:function(){var b=this.getStatus();this.database.isReady?d.is(b)?(this.removeEvent("onLoad",this.checkStatus),this.checkStatusComplete(b)):e.request(this.options.api+"/widget/status",{onComplete:this.checkStatusComplete.bind(this),onFailure:this.checkStatusFailure.bind(this),cache:!1,type:"json",data:{url:this.widget.getUrl(),format:"json"}}):this.environment.setDelayed("EcosystemCheckStatus",
this.checkStatus.bind(this),5E3);return!1},checkStatusComplete:function(b){var a=this.status;b=b.state?parseInt(b.state,10):1;this.saveStatus(b);1<b?this.setStatusMessage(a[b]):this.dispatchEvent("onLoad")},checkStatusFailure:function(){this.saveStatus(0);this.dispatchEvent("onLoad")},getStatus:function(){var b=this.database.get("status"),a=parseInt(this.database.get("status_timestamp"),10),c=Math.round(Date.now()/1E3)-this.options.interval;return!d.is(b)||a<c?null:b},saveStatus:function(b){this.database.set("status",
b);this.database.set("status_timestamp",Math.round(Date.now()/1E3))},setStatusMessage:function(b,a){var c=d.i18n,e=this.widget;a=a||this.options.messages[b];e.setTitle(c("Unavailable Application"));e.setBody(c(a))}});return d.namespace("Plugins/Ecosystem",h,d)});
define("UWA/Plugins/GoogleAnalytics",["UWA/Core","UWA/Plugins/Abstract","UWA/Utils","UWA/Utils/Client","UWA/Json"],function(d,h,m,g,e){h=h.extend({init:function(c,b){this._parent(c,b);this.initScript();g.isOnline()&&this.addEvent("afterLoad",this.loadScript)},initScript:function(){var c,b,a,f,n=this.options,g=window._gaq||[];for(c in n)if(n.hasOwnProperty(c))if(b=n[c],a=d.typeOf(b),c.test("UA-")&&(f&&g.push(["_trackPageview"]),f=!0,g.push(["_setAccount",c])),e.isJson(b)&&(b=e.decode(b),a=d.typeOf(b)),
"array"===a)g.push(b);else if("string"===a)f||(f=b.test("UA-")),g.push([c,b]);else throw Error('Invalid GoogleAnalytics Plugin option with value "'+e.encode(b)+'".');f&&(this.addCustomVars(g),g.push(["_trackPageview"]));window._gaq=g;this.addEvent("onOpenURL",this.openURL)},addCustomVars:function(c){var b,a=m.parseUrl(this.widget.getUrl());try{b=String(window.top.location)}catch(d){b=this.widget.widgetDomain||String(window.location)}c.push(["_setCustomVar",1,"widget_url",a.source,5]);c.push(["_setCustomVar",
2,"widget_platform",this.widget.environment.name,5]);c.push(["_setCustomVar",3,"widget_referer",b,5])},loadScript:function(){var c=document.getElementsByTagName("script")[0];d.createElement("script",{src:("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",async:!0,type:"text/javascript"}).inject(c||document.body||document.head,c?"after":"bottom");this.removeEvent("afterLoad",this.loadScript)},openURL:function(){}});return d.namespace("Plugins/GoogleAnalytics",
h,d)});
define("UWA/Plugins/I18n",["UWA/Core","UWA/Plugins/Abstract"],function(d,h){var m=h.extend({init:function(g,e){this._parent(g,e);d.is(e[g.lang],"object")&&d.i18n(e[g.lang])}});return d.namespace("Plugins/I18n",m,d)});
define("UWA/Controls/Segmented",["UWA/Core","UWA/Event","UWA/Controls/Abstract"],function(d,h,m){m=m.extend({className:"uwa-segmented",defaultOptions:{title:null,multiSelect:!1,atLeastOneSelected:!1,constantItemWidth:!1,className:"",data:null},itemLength:0,init:function(d){this._parent(d);this.options.data=this.options.data||{};this.elements.items={};this.selectedItemsName={};this.buildSkeleton();this.options.data&&this.addItems(this.options.data)},buildSkeleton:function(){var g=this.elements,e=this.options;
g.container=d.createElement("ul",{"class":this.className+" "+(this.options.className||"")});e.title&&d.createElement("li",{"class":e.className+"-title",html:{tag:"span",text:e.title}}).inject(g.container);g.itemContainer=g.container},updateItemClassNames:function(){var d,e,c=this.elements.items,b=this.className,a=0;for(d in c)c.hasOwnProperty(d)&&(e=c[d],e.removeClassName(b+"-item-first"),e.removeClassName(b+"-item-last"),e.addClassName(b+"-item "+d),0===a&&e.addClassName(b+"-item-first"),a===this.itemLength-
1&&e.addClassName(b+"-item-last"),a++)},createItem:function(g,e){var c,b=this.elements.items;c=e.text||"";var a=this;c=d.createElement("li",{html:{tag:"a","class":g+"-title "+this.className+"-item-title",title:c,html:{tag:"span",text:c},events:{click:function(b){h.stop(b);a.dispatchEvent("onClick",[g])}}}});b[g]=c;e.pinned&&(c.addClassName("uwa-pinned"),this.selectItem(g,!1));return c},onResize:function(){var d,e,c=this.elements.items,b=0;if(this.options.constantItemWidth){for(d in c)c.hasOwnProperty(d)&&
(e=c[d].getDimensions().width,b=e>b?e:b);for(d in c)c.hasOwnProperty(d)&&0!==b&&c[d].setStyle("width",b+"px")}},onClick:function(d){this.options.multiSelect?this.toggleItem(d):this.selectItem(d)},addItems:function(d){for(var e in d)d.hasOwnProperty(e)&&this.addItem(e,d[e])},addItem:function(d,e){var c,b;e=e||{};this.options.data[d]=e;e.where||(e.where="bottom");b=e.where.split(" ");c=b[0];if(1===b.length&&("top"===c||"bottom"===c))b=this.elements.itemContainer;else if(2===b.length&&("before"===c||
"after"===c))b=this.elements.items[b[1]];else throw Error('Has to be "top", "bottom", "before item" of "after item"');this.createItem(d,e).inject(b,c);this.itemLength++;this.updateItemClassNames()},setItemTitle:function(d,e){var c=this.elements.items[d];c&&(this.options.data[d].text=e,c.getElement("span").setHTML(e))},setItemState:function(g,e,c){var b=this.options.data[g],a=this.elements.items[g];c=!d.is(c)?!0:c;if(e||!(this.options.atLeastOneSelected&&1===this.getSelectedItems().length))if(a||this.selectedItemsName[g]!==
e)this.options.multiSelect||this.unselectItems(),a.toggleClassName("selected",e),this.selectedItemsName[g]=e,c&&this.dispatchEvent("onChange",[g,e,b])},toggleItem:function(d,e){this.setItemState(d,!this.isSelected(d),e)},unselectItem:function(d,e){this.setItemState(d,!1,e)},selectItem:function(d,e){this.setItemState(d,!0,e)},getSelectedItems:function(){var d,e=this.selectedItemsName,c=[];for(d in e)e.hasOwnProperty(d)&&!0===e[d]&&c.push(d);return c},isSelected:function(d){return this.selectedItemsName[d]},
unselectItems:function(d,e){var c,b=this.selectedItemsName,a=this.elements.items;d=void 0===d?!0:d;for(c in a)a.hasOwnProperty(c)&&(b[c]&&!a[c].hasClassName("uwa-pinned")&&e!==c)&&(a[c].removeClassName("selected"),b[c]=!1,d&&this.dispatchEvent("onChange",[c,!1,this.options.data[c]]))},enable:function(){this.enabled=!0;this.getContent().removeClassName("disabled")},disable:function(){this.enabled=!1;this.getContent().addClassName("disabled")},isEnabled:function(){return this.enabled}});return d.namespace("Controls/Segmented",
m,d)});
define("UWA/Controls/Accordion",["UWA/Core","UWA/Controls/Segmented"],function(d,h){var m=h.extend({className:"uwa-accordion",defaultOptions:{className:"",title:null,multiSelect:!1,constantItemWidth:!1,contentPosition:"bottom"},init:function(d){this._parent(d)},hasItem:function(d){return this.elements.items[d]?!0:!1},addItem:function(g,e){var c=this.elements,b=c.items=c.items||{},c=c.containers=c.containers||{};this._parent(g,e);c[g]=d.createElement("div",{"class":this.className+"-content"}).inject(b[g],
"top"===this.options.contentPosition?"top":"bottom");e.content&&this.setContent(g,e.content)},removeItem:function(d){var e=this.elements.items;e[d]&&(e[d].destroy(),e[d]=null)},updateContent:function(g,e,c){g=this.elements.containers[g];c&&g.empty();if(d.is(e,"string"))e=d.createElement("div",{html:e});else if(!d.is(e.inject,"function"))throw new TypeError;e.inject(g);return g},buildSkeleton:function(){var g=this.elements;g.container=d.createElement("ul",{"class":(this.className+" "+this.options.className).trim()});
g.itemContainer=g.container},onClick:function(d){this.toggleItem(d)},onChange:function(d,e){e&&!this.options.multiSelect&&this.unselectItems(!1,d)},setContent:function(d,e){return this.updateContent(d,e,!0)},addContent:function(d,e){return this.updateContent(d,e,!1)}});return d.namespace("Controls/Accordion",m,d)});
define("UWA/Controls/Flash",["UWA/Core","UWA/Utils","UWA/Controls/Abstract"],function(d,h,m){m=m.extend({id:null,defaultOptions:{url:"",width:320,height:240,className:"uwa-swf",pluginspage:"http://www.macromedia.com/go/getflashplayer",flashVars:"",scale:"exactfit",wmode:"opaque",quality:"hight",allowScriptAccess:"sameDomain",bgcolor:!1,allowfullscreen:"true"},flashVersion:null,init:function(d){this._parent(d);d=this.options;this.id=d.id||Math.floor(11*Math.random());this.flashVersion=this.detectFlashVersion();
this.buildSkeleton()},buildSkeleton:function(){function g(a){return String(a).replace(/(&amp;)|(&)/g,"%26")}var e,c,b;b=window.navigator;var a=this.elements,f=this.options;e=f.flashVars||"";var n=g(f.url||"");this.container=a.container=d.createElement("div",{"class":f.className});d.is(e,"string")||(e=g(h.toQueryString(e)));if(b.plugins&&b.mimeTypes&&b.mimeTypes.length)a.flashTag=d.createElement("embed",{id:this.id,type:"application/x-shockwave-flash",src:n,width:f.width,height:f.height,pluginspage:f.pluginspage,
flashvars:e,scale:f.scale,quality:f.quality,allowScriptAccess:f.allowScriptAccess,wmode:f.wmode,allowfullscreen:f.allowfullscreen});else{b=[];e={movie:n,flashvars:e,quality:f.quality,allowScriptAccess:f.allowScriptAccess,wmode:f.wmode,allowfullscreen:f.allowfullscreen};for(c in e)e.hasOwnProperty(c)&&b.push({tag:"param",name:c,value:e[c]});a.flashTag=d.createElement("object",{id:this.id,width:f.width,height:f.height,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",html:b})}a.flashTag.inject(a.container);
this.object=a.flashTag;0===this.flashVersion.major&&(c=d.createElement("p",{text:d.i18n("You need Adobe Flash to display this Content."),styles:{textAlign:"center"}}),c.inject(a.container));return this.container},getFlashContainer:function(){void 0===this.object&&this.getContent();return this.object},getFlashVersion:function(){return this.flashVersion},detectFlashVersion:function(){var d,e,c=[0,0,0];if(navigator.plugins&&navigator.mimeTypes.length)(d=navigator.plugins["Shockwave Flash"])&&d.description&&
(c=d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));else if(navigator.userAgent&&0<=navigator.userAgent.indexOf("Windows CE")){d=1;for(e=3;d;)try{e++,d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e),c=[e,0,0]}catch(b){d=null}}else{try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(a){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),c=[6,0,21],d.AllowScriptAccess="always"}catch(f){if(6===c.major)return c}try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(n){d=
null}}null!==d&&(c=d.GetVariable("$version").split(" ")[1].split(","))}return{major:c[0],minor:c[1],rev:c[2]}}});return d.namespace("Controls/Flash",m,d)});
define("UWA/Controls/AudioPlayer","UWA/Core UWA/Utils/Client UWA/Event UWA/Element UWA/Controls/Abstract UWA/Controls/Flash".split(" "),function(d,h,m,g,e,c){e=e.extend({defaultOptions:{url:"",autoPlay:!1,preload:"none",className:"uwa-audioplayer",isTouch:h.Features.touchEvents,handleDragTreshold:40,player:{html:[{tag:"div","class":"play-pause"},{tag:"div","class":"controls-right",html:{tag:"div","class":"close"}},{tag:"div","class":"controls-times",html:[{tag:"span","class":"played",text:"00:00"},
{tag:"span","class":"duration",text:"00:00"}]},{tag:"div","class":"scrubber-wrapper",html:{tag:"div","class":"scrubber",html:[{tag:"div","class":"progress"},{tag:"div","class":"loaded"},{tag:"div","class":"handle"}]}}],playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",handleClass:"handle",loadedClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",waitingClass:"waiting",errorClass:"error",
closeClass:"close"}},adapter:null,init:function(b){var a=this;this.id=Math.round(1E5*Math.random());d.Controls.AudioPlayer.Instances["x"+this.id]=this;b=b||{};this._parent(b);this.eventNames={start:this.options.isTouch?"touchstart":"mousedown",move:this.options.isTouch?"touchmove":"mousemove",end:this.options.isTouch?"touchend":"mouseup"};this.body=b.body||document.body;this.bodyEvents={};this.bodyEvents[this.eventNames.move]=this.onHandleDrag.bind(this);this.bodyEvents[this.eventNames.end]=this.onHandleDragEnd.bind(this);
this.buildSkeleton();this.attachEvents();this.reset();if(this.options.url)this[this.options.autoPlay?"play":"load"]();this.container.addEvent("resize",function(){var b,c,d,k,j,e;b=a.elements;b.slider.show();b.controlsTimes.show();b.controlsRight.show();c=a.container.getSize().width;d=b.playPause.getSize().width;k=b.slider.getSize().width;j=b.controlsTimes.getSize().width;e=b.controlsRight.getSize().width;30>k&&(b.slider.hide(),d=d+j+e,d>c-10&&(b.controlsTimes.hide(),d-j>c-7&&b.controlsRight.hide()))})},
getAdapter:function(b){var a,c,e=d.Controls.AudioPlayer.Adapter;for(a in e)e.hasOwnProperty(a)&&!c&&e[a].isAvailable(b)&&(c=e[a]);if(c)return this.adapter||(this.adapter=c.build(this)),this.adapter.setUrl(b),this.adapter;window.open(b)},buildSkeleton:function(){var b,a;b=this.options;var c=b.player;b=d.createElement("div",{"class":b.className,html:b.player.html});a=b.getElement.bind(b);this.elements={playPause:a(".play-pause"),slider:null,controlsTimes:a(".controls-times"),controlsRight:a(".controls-right"),
played:a("."+c.playedClass),duration:a("."+c.durationClass),scrubber:a("."+c.scrubberClass),play:a("."+c.playPauseClass),progress:a("."+c.progressClass),loaded:a("."+c.loadedClass),handle:a("."+c.handleClass),close:a("."+c.closeClass)};this.container=b;return this},attachEvents:function(){var b=this.elements,a=this.dispatchEvent.bind(this);this.container.addEvent(this.eventNames.start,this.onHandleDragStart.bind(this));b.play.addEvent("click",a.bind(this,"onPlayPause"));b.scrubber.addEvent("click",
a.bind(this,"onProgressBarClick"));b.close.addEvent("click",a.bind(this,"close"));b.handle.addEvent("click",function(a){m.stop(a)});this.elements.slider=b.scrubber;return this},reset:function(){var b=this.elements;this.loadedPercent=0;this.shouldPlay=this.canPlay=!1;b.duration.setText(this.formatTime(0));b.played.setText(this.formatTime(0));b.progress.setStyle("width",0);b.loaded.setStyle("width",0);this.updateTimePosition(0)},load:function(b){b=b||this.options.url;this.stop();this.reset();this.show();
this.adapter=this.getAdapter(b)},play:function(b,a){this.load(b,a);this.adapter.play();this.shouldPlay=!0},pause:function(){this.adapter&&this.adapter.pause();this.shouldPlay=!1},stop:function(){this.adapter&&this.adapter.stop();this.reset()},show:function(){this.container.show()},hide:function(){this.container.hide()},close:function(){this.stop();this.hide()},onHandleDragStart:function(b){var a=this.elements.handle,c=m.getElement(b),d=m.getPosition(b).x,e=d-a.getPosition(document).x;Math.abs(e)<=
this.options.handleDragTreshold&&!c.hasClassName(this.options.player.playPauseClass)&&(m.stop(b),this.drag={start:a.getParent().getDimensions().width/100*parseFloat(a.getStyle("left"))||0,x1:d},g.addEvents.call(this.body,this.bodyEvents))},onHandleDrag:function(b){var a=this.drag.start,c=this.elements.scrubber.getDimensions().width;m.stop(b);this.drag.x2=m.getPosition(b).x;a+=this.drag.x2-this.drag.x1;a=Math.min(c,Math.max(0,a));this.drag.currentTime=a?a*this.adapter.getDuration()/c:0;this.updateTimePosition(this.drag.currentTime)},
onHandleDragEnd:function(b){m.stop(b);g.removeEvents.call(this.body,this.bodyEvents);this.adapter.setCurrentTime(this.drag.currentTime);this.drag=null},onPlayPause:function(){if(this.adapter)this.adapter[this.adapter.isPaused()?"play":"pause"]()},onPlay:function(){this.container.addClassName(this.options.player.playingClass).removeClassName("paused");this.canPlay||this.container.addClassName(this.options.player.waitingClass);this.shouldPlay=!0},onPause:function(){this.container.removeClassName(this.options.player.waitingClass).removeClassName(this.options.player.playingClass).addClassName("paused");
this.shouldPlay=!1},onCanPlay:function(){(this.options.preload||"none"!==this.options.preload)&&this.trackLoadProgress();this.container.removeClassName(this.options.player.waitingClass);this.canPlay=!0;this.shouldPlay&&(this.adapter&&this.adapter.isPaused())&&this.adapter.play()},onMetadataLoaded:function(){this.elements.duration.setText(this.formatTime(this.adapter.getDuration()))},onTimeUpdate:function(){this.drag||this.updateTimePosition()},updateTimePosition:function(b){var a=this.adapter,c=this.elements;
b=d.is(b)?b:a&&a.getCurrentTime();a=100*(b/(a?a.getDuration():0));c.played.setText(this.formatTime(b));d.is(a)&&(this.positionPercent=a,c.progress.style.width=a+"%",c.handle.style.left=a+"%")},trackLoadProgress:function(){this.loadTimer&&clearTimeout(this.loadTimer);1>this.loadedPercent&&(this.loadTimer=setTimeout(function(){this.onLoadProgress();this.trackLoadProgress()}.bind(this),400))},onLoadProgress:function(){(this.loadedPercent=this.adapter?this.adapter.getLoadProgress():0)&&this.elements.loaded.setStyle("width",
this.loadedPercent+"%")},onProgressBarClick:function(b){b=m.getPosition(b);this.canPlay&&(b=b.x-this.elements.scrubber.getPosition(document).x,b=b*this.adapter.getDuration()/this.elements.scrubber.offsetWidth,this.updateTimePosition(b),this.adapter.setCurrentTime(b))},formatTime:function(b){var a=parseInt(b,10);b=Math.floor(a/60,10);a-=60*b;a=!isNaN(a)?a:0;b=!isNaN(b)?b:0;return b+":"+(10>a?"0"+a:a)}});e.Instances={};e.Adapter={audio:{audioTag:null,isAvailable:function(b){var a=document.createElement("audio");
return a.canPlayType?/\.mp3$/.test(b)&&""!==a.canPlayType("audio/mpeg")||/\.m4a$/.test(b)&&""!==a.canPlayType("audio/x-m4a")||/\.ogg$/.test(b)&&""!==a.canPlayType('audio/ogg; codecs="vorbis"'):!1},build:function(b){this.audioTag=d.createElement("audio",{id:"uwa-audioplayer-audio-"+b.id,preload:b.options.preload,events:{play:b.onPlay.bind(b),pause:b.onPause.bind(b),ended:function(){b.pause();b.updateTimePosition(0)},timeupdate:function(){b.onTimeUpdate();b.onLoadProgress()},loadedmetadata:b.onMetadataLoaded.bind(b),
canplay:b.onCanPlay.bind(b)}}).setStyles({position:"absolute",top:"-100000px"});this.audioTag.inject(b.container);return this},isPaused:function(){return this.audioTag.paused},play:function(){this.audioTag.play()},pause:function(){this.audioTag.pause()},stop:function(){this.audioTag.pause()},setCurrentTime:function(b){try{this.audioTag.currentTime=b}catch(a){}},getCurrentTime:function(){return this.audioTag.currentTime},getDuration:function(){return this.audioTag.duration},getLoadProgress:function(){var b=
0,a=this.audioTag;a&&a.buffered&&0<a.buffered.length&&a.buffered.end&&a.duration?b=a.buffered.end(0)/a.duration:a&&(void 0!==a.bytesTotal&&0<a.bytesTotal&&void 0!==a.bufferedBytes)&&(b=a.bufferedBytes/a.bytesTotal);return 100*b},setVolume:function(b){this.audioTag.volume=parseFloat(b/200)},getVolume:function(){return 200*this.audioTag.volume},setUrl:function(b){this.audioTag.src=b;this.audioTag.load()}},flash:{flashTag:null,isAvailable:function(b){return 0!==c.prototype.detectFlashVersion().major&&
/\.mp3$/.test(b)},build:function(b){var a,f="uwa-audioplayer-flash-"+b.id,e=new c({id:f,url:d.hosts.uwa+"/lib/UWA/assets/img/flash/player_mp3_js.swf",width:1,height:1,flashVars:"listener=UWA.Controls.AudioPlayer.Instances.x"+b.id+".adapter.listener&interval=750&userexternalinterface=1",allowScriptAccess:"always"});this.pendingVariables=[];this.control=b;this.listener={isPlaying:!1,ready:!1,onInit:this.onReady.bind(this),onUpdate:function(){b.onMetadataLoaded();b.onTimeUpdate();b.onLoadProgress()}};
this.flashTag=e.getFlashContainer();this.flashTag.setStyles({position:"absolute",top:"-100000px"});if(h.Engine.ie)try{a=document.createElement("<script for="+f+" event=FSCommand(command,args)>\x3c/script>"),a.text="eval(args);",document.body.appendChild(a)}catch(g){}this.flashTag.inject(b.container);return this},SetVariable:function(b,a){var c=this;if(c.listener.ready){c.variableTimers=c.variableTimers||{};try{clearTimeout(c.variableTimers[b]),c.flashTag.SetVariable(b,a)}catch(d){c.variableTimers[b]=
setTimeout(function(){c.flashTag.SetVariable(b,a)},500)}}else c.pendingVariables.push([b,a])},onReady:function(){this.listener.ready=!0;this.pendingVariables.forEach(function(b){this.SetVariable.apply(this,b)},this);this.control.onCanPlay()},isPaused:function(){return"true"!==this.listener.isPlaying},play:function(){this.SetVariable("enabled","true");this.SetVariable("method:play");this.control.onPlay()},pause:function(){this.SetVariable("method:pause");this.control.onPause()},stop:function(){this.SetVariable("method:setPosition",
0);this.SetVariable("method:stop");this.control.onPause()},setCurrentTime:function(b){this.SetVariable("enabled","false");this.SetVariable("method:setPosition",Math.round(1E3*b));this.SetVariable("enabled","true")},getCurrentTime:function(){return this.listener.position/1E3},getDuration:function(){return this.listener.duration/1E3},getLoadProgress:function(){var b=this.listener.bytesPercent;return isNaN(b)?100:b},setVolume:function(b){b=!isNaN(b)?b:100;this.SetVariable("method:setVolume",b)},getVolume:function(){return this.listener.volume},
setUrl:function(b){this.SetVariable("method:setUrl",b)}}};return d.namespace("Controls/AudioPlayer",e,d)});
define("UWA/Controls/Autocomplete",["UWA/Core","UWA/Event","UWA/Data","UWA/Json","UWA/Controls/Abstract"],function(d,h,m,g,e){e=e.extend({typeTimeout:null,dataCache:{},itemCache:{},defaultOptions:{suggestUrl:null,suggestKey:"",placeholder:"",shouldExist:!1,itemDataKey:"item",dataParser:null,typeDelay:500,minLength:1,maxHeight:"auto",suggestFormat:"{name}",className:"uwa-autocomplete nv-autocomplete"},init:function(c){this._parent(c);this.buildSkeleton();this.attachEvents()},buildSkeleton:function(){var c=
this.elements,b=this.options.className;c.form=d.createElement("form",{"class":b});c.inputContainer=d.createElement("div",{"class":b+"-searchbox"}).inject(c.form);c.input=d.createElement("input",{"class":b+"-input",placeholder:this.options.placeholder,type:"text"}).inject(c.inputContainer);this.resetInput();c.suggestsContainer=d.createElement("div",{"class":b+"-suggests"}).inject(c.form);c.suggests=d.createElement("ul").inject(c.suggestsContainer);c.container=c.form},attachEvents:function(){var c=
this.elements;c.input.addEvent("keyup",this.onKeyUp.bind(this));c.input.addEvent("blur",this.onBlur.bind(this));c.input.addEvent("focus",this.onFocus.bind(this));c.form.addEvent("submit",function(b){var a=this.itemCache[c.input.value.toLowerCase()];h.stop(b);if(!this.options.shouldExist||a)this.options.suggestKey&&a&&(c.input.value=a[this.options.suggestKey]),this.dispatchEvent("onSelect",[c.input.value,a]),c.input.blur(),this.dispatchEvent("onHideSuggests");return!1}.bind(this))},getSuggestions:function(c){var b;
c&&(this.dataCache[c]?(this.dispatchEvent("onUpdateSuggests",[this.dataCache[c]]),this.typeTimeout=null):this.options.suggestUrl&&(b=this.options.suggestUrl.replace("{text}",c),m.getText(b,function(a){a=this.dataParse(a);0<a.length&&(this.dataCache[c]=a,this.dispatchEvent("onUpdateSuggests",[a]));this.typeTimeout=null}.bind(this))))},dataParse:function(c){var b,a,f,e=this.options.dataParser;if(d.is(e,"function"))c=e(c);else{if(g.isJson(c))c=g.decode(c),f=!0;else for(b in c=g.xmlToJson(c),c)if(c.hasOwnProperty(b)){c=
c[b];break}for(b in c)c.hasOwnProperty(b)&&(a||(a=b),Array.isArray(c[b])&&(c=c[b],f=!0));!f&&a&&(c=[c[a]])}return Array.isArray(c)?c:[]},resizeSuggests:function(){var c=this.elements,b=c.input.getDimensions();c.suggestsContainer.setStyle("width",b.width+"px");this.options.maxHeight&&"auto"!==this.options.maxHeight&&c.suggestsContainer.setStyle("height",this.options.maxHeight+"px")},getFormattedSuggest:function(c){return this.options.suggestFormat.replace(/\{(\w+)\}/g,function(b,a){return d.is(c,"string")?
c:c[a]})},resetInput:function(){var c=this.elements;c.input.value=c.input.placeholder?"":this.options.placeholder;this.resetCache()},getFocus:function(){this.elements.input.focus()},resetCache:function(){this.dataCache={};this.itemCache={}},onUpdateSuggests:function(c){var b,a,f=this.elements;f.suggests.empty();this.dispatchEvent("onShowSuggests");Array.isArray(c)&&0!==c.length&&(c.forEach(function(c){var e=this.getFormattedSuggest(c);b=d.createElement("li");a=d.createElement("a").inject(b);a.setHTML(e);
b.inject(f.suggests);this.options.suggestKey&&(this.itemCache[c[this.options.suggestKey].toLowerCase()]=c);a.addEvent("click",function(a){var b=this.options.suggestKey?a[this.options.suggestKey]:this.getFormattedSuggest(a).stripTags();this.dispatchEvent("onSelect",[b,a])}.bind(this,c))}.bind(this)),this.resizeSuggests())},onSelect:function(c){this.elements.input.value=c;this.dispatchEvent("onHideSuggests")},onHideSuggests:function(){this.elements.container.removeClassName(this.options.className+"-suggestsDisplayed")},
onShowSuggests:function(){this.elements.container.addClassName(this.options.className+"-suggestsDisplayed")},onBlur:function(){setTimeout(function(){this.dispatchEvent("onHideSuggests")}.bind(this),200)},onFocus:function(c){var b=this.elements;c=h.getElement(c);b.input.value===this.options.placeholder&&(b.input.value="");this.getSuggestions(c.value)},onKeyUp:function(c){var b=h.getElement(c);if(0===b.value.length)this.onHideSuggests();else b.value.length>=this.options.minLength&&!this.typeTimeout&&
(clearTimeout(this.typeTimeout),this.typeTimeout=setTimeout(function(){this.getSuggestions(b.value)}.bind(this),this.options.typeDelay))}});return d.Controls.Autocomplete=e});
define("UWA/Controls/Calendar",["UWA/Core","UWA/Date","UWA/Event","UWA/Controls/Abstract"],function(d,h,m,g){function e(a,b){var c=!a;return c===!b&&(c||a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate())}function c(a,b,c){var d=a.getDate();void 0===c&&(c=1);"year"===b?(c*=12,b="month"):"week"===b&&(c*=7,b="day");if("month"===b)a.setDate(1),a.setMonth(a.getMonth()+c+1),a.setDate(0),d<a.getDate()&&a.setDate(d);else if("day"===b)a.setDate(d+c);else throw Error('Unknown unit "'+
b+'"');}var b=d.i18n,a;a=g.extend({name:"uwa-calendar",defaultOptions:{view:"month",weekFirstDay:"monday",limit:{}},weekOffset:{monday:1,sunday:0,saturday:6},init:function(a){this._parent(a);this.buildSkeleton();this.bound={refreshLimit:this.refreshLimit.bind(this)};this.setLimit(this.options.limit);this.setDate(this.options.date);this.displayView(this.options.view)},getWeekOffset:function(){return this.weekOffset[this.options.weekFirstDay]||0},getMonthFirstDay:function(){var a=this.displayDate;return((new h(a.getFullYear(),
a.getMonth(),1)).getDay()-this.getWeekOffset()+7)%7},getWeekFirstDay:function(){var a=this.displayDate;return a.getDate()-(7+a.getDay()-this.getWeekOffset())%7},iterateWeek:function(a,b){var c;c=this.displayDate;var d=new h(c.getFullYear(),c.getMonth(),this.getWeekFirstDay()),j=d.getDate();for(c=0;7>c;c+=1)d.setDate(j+c),a.call(b,c,d);return this},displayView:function(a){if(0>["month","week"].indexOf(a))throw Error("Unknown view "+a+"options");a!==this.currentView&&(this.container.setContent(this["build"+
a.ucfirst()+"View"]()),this.currentView=a,this.dispatchEvent("onRefresh"));return this},setDate:function(a,b){b||(a||(a=new h,a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),b=a);var c=!e(a,this.selectDate);if(c||!e(b,this.displayDate))this.selectDate=a,this.displayDate=b,this.dispatchEvent("onRefresh"),c&&this.dispatchEvent("onDateChange",[a]);return this},getDate:function(){return this.selectDate||null},setLimit:function(b){b||(b={});var c=this.options.limit;this.options.limit=
b;[c.max,c.min,b.max,b.min].forEach(function(b,c){if(b instanceof a)b[2>c?"removeEvent":"addEvent"]("onDateChange",this.bound.refreshLimit)},this);this.refreshLimit();return this},getLimit:function(){var a,b,c,d=this.options.limit||{},j={};for(a=0;2>a;a+=1)b=a?"max":"min",c=d[b],j[b]=c&&+new h((c.getTime||c.getDate||c).call(c))||(a?Infinity:-Infinity);j.min-=864E5;return j},refreshLimit:function(){var a=this.getLimit();if(a.end<a.start)throw Error("Bad limit specified");this.selectDate&&(this.preventRefresh(),
this.setDate(new h(Math.max(Math.min(a.max,this.selectDate),a.min))),this.allowRefresh());return this.dispatchEvent("onRefresh")},preventRefresh:function(){this.doNotRefresh=this.doNotRefresh+1||1;return this},allowRefresh:function(){this.doNotRefresh=this.doNotRefresh-1||0;return this},buildSkeleton:function(){this.container=d.createElement("div",{"class":this.getClassNames(),events:{click:this.onClick.bind(this),mousedown:m.preventDefault}})},buildMonthView:function(){var a,b,c,e=d.createElement("div",
{"class":"monthView"}),j=d.createElement("div",{"class":"top"}).inject(e);b=d.createElement("table").inject(e);var p=d.createElement("tbody").inject(b),l=d.createElement("tr").inject(p);this.iterateWeek(function(a,b){d.createElement("th",{text:b.strftime("%a")[0]}).inject(l)});for(b=0;42>b;b+=1)0===b%7&&(a=d.createElement("tr").inject(p)),c=d.createElement("td").inject(a),d.createElement("div",{"class":"day"}).inject(c);d.createElement("span",{"class":"previous",text:"\u2190"}).inject(j);d.createElement("span",
{"class":"title"}).inject(j);d.createElement("span",{"class":"next",text:"\u2192"}).inject(j);return this.elements.monthView=e},buildWeekView:function(){var a,b,c=d.createElement("div",{"class":"weekView"}),e=d.createElement("div",{"class":"top"}).inject(c);b=d.createElement("table").inject(c);var j=d.createElement("tbody").inject(b),p=d.createElement("tr").inject(j);this.iterateWeek(function(a,b){d.createElement("th",{text:b.strftime("%a")[0]}).inject(p)});for(b=0;7>b;b+=1)0===b%7&&(a=d.createElement("tr").inject(j)),
d.createElement("td",{html:{tag:"div","class":"day"}}).inject(a);d.createElement("span",{"class":"previous",text:"\u2190"}).inject(e);d.createElement("span",{"class":"title"}).inject(e);d.createElement("span",{"class":"next",text:"\u2192"}).inject(e);return this.elements.weekView=c},refreshMonthView:function(){var a,c,d=this.displayDate,e=new h(d.getFullYear(),d.getMonth(),-this.getMonthFirstDay()),j=this.elements.monthView,p=j.getElements(".day");a=0;for(c=p.length;a<c;a+=1)e.setDate(e.getDate()+
1),p[a]=this.buildDay(p[a],e);j.getElement("tbody").getElements("tr")[6][6<e.getDate()?"hide":"show"]();j.getElement(".title").setText(d.strftime(b("%B %Y")))},refreshWeekView:function(){var a,c,d=this.displayDate,e=new h(d.getFullYear(),d.getMonth(),this.getWeekFirstDay()),d=e.strftime(b("%e %B")),j=this.elements.weekView,p=j.getElements(".day");j.getElements(".event");a=0;for(c=p.length;a<c;a+=1)p[a]=this.buildDay(p[a],e),e.setDate(e.getDate()+1);e.setDate(e.getDate()-1);a=e.strftime(b("%e %B %Y"));
j.getElement(".title").setText(d+" - "+a)},buildDay:function(a,b){var c=new h,d=this.displayDate,j=this.getLimit();a.getClosest("td").toggleClassName("currentDay",e(b,d)).toggleClassName("selectDate",e(b,this.selectDate)).toggleClassName("today",e(b,c)).toggleClassName("currentMonth",b.getMonth()===d.getMonth()).toggleClassName("disabled",b<j.min||b>j.max);a.setText(b.getDate());return a},onRefresh:function(){var a=this.currentView;if(a&&!this.doNotRefresh)this["refresh"+a.ucfirst()+"View"]()},onClick:function(a){var b,
d=this.container;a=m.getElement(a);b=a.hasClassName("next")?1:a.hasClassName("previous")?-1:0;var e=new h(this.displayDate);a.getClosest(".disabled")||(a.hasClassName("day")?(b=d.getElements(".day"),c(e,"day",b.indexOf(a)-b.indexOf(d.getElement(".currentDay .day"))),this.setDate(e),this.dispatchEvent("onDateSelect",[e])):b&&(c(e,this.currentView,b),this.setDate(this.selectDate,e)))}});return d.namespace("Controls/Calendar",a,d)});
define("UWA/Controls/Carousel","UWA/Core UWA/Class/Timed UWA/Utils/Client UWA/Event UWA/Element UWA/Controls/Abstract UWA/Controls/Scroller".split(" "),function(d,h,m,g,e,c,b){h=c.extend(h,{defaultOptions:{className:"uwa-carousel",orientation:"horizontal",scrollSize:3,scrollerOptions:{lockDirection:!0,momentum:!1,scrollbarH:!1,scrollbarV:!1,scrollDrag:m.Features.touchEvents},nextButton:null,previousButton:null,scrollButtonClassName:"uwa-carousel-button",scrollDuration:300,autoScrollPressedDelay:500,
itemSelector:"li"},init:function(a,c){this._parent(c);this.element=d.extendElement(a);this.elements.container=d.createElement("div",{"class":this.options.className}).inject(this.element,"before").grab(this.element);this.initEvents();this.options.scrollerOptions.scrollableY=this.isVertical();this.options.scrollerOptions.scrollableX=!this.options.scrollerOptions.scrollableY;this.scroller=new b(a,this.options.scrollerOptions);this.scroller.addEvent("onMouseWheel",this.updateScrollButtonsDisabledState.bind(this));
this.scroller.addEvent("onScrollEnd",this.updateScrollButtonsDisabledState.bind(this));this.scroller.addEvent("onRefresh",this.dispatchEvent.bind(this,"onRefresh"))},scrollHead:function(a){this.scrollToItem(this.element.firstChild,a)},scrollTail:function(a){this.scrollToItem(this.element.lastChild,a)},scrollNext:function(a){this.scrollTo("next",a)},scrollPrevious:function(a){this.scrollTo("previous",a)},scrollToItem:function(a,b){var c,d,e;this.hasDelayed("onRefresh")&&(this.clearDelayed("onRefresh"),
this.onRefreshNoDelay());isNaN(b)&&(b=this.options.scrollDuration);this.element.firstChild===a?c="start":this.element.lastChild===a?c="end":(d=this.getItems(),e=this.getVisibleItems(!0),c=d.indexOf(a),d=d.indexOf(e[0]),c=c>d?"end":"before");this.scroller.scrollToElement(a,c,b)},scrollTo:function(a,b,c){var d,e,j=this.getItems();b=b||this.options.scrollSize;isNaN(c)&&(c=this.options.scrollDuration);"next"===a?(d=j.indexOf(this.getLastItemVisible())+b,e="end"):"previous"===a&&(d=j.indexOf(this.getFirstItemVisible())-
b,e="start");d=Math.min(j.length-1,Math.max(0,d));this.scroller.scrollToElement(j[d],e,c);this.updateScrollButtonsDisabledState()},isItemVisible:function(a,b){var c=this.isVertical()?"y":"x";return this.scroller.isInViewport(a,!1!==b,c)},getFirstItemVisible:function(){var a,b,c,d=this.getItems();b=0;for(c=d.length;b<c;b+=1)if(a=d[b],this.isItemVisible(a,!1))return a;return null},getLastItemVisible:function(){var a=this.getVisibleItems(!1);return a.length?a[a.length-1]:null},getVisibleItems:function(a){var b,
c,d;return this.getItems().filter(function(e){!0!==d?(b=this.isItemVisible(e,a),d=!1===b&&!0===c,c=b):b=!1;return b},this)},nextButton:function(){this.elements.nextButton||(this.elements.nextButton=this._createScrollButton("next"));return this.elements.nextButton},previousButton:function(){this.elements.previousButton||(this.elements.previousButton=this._createScrollButton("previous"));return this.elements.previousButton},initEvents:function(){var a;a=m.Features.touchEvents;var b={};b[a?"touchstart":
"mousedown"]=this.onScrollButtonDown.bind(this);b[a?"touchend":"mouseup"]=this.onScrollButtonUp.bind(this);b.click=this.onScrollButtonClick.bind(this);if(a=this.nextButton())a.addEvents(b),a.setAttribute("data-scroll","next");if(a=this.previousButton())a.addEvents(b),a.setAttribute("data-scroll","previous")},onScrollButtonClick:function(a){if(!this.stopScroll()){var b=a.timeStamp||Date.now();this.lastClickTime&&300>=b-this.lastClickTime?(delete this.lastClickTime,this.onScrollButtonDblClick(a)):(g.preventDefault(a),
this.lastClickTime=b,this.scrollTo(this.getScrollButtonFromEvent(a).getAttribute("data-scroll"),this.options.scrollSize))}},onScrollButtonDblClick:function(a){g.stop(a);this.scrollTo(this.getScrollButtonFromEvent(a).getAttribute("data-scroll"),this.getVisibleItems(!0).length)},onScrollButtonDown:function(a){this.setDelayed("pressedTimeout",this.autoScroll.bind(this,this.getScrollButtonFromEvent(a).getAttribute("data-scroll")),this.options.autoScrollPressedDelay)},onScrollButtonUp:function(){this.stopScroll()},
autoScrollNext:function(){this.autoScroll("next")},autoScrollPrevious:function(){this.autoScroll("previous")},autoScroll:function(a){this.stopScroll();this.setPeriodical("scrollTimer",function(){var b=this.scroller.getPosition(),c=this.isVertical()?"y":"x";"previous"===a?b[c]+=20:"next"===a&&(b[c]-=20);this.scroller.setPosition(b.x,b.y,0)}.bind(this),20)},stopScroll:function(){this.clearDelayed("pressedTimeout");var a=this.hasPeriodical("scrollTimer");this.clearPeriodical("scrollTimer");this.scroller.dragScrolling&&
(this.scroller.dragScrolling=!1);return a},onRefresh:function(){this.setDelayed("onRefresh",this.onRefreshNoDelay.bind(this),50)},onRefreshNoDelay:function(){if(this.isInjected()){var a;a=this.isVertical()?"y":"x";var b=this.scroller.maxScroll[a];this.elements.container.hasAttribute("overflow")||this._updateOverflowStatus();this._updateOverflowStatus();this.scroller.dispatchEvent("onRefresh");a=Math.abs(b)-Math.abs(this.scroller.maxScroll[a]);this.dispatchEvent("onScrollerResize",[{deltaScroll:a}]);
this.updateScrollButtonsDisabledState()}},updateScrollButtonsDisabledState:function(){var a,b,c=this,d=c.elements,e=c.isVertical()?"y":"x";[d.nextButton,d.previousButton].forEach(function(j,p){j&&(a=c.scroller.isMaxPosition(e,!1,2*p-1),j.toggleClassName("disabled",a),b="max-scroll-"+j.getAttribute("data-scroll"),a?d.container.setAttribute(b,"true"):d.container.removeAttribute(b))})},hasOverflow:function(){return"true"===this.elements.container.getAttribute("overflow")},isVertical:function(){return"vertical"===
this.options.orientation},getItems:function(){return this.element.getElements(this.options.itemSelector)},isInjected:function(){!0!==this.injected&&(this.injected=this.elements.container&&this.elements.container.isInjected());return this.injected},getScrollButtonFromEvent:function(a){return d.Event.getElement(a).getClosest("."+this.options.scrollButtonClassName)},_createScrollButton:function(a){var b=this.options,c=a+"Button",e=!1;!1!==b[c]&&(e=d.is(b[c],"function")?b[c](this.elements.container):
d.is(b[c],"element")?b[c]:d.createElement("a",{"class":b.scrollButtonClassName+" "+b.scrollButtonClassName+"-"+a}).grab(d.createElement("span")).inject(this.elements.container),e=d.extendElement(e));return e},_updateOverflowStatus:function(){var a=this.isVertical()?"y":"x",a=this.scroller.hasOverflow(a);this.elements.container.setAttribute("overflow",String(a));this.scroller.setOptions({preventDefaultMouseWheel:a})}});return d.namespace("Controls/Carousel",h,d)});
define("UWA/Controls/DataGrid",["UWA/Core","UWA/Event","UWA/Element","UWA/Controls/Abstract","UWA/Controls/Scroller"],function(d,h,m,g,e){var c=g.extend({defaultOptions:{className:"",data:null,columns:null,sortable:!1,orderBy:"",sortReverse:!1,scrollerOptions:{}},name:"uwa-datagrid",dataGrid:null,columns:null,init:function(b){this._parent(b);this.dataGrid=b.data;this.columns=b.columns;this.buildSkeleton();this.fillGrid();this.initEvents()},buildSkeleton:function(){var b=this.options,a=this.elements;
a.container=d.createElement("div",{"class":this.getClassNames()});a.grid=d.createElement("table",{"class":this.getClassNames("-table")}).inject(a.container);b.sortable&&a.grid.addClassName("sortable")},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(b){b=h.getElement(b).getClosest("th");if(this.options.sortable&&b)this.onOrderColumn(b.className.split(" ")[0])},fillGrid:function(){this.fillHeader();this.fillBody()},fillHeader:function(){var b,
a,f,e;b=this.elements;var g=this.columns;b.grid.empty();f=d.createElement("tr").inject(b.grid);e=new c.CellHeader;b=0;for(a=g.length;b<a;b++)e.createNewCell({cell:g[b],isSorted:this.options.orderBy===g[b].dataIndex,sortReverse:this.options.sortReverse,className:g[b].className}).inject(f)},fillBody:function(){var b,a,f,e,g,k,j=this.elements;b=this.options;var p=this.columns,l=this.dataGrid;b.sortable&&b.orderBy&&(l=this.sortData());k=new c.Cell;b=0;for(a=l.length;b<a;b++){g=d.createElement("tr").inject(j.grid);
f=0;for(e=p.length;f<e;f++)k.createNewCell({dataCell:l[b][p[f].dataIndex],column:p[f],isFixed:l[b].isFixed,className:l[b].className}).inject(g)}},sortData:function(){var b=this.options,a=this.dataGrid,c=this.columns.filter(function(a){return a.dataIndex===b.orderBy})[0];a.sort(function(a,d){var e,j;e=c.sortKey?c.sortKey(a[b.orderBy]):a[b.orderBy];j=c.sortKey?c.sortKey(d[b.orderBy]):d[b.orderBy];return e<j?!b.sortReverse?-1:1:e>j?!b.sortReverse?1:-1:0});return a},onOrderColumn:function(b){var a=this.options;
a.sortReverse=a.orderBy===b?!a.sortReverse:!1;a.orderBy=b;this.fillGrid();this.scroller&&this.scroller.updateFixedHeaders(this.elements.grid)},updateData:function(b,a){this.dataGrid=a;this.columns=b;this.fillGrid();this.scroller&&this.updateScroller()},addScroller:function(){this.scroller=new c.GridScroller(this.elements.grid,this.options.scrollerOptions)},updateScroller:function(){this.scroller&&this.scroller.destroy();this.addScroller()}});c.Cell=g.extend({defaultOptions:{tag:"td",text:"",column:"",
isFixed:!1,className:""},createNewCell:function(b){var a=this.options;a.text=b.dataCell;a.itemId=d.is(b.dataCell,"object")?b.dataCell.itemId:"";a.column=b.column;a.isFixed=b.isFixed;a.className=b.className;return this.createCellElement()},createCellElement:function(){var b;b=this.options;var a=d.createElement(b.tag,{"class":b.column.dataIndex,"data-itemId":b.itemId,html:b.column.format?b.column.format(b.text):d.is(b.text,"number")?String(b.text):b.text});b.className&&a.addClassName(b.className);b.column.className&&
a.addClassName(b.column.className);(b.column.isFixed||b.isFixed)&&a.addClassName("is-fixed");b.column.isFirst?a.addClassName("first"):a.addClassName("grid-data");b.column.color&&(b=b.column.color.hexToRgb(!0),a.setStyle("background-color","rgba("+b.toString()+",0.2)"));return a}});c.CellHeader=c.Cell.extend({defaultOptions:{tag:"th",isSorted:!1,sortReverse:"",cell:"",className:""},createNewCell:function(b){var a=this.options;a.cell=b.cell;a.isSorted=b.isSorted;a.sortReverse=b.sortReverse;a.className=
b.className;return this.createCellElement()},createCellElement:function(){var b,a=this.options,c=d.createElement(a.tag,{"class":a.cell.dataIndex,html:{tag:"span",text:a.cell.text}});b=d.createElement("span",{"class":"sort",text:""}).inject(c);a.isSorted&&b.setText(a.sortReverse?"D":"E");a.className&&c.addClassName(a.className);a.cell.isFirst&&(c.empty(),c.addClassName("first"));a.cell.color&&c.setStyles({"background-color":a.cell.color,color:"#FFFFFF"});return c}});c.GridScroller=e.extend({defaultOptions:{lockDirection:!1},
init:function(b){this._parent.apply(this,arguments);this.updateFixedHeaders(b)},_buildFixedHeaders:function(b){var a=this._getFixedHeadersSize(b),c=a.top,d=a.left;a.left&&(a.left=this._buildFixedHeader(b,a.left,Infinity));a.bottom&&(a.bottom=this._buildFixedHeader(b,Infinity,-a.bottom));a.right&&(a.right=this._buildFixedHeader(b,-a.right,Infinity));a.top&&(a.top=this._buildFixedHeader(b,Infinity,a.top),a.left&&(a.topLeft=this._buildFixedHeader(b,d,c)));this._fixedHeaders=a},_isHeaderCell:function(b){return"th"===
m.getTagName.call(b)||m.hasClassName.call(b,"is-fixed")},_getFixedHeadersSize:function(b){var a={top:0,bottom:0,left:Infinity,right:Infinity},c=!0,d=this;m.getElements.call(b,"tr").forEach(function(b){var e=0,j=0,p=!0;m.getChildren.call(b).forEach(function(a){d._isHeaderCell(a)?(p&&e++,j++):(p=!1,j=0)});a.left=Math.min(a.left,e);a.right=Math.min(a.right,j);p?(c&&a.top++,a.bottom++):(c=!1,a.bottom=0)});return a},_buildFixedHeader:function(b,a,c){function d(a,b){return 0>b?a.slice(b):a.slice(0,b)}var e=
{tag:"tbody",html:[]},k={width:0,height:0},j=!0;d(m.getElements.call(b,"tr"),c).forEach(function(b){var c={tag:"tr",html:[]},f=m.getDimensions.call(b);k.height+=f.outerHeight;e.html.push(c);d(m.getChildren.call(b),a).forEach(function(a){var b=m.getDimensions.call(a);a=a.cloneNode(!0);m.setStyles.call(a,{width:b.innerWidth,height:b.innerHeight});j&&(k.width+=b.outerWidth);c.html.push(a)});j=!1});b=b.cloneNode();m.set.call(b,{html:e,styles:k});m.addClassName.call(b,"fixed-column");this.elements.scroller.grab(b);
return b},_updateHeaderPositions:function(b){var a=this._fixedHeaders;a.top&&m.setPosition.call(a.top,{y:0,x:b.x});a.left&&m.setPosition.call(a.left,{y:b.y,x:0});a.right&&m.setPosition.call(a.right,{y:b.y,x:this.scroll.width-m.getSize.call(a.right).width});a.bottom&&m.setPosition.call(a.bottom,{x:b.x,y:this.scroll.height-m.getSize.call(a.bottom).height});a.topLeft&&m.setPosition.call(a.topLeft,{y:0,x:0})},updateFixedHeaders:function(b){var a;if(this._fixedHeaders)for(a in this._fixedHeaders)this._fixedHeaders[a]&&
m.destroy.call(this._fixedHeaders[a]);this._buildFixedHeaders(b);this._updateHeaderPositions(this.position)},onScroll:function(){this._parent.apply(this,arguments);this._updateHeaderPositions(this.getPosition(!0))}});return d.namespace("Controls/DataGrid",c,d)});
define("UWA/Controls/Picker","UWA/Core UWA/Utils UWA/Event UWA/Controls/Input UWA/Controls/DropDown UWA/Element".split(" "),function(d,h,m,g,e,c){g=g.extend({name:"uwa-picker",options:{navigation:null,button:null,valueInput:"text",dropdownOptions:{},dropdownContainer:null},buildSkeleton:function(){var b=this.options,a=this.elements;this._parent();b.valueInput&&b.button?a.content.addClassName(this.getClassNames("-split")):b.button?a.container.addClassName("button-only"):b.valueInput&&a.container.addClassName("value-only");
b.valueInput&&(a.content.setContent(a.value=d.createElement("div",{"class":this.getClassNames("-value")})),"text"===b.valueInput&&a.value.addClassName(this.getClassNames("-text")));b.button&&a.content.addContent(a.button=d.createElement("div",{"class":this.getClassNames("-button"),html:b.button}))},buildContent:function(){},buildNavigation:function(b){return h.splat(b).map(function(a){return d.is(a,"element")?a:this.buildNavigationItem(a)},this)},buildNavigationItem:function(b){var a=this;return d.createElement("div",
{text:b.label,"class":this.getClassNames("-navigationlink"),events:{click:function(c){a.dispatchEvent("onNavigationClick",[c,b])}}})},syncInput:function(){var b=this.elements.value;b!==this.elements.input&&b.setText(this.getValue())},isOpen:function(){return!!this.elements.dropdown&&this.elements.dropdown.isOpen()},focus:function(b){var a=this,d=a._parent;setTimeout(function(){function e(){c.removeEvent.call(g,"blur",e);a.focus(!1)}var g=document.activeElement,k=a.elements.dropdown;g&&k&&c.isInjected.call(g,
k.getInnerElement())?c.addEvent.call(g,"blur",e):(d.call(a,b),!1===b&&a.toggle(b))},0)},open:function(){return this.toggle(!0)},close:function(){return this.toggle(!1)},toggle:function(b){var a=this.elements,c=this.options;if((!0===b||void 0===b)&&!a.dropdown)a.dropdown=(new e.Pointy(d.extend({target:a.button||a.content,autoPosition:["below-end","right-start","above-end","left-start"]},c.dropdownOptions))).addEvents({onShow:this.dispatchEvent.bind(this,"onOpen"),onHide:this.dispatchEvent.bind(this,
"onClose")}),a.dropdown.getContent().addClassName(this.getClassNames("-dropdown")),c.navigation&&(a.navigation=d.createElement("div",{"class":this.getClassNames("-navigation"),html:this.buildNavigation(this.options.navigation)})),a.dropdown.getInnerElement().addEvent("mousedown",m.stopPropagation).addEvent("click",m.stopPropagation).addContent({tag:"div","class":this.getClassNames("-selector"),html:this.buildContent()},a.navigation),a.dropdown.inject(c.dropdownContainer||a.container);a.dropdown&&
a.dropdown.toggle(b)},onClick:function(){this.toggle()},onOpen:function(){this.elements.container.addClassName("open")},onClose:function(){this.elements.container.removeClassName("open")},onNavigationClick:function(b,a){this.setValue(a.value)}});return d.namespace("Controls/Picker",g,d)});
define("UWA/Controls/DatePicker",["UWA/Core","UWA/Event","UWA/Controls/Calendar","UWA/Controls/Abstract","UWA/Controls/Picker"],function(d,h,m,g,e){g=e.extend({name:"uwa-datepicker",options:{format:"%x",calendarOptions:{},button:{tag:"div","class":"uwa-icon uwa-icon-only","data-icon":"u"},time:!1,utc:!1},setOptions:function(c){c||(c={});c.date&&(c.value=c.date/1E3);return this._parent(c)},syncInput:function(){var c=this.elements,b=this.getDate();c.value&&c.value.setText(b?b.strftime(this.options.format):
"");c.calendar&&c.calendar.setDate(b);c.time&&b&&(c.time.getElement(".value").setText(b.strftime("%x")),c.time.getElements("input").forEach(function(a){a.value=b["get"+a.getAttribute("data-action")]()||""}))},onChange:function(){this.dispatchEvent("onDateSelect",[this.getDate()])},onOpen:function(){this._parent();var c=this.elements;c.calendar.refreshLimit();c.time&&(c.time.hide(),c.calendar.show())},buildContent:function(){var c=this,b;b=function(a){var b=this,d=h.whichKey(a);1===d.length&&isNaN(+d)&&
h.preventDefault(a);setTimeout(function(){var a,d;a=c.getDate()||new Date;a["set"+b.getAttribute("data-action")](b.value);c.setDate(a);2<=b.value.length&&(a=c.elements.time.getElements("input"),d=(a.indexOf(b)+1)%a.length,a[d].select())},1)};c.elements.content=d.createElement("div",{html:[c.elements.calendar=(new m(c.options.calendarOptions)).setDate(this.getDate()).addEvent("onDateSelect",function(a){var b=c.getDate();b?(b.setDate(a.getDate()),b.setMonth(a.getMonth()),b.setFullYear(a.getFullYear())):
b=a;c.setDate(b);c.options.time?(c.elements.calendar.hide(),c.elements.time.show().getElement("input").select(),c.elements.dropdown.updatePosition()):(c.toggle(!1),c.dispatchEvent("onChange",[c.getValue()]))}),c.elements.time=c.options.time&&d.createElement("div",{"class":c.getClassNames("-time"),html:[{tag:"div","class":"value"},{tag:"input",type:"text","class":c.getClassNames("-text"),"data-action":"Hours",events:{keydown:b}},":",{tag:"input",type:"text","class":c.getClassNames("-text"),"data-action":"Minutes",
events:{keydown:b}}]}).hide()]});return c.elements.content},buildNavigationItem:function(c){c.date&&(c.value=c.date/1E3);return this._parent(c)},setDate:function(c){c&&this.options.utc&&(c=c.getTime()-6E4*c.getTimezoneOffset());return this.setValue(c/1E3||"")},getDate:function(){var c=this.getValue();if(c)return this.options.utc&&(c=+c+60*(new Date).getTimezoneOffset()),new Date(1E3*c)},setLimit:function(c){this.elements.calendar?this.elements.calendar.setLimit(c):this.setOptions({calendarOptions:{limit:c}});
return this}});return d.namespace("Controls/DatePicker",g,d)});
define("UWA/Controls/Drag","UWA/Core UWA/Class UWA/Class/Options UWA/Utils UWA/Utils/Client UWA/Element UWA/Event".split(" "),function(d,h,m,g,e,c,b){var a,f,n,r;function k(a,b){var d=a.offsetParent,f;d&&1===d.nodeType?(f=c.getOffsets.call(d),f.y+=parseInt(c.getStyle.call(d,"border-top-width"),10)||0,f.x+=parseInt(c.getStyle.call(d,"border-left-width"),10)||0):f={x:0,y:0};a.setStyles({top:b.y-f.y+"px",left:b.x-f.x+"px"})}function j(a){for(var b,d=c.getComputedSize;a&&"inline"===c.getStyle.call(a,
"display");)a=a.getParent();a?(b=c.getOffsets.call(a),b.maxX=b.x+a.offsetWidth-d.call(a,"border-right-width","padding-right"),b.maxY=b.y+a.offsetHeight-d.call(a,"border-bottom-width","padding-bottom"),b.x+=d.call(a,"border-left-width","padding-left"),b.y+=d.call(a,"border-top-width","padding-top")):b={x:0,y:0,maxX:0,maxY:0};return b}var p=e.Features.eventCapture,l=e.Features.touchEvents;e=function(){};a=l?"touchstart":"mousedown";f=l?"touchmove":"mousemove";n=l?"touchend":"mouseup";r=l?"touchcancel":
null;h=h.extend(m,{defaultOptions:{snap:l?20:10,delay:l?300:0,delegate:"*",document:document},init:function(b){this.setOptions(b);b=this.documentEvents={};var c=this.elementEvents={};b[f]=this.onMove.bind(this);b[n]=this.onStop.bind(this);r&&(b[r]=b[n]);c[a]=this.onStart.bind(this);this.attach()},setOptions:function(a){this._parent(a);a=this.options;this.root=d.extendElement(a.root||document.body);this.element=d.extendElement(a.element||this.root);this.document=a.document;p||(this.clickDiscarder||
(this.clickDiscarder=d.createElement("div",{styles:{position:"absolute",height:"1px",width:"1px"}})),this.clickDiscarder.inject(this.root));return this},destroy:function(){this.detach();p||this.clickDiscarder.destroy()},attach:function(){c.addEvents.call(this.element,this.elementEvents);return this},detach:function(){this.reset();c.removeEvents.call(this.element,this.elementEvents);return this},start:e,move:p?e:function(a){k(this.clickDiscarder,a)},snap:function(a){p||(k(this.clickDiscarder,a),this.clickDiscarder.show());
if(a=(a=d.Controls&&d.Controls.Scroller)&&a.activeScroller)a.onScrollStop()},stop:e,cancel:e,reset:function(){clearTimeout(this.startTimeout);p?this.snapped&&(this.document.addEventListener("click",b.stopPropagation,!0),setTimeout(function(){this.document.removeEventListener("click",b.stopPropagation,!0)}.bind(this),300)):this.clickDiscarder.hide();this.snapped=!1;this.startOrigin=this.currentDelta=this.currentEvent=this.target=null;c.removeEvents.call(this.document,this.documentEvents)},onStart:function(a){var d=
b.getElement(a);if(2>(a.which||a.button||0)&&!this.target&&c.match.call(d,this.options.delegate,this.root))this.currentEvent=a,this.target=d,this.startOrigin=b.getPosition(a),this.start(this.startOrigin),this.target&&(c.addEvents.call(this.document,this.documentEvents),this.options.delay&&(this.startTimeout=setTimeout(this.onMove.bind(this,!1),this.options.delay)),l||b.preventDefault(a))},onMove:function(a){var c,d,f=this.options.snap,e=this.options.delay;a?(this.currentEvent=a,this.snapped&&b.preventDefault(a)):
(a=this.currentEvent,d=!0);a=b.getPosition(a);this.currentDelta=c={x:a.x-this.startOrigin.x,y:a.y-this.startOrigin.y,distance:0};c.distance=Math.sqrt(c.x*c.x+c.y*c.y);this.snapped||((e?d&&c.distance<=f:!f||c.distance>f)?(this.snapped=!0,this.snap(a,c)):e&&(this.cancel(),this.reset()));this.snapped&&this.move(a,c)},onStop:function(a){b.getElement(a);this.currentEvent=a;this.snapped?(this.stop(),b.stop(a)):this.cancel();this.reset()}});h.Move=h.extend({init:function(a){this._parent(a);this.refreshCache=
this.refreshCache.bind(this)},setOptions:function(a){a&&!a.root&&(a.root=a.container);return this._parent(a)},start:function(a){this._parent(a);this.context=Object.create(this);(!1===this.call("start")||!0===this.call("fixed",this.target))&&this.reset()},snap:function(a,b){this._parent(a,b);var f,e;e=this.options;this.handles=this.call("handles")||this.target;e.centerHandles&&k(this.handles,{x:a.x-this.handles.offsetWidth/2-b.x,y:a.y-this.handles.offsetHeight/2-b.y});this.startPosition=c.getOffsets.call(this.handles);
this.refreshCache();this.options.overlay&&(f=this.document.body||this.document,this.overlay=d.createElement("div",{styles:{position:"absolute",top:0,left:0,width:f.offsetWidth+"px",height:f.offsetHeight+"px"}}).inject(f));e.container?(e=j(e.container),f=c.getDimensions.call(this.handles),this.limit={x:[e.x,e.maxX-f.outerWidth],y:[e.y,e.maxY-f.outerHeight]}):this.limit={x:[-Infinity,Infinity],y:[-Infinity,Infinity]}},refreshCache:function(){this.zones=this.options.zones?this.getList(this.options.zones):
[this.root];this.positions=this.zones.map(function(a){var b=j(a);b.element=a;return b})},reset:function(){this._parent();this.startPosition=this.zone=null;this.overlay&&(this.overlay.destroy(),this.overlay=null)},stop:function(){this._parent();if(!this.zone||!1===this.call("drop"))this.setPosition(this.startOrigin,{x:0,y:0}),this.call("cancel");this.call("stop")},move:function(a,b){this._parent(a,b);this.setPosition(a,b);var c,d,f,e;c=0;for(d=this.positions.length;c<d;c+=1)e=this.positions[c],e.x<=
a.x&&(a.x<=e.maxX&&e.y<=a.y&&a.y<=e.maxY)&&(f=e.element);if(this.zone!==f&&(this.zone&&(this.call("leave"),this.placeholder&&(this.placeholder.remove(),this.placeholder=null)),this.zone=f))this.placeholder=this.call("enter"),this.refreshPlaceholderCache();this.zone&&this.placeholder&&this.placePlaceholder();this.call("move")},setPosition:function(a,b){var c,d,f,e,j=this.limited={},l={};for(d=0;2>d;d+=1)f=d?"x":"y",c=this.limit[f],l[f]=this.startPosition[f]+b[f],e=0,c[1]<l[f]?(e=c[1]-l[f],j[d?"right":
"bottom"]=e):c[0]>l[f]&&(e=c[0]-l[f],j[d?"left":"top"]=e),e&&(a[f]+=e,l[f]+=e,b[f]+=e);k(this.handles,l)},getList:function(a){var b=d.typeOf(a);return"array"===b?a:"function"===b?a.apply(this,Array.prototype.slice.call(arguments,1)):this.root.getElements(a)},call:function(a,b){var c=this.options[a];if(c)return g.attempt(c,0,null,this.context,b)},refreshPlaceholderCache:function(){var a,b,d,f=(this.zone||this.root).childNodes,e=[];b=0;for(d=f.length;b<d;b+=1)if(a=f[b],1===a.nodeType&&a!==this.handles&&
a!==this.placeholder&&(a.offsetHeight||a.offsetWidth)&&this.clickDiscarder!==a&&!0!==this.call("fixed",a))e[e.length]={element:a,position:c.getOffsets.call(a)};this.placeholderCache=e},placePlaceholder:function(){var a,b,d,f,e,j,k,l,p,g,n,h,r=this.context.handles,m=this.context.placeholder;b=this.context.limited;var J=this.zone||this.root,K=this.target;for(l=this.placeholderCache;K&&K.parentNode!==J;)K=K.parentNode;d=c.getOffsets.call(r);a=b.left?-Infinity:b.right?Infinity:d.x+r.offsetWidth/2;b=b.top?
-Infinity:b.bottom?Infinity:d.y+r.offsetHeight/2;f=0;for(e=l.length;f<e;f+=1)if(j=l[f],d=j.position,(n=void 0===h||h>d.x)?g=void 0===h:p=!0,h=d.x+j.element.offsetWidth,(n||d.x<=a)&&(g||d.y<=b))k=f;d=0;void 0!==k&&(j=l[k],d=j.position,d=(p?d.x+j.element.offsetWidth/2>a:d.y+j.element.offsetHeight/2>b)?k:k+1);a=l[d]&&l[d].element;l=l[d-1]&&l[d-1].element;if(K===r||!K||l!==K&&a!==K){if(a?a!==m&&a.previousSibling!==m:l?l!==m&&l.nextSibling!==m:J.lastChild!==m)a||l?m.inject(a||l,a?"before":"after"):m.inject(J),
this.refreshPlaceholderCache()}else c.isInjected.call(m)&&(m.remove(),this.refreshPlaceholderCache())}});return d.namespace("Controls/Drag",h,d)});
define("UWA/Controls/Ellipsis",["UWA/Core","UWA/Controls/Abstract"],function(d,h){var m=h.extend({defaultOptions:{reference:null,refreshOn:[],ellipsis:"&#8230;",spaces:/[\s,.:]+/g},init:function(g,e){this._parent(e);this.element=g;this.ellipsis=d.createElement("span",{html:this.options.ellipsis})},destroy:function(){this.ellipsis.destroy()},onRefresh:function(){var d,e,c,b,a,f=this.element,n=this.options.reference||f;if(f.offsetWidth){this.dispatchEvent("onPreRefresh");this.totalWords||(this.totalWords=
this.computeData(f));d=Math.floor(this.totalWords/2);e=Math.ceil(d/2)||1;f.appendChild(this.ellipsis);for(a=10;0<a;a-=1){this.setWordCount(f,d);c=n.offsetHeight+1<n.scrollHeight;if(d>=this.totalWords&&!c){f.removeChild(this.ellipsis);break}if(1===e){if(void 0!==b&&b!==c)break;b=c}d+=c?-e:e;e=Math.ceil(e/2)}c&&this.setWordCount(f,d-1);this.dispatchEvent("onPostRefresh")}return this},setWordCount:function(d,e){var c,b,a,f,n,h,k=e;if(d===this.ellipsis)return 0;d!==this.element&&(d.style.display=e?"":
"none");if(e||d===this.element)if(c=d.childNodes.length)for(n=0;n<c;n+=1)h=d.childNodes[n],3===h.nodeType?(a=d.ellipsisData[n].spaces,b=d.ellipsisData[n].original,f=a.length,h.data=!k?"":!f||f+1<=k?b:b.substr(0,a[k-1]||0),k-=Math.min(k,f+1)):1===h.nodeType&&(k-=k-this.setWordCount(h,k));else k=e-1;return k},computeData:function(d){var e,c,b,a,f,n,h,k=d.ellipsisData=[],j=d.childNodes,p=0;d=0;for(e=j.length;d<e;d+=1)if(c=j[d],3===c.nodeType){k[d]={original:n=c.data,spaces:f=n.match(this.options.spaces)||
[]};c=0;for(b=f.length;c<b;c+=1)h=n.indexOf(f[c],c?h+a:0),a=f[c].length,f[c]=h;f[b-1]+a===n.length&&f.pop();0===f[0]&&f.shift();p+=f.length+1}else 1===c.nodeType&&(p+=this.computeData(c));return p}});return d.namespace("Controls/Ellipsis",m,d)});
define("UWA/Controls/ToolTip",["UWA/Core","UWA/Event","UWA/Fx","UWA/Controls/Abstract","UWA/Element"],function(d,h,m,g,e){g=g.extend({name:"uwa-tooltip",htmlText:"",defaultOptions:{id:"uwa-tooltip",className:"",width:"auto",offsetX:16,offsetY:16,dir:"ltr",fx:!0,showOver:!0,root:null,boundaryMargin:4},init:function(c,b,a){this._parent(a);this.htmlText=b||"";this.elements={tooltipped:d.extendElement(c)};this.options.showOver&&c.addEvent("mouseover",this.dispatchAsEventListener("onShowTooltip"))},setOptions:function(c){this._parent(c);
"rtl"===this.options.dir&&(this.options.offsetX=-this.options.offsetX)},buildSkeleton:function(){for(var c,b=this.options,a=this.elements,f=e.getDocument.call(this.elements.tooltipped),g=this.getRootNode(),h=e.getChildren.call(g),k=b.id,j=0;!(c=f.getElementById(b.id),!c||0<=h.indexOf(c));)b.id=k+"-"+j++;c||(c=d.createElement("div",{id:b.id,"class":this.getClassNames(""),styles:{width:b.width,position:"absolute",display:"none"}}).inject(g));b.fx?(c.fx||(c.fx=new m(c,{duration:250,wait:!1,events:{onComplete:function(){0.5>
c.getOpacity()&&c.hide()}}})),1===c.getOpacity()&&c.setStyle("opacity",0),this.fx=c.fx):c.setStyle("opacity",1);a.tooltip=c;b.showOver&&a.tooltipped.addEvents({mousemove:this.dispatchAsEventListener("onMoveTooltip"),mouseout:this.dispatchAsEventListener("onHideTooltip")});return c},show:function(c,b){var a,f,e;a=d.is;var g=this.elements;f=this.options;e=g.tooltip;g=g.tooltipped;e||(e=this.buildSkeleton());e.setContent(this.htmlText);this.visible||(e.show(),f.fx&&this.fx.fade("in"));this.tooltipSize=
e.getDimensions();this.visible=!0;if(!a(c)||a(c,"string")||a(c,"object")&&a(c.x,"string")&&a(c.y,"string"))if(c=g.getPosition(!1,c),b)for(a=0;2>a;a+=1)f=a?"x":"y",e=a?"width":"height",c[f]-=this.tooltipSize[e]/2;this.setPosition(c);return this},hide:function(){this.visible&&(this.options.fx?this.fx.fade("out"):this.elements.tooltip.hide());this.visible=!1;return this},toggle:function(){this.visible?this.hide():this.show()},setPosition:function(c){var b=this.options;this.elements.tooltip.setPosition(c,
{boundary:"auto",boundaryMargin:b.boundaryMargin,relative:document.body,fit:function(a,c){var d,g,k,j="rtl"===b.dir,p=e.getSize.call(this);p.width+=b.offsetX;p.height+=b.offsetY;d=c.x-a.x;g=a.x+a.width-c.x;k=c.y-a.y;c.y=a.y+a.height-c.y>=p.height||k<p.height?c.y+b.offsetY:c.y-p.height;c.x=(j?d>=p.width||g<p.width:!(g>=p.width||d<p.width))?c.x-p.width:c.x+b.offsetX}})},onShowTooltip:function(c){this.show();this.setPosition(h.getPosition(c),c)},onMoveTooltip:function(c){this.setPosition(h.getPosition(c),
c)},onHideTooltip:function(){this.hide()},getRootNode:function(){return this.options.root||this.elements.tooltipped.getOffsetParent()}});return d.namespace("Controls/ToolTip",g,d)});
define("UWA/Controls/EmbedToolTip","UWA/Core UWA/Class/Timed UWA/Event UWA/Controls/ToolTip UWA/Element UWA/Utils/Client".split(" "),function(d,h,m,g,e){h=g.extend(h,{defaultOptions:{id:"uwa-embedToolTip",className:"uwa-embedToolTip",width:100,overDelay:1E3,margin:5},show:function(){var c=this.elements,b=this._parent,a;c.tooltip||this.buildSkeleton();this.setDelayed("showEmbedToolTip",function(){this._tooltippedSize=e.getSize.call(c.tooltipped);this._originalStyle=e.getStyles.call(c.tooltipped,["z-index",
"position"]);a=parseInt(this._originalStyle["z-index"],10)+100||1E3;e.setStyles.call(c.tooltipped,{zIndex:String(a),position:"relative"});e.setStyles.call(c.tooltip,{zIndex:String(a-1),paddingBottom:this._tooltippedSize.height+this.options.margin,width:Math.max(this.options.width,this._tooltippedSize.width)});b.call(this);c.tooltip.show();this.setPosition()},this.options.overDelay)},hide:function(){this._parent();this.clearDelayed("showEmbedToolTip");this.options.fx||e.setStyles.call(this.elements.tooltipped,
this._originalStyle)},setPosition:function(){this.elements.tooltip.setPosition({x:-this.options.margin,y:-this.elements.tooltip.getSize().height+(this._tooltippedSize?this._tooltippedSize.height:this.elements.tooltipped.getSize().height)+this.options.margin},{relative:this.elements.tooltipped})},fxCompleted:function(){this._parent();this.options.fx&&!this.visible&&e.setStyles.call(this.elements.tooltipped,this._originalStyle)}});return d.namespace("Controls/EmbedToolTip",h,d)});
define("UWA/Controls/FeedView","UWA/Core UWA/Class UWA/Event UWA/Controls/Abstract UWA/Controls/Ellipsis UWA/Controls/Scroller UWA/Controls/Pager".split(" "),function(d,h,m,g,e,c,b){g=g.extend({defaultOptions:{nbItems:10,showDate:!0,messages:{noItem:"There is no news in this feed.",loadMore:"Load more news.",websiteLink:"Go to website",readMore:"Read more"},images:{loader:d.hosts.uwa+d.paths.css+"base/img/loader.gif",image:d.hosts.uwa+d.paths.css+"base/img/article.png"},scroller:{lockDirection:!0,
momentum:!0,bounce:!0},pager:{type:0,showMoreLink:!0}},pagerPosition:"bottom",scrollPosition:"top",itemPerPage:0,init:function(a){this._parent(a);this.itemsEllipsis=[];this.itemsImages={loaded:[],loading:[],waiting:[],maxLoading:2};this.buildSkeleton()},buildSkeleton:function(){var a=this.pagerPosition;this.container=d.createElement("div",{"class":"uwa-feedview content uwa-feedview-"+this.viewName.replace(/ /g," uwa-feedview-"),events:{resize:this.dispatchAsEventListener("onResize"),mousedown:this.dispatchAsEventListener("onMouseDown")}});
this.buildItems();this.buildScroller();a&&(-1!==["top","both"].indexOf(a)&&this.buildPager("top"),-1!==["bottom","both"].indexOf(a)&&this.buildPager("bottom"));return this.container},buildItems:function(){var a=this.options.messages,b=this.elements;b.item=[];b.items=d.createElement("div",{"class":"items"});b.itemsActions=d.createElement("div",{"class":"actions",html:[{tag:"div","class":"loadMore action",html:{tag:"a",href:"#",text:d.i18n(a.loadMore)},styles:{display:"none"}},{tag:"div","class":"noItem action",
text:d.i18n(a.noItem),styles:{display:"none"}},{tag:"div","class":"websiteLink action",html:{tag:"a",href:"#",text:d.i18n(a.websiteLink)},styles:{display:"none"}}]}).inject(b.items);b.items.inject(this.container);return b.items},buildScroller:function(){var a=this,b=a.elements,e=d.merge({events:{onRefresh:function(){a.refreshPager();a.loadItemsImages()},onScrollEnd:function(){a.loadItemsImages()}}},a.options.scroller);b.scrollarea=d.createElement("div",{"class":"scrollarea"}).grab(b.items).inject(a.container,
"top");a.scroller=new c(a.elements.items,e)},setScrollerHeight:function(a){this.pager&&(a-=this.pager.getContent().getDimensions().outerHeight);this.elements.top&&(a-=this.elements.top.getDimensions().outerHeight);this.elements.scrollarea?this.elements.scrollarea.setStyle("height",a+"px"):this.container.setStyle("height",a+"px");this.refreshScroller()},refreshScroller:function(){var a=this.scroller;a&&a.dispatchEvent("onRefresh")},buildPager:function(a){var c=this,e=d.merge({events:{onOffsetChange:function(a){var b=
c.options.source.getItems();c.showItem(b[a])}}},c.options.pager);c.pager=new b(e);c.pager.inject(c.container,a)},refreshPager:function(){var a,b,c,d=this.pager,e=this.options.source;d&&(a=e.getItems(),c=this.getItemsPerPage(),b=a.indexOf(this.currentItem),d.options.moreLink=e.getLink(),d.setLength(a.length),d.setLimit(c),d.setOffset(-1===b?0:b),d.dispatchEvent("onRefresh"))},getItemsPerPage:function(){var a,b,c=0,d=this.elements.item;a=0;for(b=d.length;a<b;a++)this.scroller.isInViewport(d[a])&&c++;
return this.itemPerPage=c},buildItem:function(a){var b,c=this.options;b=c.source.isItemRead(a);c=c.showDate&&a.date?a.date.toString().parseRelativeTime():!1;b=d.createElement("div",{"class":"item "+(b?"read":"unread"),html:{tag:"div","class":"content",html:{tag:"div","class":"infos",html:[{tag:"div","class":"title",html:[{tag:"a","class":"link ellipsis",href:a.link,html:a.title.stripTags()},{tag:"div","class":"separator"}]},c&&{tag:"div","class":"date",html:[{tag:"span",html:c},{tag:"div","class":"separator"}]}]}},
events:{click:this.dispatchAsEventListener("onItemClick",a)}});this.addEllipsis({reference:b.getElement(".content"),element:b.getElement(".ellipsis")});b.setData("href",a.link);b.setData("item-index",a.index);return b},getItem:function(a){var b=a.index,c=this.elements.item;c[b]||(c[b]=this.buildItem(a));return c[b]},getItems:function(a){return a.map(this.getItem,this)},refreshItems:function(){var a=this.options.source.getItems();this.injectItems(a)},injectItems:function(a){var b=this.getItems(a),
c=b.length,d=this.elements,e=this.options,j=e.source,p=j.getItems().length,l=j.hasMore(d.items.length);j.getLink();d.itemsActions.getElement(".loadMore").toggle(l);d.itemsActions.getElement(".noItem").toggle(!p);b=b.splice(0,e.nbItems);b.push(d.itemsActions);b.forEach(function(a,b){0===b?a.addClassName("first"):b===c-1&&a.addClassName("last");a.addClassName(0===b%2?"odd":"even")});d.items.addContent(b);!this.currentItem&&a[0]&&this.showItem(a[0])},showItem:function(a){var b=this.currentItem,c=this.options.source;
b!==a&&(b&&this.getItem(b).removeClassName("active"),this.getItem(a).removeClassName("unread").addClassName("read").addClassName("active"),c.setItemRead(a),this.currentItem=a,this.scroller&&this.scroller.scrollToElement(this.getItem(a),this.scrollPosition))},loadMore:function(a){var b=this.options,c=b.source.getLoaded();a=a||b.nbItems;this.injectItems(c.splice(this.elements.items.length,a))},destroy:function(){this.container&&this.container.destroy()},addEllipsis:function(a){this.itemsEllipsis.push(a)},
loadEllipsis:function(){var a,b,c,d=this.itemsEllipsis;a=0;for(b=d.length;a<b;a++)c=d[a],c.ellipsis||(c.ellipsis=new e(c.element,{reference:c.element.getParent()}));this.refreshEllipsis()},refreshEllipsis:function(){var a,b,c,d=this.itemsEllipsis;a=0;for(b=d.length;a<b;a++)c=d[a],c.ellipsis&&c.ellipsis.dispatchEvent("onRefresh")},resizeItemImage:function(a){var b,c,d,e,j,p,l=a&&a.getElement("img");if((a=l&&l.getParent())&&0<a.offsetWidth&&a.isInjected())e={width:"auto",height:"auto",marginTop:0,marginLeft:0},
l.setStyles(e),c=l.offsetWidth,d=l.offsetHeight,b=a.offsetWidth,a=a.offsetHeight,p=b/a,j=c/d,this.options.images.loader===l.src&&(b>c||a>d)?(e.marginLeft=b/2-c/2+"px",e.marginTop=a/2-d/2+"px"):p<j?(e.height="100%",e.marginLeft=-(a*j-b)/2+"px"):(e.width="100%",e.marginTop=-(b/j-a)/2+"px"),l.setStyles(e)},buildItemImage:function(a,b){var c=this.options.images,e=c[b],k=a[b]||e,j=d.createElement("img"),p=d.createElement("div",{"class":"image",html:{tag:"a",title:a.title.stripTags(),href:a.link,html:j}}),
l=this.resizeItemImage.bind(this,p);this.addItemImage({item:a,container:p,src:k,onLoad:function(){j.setAttribute("src",k);l()},onError:function(){j.setAttribute("src",e);l()},onLoading:function(){j.setAttribute("src",c.loader);l()}});return p},addItemImage:function(a){this.itemsImages.waiting.push(a)},loadItemsImages:function(){var a,b,c,d=[],e=this.itemsImages;a=0;for(b=e.waiting.length;a<b;a++)c=e.waiting[a],(c.item===this.currentItem||this.scroller.isInViewport(c.container,!0))&&d.push(c);a=0;
for(b=d.length;a<b;a++)this.loadItemImage(d[a])},loadItemImage:function(a){var b,c=this,e=c.itemsImages,k=function(){var b,d,f,k=[];b=e.loading.indexOf(a);-1!==b&&e.loading.splice(b,1);b=e.loaded.indexOf(a);if(-1===b){e.loaded.push(a);b=0;for(d=e.waiting.length;b<d;b++)f=e.waiting[b],a.src===f.src&&(k.push(f),e.loaded.push(f));b=0;for(d=k.length;b<d;b++)c.loadItemImage(k[b])}};b=e.waiting.indexOf(a);-1!==b&&e.waiting.splice(b,1);-1!==e.loaded.indexOf(a)?(a.onLoad(),k()):(a.onLoading(),e.loading.push(a),
d.createElement("img",{styles:{display:"none"},events:{load:function(){a.onLoad();this.destroy();k()},error:function(){a.onError();this.destroy();k()}}}).inject(document.body).setAttribute("src",a.src))},onPostInject:function(){this.refreshItems()},onResize:function(){this.itemPerPage=0;this.refreshScroller()},onItemClick:function(a,b){b&&this.showItem(b)&&m.stop(a);this.refreshPager()},onMouseDown:function(a){m.preventDefault(a)}});g.Full=g.extend({buildItem:function(a){var b,c=this._parent(a);b=
c.getElement(".content");b=d.createElement("div",{"class":"description ellipsis",html:{tag:"div",html:a.content.stripTags()}}).inject(b);this.addEllipsis({reference:b,element:b.getElement("div")});this.buildItemImage(a,"image").inject(c,"top");return c}});g.Presentable=g.Full.extend({presentedItem:null,buildSkeleton:function(){return this._parent().grab(this.buildItemTop(),"top")},buildItemTop:function(){this.elements.top=d.createElement("div",{"class":"top",html:{tag:"div","class":"actions",html:{tag:"div",
"class":"readMore action",html:{tag:"a",text:d.i18n(this.options.messages.readMore)}}}});return this.elements.top},showItem:function(a){var b,c=this.elements.top;this._parent(a);if(!this.presentedItem||this.presentedItem.getData("item-index")!==a.index)return this.presentedItem&&this.presentedItem.remove(),b=this.buildItem(a),b.inject(c,"top"),c.getElement(".readMore").getElement("a").setAttribute("href",a.link),this.presentedItem=b,this.loadItemsImages(),!0}});g.Adapter={};g.Adapter.Abstract=h.extend({init:function(a){this.object=
a},hasMore:function(){return!1},isItemRead:function(){return!1},setItemRead:function(){return!1},getItems:function(){return[]},getLink:function(){return null}});g.Adapter.Feed=g.Adapter.Abstract.extend({getItems:function(){return this.object.getItems()},isItemRead:function(a){return this.object.isItemRead(a.index)},setItemRead:function(a){return this.object.setItemRead(a.index)},getLink:function(){return this.object.getLink()}});return d.namespace("Controls/FeedView",g,d,!0)});
define("UWA/Controls/FlashPlayer","UWA/Core UWA/Utils/Client UWA/Event UWA/Element UWA/Controls/Abstract UWA/Controls/Flash".split(" "),function(d,h,m,g,e,c){e=e.extend({className:"uwa-flashplayer",defaultOptions:{flashVars:"",flashUrl:"",width:"",height:"",wmode:"opaque",aspectRatio:1.3,showToolbar:!0,showFullScreenLink:!0},isFullScreen:!1,init:function(b){this._parent(b);this.buildSkeleton()},buildSkeleton:function(){var b=this.elements;b.container=d.createElement("div",{"class":this.className,
align:"center"});b.container.hide()},buildLinks:function(b,a){var c=this.options,e=this.elements;e.links=d.createElement("p",{align:"center"});c.showFullScreenLink&&(d.createElement("a",{href:"#flashPlayer-FullScreen",text:d.i18n("Full screen"),events:{click:function(a){m.stop(a);this.toogleFullScreenMode(!0)}.bind(this)}}).inject(e.links),e.links.appendText(" | "));b&&a&&(d.createElement("a",{href:b,rel:"external",html:a.stripTags()}).inject(e.links),e.links.appendText(" | "));d.createElement("a",
{href:"#flashPlayer-Close",html:"<strong>"+d.i18n("Close Video")+"</strong>",events:{click:function(a){m.stop(a);this.hide()}.bind(this)}}).inject(e.links);e.links.inject(e.container)},toogleFullScreenMode:function(b){b=b?!0:!1;var a=h.getSize(),c=this.elements;b?(this.isFullScreen=!0,window.scrollTo(0,0),g.setStyle.apply(document.body,["overflow","hidden"]),c.fullScreenContainer=d.createElement("div",{align:"center",styles:{backgroundColor:"#000",position:"absolute",top:0,left:0,width:a.width+"px",
height:a.height+"px"}}).inject(document.body),c.flashObject.inject(c.fullScreenContainer),this.buildCloseFullScreenButton()):(this.isFullScreen=!1,c.flashObject.inject(c.flashContainer,"top"),c.fullScreenCloseButton.remove(),c.fullScreenContainer.remove(),g.setStyle.apply(document.body,["overflow",""]));this.onResize()},buildCloseFullScreenButton:function(){var b=this.elements;b.fullScreenCloseButton=d.createElement("input",{type:"button",value:d.i18n("Close FullScreen"),styles:{position:"absolute",
top:"2px",right:"2px"}}).inject(b.fullScreenContainer);h.Engine.ie&&6<h.Engine.version&&(b.fullScreenCloseButton.style.width=b.fullScreenCloseButton.value.length+"em");b.fullScreenCloseButton.addEvent("click",function(a){m.stop(a);this.toogleFullScreenMode(!1)}.bind(this))},show:function(b,a,e){e&&this.setOptions(e);e=this.options;var g=this.elements;if(b||a)e.flashUrl=b,e.flashVars=a;/\.flv$/.test(e.flashUrl)&&(e.flashVars="flv="+encodeURIComponent(e.flashUrl)+"&showplayer=autohide&autoplay=1&showvolume=1&showtime=1",
e.flashUrl=d.hosts.uwa+d.paths.img+"flash/player_flv.swf");h.Engine.ie&&-1!==e.flashUrl.indexOf("?")&&(e.flashUrl+="&"+Math.round(100*Math.random()));g.container.empty();g.flashControl=(new c({url:e.flashUrl,width:e.width,height:e.height,flashVars:e.flashVars,wmode:e.wmode,styles:{width:e.width,height:e.height}})).inject(g.container);g.flashContainer=g.flashControl.elements.container;g.flashObject=g.flashControl.getFlashContainer();e.showToolbar&&this.buildLinks(e.mediaLinkUrl,e.mediaLinkText);g.container.show();
this.onResize()},hide:function(){var b=this.elements;b.container&&(b.container.empty(),b.container.hide())},onResize:function(){var b,a,c=this.elements;a=this.options;var d=h.getSize();this.isFullScreen&&c.fullScreenContainer.setStyles({height:d.height+"px",width:d.width-h.getScrollbarWidth()+"px","z-index":1});c.flashObject&&(b=c.flashObject.getParent().getDimensions(),b=a.width?a.width:b.innerWidth,a=a.height?a.height:Math.min(d.height,b/a.aspectRatio),c.flashObject.setStyles({height:a+"px",width:b+
"px"}),c.flashObject.setAttribute("height",a),c.flashObject.setAttribute("width",b))}});return d.namespace("Controls/FlashPlayer",e,d)});
define("UWA/Controls/Overlay",["UWA/Core","UWA/Fx","UWA/Controls/Abstract"],function(d,h,m){m=m.extend({className:"uwa-overlay",defaultOptions:{exclusive:!0,closeable:!0,className:"",fxOptions:{},resizeParent:!1},init:function(g){this._parent(g);this.buildSkeleton();this.fx=new h(this.elements.container,d.merge({wait:!1,events:{onComplete:this.onFxComplete.bind(this)}},this.options.fxOptions))},buildSkeleton:function(){var g=this.elements.container=d.createElement("div",{"class":this.className+" "+
this.options.className});g.overlay=this;this.options.closeable&&g.addClassName("closeable").addEvent("click",this.close.bind(this))},closeOverlays:function(){var d,e,c;if(this.options.exclusive){c=this._parentElement.getElements("."+this.className);d=0;for(e=c.length;d<e;d++)c[d].overlay&&c[d].overlay!==this&&c[d].overlay.close()}},onFxComplete:function(){var d=this.opening,e=this.elements.container;d||(this.options.resizeParent&&this.resize(!0),e.remove());this.dispatchEvent(d?"onOpen":"onClose",
[e]);this.opening=null},isOpen:function(){return!!this.elements.container.getParent()&&!1!==this.opening},open:function(){return this.toggle(!0)},close:function(){return this.toggle(!1)},toggle:function(d){var e=this.elements.container,c=this._parentElement,b=this.isOpen();if(void 0===d)d=!b;else if(d===b)return;if(d&&!c)throw Error("Can't open overlay before injecting it");this.dispatchEvent(d?"onPreOpen":"onPreClose",[e]);this.opening=d;this.fx&&this.fx.fade(d?"in":"out");d&&(this.closeOverlays(),
e.inject(c),this.options.resizeParent&&this.resize());if(!this.fx)this.onFxComplete();return this},resize:function(d){var e;this.options.resizeParent&&(e=this.getContent().getOffsetParent(),d?e.setStyle("height",""):(d=this.getContent().getScrolls().height,e.getDimensions().height<d&&e.setStyle("height",d)))},inject:function(d){this._parentElement=d;return this},destroy:function(){this._parentElement=null;this._parent()}});return d.namespace("Controls/Overlay",m,d)});
define("UWA/Controls/Lightbox",["UWA/Core","UWA/Controls/Overlay"],function(d,h){var m=h.extend({getInnerElement:function(){return this.elements.container},setContent:function(d){this.getInnerElement().setContent(d);return this},addContent:function(d){this.getInnerElement().addContent(d);return this}});return d.namespace("Controls/Lightbox",m,d)});
define("UWA/Controls/Map",["UWA/Core","UWA/Controls/Abstract","UWA/Class/Timed"],function(d,h,m){var g=h.extend(m,{id:null,api:null,map:null,defaultOptions:{width:320,height:240,className:"uwa-map",api:{zoom:15}},init:function(e){this._parent(e);this.id=Math.round(1E5*Math.random());this.apiCallbacks=[];!g.States.apiLoading&&!g.States.apiLoaded&&(g.States.apiLoading=!0,d.createElement("script",{type:"text/javascript",src:"https://maps.google.com/maps/api/js?sensor=false&callback=UWA.Controls.Map.onApiLoad"}).inject(document.body));
this.setPeriodical("checkLoad",function(){g.States.apiLoaded&&(this.clearPeriodical("checkLoad"),this.onApiReady())},100);this.buildSkeleton()},buildSkeleton:function(){var e=this.options;this.elements.container=d.createElement("div",{id:"map_canvas"+this.id,"class":e.className,styles:{height:e.height+"px",width:e.width+"px"},events:{resize:this.dispatchEvent.bind(this,"onResize")}})},callApi:function(d){g.States.apiLoaded?d.call(this,this.api,this.map):this.apiCallbacks.push(d)},setPosition:function(d){this.callApi(function(){this.map.setCenter(new this.api.LatLng(d.coords.latitude,
d.coords.longitude))}.bind(this))},addMarker:function(d,c,b){var a=this;this.callApi(function(){var f=a.api,g=a.map,h=new f.InfoWindow({content:b});a.marker=new f.Marker({position:new f.LatLng(d.coords.latitude,d.coords.longitude),map:g,title:c});f.event.addListener(a.marker,"click",function(){h.open(g,a.marker)})})},onApiReady:function(){var e=this.options,c=this.elements;this.api=google.maps;this.map=new this.api.Map(c.container,d.extend({mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},
navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.HYBRID},e.api));this.dispatchEvent("onLoad");this.apiCallbacks.length&&(this.apiCallbacks.invoke("call",this,this.api,this.map),this.apiCallbacks.length=0)},onLoad:function(){},onResize:function(){this.setDelayed("resize",function(){this.map&&this.api&&this.api.event.trigger(this.map,"resize")},500)}});g.States={apiLoading:!1,apiLoaded:!1};g.onApiLoad=function(){g.States.apiLoading=
!1;g.States.apiLoaded=!0};return d.namespace("Controls/Map",g,d)});
define("UWA/Controls/Notify",["UWA/Core","UWA/Controls/Abstract","UWA/Event","UWA/Fx"],function(d,h,m,g){h=h.extend({defaultOptions:{className:"",showOnInject:!0,closeOnClick:!0,transition:"quadOut",duration:500,fx:!0,from:"top",to:"bottom",max:0},messages:null,init:function(d){this.messages=[];this._parent(d);this.options.messages&&this.addMessage(this.options.messages);this.buildSkeleton()},buildSkeleton:function(){var e=this.elements,c=this.options;e.container=d.createElement("div",{"class":"uwa-notify",
events:{resize:this.dispatchAsEventListener("onResize")}});c.className&&e.container.addClassName(c.className)},showMessage:function(d){var c,b=this.messages;d?(d=b.indexOf(d),d=-1<d?b.splice(d,1)[0]:!1):d=b.shift();d&&(c=this.injectItem(d));return c},addMessage:function(d,c){this.messages.push(d);c&&this.showMessage(d)},addMessages:function(d){var c=this;d.forEach(function(b){c.messages.push(b)})},getItems:function(){return this.getContent().getElements(".uwa-notify-item")},injectItem:function(e){var c,
b=this,a=b.options,f=b.getContent(),n=b.getItems(),h=f.getOffsetParent().getDimensions(),k=0,j={},p={};c=d.createElement("div",{"class":"uwa-notify-item",html:{tag:"div","class":"uwa-notify-msg",html:[{tag:"div","class":"uwa-notify-header"},{tag:"a","class":"uwa-notify-close",text:"\u00d7",href:"#close"},{tag:"div","class":"uwa-notify-body",html:e},{tag:"div","class":"uwa-notify-footer"}]},styles:{visibility:"hidden",zIndex:String(100-n.length)}});c.addEvent("click",function(a){var d="onClick";m.getElement(a).hasClassName("uwa-notify-close")&&
(d="onClose");b.dispatchEvent(d,[a,c])});n.forEach(function(a){k+=a.getDimensions().outerHeight});c.inject(f);b.updateItems();c.getPosition();e=c.getDimensions();"top"===a.to?p.top=k+"px":"bottom"===a.to&&(p.top=h.innerHeight-e.outerHeight-k+"px");j.top="top"===a.from?-e.outerHeight+"px":e.outerHeight+h.outerHeight+"px";c.setStyles({left:h.innerWidth/2-e.width/2+"px",visibility:"visible"});a.fx?(a.fade&&(j.opacity=0,p.opacity=1),c.setStyles(j),(new g(c,{transition:a.transition,duration:a.duration,
events:{onStart:function(){c.addClassName("moving")},onComplete:function(){c.removeClassName("moving")}}})).start(p)):c.setStyles(p);return c},updateItems:function(){var d=this.options,c=this.getContent(),b=this.getItems(),a=c.getOffsetParent().getDimensions(),f=0;b.forEach(function(b){var c,k=b.getDimensions();"top"===d.to?c=f:"bottom"===d.to&&(c=a.innerHeight-k.outerHeight-f);f+=k.outerHeight;b.hasClassName("moving")||b.setStyles({left:a.innerWidth/2-k.width/2+"px",top:c+"px"})})},onPostInject:function(){this.options.showOnInject&&
this.showMessage()},onResize:function(){this.updateItems()},onClose:function(d,c){var b=this;m.stop(d);c.hasClassName("closing")||(new g(c,{events:{onStart:function(){c.addClassName("closing")},onComplete:function(){c.destroy();b.updateItems()}}})).fade("out")},onClick:function(d,c){var b=m.getElement(d);(this.options.closeOnClick||b.hasClassName("uwa-notify-close"))&&this.dispatchEvent("onClose",[d,c])}});return d.namespace("Controls/Notify",h,d)});
define("UWA/Controls/SearchForm","UWA/Core UWA/Utils/Client UWA/Json UWA/Event UWA/Class/Timed UWA/Controls/Abstract".split(" "),function(d,h,m,g,e,c){h=c.extend(e,{name:"uwa-searchform",defaultOptions:{searchText:"",faviconUrl:"",submitButton:"button",className:"nv-search",showCheckbox:!1,showHistory:!1,allowEmpty:!1,dir:"ltr",limit:10},init:function(b){this.historyList=[];this._parent(b);this.buildSkeleton();this.options.faviconUrl&&this.setFavicon(b.faviconUrl);this.options.searchText&&this.setSearchText(b.searchText)},
setOptions:function(b){b=b||{};b.searchHistory&&(b.showHistory=!0);this._parent(b)},setInitialState:function(b,a){this.setFavicon(b);this.setSearchText(a);this.setCheckboxState(a)},buildSkeleton:function(){var b,a;a=d.i18n;var c=this.options,e=this.elements;b=d.createElement("div",{"class":"search "+this.getClassNames()});e.form=d.createElement("form",{events:{submit:this.dispatchAsEventListener("onSubmitByHistoryLink")}}).inject(b);e.favicon=d.createElement("img",{"class":"favicon",src:d.hosts.uwa+
d.paths.css+"base/img/s.gif",width:16,height:16,styles:{display:"none"}}).inject(e.form);e.inputSearch=d.createElement("input",{"class":"search",type:"text",value:"",events:{focus:this.dispatchAsEventListener("onFocusSearch"),blur:this.dispatchAsEventListener("onBlurSearch"),click:this.dispatchAsEventListener("onClickSearch"),keypress:this.dispatchAsEventListener("onSearchKeyPress")}}).inject(e.form);e.resetButton=d.createElement("img",{"class":"clear",alt:a("Clear"),title:a("Clear"),src:d.hosts.uwa+
d.paths.css+"base/img/clear.gif",events:{click:this.dispatchAsEventListener("onResetSearch")},styles:{display:"none"}}).inject(e.form);a=!c.submitButton||"string"===typeof c.submitButton?"icon"===c.submitButton?d.createElement("a",{"data-icon":"U","class":"uwa-icon uwa-icon-only",alt:d.i18n("Search"),events:{click:this.dispatchAsEventListener("onSubmitByHistoryLink")}}):d.createElement("input",{type:"submit",value:d.i18n("Search")}):c.submitButton;e.form.addContent(a);e.form.lastChild.addClassName("submit");
c.showCheckbox&&(e.checkbox=d.createElement("input",{"class":"check",type:"checkbox",title:c.checkboxTitle||"",value:"",events:{click:this.dispatchAsEventListener("onToggleSearch")}}).inject(e.form),"rtl"===c.dir?e.checkbox.setStyle("left","5px"):e.checkbox.setStyle("right","5px"));this.inputSearch=e.inputSearch;this.form=e.form;this.container=b},buildHistoryBox:function(){var b=this,a=b.elements,c=a.inputSearch,e=c.getSize(),h=b.getSearchText(),k=b.historyList,j=d.createElement("ul",{"class":"uwa-popup-menu",
events:{click:function(a){g.stop(a);var c=d.Event.getElement(a).getText();b.setSearchText(c);b.dispatchEvent("onSubmitByHistoryLink",[a])}}});k.forEach(function(a){h!==a&&b.getHistoryBoxItem(a).inject(j)});d.createElement("li",{"class":"uwa-popup-menu-item action",html:{tag:"a",text:d.i18n("Clear recent searches"),events:{click:function(a){g.stop(a);b.clearHistory()}}}}).inject(j);j.inject(a.form);j.setStyles({width:e.width-c.getComputedSize("borderWidth")+"px"});j.setPosition({x:0,y:e.height-c.getComputedSize("borderWidth")},
{relative:c});a.historyBox=j},getHistoryBoxItem:function(b){return d.createElement("li",{"class":"uwa-popup-menu-item",html:{tag:"a",href:"#history:"+b,html:{tag:"span",text:b}}})},setFavicon:function(b,a){var c=this.elements.favicon;c.src=b;c.alt=c.title=a;c[b&&b.length?"show":"hide"]()},setSearchText:function(b){var a=this.elements,c=a.resetButton;a.inputSearch.value=b||"";c[b&&b.length?"show":"hide"]();this.addHistory(b)},getSearchText:function(){return this.elements.inputSearch.value},setCheckboxState:function(b){var a=
this.elements.checkbox;a&&(b?(a.setAttribute("checked","checked"),a.defaultChecked=!0):(a.setAttribute("checked",""),a.defaultChecked=!1))},getCheckboxState:function(){var b=this.elements.checkbox;return b&&"checked"===b.getAttribute("checked")},setHistoryString:function(b){var a=[];if(d.is(b,"string"))try{b=m.decode(b)||b}catch(c){}d.is(b,"array")?a=b:d.is(b)&&(a=String(b).split(":"));a.forEach(this.addHistory,this)},getHistoryString:function(){return m.encode(this.historyList)},addHistory:function(b){var a=
this.historyList,c=a.indexOf(b);d.is(b,"string")&&0<b.length&&(-1<c&&a.splice(c,1),a.unshift(b),a.length>this.options.limit&&a.pop(),this.dispatchEvent("updateHistory"))},clearHistory:function(){this.historyList=[];this.dispatchEvent("updateHistory");this.hideHistory()},hideHistory:function(){this.elements.historyBox&&this.elements.historyBox.destroy();this.elements.historyBox=null},showHistory:function(){var b=this.historyList,a=this.getSearchText();this.options.showHistory&&(1<b.length||1===b.length&&
b[0]!==a)&&this.buildHistoryBox()},toggleHistory:function(){this.options.showHistory&&(this.elements.historyList?this.hideHistory():this.showHistory())},onSubmitSearch:function(b,a){this.hideHistory();this.setSearchText(b);this.dispatchEvent("submit",[b,a])},onSubmitByHistoryLink:function(b){g.stop(b);b=this.getSearchText();var a="onSubmitSearch";0===b.trim().length&&!this.options.allowEmpty&&(a="onResetSearch");this.dispatchEvent(a,[b,this.getCheckboxState()])},onResetSearch:function(){this.hideHistory();
this.setSearchText("");this.dispatchEvent("reset")},onToggleSearch:function(){this.dispatchEvent("toggle")},onFocusSearch:function(){this.dispatchEvent("focus");this.clearDelayed("onBlurSearch")},onBlurSearch:function(){this.options.showHistory&&this.setDelayed("onBlurSearch",this.hideHistory,500,!1,this);this.dispatchEvent("blur")},onClickSearch:function(){this.options.showHistory&&this.toggleHistory()},onSearchKeyPress:function(){this.options.showHistory&&this.hideHistory()}});return d.namespace("Controls/SearchForm",
h,d)});
define("UWA/Controls/StackedColumn",["UWA/Core","UWA/Element","UWA/Controls/Segmented","UWA/Controls/ToolTip"],function(d,h,m,g){m=m.extend({defaultOptions:{spacer:0.5,showText:!0,hoverColors:null,minHeight:10,className:"uwa-stackedColumn"},init:function(d){this.total=0;this._parent(d);this.options.hoverColors&&this.baseEvents()},addItem:function(d,c){var b=this;this._parent(d,c);this.total+=c.value;this.updatePourcents();this.elements.items[d].addEvent("click",function(){b.dispatchEvent("onClick",
[d,c,this])});h.addEvent.call(this.elements.items[d],"mouseenter",function(){b.dispatchEvent("onMouseOver",[d,c,this])});h.addEvent.call(this.elements.items[d],"mouseleave",function(){b.dispatchEvent("onMouseOut",[d,c,this])});this.options.toolTip&&this.options.toolTip.formatter&&new g(this.elements.items[d],this.options.toolTip.formatter(c.raw,c.raw.type),{width:this.options.toolTip.width||120,fx:!1})},updatePourcents:function(){var d,c=this.elements.items;for(d in c)c.hasOwnProperty(d)&&this.updateItem(d,
c[d])},updateItem:function(d,c){var b=this.options.data[d],a=100*(b.value/this.total),f=a;c.setStyle("background-color",b.background);c.hasClassName(this.options.className+"-item-last")||c.setStyle("margin-right",this.options.spacer+"%");f=a-this.options.spacer;c.setStyle("width",f+"%");c.empty();this.options.showText?c.setHTML('<p>{0}<span class="pourcent">{1}%</span></p>'.format(b.text,Math.round(a))):c.setStyle("height",this.options.minHeight+"px")},updateItemColor:function(d,c){this.options.data[d]&&
(this.options.data[d].background=c,this.elements.items[d].setStyle("background-color",c))},toggleItemColor:function(d,c){this.elements.items[d].getStyle("background-color").toLowerCase()===this.options.data[d].background.toLowerCase()?this.elements.items[d].setStyle("background-color",c):this.elements.items[d].setStyle("background-color",this.options.data[d].background)},getItemInfo:function(d){return{config:this.options.data[d],dom:this.elements.items[d]}},baseEvents:function(){this.addEvents({onMouseOver:this.toggleBgColors,
onMouseOut:this.toggleBgColors})},toggleBgColors:function(d){var c=this.findColor(this.options.data[d]);c&&this.updateItemColor(d,c)},findColor:function(d){var c,b,a=this.options.hoverColors;for(c in a)if(a.hasOwnProperty(c))if(c===d.background){b=a[c];break}else if(a[c]===d.background){b=c;break}return b}});return d.namespace("Controls/StackedColumn",m,d)});
define("UWA/Controls/TabView","UWA/Core UWA/Utils/Client UWA/Event UWA/Element UWA/Controls/Abstract UWA/Controls/Carousel".split(" "),function(d,h,m,g,e,c){var b=e.extend({defaultOptions:{element:null,selectedTab:null,className:"",classNames:{tabView:"uwa-tabview",tabList:"uwa-tablist",tabPanels:"uwa-tabview-panel",tabPanel:"uwa-tab-panel",tab:"uwa-tab",selected:"selected",disabled:"disabled"},scroller:{scrollSize:1,nextButton:null,previousButton:null},tabScroller:!1,tabSelector:".uwa-tab",allowReload:!1,
noContent:!1},tabs:null,selectedTab:null,init:function(a){this._parent(a);this.tabs=[];this.selectedTab=null;this.buildContainer();this.initEvents();d.is(this.options.tabs,"array")&&(this.options.tabs.forEach(this.addTab,this),delete this.options.tabs);(this.options.tabScroller||this.options.scroller.nextButton||this.options.scroller.previousButton)&&this.createScroller()},addTab:function(a,c){var e;!1===a instanceof b.Tab&&(a=new b.Tab(a));a.setOption("classNames",this.options.classNames);d.is(c,
"number")&&c+1<this.tabs.length&&0<=c?(a.tabElement().inject(this.getTab(c).tabElement(),"before"),this.tabs.splice(c,0,a)):(this.elements.tabList.grab(a.tabElement()),this.tabs.push(a));this.elements.contentNode&&(e=a.contentElement())&&this.elements.contentNode.grab(a.contentElement());a.options.selected&&this.selectTab(a);this.onResize();this.dispatchEvent("onAddTab",[a]);return this},removeTab:function(a){if(a=this.getTab(a))a.remove(),this.tabs.splice(this.tabs.indexOf(a),1),this.onResize(),
this.dispatchEvent("onRemoveTab",[a]);return this},selectTab:function(a,b){var c,d,e=this.getTab(a);if(e){if(e!==this.selectedTab||this.options.allowReload)(c=this.selectedTab)?c.setSelected(!1):d=0,this.dispatchEvent("onPreSelectTab",[e,c,b]),this.selectedTab=e.setSelected(!0),this.onResize(),this.dispatchEvent("onSelectTab",[e,c,b]);this.ensureTabIsVisible(e,!1,d)}},enableTab:function(a,b){var c=this.getTab(a);c&&c.setDisabled(void 0===b?!1:!b)},getTab:function(a){var c,e,g=!1;if(d.is(a))if(a instanceof
b.Tab)g=a;else{c=0;for(e=this.tabs.length;c<e;c+=1){g=this.tabs[c];if(a&&a.nodeType&&g.tabElement()===a)break;else if(c===a||g.getId()===a||g.getName()===a)break;g=!1}}else g=this.selectedTab;return g},moveTab:function(a,b){var c,d,e=b+1>=this.tabs.length;c=this.getTab(a);d=this.tabs.indexOf(c);return d!==b?(this.tabs.splice(b,0,this.tabs.splice(d,1)[0]),e?c.tabElement().inject(this.getTab(b-1).tabElement(),"after"):c.tabElement().inject(this.getTab(b+1).tabElement(),"before"),!0):!1},selectDefaultTab:function(){var a,
b,c;b=0;for(c=this.tabs.length;b<c;b+=1)if(a=this.tabs[b],a.isSelectable())return this.selectTab(a),a;return!1},setTabContent:function(a,b){this.getTab(a).setContent(b);return this},getTabContent:function(a){return this.getTab(a).contentElement()},buildContainer:function(){this.options.element?(this.elements.container=d.extendElement(this.options.element),delete this.options.element):this.elements.container=d.createElement("div");this.elements.container.addClassName(this.options.classNames.tabView+
" "+this.options.className);this.elements.tabList=d.createElement("ul",{"class":this.options.classNames.tabList}).inject(this.elements.container);this.options.noContent||(this.elements.contentNode=d.createElement("div",{"class":this.options.classNames.tabPanels}).inject(this.elements.container))},initEvents:function(){this.elements.container.addEvent("click",this.handleEvent.bind(this))},handleEvent:function(a){var b=this.getTabFromEvent(a);b&&(m.preventDefault(a),d.is(b.handleEvent,"function")&&
b.handleEvent(a,this),b.isDisabled()||this.selectTab(b,a))},getTabFromEvent:function(a){return(a=m.getElement(a).getClosest(this.options.tabSelector))&&this.getTab(a)},createScroller:function(){this.elements.container.setAttribute("scrollable","true");this.scroller=this.getScroller();this.scroller.addEvent("onScrollerResize",this.onScrollerResize.bind(this))},getScroller:function(){this.scroller||(this.scroller=new c(this.elements.tabList,this.options.scroller));return this.scroller},onScrollerResize:function(a){var b=
this.overflow;(this.overflow=this.scroller.hasOverflow())&&(this.selectedTab&&a&&100<Math.abs(a.deltaScroll))&&this.ensureTabIsVisible(this.selectedTab,!1,0);b!==this.overflow&&(this.elements.container.setAttribute("overflow",String(this.overflow)),this.dispatchEvent("onOverflowChange",[{overflow:this.overflow}]))},reload:function(){var a=this.selectedTab;this.selectedTab=null;this.selectTab(a)},showTabList:function(){this.elements.tabList.show()},hideTabList:function(){this.elements.tabList.hide()},
isTabVisible:function(a,b){var c=!1,d=this.getTab(a);d&&(c=this.scroller&&this.scroller.isItemVisible(d.tabElement(),b));return c},ensureTabIsVisible:function(a,b,c){this.scroller&&(this.isTabVisible(a,b)||this.scrollToTab(a,c))},scrollNext:function(){this.scroller&&this.scroller.scrollNext()},scrollPrevious:function(){this.scroller&&this.scroller.scrollPrevious()},scrollToTab:function(a,b){var c=this.getTab(a).tabElement();c&&this.scroller.scrollToItem(c,void 0,b)},selectTabItem:function(a,c,d,e){var k=
this.getTab(a);k instanceof b.DropdownTab&&k.items.forEach(function(a){a[c]===d&&k.selectItem(a,this,!1!==e)},this);return this},onResize:function(){if(this.scroller)this.scroller.onRefresh()},onPreInject:function(){null===this.options.selectedTab&&this.selectDefaultTab()},onPostInject:function(){null!==this.options.selectedTab&&this.selectTab(this.options.selectedTab)}});b.Tab=e.extend({defaultOptions:{id:"",disabled:!1,selected:!1,text:"",icon:"",name:"",content:null,className:""},init:function(a){a&&
(!a.id&&0!==a.id&&!a.name)&&(a.id=Date.now().toString(36));this._parent(a)},getId:function(){return this.options.id},getName:function(){return this.options.name},getText:function(){return this.options.text},setIcon:function(a){a?this.elements.icon?this.options.icon!==a&&(this.options.icon=a,this.elements.icon.src=a):this.elements.icon=d.createElement("img",{"class":"icon",src:a}).inject(this.tabElement().getElement(".title"),"before"):this.elements.icon&&this.elements.icon.remove();return this},setText:function(a){this.tabElement().getElement(".title").setText(a);
return this},setDisabled:function(a){void 0===a&&(a=!0);this.tabElement().toggleClassName("disabled",a);this.elements.content&&this.elements.content.toggleClassName("disabled",a);this.options.disabled=a;return this},setSelected:function(a){this.tabElement().toggleClassName("selected",a);this.elements.content&&this.elements.content.toggleClassName("selected",a).toggleClassName("hidden",!a);this.options.selected=a;return this},setContent:function(a){this.contentElement().setHTML(a);return this},isSelectable:function(){return!this.isDisabled()},
isSelected:function(){return this.options.selected},isDisabled:function(){return this.options.disabled},remove:function(){this.tabElement().remove();this.elements.content&&this.elements.content.remove()},tabElement:function(){this.elements.container||(this.elements.container=this._createTabElement(),this.options.name&&this.elements.container.addClassName(this.options.name),this.options.className&&this.elements.container.addClassName(this.options.className),this.options.icon&&this.setIcon(this.options.icon));
return this.elements.container},contentElement:function(){this.elements.content||(this.elements.content=this._createContentElement(),this.elements.content&&this.elements.content.addClassName("hidden "+this.options.name));return this.elements.content},_createTabElement:function(){var a=d.createElement("li",{"class":this.options.classNames.tab});return a.grab(this._createInnerTabElement(a))},_createInnerTabElement:function(){return d.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(d.createElement("span",
{"class":"title",text:this.options.text}))},_createContentElement:function(){var a=d.createElement("div",{id:this.options.id,html:this.options.content||d.i18n("Loading..."),"class":this.options.classNames.tabPanel});delete this.options.content;return a}});b.DropdownTab=b.Tab.extend({defaultOptions:{autohide:!0,popupMenuItemSelector:".uwa-popup-menu-item",classNames:{dropdownTab:"uwa-tab-dropdown",popupMenu:"uwa-popup-menu",popupMenuItem:"uwa-popup-menu-item"}},init:function(a,b){this.items=b;this.selectedItem=
b[0];this._parent(d.merge({name:String(a)},this.selectedItem))},setSelected:function(a){this._parent(a);this.options.autohide&&this.elements.container.getElement(".dropdown").toggleClassName("hidden",!a);return this},handleEvent:function(a,b){this.isSelected()&&(m.stop(a),this.tabView=b,this.togglePopupMenu())},togglePopupMenu:function(){var a=this.elements.container.hasClassName("open");a?this.hidePopupMenu():this.showPopupMenu();return!a},showPopupMenu:function(){this.createPopupMenu();this.elements.container.addClassName("open")},
hidePopupMenu:function(a){if(!a||!d.Event.getElement(a).getClosest("."+this.options.classPopupMenu))this.elements.container.removeClassName("open"),this.elements.popupMenu&&(this.elements.popupMenu.destroy(),delete this.elements.popupMenu),this.boundHidePopupMenu&&(g.removeEvent.apply(document.body,["click",this.boundHidePopupMenu]),delete this.boundHidePopupMenu),this.tabView&&(this.tabView=null,delete this.tabView)},createPopupMenu:function(){var a,b;this.elements.popupMenu&&this.elements.popupMenu.remove();
this.elements.popupMenu=d.createElement("ul",{"class":this.options.classNames.popupMenu,events:{click:this.onPopupMenuItemClick.bind(this)}});a=0;for(b=this.items.length;a<b;a++)this.selectedItem!==this.items[a]&&this._createPopupMenuItem(this.items[a]).inject(this.elements.popupMenu).setAttribute("data-index",a);this.elements.popupMenu.inject(this.elements.container.getParent("."+this.options.classNames.tabView)).setPosition({x:0,y:this.elements.container.getDimensions().height},{relative:this.elements.container,
boundary:"auto",fit:"resize-max"});a=this.elements.popupMenu.getDimensions();b=this.elements.container.getDimensions();a.width<b.width&&this.elements.popupMenu.setStyle("width",b.width+"px");this.boundHidePopupMenu||(this.boundHidePopupMenu=this.hidePopupMenu.bind(this),g.addEvent.apply(document.body,["click",this.boundHidePopupMenu]));return this.elements.popupMenu},selectItem:function(a,b,c){d.is(a,"object")&&(d.is(a.handler,"function")?a.handler.call(this):a!==this.selectedItem&&(b=b||this.tabView,
this.tabElement().getElement(".title").setText(a.text||""),a.icon&&this.setIcon(a.icon),this.previousItem=this.selectedItem,this.selectedItem=a,b&&!1!==c&&(b.selectedTab=null,b.selectTab(this))),this.hidePopupMenu())},onPopupMenuItemClick:function(a){m.stop(a);if(a=d.Event.getElement(a).getClosest(this.options.popupMenuItemSelector))a=Number(a.getAttribute("data-index")),(a=this.items[a])&&this.selectItem(a)},_createPopupMenuItem:function(a){var b=d.createElement("li",{"class":this.options.classNames.popupMenuItem}),
c=d.createElement("a").inject(b);a.icon&&c.grab(d.createElement("img",{src:a.icon,"class":"icon"}));c.grab(d.createElement("span",{text:a.text}));return b},_createTabElement:function(){return this._parent().addClassName(this.options.classNames.dropdownTab)},_createInnerTabElement:function(){return d.createElement("a",{href:this.options.id?"#"+this.options.id:""}).grab(d.createElement("span",{"class":"title",text:this.options.text})).grab(d.createElement("span",{"class":"dropdown hidden"}))}});return d.namespace("Controls/TabView",
b,d)});
define("UWA/Controls/Web",["UWA/Core","UWA/Controls/Abstract"],function(d,h){var m=h.extend({defaultOptions:{url:"about:blank",width:"100%",height:"",className:"uwa-web",scrolling:"auto",border:!1,sandbox:!1},init:function(d){this._parent(d);this.buildSkeleton()},buildSkeleton:function(){var g,e=this.elements,c=this.options;g={src:c.url,width:c.width,height:c.height,scrolling:c.scrolling,frameborder:c.border?1:0};c.sandbox&&(g.sandbox="allow-same-origin allow-forms allow-scripts allow-popups");c.url||
(c.url="about:blank");e.container=d.createElement("div",{"class":c.className});e.iframe=g=d.createElement("iframe",g);g.onload=this.dispatchAsEventListener("onLoad");g.onerror=this.dispatchAsEventListener("onError");g.inject(e.container)}});return d.namespace("Controls/Web",m,d)});
define("UWA/Controls/FeedView/Carousel",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.Presentable.extend({viewName:"carousel",scrollPosition:"center",getItemsPerPage:function(){var d,e,c=0,b=this.elements.item;if(!this.itemPerPage){d=0;for(e=b.length;d<e;d++)this.scroller.isInViewport(b[d],!0)&&c++;this.itemPerPage=c}return this.itemPerPage},onResize:function(){this._parent();var d=0;this.elements.items.getChildren().forEach(function(e){d+=e.offsetWidth});this.elements.items.setStyle("width",
d+"px")}});return d.namespace("Controls/FeedView_Carousel",m,d)});
define("UWA/Controls/FeedView/Channel",["UWA/Core","UWA/Controls/FeedView/Carousel","UWA/Controls/Pager","UWA/Event"],function(d,h,m,g){h=h.extend({eltMargin:20,displayPager:!1,viewName:"carousel channel",showItem:function(d){this._parent(d);this.presentedItem&&this.presentedItem.remove();this.presentedItem=void 0;this.loadItemsImages()},buildItemImage:function(e,c){var b=this.options,a=b.images,f=e[c]||"",g=d.createElement("img"),h="",k=d.createElement("div",{"class":"hentry"}),j=d.createElement("div",
{"class":"entry-image",html:g}),p=d.createElement("div",{"class":"entry-title",html:{tag:"span","class":"title",html:e.title?e.title.stripTags():""}}),l=d.createElement("div",{"class":"entry-share"}),t=d.createElement("div",{"class":"item-date",text:e.date?e.date.toString().parseRelativeTime():""}),s=d.createElement("div",{"class":"item-dragAndFollow"}),h="",q=this.resizeItemImage.bind(this,k),h=e.description||e.content||"";e[c]||(l.addClassName("no-image"),p.addClassName("no-image"),h=h.stripTags(),
h=h.cut(125),h=d.createElement("span",{"class":"entry-description",text:h}),p.appendChild(h));b.enableShare&&(b.shareFunction&&l.addEvent("click",this.share.bind(this)),j.appendChild(l));k.appendChild(j);j.appendChild(p);k.appendChild(t);b.enableDragAndFollow&&k.appendChild(s);this.addItemImage({item:e,container:k,src:f,onLoad:function(){g.setAttribute("src",f);q()},onError:function(){g.destroy()},onLoading:function(){g.setAttribute("src",a.loader);q()}});return k},onResize:function(){this._parent();
var d=0;this.elements.items.getChildren().forEach(function(c){d+=c.offsetWidth+this.eltMargin},this);this.elements.items.setStyle("width",d+"px");this.refreshScroller();this.pager&&this.refreshPager()},buildPager:function(e){if(this.displayPager){var c=this,b=d.merge({events:{onOffsetChange:function(a){var b=c.options.source.getItems();c.showItem(b[a])}}},c.options.pager);c.pager=new m(b);c.pager.inject(c.container,e)}},share:function(d){g.stopPropagation(d);this.options.shareFunction()}});return d.namespace("Controls/FeedView_Channel",
h,d)});
define("UWA/Controls/FeedView/Gallery",["UWA/Core","UWA/Controls/FeedView/Carousel"],function(d,h){var m=h.extend({viewName:"carousel gallery"});return d.namespace("Controls/FeedView_Gallery",m,d)});
define("UWA/Controls/FeedView/Headline",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.Full.extend({viewName:"headline"});return d.namespace("Controls/FeedView_Headline",m,d)});
define("UWA/Controls/FeedView/Magazine",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.Presentable.extend({viewName:"magazine"});return d.namespace("Controls/FeedView_Magazine",m,d)});
define("UWA/Controls/FeedView/Normal",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.Full.extend({viewName:"normal"});return d.namespace("Controls/FeedView_Normal",m,d)});
define("UWA/Controls/FeedView/Scoop",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.Presentable.extend({viewName:"scoop normal"});return d.namespace("Controls/FeedView_Scoop",m,d)});
define("UWA/Controls/FeedView/SimpleList",["UWA/Core","UWA/Controls/FeedView"],function(d,h){var m=h.extend({viewName:"simplelist"});return d.namespace("Controls/FeedView_SimpleList",m,d)});
define("UWA/Controls/FeedView/Ticker",["UWA/Core","UWA/Controls/FeedView","UWA/Controls/Flash"],function(d,h,m){h=h.extend({viewName:"ticker",color:"blank",colors:{blue:["014446","6eb8bd","1fd3e3","6EB8BD"],green:["232908","787F57","B6D800","787F57"],red:["5B0000","D5827C","E9440B","D5827C"],orange:["440121","C57C9A","FE4792","C57C9A"],white:["343434","8E8D8D","FFFFFF","8E8D8D"],yellow:["502200","BF934E","FCBC13","BF934E"],blank:["transparent","8E8D8D","333333","333333"],borderless:["transparent",
"8E8D8D","333333","333333"]},buildSkeleton:function(){var g;g=this.colors;var e=this.color,c=this.options;this.container=d.createElement("div",{"class":"uwa-feedview content uwa-feedview-"+this.viewName});g=(new m({url:d.hosts.uwa+d.paths.img+"flash/ticker.swf",height:80,width:"100%",allowScriptAccess:"always",flashVars:{background:g[e][0],arrow:g[e][1],text:g[e][2],subtext:g[e][3],shareLabel:d.i18n("Share"),direction:c.direction,share:c.displayShare?"1":"0"}})).inject(this.container);this.elements.flash=
g.getFlashContainer();this.registerOnFlashLoad();return this.container},registerOnFlashLoad:function(){function d(){e.onFlashLoad()||setTimeout(d,500)}var e=this;setTimeout(d,1E3)},onFlashLoad:function(){var d,e,c,b=this.options,a=b.source.getItems(),f=this.elements.flash;if("function"===typeof f.addItem){d=0;for(e=a.length;d<e;d++)c=a[d],f.addItem(d,c.title.stripTags(),b.showDate?c.date.parseRelativeTime():"");f.start();return!0}return!1},onResize:function(){},refreshItems:function(){}});return d.namespace("Controls/FeedView_Ticker",
h,d)});
